var Ext = Ext || {};
Ext._startTime = new Date().getTime();
(function() {
    var a = this, c = Object.prototype, b = c.toString, k = true, l = {
        toString: 1
    }, e = function() {}, j = function() {
        var i = j.caller.caller;
        return i.$owner.prototype[i.$name].apply(this, arguments)
    }, d, h = /\S/, g;
    Function.prototype.$extIsFunction = true;
    Ext.global = a;
    for (d in l) {
        k = null
    }
    if (k) {
        k = ["hasOwnProperty", "valueOf", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "constructor"]
    }
    Ext.enumerables = k;
    Ext.apply = function(p, o, s) {
        if (s) {
            Ext.apply(p, s)
        }
        if (p && o && typeof o === "object") {
            var q, n, m;
            for (q in o) {
                p[q] = o[q]
            }
            if (k) {
                for (n = k.length; n--; ) {
                    m = k[n];
                    if (o.hasOwnProperty(m)) {
                        p[m] = o[m]
                    }
                }
            }
        }
        return p
    }
    ;
    Ext.buildSettings = Ext.apply({
        baseCSSPrefix: "x-"
    }, Ext.buildSettings || {});
    Ext.apply(Ext, {
        name: Ext.sandboxName || "Ext",
        emptyFn: e,
        identityFn: function(i) {
            return i
        },
        emptyString: new String(),
        baseCSSPrefix: Ext.buildSettings.baseCSSPrefix,
        applyIf: function(m, i) {
            var n;
            if (m) {
                for (n in i) {
                    if (m[n] === undefined) {
                        m[n] = i[n]
                    }
                }
            }
            return m
        },
        iterate: function(i, n, m) {
            if (Ext.isEmpty(i)) {
                return
            }
            if (m === undefined) {
                m = i
            }
            if (Ext.isIterable(i)) {
                Ext.Array.each.call(Ext.Array, i, n, m)
            } else {
                Ext.Object.each.call(Ext.Object, i, n, m)
            }
        }
    });
    Ext.apply(Ext, {
        extend: function() {
            var i = c.constructor
              , m = function(p) {
                for (var n in p) {
                    if (!p.hasOwnProperty(n)) {
                        continue
                    }
                    this[n] = p[n]
                }
            };
            return function(n, t, q) {
                if (Ext.isObject(t)) {
                    q = t;
                    t = n;
                    n = q.constructor !== i ? q.constructor : function() {
                        t.apply(this, arguments)
                    }
                }
                if (!t) {
                    Ext.Error.raise({
                        sourceClass: "Ext",
                        sourceMethod: "extend",
                        msg: "Attempting to extend from a class which has not been loaded on the page."
                    })
                }
                var p = function() {}, o, s = t.prototype;
                p.prototype = s;
                o = n.prototype = new p();
                o.constructor = n;
                n.superclass = s;
                if (s.constructor === i) {
                    s.constructor = t
                }
                n.override = function(u) {
                    Ext.override(n, u)
                }
                ;
                o.override = m;
                o.proto = o;
                n.override(q);
                n.extend = function(u) {
                    return Ext.extend(n, u)
                }
                ;
                return n
            }
        }(),
        override: function(o, p) {
            if (o.$isClass) {
                o.override(p)
            } else {
                if (typeof o == "function") {
                    Ext.apply(o.prototype, p)
                } else {
                    var i = o.self, m, n;
                    if (i && i.$isClass) {
                        for (m in p) {
                            if (p.hasOwnProperty(m)) {
                                n = p[m];
                                if (typeof n == "function") {
                                    if (i.$className) {
                                        n.displayName = i.$className + "#" + m
                                    }
                                    n.$name = m;
                                    n.$owner = i;
                                    n.$previous = o.hasOwnProperty(m) ? o[m] : j
                                }
                                o[m] = n
                            }
                        }
                    } else {
                        Ext.apply(o, p)
                    }
                }
            }
            return o
        }
    });
    Ext.apply(Ext, {
        valueFrom: function(n, i, m) {
            return Ext.isEmpty(n, m) ? i : n
        },
        typeOf: function(m) {
            var i, n;
            if (m === null) {
                return "null"
            }
            i = typeof m;
            if (i === "undefined" || i === "string" || i === "number" || i === "boolean") {
                return i
            }
            n = b.call(m);
            switch (n) {
            case "[object Array]":
                return "array";
            case "[object Date]":
                return "date";
            case "[object Boolean]":
                return "boolean";
            case "[object Number]":
                return "number";
            case "[object RegExp]":
                return "regexp"
            }
            if (i === "function") {
                return "function"
            }
            if (i === "object") {
                if (m.nodeType !== undefined) {
                    if (m.nodeType === 3) {
                        return h.test(m.nodeValue) ? "textnode" : "whitespace"
                    } else {
                        return "element"
                    }
                }
                return "object"
            }
            Ext.Error.raise({
                sourceClass: "Ext",
                sourceMethod: "typeOf",
                msg: 'Failed to determine the type of the specified value "' + m + '". This is most likely a bug.'
            })
        },
        coerce: function(p, o) {
            var n = Ext.typeOf(p)
              , m = Ext.typeOf(o)
              , i = typeof p === "string";
            if (n !== m) {
                switch (m) {
                case "string":
                    return String(p);
                case "number":
                    return Number(p);
                case "boolean":
                    return i && (!p || p === "false") ? false : Boolean(p);
                case "null":
                    return i && (!p || p === "null") ? null : p;
                case "undefined":
                    return i && (!p || p === "undefined") ? undefined : p;
                case "date":
                    return i && isNaN(p) ? Ext.Date.parse(p, Ext.Date.defaultFormat) : Date(Number(p))
                }
            }
            return p
        },
        isEmpty: function(i, m) {
            return i === null || i === undefined || (!m ? i === "" : false) || Ext.isArray(i) && i.length === 0
        },
        isArray: "isArray"in Array ? Array.isArray : function(i) {
            return b.call(i) === "[object Array]"
        }
        ,
        isDate: function(i) {
            return b.call(i) === "[object Date]"
        },
        isObject: b.call(null) === "[object Object]" ? function(i) {
            return i !== null && i !== undefined && b.call(i) === "[object Object]" && i.ownerDocument === undefined
        }
        : function(i) {
            return b.call(i) === "[object Object]"
        }
        ,
        isSimpleObject: function(i) {
            return i instanceof Object && i.constructor === Object
        },
        isPrimitive: function(m) {
            var i = typeof m;
            return i === "string" || i === "number" || i === "boolean"
        },
        isFunction: function(i) {
            return !!(i && i.$extIsFunction)
        },
        isNumber: function(i) {
            return typeof i === "number" && isFinite(i)
        },
        isNumeric: function(i) {
            return !isNaN(parseFloat(i)) && isFinite(i)
        },
        isString: function(i) {
            return typeof i === "string"
        },
        isBoolean: function(i) {
            return typeof i === "boolean"
        },
        isElement: function(i) {
            return i ? i.nodeType === 1 : false
        },
        isTextNode: function(i) {
            return i ? i.nodeName === "#text" : false
        },
        isDefined: function(i) {
            return typeof i !== "undefined"
        },
        isIterable: function(m) {
            var i = typeof m
              , n = false;
            if (m && i != "string") {
                if (i == "function") {
                    if (Ext.isSafari) {
                        n = m instanceof NodeList || m instanceof HTMLCollection
                    }
                } else {
                    n = true
                }
            }
            return n ? m.length !== undefined : false
        }
    });
    Ext.apply(Ext, {
        clone: function(s) {
            var q, p, n, m, t, o;
            if (s === null || s === undefined) {
                return s
            }
            if (s.nodeType && s.cloneNode) {
                return s.cloneNode(true)
            }
            q = b.call(s);
            if (q === "[object Date]") {
                return new Date(s.getTime())
            }
            if (q === "[object Array]") {
                p = s.length;
                t = [];
                while (p--) {
                    t[p] = Ext.clone(s[p])
                }
            } else {
                if (q === "[object Object]" && s.constructor === Object) {
                    t = {};
                    for (o in s) {
                        t[o] = Ext.clone(s[o])
                    }
                    if (k) {
                        for (n = k.length; n--; ) {
                            m = k[n];
                            t[m] = s[m]
                        }
                    }
                }
            }
            return t || s
        },
        getUniqueGlobalNamespace: function() {
            var n = this.uniqueGlobalNamespace, m;
            if (n === undefined) {
                m = 0;
                do {
                    n = "ExtBox" + ++m
                } while (Ext.global[n] !== undefined);Ext.global[n] = Ext;
                this.uniqueGlobalNamespace = n
            }
            return n
        },
        functionFactoryCache: {},
        cacheableFunctionFactory: function() {
            var q = this, n = Array.prototype.slice.call(arguments), m = q.functionFactoryCache, i, o, p;
            if (Ext.isSandboxed) {
                p = n.length;
                if (p > 0) {
                    p--;
                    n[p] = "var Ext=window." + Ext.name + ";" + n[p]
                }
            }
            i = n.join("");
            o = m[i];
            if (!o) {
                o = Function.prototype.constructor.apply(Function.prototype, n);
                m[i] = o
            }
            return o
        },
        functionFactory: function() {
            var n = this, i = Array.prototype.slice.call(arguments), m;
            if (Ext.isSandboxed) {
                m = i.length;
                if (m > 0) {
                    m--;
                    i[m] = "var Ext=window." + Ext.name + ";" + i[m]
                }
            }
            return Function.prototype.constructor.apply(Function.prototype, i)
        },
        Logger: {
            verbose: e,
            log: e,
            info: e,
            warn: e,
            error: function(i) {
                throw new Error(i)
            },
            deprecate: e
        }
    });
    Ext.type = Ext.typeOf;
    g = Ext.app;
    if (!g) {
        g = Ext.app = {}
    }
    Ext.apply(g, {
        namespaces: {},
        collectNamespaces: function(n) {
            var i = Ext.app.namespaces, m;
            for (m in n) {
                if (n.hasOwnProperty(m)) {
                    i[m] = true
                }
            }
        },
        addNamespaces: function(o) {
            var p = Ext.app.namespaces, n, m;
            if (!Ext.isArray(o)) {
                o = [o]
            }
            for (n = 0,
            m = o.length; n < m; n++) {
                p[o[n]] = true
            }
        },
        clearNamespaces: function() {
            Ext.app.namespaces = {}
        },
        getNamespace: function(m) {
            var o = Ext.app.namespaces, i = "", n;
            for (n in o) {
                if (o.hasOwnProperty(n) && n.length > i.length && n + "." === m.substring(0, n.length + 1)) {
                    i = n
                }
            }
            return i === "" ? undefined : i
        }
    })
}
)();
Ext.globalEval = Ext.global.execScript ? function(a) {
    execScript(a)
}
: function($$code) {
    (function() {
        var Ext = this.Ext;
        eval($$code)
    }
    )()
}
;
(function() {
    var a = "4.2.0.663", b;
    Ext.Version = b = Ext.extend(Object, {
        constructor: function(c) {
            var e, d;
            if (c instanceof b) {
                return c
            }
            this.version = this.shortVersion = String(c).toLowerCase().replace(/_/g, ".").replace(/[\-+]/g, "");
            d = this.version.search(/([^\d\.])/);
            if (d !== -1) {
                this.release = this.version.substr(d, c.length);
                this.shortVersion = this.version.substr(0, d)
            }
            this.shortVersion = this.shortVersion.replace(/[^\d]/g, "");
            e = this.version.split(".");
            this.major = parseInt(e.shift() || 0, 10);
            this.minor = parseInt(e.shift() || 0, 10);
            this.patch = parseInt(e.shift() || 0, 10);
            this.build = parseInt(e.shift() || 0, 10);
            return this
        },
        toString: function() {
            return this.version
        },
        valueOf: function() {
            return this.version
        },
        getMajor: function() {
            return this.major || 0
        },
        getMinor: function() {
            return this.minor || 0
        },
        getPatch: function() {
            return this.patch || 0
        },
        getBuild: function() {
            return this.build || 0
        },
        getRelease: function() {
            return this.release || ""
        },
        isGreaterThan: function(c) {
            return b.compare(this.version, c) === 1
        },
        isGreaterThanOrEqual: function(c) {
            return b.compare(this.version, c) >= 0
        },
        isLessThan: function(c) {
            return b.compare(this.version, c) === -1
        },
        isLessThanOrEqual: function(c) {
            return b.compare(this.version, c) <= 0
        },
        equals: function(c) {
            return b.compare(this.version, c) === 0
        },
        match: function(c) {
            c = String(c);
            return this.version.substr(0, c.length) === c
        },
        toArray: function() {
            return [this.getMajor(), this.getMinor(), this.getPatch(), this.getBuild(), this.getRelease()]
        },
        getShortVersion: function() {
            return this.shortVersion
        },
        gt: function() {
            return this.isGreaterThan.apply(this, arguments)
        },
        lt: function() {
            return this.isLessThan.apply(this, arguments)
        },
        gtEq: function() {
            return this.isGreaterThanOrEqual.apply(this, arguments)
        },
        ltEq: function() {
            return this.isLessThanOrEqual.apply(this, arguments)
        }
    });
    Ext.apply(b, {
        releaseValueMap: {
            dev: -6,
            alpha: -5,
            a: -5,
            beta: -4,
            b: -4,
            rc: -3,
            "#": -2,
            p: -1,
            pl: -1
        },
        getComponentValue: function(c) {
            return !c ? 0 : isNaN(c) ? this.releaseValueMap[c] || c : parseInt(c, 10)
        },
        compare: function(h, g) {
            var d, e, c;
            h = new b(h).toArray();
            g = new b(g).toArray();
            for (c = 0; c < Math.max(h.length, g.length); c++) {
                d = this.getComponentValue(h[c]);
                e = this.getComponentValue(g[c]);
                if (d < e) {
                    return -1
                } else {
                    if (d > e) {
                        return 1
                    }
                }
            }
            return 0
        }
    });
    Ext.apply(Ext, {
        versions: {},
        lastRegisteredVersion: null,
        setVersion: function(d, c) {
            Ext.versions[d] = new b(c);
            Ext.lastRegisteredVersion = Ext.versions[d];
            return this
        },
        getVersion: function(c) {
            if (c === undefined) {
                return Ext.lastRegisteredVersion
            }
            return Ext.versions[c]
        },
        deprecate: function(c, e, g, d) {
            if (b.compare(Ext.getVersion(c), e) < 1) {
                g.call(d)
            }
        }
    });
    Ext.setVersion("core", a)
}
)();
Ext.String = function() {
    var j = /^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g, n = /('|\\)/g, i = /\{(\d+)\}/g, b = /([-.*+?\^${}()|\[\]\/\\])/g, o = /^\s+|\s+$/g, k = /\s+/, m = /(^[^a-z]*|[^\w])/gi, e, a, h, d, g = function(q, p) {
        return e[p]
    }, l = function(q, p) {
        return p in a ? a[p] : String.fromCharCode(parseInt(p.substr(2), 10))
    }, c = function(q, p) {
        if (q === null || q === undefined || p === null || p === undefined) {
            return false
        }
        return p.length <= q.length
    };
    return {
        insert: function(t, u, q) {
            if (!t) {
                return u
            }
            if (!u) {
                return t
            }
            var p = t.length;
            if (!q && q !== 0) {
                q = p
            }
            if (q < 0) {
                q *= -1;
                if (q >= p) {
                    q = 0
                } else {
                    q = p - q
                }
            }
            if (q === 0) {
                t = u + t
            } else {
                if (q >= t.length) {
                    t += u
                } else {
                    t = t.substr(0, q) + u + t.substr(q)
                }
            }
            return t
        },
        startsWith: function(t, u, q) {
            var p = c(t, u);
            if (p) {
                if (q) {
                    t = t.toLowerCase();
                    u = u.toLowerCase()
                }
                p = t.lastIndexOf(u, 0) === 0
            }
            return p
        },
        endsWith: function(u, q, t) {
            var p = c(u, q);
            if (p) {
                if (t) {
                    u = u.toLowerCase();
                    q = q.toLowerCase()
                }
                p = u.indexOf(q, u.length - q.length) !== -1
            }
            return p
        },
        createVarName: function(p) {
            return p.replace(m, "")
        },
        htmlEncode: function(p) {
            return !p ? p : String(p).replace(h, g)
        },
        htmlDecode: function(p) {
            return !p ? p : String(p).replace(d, l)
        },
        addCharacterEntities: function(q) {
            var p = [], u = [], s, t;
            for (s in q) {
                t = q[s];
                a[s] = t;
                e[t] = s;
                p.push(t);
                u.push(s)
            }
            h = new RegExp("(" + p.join("|") + ")","g");
            d = new RegExp("(" + u.join("|") + "|&#[0-9]{1,5};)","g")
        },
        resetCharacterEntities: function() {
            e = {};
            a = {};
            this.addCharacterEntities({
                "&amp;": "&",
                "&gt;": ">",
                "&lt;": "<",
                "&quot;": '"',
                "&#39;": "'"
            })
        },
        urlAppend: function(q, p) {
            if (!Ext.isEmpty(p)) {
                return q + (q.indexOf("?") === -1 ? "?" : "&") + p
            }
            return q
        },
        trim: function(p) {
            return p.replace(j, "")
        },
        capitalize: function(p) {
            return p.charAt(0).toUpperCase() + p.substr(1)
        },
        uncapitalize: function(p) {
            return p.charAt(0).toLowerCase() + p.substr(1)
        },
        ellipsis: function(s, p, t) {
            if (s && s.length > p) {
                if (t) {
                    var u = s.substr(0, p - 2)
                      , q = Math.max(u.lastIndexOf(" "), u.lastIndexOf("."), u.lastIndexOf("!"), u.lastIndexOf("?"));
                    if (q !== -1 && q >= p - 15) {
                        return u.substr(0, q) + "..."
                    }
                }
                return s.substr(0, p - 3) + "..."
            }
            return s
        },
        escapeRegex: function(p) {
            return p.replace(b, "\\$1")
        },
        escape: function(p) {
            return p.replace(n, "\\$1")
        },
        toggle: function(q, s, p) {
            return q === s ? p : s
        },
        leftPad: function(q, s, t) {
            var p = String(q);
            t = t || " ";
            while (p.length < s) {
                p = t + p
            }
            return p
        },
        format: function(q) {
            var p = Ext.Array.toArray(arguments, 1);
            return q.replace(i, function(s, t) {
                return p[t]
            })
        },
        repeat: function(u, t, q) {
            if (t < 1) {
                t = 0
            }
            for (var p = [], s = t; s--; ) {
                p.push(u)
            }
            return p.join(q || "")
        },
        splitWords: function(p) {
            if (p && typeof p == "string") {
                return p.replace(o, "").split(k)
            }
            return p || []
        }
    }
}();
Ext.String.resetCharacterEntities();
Ext.htmlEncode = Ext.String.htmlEncode;
Ext.htmlDecode = Ext.String.htmlDecode;
Ext.urlAppend = Ext.String.urlAppend;
Ext.Number = new function() {
    var b = this
      , c = 0.9.toFixed() !== "1"
      , a = Math;
    Ext.apply(this, {
        constrain: function(h, g, e) {
            var d = parseFloat(h);
            return d < g ? g : d > e ? e : d
        },
        snap: function(h, e, g, i) {
            var d;
            if (h === undefined || h < g) {
                return g || 0
            }
            if (e) {
                d = h % e;
                if (d !== 0) {
                    h -= d;
                    if (d * 2 >= e) {
                        h += e
                    } else {
                        if (d * 2 < -e) {
                            h -= e
                        }
                    }
                }
            }
            return b.constrain(h, g, i)
        },
        snapInRange: function(h, d, g, i) {
            var e;
            g = g || 0;
            if (h === undefined || h < g) {
                return g
            }
            if (d && (e = (h - g) % d)) {
                h -= e;
                e *= 2;
                if (e >= d) {
                    h += d
                }
            }
            if (i !== undefined) {
                if (h > (i = b.snapInRange(i, d, g))) {
                    h = i
                }
            }
            return h
        },
        toFixed: c ? function(g, d) {
            d = d || 0;
            var e = a.pow(10, d);
            return (a.round(g * e) / e).toFixed(d)
        }
        : function(e, d) {
            return e.toFixed(d)
        }
        ,
        from: function(e, d) {
            if (isFinite(e)) {
                e = parseFloat(e)
            }
            return !isNaN(e) ? e : d
        },
        randomInt: function(e, d) {
            return a.floor(a.random() * (d - e + 1) + e)
        },
        correctFloat: function(d) {
            return parseFloat(d.toPrecision(14))
        }
    });
    Ext.num = function() {
        return b.from.apply(this, arguments)
    }
}
();
(function() {
    var g = Array.prototype, o = g.slice, q = function() {
        var B = [], e, A = 20;
        if (!B.splice) {
            return false
        }
        while (A--) {
            B.push("A")
        }
        B.splice(15, 0, "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F", "F");
        e = B.length;
        B.splice(13, 0, "XXX");
        if (e + 1 != B.length) {
            return false
        }
        return true
    }(), j = "forEach"in g, v = "map"in g, p = "indexOf"in g, z = "every"in g, c = "some"in g, d = "filter"in g, n = function() {
        var e = [1, 2, 3, 4, 5].sort(function() {
            return 0
        });
        return e[0] === 1 && e[1] === 2 && e[2] === 3 && e[3] === 4 && e[4] === 5
    }(), k = true, a, x, u, w;
    try {
        if (typeof document !== "undefined") {
            o.call(document.getElementsByTagName("body"))
        }
    } catch (t) {
        k = false
    }
    function m(A, e) {
        return e < 0 ? Math.max(0, A.length + e) : Math.min(A.length, e)
    }
    function y(H, G, A, K) {
        var L = K ? K.length : 0, C = H.length, I = m(H, G), F, J, B, e, D, E;
        if (I === C) {
            if (L) {
                H.push.apply(H, K)
            }
        } else {
            F = Math.min(A, C - I);
            J = I + F;
            B = J + L - F;
            e = C - J;
            D = C - F;
            if (B < J) {
                for (E = 0; E < e; ++E) {
                    H[B + E] = H[J + E]
                }
            } else {
                if (B > J) {
                    for (E = e; E--; ) {
                        H[B + E] = H[J + E]
                    }
                }
            }
            if (L && I === D) {
                H.length = D;
                H.push.apply(H, K)
            } else {
                H.length = D + L;
                for (E = 0; E < L; ++E) {
                    H[I + E] = K[E]
                }
            }
        }
        return H
    }
    function i(C, e, B, A) {
        if (A && A.length) {
            if (e === 0 && !B) {
                C.unshift.apply(C, A)
            } else {
                if (e < C.length) {
                    C.splice.apply(C, [e, B].concat(A))
                } else {
                    C.push.apply(C, A)
                }
            }
        } else {
            C.splice(e, B)
        }
        return C
    }
    function b(B, e, A) {
        return y(B, e, A)
    }
    function s(B, e, A) {
        B.splice(e, A);
        return B
    }
    function l(D, e, B) {
        var C = m(D, e)
          , A = D.slice(e, m(D, C + B));
        if (arguments.length < 4) {
            y(D, C, B)
        } else {
            y(D, C, B, o.call(arguments, 3))
        }
        return A
    }
    function h(e) {
        return e.splice.apply(e, o.call(arguments, 1))
    }
    x = q ? s : b;
    u = q ? i : y;
    w = q ? h : l;
    a = Ext.Array = {
        each: function(E, C, B, e) {
            E = a.from(E);
            var A, D = E.length;
            if (e !== true) {
                for (A = 0; A < D; A++) {
                    if (C.call(B || E[A], E[A], A, E) === false) {
                        return A
                    }
                }
            } else {
                for (A = D - 1; A > -1; A--) {
                    if (C.call(B || E[A], E[A], A, E) === false) {
                        return A
                    }
                }
            }
            return true
        },
        forEach: j ? function(B, A, e) {
            B.forEach(A, e)
        }
        : function(D, B, A) {
            var e = 0
              , C = D.length;
            for (; e < C; e++) {
                B.call(A, D[e], e, D)
            }
        }
        ,
        indexOf: p ? function(B, e, A) {
            return g.indexOf.call(B, e, A)
        }
        : function(D, B, C) {
            var e, A = D.length;
            for (e = C < 0 ? Math.max(0, A + C) : C || 0; e < A; e++) {
                if (D[e] === B) {
                    return e
                }
            }
            return -1
        }
        ,
        contains: p ? function(A, e) {
            return g.indexOf.call(A, e) !== -1
        }
        : function(C, B) {
            var e, A;
            for (e = 0,
            A = C.length; e < A; e++) {
                if (C[e] === B) {
                    return true
                }
            }
            return false
        }
        ,
        toArray: function(B, D, e) {
            if (!B || !B.length) {
                return []
            }
            if (typeof B === "string") {
                B = B.split("")
            }
            if (k) {
                return o.call(B, D || 0, e || B.length)
            }
            var C = [], A;
            D = D || 0;
            e = e ? e < 0 ? B.length + e : e : B.length;
            for (A = D; A < e; A++) {
                C.push(B[A])
            }
            return C
        },
        pluck: function(E, e) {
            var A = [], B, D, C;
            for (B = 0,
            D = E.length; B < D; B++) {
                C = E[B];
                A.push(C[e])
            }
            return A
        },
        map: v ? function(B, A, e) {
            if (!A) {
                Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.")
            }
            return B.map(A, e)
        }
        : function(E, D, C) {
            if (!D) {
                Ext.Error.raise("Ext.Array.map must have a callback function passed as second argument.")
            }
            var B = []
              , A = 0
              , e = E.length;
            for (; A < e; A++) {
                B[A] = D.call(C, E[A], A, E)
            }
            return B
        }
        ,
        every: z ? function(B, A, e) {
            if (!A) {
                Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.")
            }
            return B.every(A, e)
        }
        : function(D, B, A) {
            if (!B) {
                Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument.")
            }
            var e = 0
              , C = D.length;
            for (; e < C; ++e) {
                if (!B.call(A, D[e], e, D)) {
                    return false
                }
            }
            return true
        }
        ,
        some: c ? function(B, A, e) {
            if (!A) {
                Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.")
            }
            return B.some(A, e)
        }
        : function(D, B, A) {
            if (!B) {
                Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument.")
            }
            var e = 0
              , C = D.length;
            for (; e < C; ++e) {
                if (B.call(A, D[e], e, D)) {
                    return true
                }
            }
            return false
        }
        ,
        equals: function(D, C) {
            var A = D.length, e = C.length, B;
            if (D === C) {
                return true
            }
            if (A !== e) {
                return false
            }
            for (B = 0; B < A; ++B) {
                if (D[B] !== C[B]) {
                    return false
                }
            }
            return true
        },
        clean: function(D) {
            var A = [], e = 0, C = D.length, B;
            for (; e < C; e++) {
                B = D[e];
                if (!Ext.isEmpty(B)) {
                    A.push(B)
                }
            }
            return A
        },
        unique: function(D) {
            var C = [], e = 0, B = D.length, A;
            for (; e < B; e++) {
                A = D[e];
                if (a.indexOf(C, A) === -1) {
                    C.push(A)
                }
            }
            return C
        },
        filter: d ? function(B, A, e) {
            if (!A) {
                Ext.Error.raise("Ext.Array.filter must have a filter function passed as second argument.")
            }
            return B.filter(A, e)
        }
        : function(E, C, B) {
            if (!C) {
                Ext.Error.raise("Ext.Array.filter must have a filter function passed as second argument.")
            }
            var A = []
              , e = 0
              , D = E.length;
            for (; e < D; e++) {
                if (C.call(B, E[e], e, E)) {
                    A.push(E[e])
                }
            }
            return A
        }
        ,
        findBy: function(D, C, B) {
            var A = 0
              , e = D.length;
            for (; A < e; A++) {
                if (C.call(B || D, D[A], A)) {
                    return D[A]
                }
            }
            return null
        },
        from: function(B, A) {
            if (B === undefined || B === null) {
                return []
            }
            if (Ext.isArray(B)) {
                return A ? o.call(B) : B
            }
            var e = typeof B;
            if (B && B.length !== undefined && e !== "string" && (e !== "function" || !B.apply)) {
                return a.toArray(B)
            }
            return [B]
        },
        remove: function(B, A) {
            var e = a.indexOf(B, A);
            if (e !== -1) {
                x(B, e, 1)
            }
            return B
        },
        include: function(A, e) {
            if (!a.contains(A, e)) {
                A.push(e)
            }
        },
        clone: function(e) {
            return o.call(e)
        },
        merge: function() {
            var e = o.call(arguments), C = [], A, B;
            for (A = 0,
            B = e.length; A < B; A++) {
                C = C.concat(e[A])
            }
            return a.unique(C)
        },
        intersect: function() {
            var e = [], B = o.call(arguments), M, K, G, J, N, C, A, I, L, D, H, F, E;
            if (!B.length) {
                return e
            }
            M = B.length;
            for (H = N = 0; H < M; H++) {
                C = B[H];
                if (!J || C.length < J.length) {
                    J = C;
                    N = H
                }
            }
            J = a.unique(J);
            x(B, N, 1);
            A = J.length;
            M = B.length;
            for (H = 0; H < A; H++) {
                I = J[H];
                D = 0;
                for (F = 0; F < M; F++) {
                    K = B[F];
                    G = K.length;
                    for (E = 0; E < G; E++) {
                        L = K[E];
                        if (I === L) {
                            D++;
                            break
                        }
                    }
                }
                if (D === M) {
                    e.push(I)
                }
            }
            return e
        },
        difference: function(A, e) {
            var F = o.call(A), D = F.length, C, B, E;
            for (C = 0,
            E = e.length; C < E; C++) {
                for (B = 0; B < D; B++) {
                    if (F[B] === e[C]) {
                        x(F, B, 1);
                        B--;
                        D--
                    }
                }
            }
            return F
        },
        slice: [1, 2].slice(1, undefined).length ? function(B, A, e) {
            return o.call(B, A, e)
        }
        : function(B, A, e) {
            if (typeof A === "undefined") {
                return o.call(B)
            }
            if (typeof e === "undefined") {
                return o.call(B, A)
            }
            return o.call(B, A, e)
        }
        ,
        sort: n ? function(A, e) {
            if (e) {
                return A.sort(e)
            } else {
                return A.sort()
            }
        }
        : function(G, F) {
            var D = G.length, C = 0, E, e, B, A;
            for (; C < D; C++) {
                B = C;
                for (e = C + 1; e < D; e++) {
                    if (F) {
                        E = F(G[e], G[B]);
                        if (E < 0) {
                            B = e
                        }
                    } else {
                        if (G[e] < G[B]) {
                            B = e
                        }
                    }
                }
                if (B !== C) {
                    A = G[C];
                    G[C] = G[B];
                    G[B] = A
                }
            }
            return G
        }
        ,
        flatten: function(B) {
            var A = [];
            function e(C) {
                var E, F, D;
                for (E = 0,
                F = C.length; E < F; E++) {
                    D = C[E];
                    if (Ext.isArray(D)) {
                        e(D)
                    } else {
                        A.push(D)
                    }
                }
                return A
            }
            return e(B)
        },
        min: function(E, D) {
            var A = E[0], e, C, B;
            for (e = 0,
            C = E.length; e < C; e++) {
                B = E[e];
                if (D) {
                    if (D(A, B) === 1) {
                        A = B
                    }
                } else {
                    if (B < A) {
                        A = B
                    }
                }
            }
            return A
        },
        max: function(E, D) {
            var e = E[0], A, C, B;
            for (A = 0,
            C = E.length; A < C; A++) {
                B = E[A];
                if (D) {
                    if (D(e, B) === -1) {
                        e = B
                    }
                } else {
                    if (B > e) {
                        e = B
                    }
                }
            }
            return e
        },
        mean: function(e) {
            return e.length > 0 ? a.sum(e) / e.length : undefined
        },
        sum: function(D) {
            var A = 0, e, C, B;
            for (e = 0,
            C = D.length; e < C; e++) {
                B = D[e];
                A += B
            }
            return A
        },
        toMap: function(D, e, B) {
            var C = {}
              , A = D.length;
            if (!e) {
                while (A--) {
                    C[D[A]] = A + 1
                }
            } else {
                if (typeof e == "string") {
                    while (A--) {
                        C[D[A][e]] = A + 1
                    }
                } else {
                    while (A--) {
                        C[e.call(B, D[A])] = A + 1
                    }
                }
            }
            return C
        },
        toValueMap: function(D, e, B) {
            var C = {}
              , A = D.length;
            if (!e) {
                while (A--) {
                    C[D[A]] = D[A]
                }
            } else {
                if (typeof e == "string") {
                    while (A--) {
                        C[D[A][e]] = D[A]
                    }
                } else {
                    while (A--) {
                        C[e.call(B, D[A])] = D[A]
                    }
                }
            }
            return C
        },
        _replaceSim: y,
        _spliceSim: l,
        erase: x,
        insert: function(B, A, e) {
            return u(B, A, 0, e)
        },
        replace: u,
        splice: w,
        push: function(C) {
            var e = arguments.length, B = 1, A;
            if (C === undefined) {
                C = []
            } else {
                if (!Ext.isArray(C)) {
                    C = [C]
                }
            }
            for (; B < e; B++) {
                A = arguments[B];
                Array.prototype.push[Ext.isIterable(A) ? "apply" : "call"](C, A)
            }
            return C
        }
    };
    Ext.each = a.each;
    a.union = a.merge;
    Ext.min = a.min;
    Ext.max = a.max;
    Ext.sum = a.sum;
    Ext.mean = a.mean;
    Ext.flatten = a.flatten;
    Ext.clean = a.clean;
    Ext.unique = a.unique;
    Ext.pluck = a.pluck;
    Ext.toArray = function() {
        return a.toArray.apply(a, arguments)
    }
}
)();
Ext.Function = {
    flexSetter: function(a) {
        return function(d, c) {
            var e, g;
            if (d === null) {
                return this
            }
            if (typeof d !== "string") {
                for (e in d) {
                    if (d.hasOwnProperty(e)) {
                        a.call(this, e, d[e])
                    }
                }
                if (Ext.enumerables) {
                    for (g = Ext.enumerables.length; g--; ) {
                        e = Ext.enumerables[g];
                        if (d.hasOwnProperty(e)) {
                            a.call(this, e, d[e])
                        }
                    }
                }
            } else {
                a.call(this, d, c)
            }
            return this
        }
    },
    bind: function(d, c, b, a) {
        if (arguments.length === 2) {
            return function() {
                return d.apply(c, arguments)
            }
        }
        var g = d
          , e = Array.prototype.slice;
        return function() {
            var h = b || arguments;
            if (a === true) {
                h = e.call(arguments, 0);
                h = h.concat(b)
            } else {
                if (typeof a == "number") {
                    h = e.call(arguments, 0);
                    Ext.Array.insert(h, a, b)
                }
            }
            return g.apply(c || Ext.global, h)
        }
    },
    pass: function(c, a, b) {
        if (!Ext.isArray(a)) {
            if (Ext.isIterable(a)) {
                a = Ext.Array.clone(a)
            } else {
                a = a !== undefined ? [a] : []
            }
        }
        return function() {
            var d = [].concat(a);
            d.push.apply(d, arguments);
            return c.apply(b || this, d)
        }
    },
    alias: function(b, a) {
        return function() {
            return b[a].apply(b, arguments)
        }
    },
    clone: function(a) {
        return function() {
            return a.apply(this, arguments)
        }
    },
    createInterceptor: function(d, c, b, a) {
        var e = d;
        if (!Ext.isFunction(c)) {
            return d
        } else {
            a = Ext.isDefined(a) ? a : null;
            return function() {
                var h = this
                  , g = arguments;
                c.target = h;
                c.method = d;
                return c.apply(b || h || Ext.global, g) !== false ? d.apply(h || Ext.global, g) : a
            }
        }
    },
    createDelayed: function(e, c, d, b, a) {
        if (d || b) {
            e = Ext.Function.bind(e, d, b, a)
        }
        return function() {
            var h = this
              , g = Array.prototype.slice.call(arguments);
            setTimeout(function() {
                e.apply(h, g)
            }, c)
        }
    },
    defer: function(e, c, d, b, a) {
        e = Ext.Function.bind(e, d, b, a);
        if (c > 0) {
            return setTimeout(Ext.supports.TimeoutActualLateness ? function() {
                e()
            }
            : e, c)
        }
        e();
        return 0
    },
    createSequence: function(b, c, a) {
        if (!c) {
            return b
        } else {
            return function() {
                var d = b.apply(this, arguments);
                c.apply(a || this, arguments);
                return d
            }
        }
    },
    createBuffered: function(e, b, d, c) {
        var a;
        return function() {
            var h = c || Array.prototype.slice.call(arguments, 0)
              , g = d || this;
            if (a) {
                clearTimeout(a)
            }
            a = setTimeout(function() {
                e.apply(g, h)
            }, b)
        }
    },
    createThrottled: function(e, b, d) {
        var g, a, c, i, h = function() {
            e.apply(d || this, c);
            g = new Date().getTime()
        };
        return function() {
            a = new Date().getTime() - g;
            c = arguments;
            clearTimeout(i);
            if (!g || a >= b) {
                h()
            } else {
                i = setTimeout(h, b - a)
            }
        }
    },
    interceptBefore: function(b, a, d, c) {
        var e = b[a] || Ext.emptyFn;
        return b[a] = function() {
            var g = d.apply(c || this, arguments);
            e.apply(this, arguments);
            return g
        }
    },
    interceptAfter: function(b, a, d, c) {
        var e = b[a] || Ext.emptyFn;
        return b[a] = function() {
            e.apply(this, arguments);
            return d.apply(c || this, arguments)
        }
    }
};
Ext.defer = Ext.Function.alias(Ext.Function, "defer");
Ext.pass = Ext.Function.alias(Ext.Function, "pass");
Ext.bind = Ext.Function.alias(Ext.Function, "bind");
(function() {
    var a = function() {}
      , b = Ext.Object = {
        chain: Object.create || function(d) {
            a.prototype = d;
            var c = new a();
            a.prototype = null;
            return c
        }
        ,
        toQueryObjects: function(e, k, d) {
            var c = b.toQueryObjects, j = [], g, h;
            if (Ext.isArray(k)) {
                for (g = 0,
                h = k.length; g < h; g++) {
                    if (d) {
                        j = j.concat(c(e + "[" + g + "]", k[g], true))
                    } else {
                        j.push({
                            name: e,
                            value: k[g]
                        })
                    }
                }
            } else {
                if (Ext.isObject(k)) {
                    for (g in k) {
                        if (k.hasOwnProperty(g)) {
                            if (d) {
                                j = j.concat(c(e + "[" + g + "]", k[g], true))
                            } else {
                                j.push({
                                    name: e,
                                    value: k[g]
                                })
                            }
                        }
                    }
                } else {
                    j.push({
                        name: e,
                        value: k
                    })
                }
            }
            return j
        },
        toQueryString: function(g, d) {
            var h = [], e = [], l, k, m, c, n;
            for (l in g) {
                if (g.hasOwnProperty(l)) {
                    h = h.concat(b.toQueryObjects(l, g[l], d))
                }
            }
            for (k = 0,
            m = h.length; k < m; k++) {
                c = h[k];
                n = c.value;
                if (Ext.isEmpty(n)) {
                    n = ""
                } else {
                    if (Ext.isDate(n)) {
                        n = Ext.Date.toString(n)
                    }
                }
                e.push(encodeURIComponent(c.name) + "=" + encodeURIComponent(String(n)))
            }
            return e.join("&")
        },
        fromQueryString: function(d, s) {
            var m = d.replace(/^\?/, "").split("&"), v = {}, t, k, x, n, q, g, o, p, c, h, u, l, w, e;
            for (q = 0,
            g = m.length; q < g; q++) {
                o = m[q];
                if (o.length > 0) {
                    k = o.split("=");
                    x = decodeURIComponent(k[0]);
                    n = k[1] !== undefined ? decodeURIComponent(k[1]) : "";
                    if (!s) {
                        if (v.hasOwnProperty(x)) {
                            if (!Ext.isArray(v[x])) {
                                v[x] = [v[x]]
                            }
                            v[x].push(n)
                        } else {
                            v[x] = n
                        }
                    } else {
                        h = x.match(/(\[):?([^\]]*)\]/g);
                        u = x.match(/^([^\[]+)/);
                        if (!u) {
                            throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "' + o + '"')
                        }
                        x = u[0];
                        l = [];
                        if (h === null) {
                            v[x] = n;
                            continue
                        }
                        for (p = 0,
                        c = h.length; p < c; p++) {
                            w = h[p];
                            w = w.length === 2 ? "" : w.substring(1, w.length - 1);
                            l.push(w)
                        }
                        l.unshift(x);
                        t = v;
                        for (p = 0,
                        c = l.length; p < c; p++) {
                            w = l[p];
                            if (p === c - 1) {
                                if (Ext.isArray(t) && w === "") {
                                    t.push(n)
                                } else {
                                    t[w] = n
                                }
                            } else {
                                if (t[w] === undefined || typeof t[w] === "string") {
                                    e = l[p + 1];
                                    t[w] = Ext.isNumeric(e) || e === "" ? [] : {}
                                }
                                t = t[w]
                            }
                        }
                    }
                }
            }
            return v
        },
        each: function(c, e, d) {
            for (var g in c) {
                if (c.hasOwnProperty(g)) {
                    if (e.call(d || c, g, c[g], c) === false) {
                        return
                    }
                }
            }
        },
        merge: function(k) {
            var h = 1, j = arguments.length, c = b.merge, e = Ext.clone, g, m, l, d;
            for (; h < j; h++) {
                g = arguments[h];
                for (m in g) {
                    l = g[m];
                    if (l && l.constructor === Object) {
                        d = k[m];
                        if (d && d.constructor === Object) {
                            c(d, l)
                        } else {
                            k[m] = e(l)
                        }
                    } else {
                        k[m] = l
                    }
                }
            }
            return k
        },
        mergeIf: function(c) {
            var h = 1, j = arguments.length, e = Ext.clone, d, g, k;
            for (; h < j; h++) {
                d = arguments[h];
                for (g in d) {
                    if (!(g in c)) {
                        k = d[g];
                        if (k && k.constructor === Object) {
                            c[g] = e(k)
                        } else {
                            c[g] = k
                        }
                    }
                }
            }
            return c
        },
        getKey: function(c, e) {
            for (var d in c) {
                if (c.hasOwnProperty(d) && c[d] === e) {
                    return d
                }
            }
            return null
        },
        getValues: function(d) {
            var c = [], e;
            for (e in d) {
                if (d.hasOwnProperty(e)) {
                    c.push(d[e])
                }
            }
            return c
        },
        getKeys: typeof Object.keys == "function" ? function(c) {
            if (!c) {
                return []
            }
            return Object.keys(c)
        }
        : function(c) {
            var d = [], e;
            for (e in c) {
                if (c.hasOwnProperty(e)) {
                    d.push(e)
                }
            }
            return d
        }
        ,
        getSize: function(c) {
            var d = 0, e;
            for (e in c) {
                if (c.hasOwnProperty(e)) {
                    d++
                }
            }
            return d
        },
        isEmpty: function(c) {
            for (var d in c) {
                if (c.hasOwnProperty(d)) {
                    return false
                }
            }
            return true
        },
        equals: function() {
            var c = function(g, e) {
                var d;
                for (d in g) {
                    if (g.hasOwnProperty(d)) {
                        if (g[d] !== e[d]) {
                            return false
                        }
                    }
                }
                return true
            };
            return function(e, d) {
                if (e === d) {
                    return true
                }
                if (e && d) {
                    return c(e, d) && c(d, e)
                } else {
                    if (!e && !d) {
                        return e === d
                    } else {
                        return false
                    }
                }
            }
        }(),
        classify: function(g) {
            var e = g, i = [], d = {}, c = function() {
                var k = 0, l = i.length, m;
                for (; k < l; k++) {
                    m = i[k];
                    this[m] = new d[m]()
                }
            }, h, j;
            for (h in g) {
                if (g.hasOwnProperty(h)) {
                    j = g[h];
                    if (j && j.constructor === Object) {
                        i.push(h);
                        d[h] = b.classify(j)
                    }
                }
            }
            c.prototype = e;
            return c
        }
    };
    Ext.merge = Ext.Object.merge;
    Ext.mergeIf = Ext.Object.mergeIf;
    Ext.urlEncode = function() {
        var c = Ext.Array.from(arguments)
          , d = "";
        if (typeof c[1] === "string") {
            d = c[1] + "&";
            c[1] = false
        }
        return d + b.toQueryString.apply(b, c)
    }
    ;
    Ext.urlDecode = function() {
        return b.fromQueryString.apply(b, arguments)
    }
}
)();
Ext.Date = new function() {
    var d = this
      , j = /(\\.)/g
      , a = /([gGhHisucUOPZ]|MS)/
      , e = /([djzmnYycU]|MS)/
      , i = /\\/gi
      , c = /\{(\d+)\}/g
      , g = new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/")
      , b = ["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday,", "def = me.defaults,", "from = Ext.Number.from,", "results = String(input).match(me.parseRegexes[{0}]);", "if(results){", "{1}", "if(u != null){", "v = new Date(u * 1000);", "}else{", "dt = me.clearTime(new Date);", "y = from(y, from(def.y, dt.getFullYear()));", "m = from(m, from(def.m - 1, dt.getMonth()));", "d = from(d, from(def.d, dt.getDate()));", "h  = from(h, from(def.h, dt.getHours()));", "i  = from(i, from(def.i, dt.getMinutes()));", "s  = from(s, from(def.s, dt.getSeconds()));", "ms = from(ms, from(def.ms, dt.getMilliseconds()));", "if(z >= 0 && y >= 0){", "v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);", "v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);", "}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){", "v = null;", "}else{", "if (W) {", "year = y || (new Date()).getFullYear(),", "jan4 = new Date(year, 0, 4, 0, 0, 0),", "week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));", "v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));", "} else {", "v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);", "}", "}", "}", "}", "if(v){", "if(zz != null){", "v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);", "}else if(o){", "v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));", "}", "}", "return v;"].join("\n");
    function h(l) {
        var k = Array.prototype.slice.call(arguments, 1);
        return l.replace(c, function(n, o) {
            return k[o]
        })
    }
    Ext.apply(d, {
        now: Date.now || function() {
            return +new Date()
        }
        ,
        toString: function(k) {
            var l = Ext.String.leftPad;
            return k.getFullYear() + "-" + l(k.getMonth() + 1, 2, "0") + "-" + l(k.getDate(), 2, "0") + "T" + l(k.getHours(), 2, "0") + ":" + l(k.getMinutes(), 2, "0") + ":" + l(k.getSeconds(), 2, "0")
        },
        getElapsed: function(l, k) {
            return Math.abs(l - (k || new Date()))
        },
        useStrict: false,
        formatCodeToRegex: function(l, k) {
            var m = d.parseCodes[l];
            if (m) {
                m = typeof m == "function" ? m() : m;
                d.parseCodes[l] = m
            }
            return m ? Ext.applyIf({
                c: m.c ? h(m.c, k || "{0}") : m.c
            }, m) : {
                g: 0,
                c: null,
                s: Ext.String.escapeRegex(l)
            }
        },
        parseFunctions: {
            MS: function(l, k) {
                var m = (l || "").match(g);
                return m ? new Date(((m[1] || "") + m[2]) * 1) : null
            },
            time: function(l, k) {
                var m = parseInt(l, 10);
                if (m || m === 0) {
                    return new Date(m)
                }
                return null
            },
            timestamp: function(l, k) {
                var m = parseInt(l, 10);
                if (m || m === 0) {
                    return new Date(m * 1000)
                }
                return null
            }
        },
        parseRegexes: [],
        formatFunctions: {
            MS: function() {
                return "\\/Date(" + this.getTime() + ")\\/"
            },
            time: function() {
                return this.getTime().toString()
            },
            timestamp: function() {
                return d.format(this, "U")
            }
        },
        y2kYear: 50,
        MILLI: "ms",
        SECOND: "s",
        MINUTE: "mi",
        HOUR: "h",
        DAY: "d",
        MONTH: "mo",
        YEAR: "y",
        defaults: {},
        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        monthNumbers: {
            January: 0,
            Jan: 0,
            February: 1,
            Feb: 1,
            March: 2,
            Mar: 2,
            April: 3,
            Apr: 3,
            May: 4,
            June: 5,
            Jun: 5,
            July: 6,
            Jul: 6,
            August: 7,
            Aug: 7,
            September: 8,
            Sep: 8,
            October: 9,
            Oct: 9,
            November: 10,
            Nov: 10,
            December: 11,
            Dec: 11
        },
        defaultFormat: "m/d/Y",
        getShortMonthName: function(k) {
            return Ext.Date.monthNames[k].substring(0, 3)
        },
        getShortDayName: function(k) {
            return Ext.Date.dayNames[k].substring(0, 3)
        },
        getMonthNumber: function(k) {
            return Ext.Date.monthNumbers[k.substring(0, 1).toUpperCase() + k.substring(1, 3).toLowerCase()]
        },
        formatContainsHourInfo: function(k) {
            return a.test(k.replace(j, ""))
        },
        formatContainsDateInfo: function(k) {
            return e.test(k.replace(j, ""))
        },
        unescapeFormat: function(k) {
            return k.replace(i, "")
        },
        formatCodes: {
            d: "Ext.String.leftPad(this.getDate(), 2, '0')",
            D: "Ext.Date.getShortDayName(this.getDay())",
            j: "this.getDate()",
            l: "Ext.Date.dayNames[this.getDay()]",
            N: "(this.getDay() ? this.getDay() : 7)",
            S: "Ext.Date.getSuffix(this)",
            w: "this.getDay()",
            z: "Ext.Date.getDayOfYear(this)",
            W: "Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",
            F: "Ext.Date.monthNames[this.getMonth()]",
            m: "Ext.String.leftPad(this.getMonth() + 1, 2, '0')",
            M: "Ext.Date.getShortMonthName(this.getMonth())",
            n: "(this.getMonth() + 1)",
            t: "Ext.Date.getDaysInMonth(this)",
            L: "(Ext.Date.isLeapYear(this) ? 1 : 0)",
            o: "(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",
            Y: "Ext.String.leftPad(this.getFullYear(), 4, '0')",
            y: "('' + this.getFullYear()).substring(2, 4)",
            a: "(this.getHours() < 12 ? 'am' : 'pm')",
            A: "(this.getHours() < 12 ? 'AM' : 'PM')",
            g: "((this.getHours() % 12) ? this.getHours() % 12 : 12)",
            G: "this.getHours()",
            h: "Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",
            H: "Ext.String.leftPad(this.getHours(), 2, '0')",
            i: "Ext.String.leftPad(this.getMinutes(), 2, '0')",
            s: "Ext.String.leftPad(this.getSeconds(), 2, '0')",
            u: "Ext.String.leftPad(this.getMilliseconds(), 3, '0')",
            O: "Ext.Date.getGMTOffset(this)",
            P: "Ext.Date.getGMTOffset(this, true)",
            T: "Ext.Date.getTimezone(this)",
            Z: "(this.getTimezoneOffset() * -60)",
            c: function() {
                var p, n, m, k, o;
                for (p = "Y-m-dTH:i:sP",
                n = [],
                m = 0,
                k = p.length; m < k; ++m) {
                    o = p.charAt(m);
                    n.push(o == "T" ? "'T'" : d.getFormatCode(o))
                }
                return n.join(" + ")
            },
            U: "Math.round(this.getTime() / 1000)"
        },
        isValid: function(u, k, t, p, n, o, l) {
            p = p || 0;
            n = n || 0;
            o = o || 0;
            l = l || 0;
            var q = d.add(new Date(u < 100 ? 100 : u,k - 1,t,p,n,o,l), d.YEAR, u < 100 ? u - 100 : 0);
            return u == q.getFullYear() && k == q.getMonth() + 1 && t == q.getDate() && p == q.getHours() && n == q.getMinutes() && o == q.getSeconds() && l == q.getMilliseconds()
        },
        parse: function(l, n, k) {
            var m = d.parseFunctions;
            if (m[n] == null) {
                d.createParser(n)
            }
            return m[n].call(d, l, Ext.isDefined(k) ? k : d.useStrict)
        },
        parseDate: function(l, m, k) {
            return d.parse(l, m, k)
        },
        getFormatCode: function(l) {
            var k = d.formatCodes[l];
            if (k) {
                k = typeof k == "function" ? k() : k;
                d.formatCodes[l] = k
            }
            return k || "'" + Ext.String.escape(l) + "'"
        },
        createFormat: function(o) {
            var n = [], k = false, m = "", l;
            for (l = 0; l < o.length; ++l) {
                m = o.charAt(l);
                if (!k && m == "\\") {
                    k = true
                } else {
                    if (k) {
                        k = false;
                        n.push("'" + Ext.String.escape(m) + "'")
                    } else {
                        n.push(d.getFormatCode(m))
                    }
                }
            }
            d.formatFunctions[o] = Ext.functionFactory("return " + n.join("+"))
        },
        createParser: function(u) {
            var l = d.parseRegexes.length, v = 1, m = [], t = [], q = false, k = "", o = 0, p = u.length, s = [], n;
            for (; o < p; ++o) {
                k = u.charAt(o);
                if (!q && k == "\\") {
                    q = true
                } else {
                    if (q) {
                        q = false;
                        t.push(Ext.String.escape(k))
                    } else {
                        n = d.formatCodeToRegex(k, v);
                        v += n.g;
                        t.push(n.s);
                        if (n.g && n.c) {
                            if (n.calcAtEnd) {
                                s.push(n.c)
                            } else {
                                m.push(n.c)
                            }
                        }
                    }
                }
            }
            m = m.concat(s);
            d.parseRegexes[l] = new RegExp("^" + t.join("") + "$","i");
            d.parseFunctions[u] = Ext.functionFactory("input", "strict", h(b, l, m.join("")))
        },
        parseCodes: {
            d: {
                g: 1,
                c: "d = parseInt(results[{0}], 10);\n",
                s: "(3[0-1]|[1-2][0-9]|0[1-9])"
            },
            j: {
                g: 1,
                c: "d = parseInt(results[{0}], 10);\n",
                s: "(3[0-1]|[1-2][0-9]|[1-9])"
            },
            D: function() {
                for (var k = [], l = 0; l < 7; k.push(d.getShortDayName(l)),
                ++l) {}
                return {
                    g: 0,
                    c: null,
                    s: "(?:" + k.join("|") + ")"
                }
            },
            l: function() {
                return {
                    g: 0,
                    c: null,
                    s: "(?:" + d.dayNames.join("|") + ")"
                }
            },
            N: {
                g: 0,
                c: null,
                s: "[1-7]"
            },
            S: {
                g: 0,
                c: null,
                s: "(?:st|nd|rd|th)"
            },
            w: {
                g: 0,
                c: null,
                s: "[0-6]"
            },
            z: {
                g: 1,
                c: "z = parseInt(results[{0}], 10);\n",
                s: "(\\d{1,3})"
            },
            W: {
                g: 1,
                c: "W = parseInt(results[{0}], 10);\n",
                s: "(\\d{2})"
            },
            F: function() {
                return {
                    g: 1,
                    c: "m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",
                    s: "(" + d.monthNames.join("|") + ")"
                }
            },
            M: function() {
                for (var k = [], l = 0; l < 12; k.push(d.getShortMonthName(l)),
                ++l) {}
                return Ext.applyIf({
                    s: "(" + k.join("|") + ")"
                }, d.formatCodeToRegex("F"))
            },
            m: {
                g: 1,
                c: "m = parseInt(results[{0}], 10) - 1;\n",
                s: "(1[0-2]|0[1-9])"
            },
            n: {
                g: 1,
                c: "m = parseInt(results[{0}], 10) - 1;\n",
                s: "(1[0-2]|[1-9])"
            },
            t: {
                g: 0,
                c: null,
                s: "(?:\\d{2})"
            },
            L: {
                g: 0,
                c: null,
                s: "(?:1|0)"
            },
            o: {
                g: 1,
                c: "y = parseInt(results[{0}], 10);\n",
                s: "(\\d{4})"
            },
            Y: {
                g: 1,
                c: "y = parseInt(results[{0}], 10);\n",
                s: "(\\d{4})"
            },
            y: {
                g: 1,
                c: "var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",
                s: "(\\d{1,2})"
            },
            a: {
                g: 1,
                c: "if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",
                s: "(am|pm|AM|PM)",
                calcAtEnd: true
            },
            A: {
                g: 1,
                c: "if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",
                s: "(AM|PM|am|pm)",
                calcAtEnd: true
            },
            g: {
                g: 1,
                c: "h = parseInt(results[{0}], 10);\n",
                s: "(1[0-2]|[0-9])"
            },
            G: {
                g: 1,
                c: "h = parseInt(results[{0}], 10);\n",
                s: "(2[0-3]|1[0-9]|[0-9])"
            },
            h: {
                g: 1,
                c: "h = parseInt(results[{0}], 10);\n",
                s: "(1[0-2]|0[1-9])"
            },
            H: {
                g: 1,
                c: "h = parseInt(results[{0}], 10);\n",
                s: "(2[0-3]|[0-1][0-9])"
            },
            i: {
                g: 1,
                c: "i = parseInt(results[{0}], 10);\n",
                s: "([0-5][0-9])"
            },
            s: {
                g: 1,
                c: "s = parseInt(results[{0}], 10);\n",
                s: "([0-5][0-9])"
            },
            u: {
                g: 1,
                c: "ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",
                s: "(\\d+)"
            },
            O: {
                g: 1,
                c: ["o = results[{0}];", "var sn = o.substring(0,1),", "hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),", "mn = o.substring(3,5) % 60;", "o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),
                s: "([+-]\\d{4})"
            },
            P: {
                g: 1,
                c: ["o = results[{0}];", "var sn = o.substring(0,1),", "hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),", "mn = o.substring(4,6) % 60;", "o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),
                s: "([+-]\\d{2}:\\d{2})"
            },
            T: {
                g: 0,
                c: null,
                s: "[A-Z]{1,5}"
            },
            Z: {
                g: 1,
                c: "zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",
                s: "([+-]?\\d{1,5})"
            },
            c: function() {
                var n = [], k = [d.formatCodeToRegex("Y", 1), d.formatCodeToRegex("m", 2), d.formatCodeToRegex("d", 3), d.formatCodeToRegex("H", 4), d.formatCodeToRegex("i", 5), d.formatCodeToRegex("s", 6), {
                    c: "ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"
                }, {
                    c: ["if(results[8]) {", "if(results[8] == 'Z'){", "zz = 0;", "}else if (results[8].indexOf(':') > -1){", d.formatCodeToRegex("P", 8).c, "}else{", d.formatCodeToRegex("O", 8).c, "}", "}"].join("\n")
                }], o, m;
                for (o = 0,
                m = k.length; o < m; ++o) {
                    n.push(k[o].c)
                }
                return {
                    g: 1,
                    c: n.join(""),
                    s: [k[0].s, "(?:", "-", k[1].s, "(?:", "-", k[2].s, "(?:", "(?:T| )?", k[3].s, ":", k[4].s, "(?::", k[5].s, ")?", "(?:(?:\\.|,)(\\d+))?", "(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?", ")?", ")?", ")?"].join("")
                }
            },
            U: {
                g: 1,
                c: "u = parseInt(results[{0}], 10);\n",
                s: "(-?\\d+)"
            }
        },
        dateFormat: function(k, l) {
            return d.format(k, l)
        },
        isEqual: function(l, k) {
            if (l && k) {
                return l.getTime() === k.getTime()
            }
            return !(l || k)
        },
        format: function(l, m) {
            var k = d.formatFunctions;
            if (!Ext.isDate(l)) {
                return ""
            }
            if (k[m] == null) {
                d.createFormat(m)
            }
            return k[m].call(l) + ""
        },
        getTimezone: function(k) {
            return k.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/, "$1$2").replace(/[^A-Z]/g, "")
        },
        getGMTOffset: function(k, l) {
            var m = k.getTimezoneOffset();
            return (m > 0 ? "-" : "+") + Ext.String.leftPad(Math.floor(Math.abs(m) / 60), 2, "0") + (l ? ":" : "") + Ext.String.leftPad(Math.abs(m % 60), 2, "0")
        },
        getDayOfYear: function(n) {
            var l = 0, p = Ext.Date.clone(n), k = n.getMonth(), o;
            for (o = 0,
            p.setDate(1),
            p.setMonth(0); o < k; p.setMonth(++o)) {
                l += d.getDaysInMonth(p)
            }
            return l + n.getDate() - 1
        },
        getWeekOfYear: function() {
            var k = 86400000
              , l = 7 * k;
            return function(n) {
                var o = Date.UTC(n.getFullYear(), n.getMonth(), n.getDate() + 3) / k
                  , m = Math.floor(o / 7)
                  , p = new Date(m * l).getUTCFullYear();
                return m - Math.floor(Date.UTC(p, 0, 7) / l) + 1
            }
        }(),
        isLeapYear: function(k) {
            var l = k.getFullYear();
            return !!((l & 3) == 0 && (l % 100 || l % 400 == 0 && l))
        },
        getFirstDayOfMonth: function(l) {
            var k = (l.getDay() - (l.getDate() - 1)) % 7;
            return k < 0 ? k + 7 : k
        },
        getLastDayOfMonth: function(k) {
            return d.getLastDateOfMonth(k).getDay()
        },
        getFirstDateOfMonth: function(k) {
            return new Date(k.getFullYear(),k.getMonth(),1)
        },
        getLastDateOfMonth: function(k) {
            return new Date(k.getFullYear(),k.getMonth(),d.getDaysInMonth(k))
        },
        getDaysInMonth: function() {
            var k = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            return function(n) {
                var l = n.getMonth();
                return l == 1 && d.isLeapYear(n) ? 29 : k[l]
            }
        }(),
        getSuffix: function(k) {
            switch (k.getDate()) {
            case 1:
            case 21:
            case 31:
                return "st";
            case 2:
            case 22:
                return "nd";
            case 3:
            case 23:
                return "rd";
            default:
                return "th"
            }
        },
        clone: function(k) {
            return new Date(k.getTime())
        },
        isDST: function(k) {
            return new Date(k.getFullYear(),0,1).getTimezoneOffset() != k.getTimezoneOffset()
        },
        clearTime: function(k, o) {
            if (o) {
                return Ext.Date.clearTime(Ext.Date.clone(k))
            }
            var m = k.getDate(), l, n;
            k.setHours(0);
            k.setMinutes(0);
            k.setSeconds(0);
            k.setMilliseconds(0);
            if (k.getDate() != m) {
                for (l = 1,
                n = d.add(k, Ext.Date.HOUR, l); n.getDate() != m; l++,
                n = d.add(k, Ext.Date.HOUR, l)) {}
                k.setDate(m);
                k.setHours(n.getHours())
            }
            return k
        },
        add: function(n, m, q) {
            var s = Ext.Date.clone(n), k = Ext.Date, l, p, o = 0;
            if (!m || q === 0) {
                return s
            }
            p = q - parseInt(q, 10);
            q = parseInt(q, 10);
            if (q) {
                switch (m.toLowerCase()) {
                case Ext.Date.MILLI:
                    s.setTime(s.getTime() + q);
                    break;
                case Ext.Date.SECOND:
                    s.setTime(s.getTime() + q * 1000);
                    break;
                case Ext.Date.MINUTE:
                    s.setTime(s.getTime() + q * 60 * 1000);
                    break;
                case Ext.Date.HOUR:
                    s.setTime(s.getTime() + q * 60 * 60 * 1000);
                    break;
                case Ext.Date.DAY:
                    s.setDate(s.getDate() + q);
                    break;
                case Ext.Date.MONTH:
                    l = n.getDate();
                    if (l > 28) {
                        l = Math.min(l, Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(n), Ext.Date.MONTH, q)).getDate())
                    }
                    s.setDate(l);
                    s.setMonth(n.getMonth() + q);
                    break;
                case Ext.Date.YEAR:
                    l = n.getDate();
                    if (l > 28) {
                        l = Math.min(l, Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(n), Ext.Date.YEAR, q)).getDate())
                    }
                    s.setDate(l);
                    s.setFullYear(n.getFullYear() + q);
                    break
                }
            }
            if (p) {
                switch (m.toLowerCase()) {
                case Ext.Date.MILLI:
                    o = 1;
                    break;
                case Ext.Date.SECOND:
                    o = 1000;
                    break;
                case Ext.Date.MINUTE:
                    o = 1000 * 60;
                    break;
                case Ext.Date.HOUR:
                    o = 1000 * 60 * 60;
                    break;
                case Ext.Date.DAY:
                    o = 1000 * 60 * 60 * 24;
                    break;
                case Ext.Date.MONTH:
                    l = d.getDaysInMonth(s);
                    o = 1000 * 60 * 60 * 24 * l;
                    break;
                case Ext.Date.YEAR:
                    l = d.isLeapYear(s) ? 366 : 365;
                    o = 1000 * 60 * 60 * 24 * l;
                    break
                }
                if (o) {
                    s.setTime(s.getTime() + o * p)
                }
            }
            return s
        },
        subtract: function(l, k, m) {
            return d.add(l, k, -m)
        },
        between: function(l, n, k) {
            var m = l.getTime();
            return n.getTime() <= m && m <= k.getTime()
        },
        compat: function() {
            var l = window.Date, k, t = ["useStrict", "formatCodeToRegex", "parseFunctions", "parseRegexes", "formatFunctions", "y2kYear", "MILLI", "SECOND", "MINUTE", "HOUR", "DAY", "MONTH", "YEAR", "defaults", "dayNames", "monthNames", "monthNumbers", "getShortMonthName", "getShortDayName", "getMonthNumber", "formatCodes", "isValid", "parseDate", "getFormatCode", "createFormat", "createParser", "parseCodes"], o = ["dateFormat", "format", "getTimezone", "getGMTOffset", "getDayOfYear", "getWeekOfYear", "isLeapYear", "getFirstDayOfMonth", "getLastDayOfMonth", "getDaysInMonth", "getSuffix", "clone", "isDST", "clearTime", "add", "between"], q = t.length, m = o.length, n, u, v;
            for (v = 0; v < q; v++) {
                n = t[v];
                l[n] = d[n]
            }
            for (k = 0; k < m; k++) {
                u = o[k];
                l.prototype[u] = function() {
                    var p = Array.prototype.slice.call(arguments);
                    p.unshift(this);
                    return d[u].apply(d, p)
                }
            }
        }
    })
}
();
(function(a) {
    var d = []
      , b = function() {}
      , c = function(j, g, i, h) {
        var e = function() {
            var k = this.callParent(arguments);
            j.apply(this, arguments);
            return k
        };
        e.$name = i;
        e.$owner = h;
        if (g) {
            e.$previous = g.$previous;
            g.$previous = e
        }
        return e
    };
    Ext.apply(b, {
        $className: "Ext.Base",
        $isClass: true,
        create: function() {
            return Ext.create.apply(Ext, [this].concat(Array.prototype.slice.call(arguments, 0)))
        },
        extend: function(k) {
            var e = k.prototype, n, h, j, l, g, m;
            h = this.prototype = Ext.Object.chain(e);
            h.self = this;
            this.superclass = h.superclass = e;
            if (!k.$isClass) {
                n = Ext.Base.prototype;
                for (j in n) {
                    if (j in h) {
                        h[j] = n[j]
                    }
                }
            }
            m = e.$inheritableStatics;
            if (m) {
                for (j = 0,
                l = m.length; j < l; j++) {
                    g = m[j];
                    if (!this.hasOwnProperty(g)) {
                        this[g] = k[g]
                    }
                }
            }
            if (k.$onExtended) {
                this.$onExtended = k.$onExtended.slice()
            }
            h.config = new h.configClass();
            h.initConfigList = h.initConfigList.slice();
            h.initConfigMap = Ext.clone(h.initConfigMap);
            h.configMap = Ext.Object.chain(h.configMap)
        },
        $onExtended: [],
        triggerExtended: function() {
            Ext.classSystemMonitor && Ext.classSystemMonitor(this, "Ext.Base#triggerExtended", arguments);
            var h = this.$onExtended, g = h.length, e, j;
            if (g > 0) {
                for (e = 0; e < g; e++) {
                    j = h[e];
                    j.fn.apply(j.scope || this, arguments)
                }
            }
        },
        onExtended: function(g, e) {
            this.$onExtended.push({
                fn: g,
                scope: e
            });
            return this
        },
        addConfig: function(i, m) {
            var o = this.prototype, n = Ext.Class.configNameCache, j = o.configMap, k = o.initConfigList, h = o.initConfigMap, l = o.config, e, g, p;
            for (g in i) {
                if (i.hasOwnProperty(g)) {
                    if (!j[g]) {
                        j[g] = true
                    }
                    p = i[g];
                    e = n[g].initialized;
                    if (!h[g] && p !== null && !o[e]) {
                        h[g] = true;
                        k.push(g)
                    }
                }
            }
            if (m) {
                Ext.merge(l, i)
            } else {
                Ext.mergeIf(l, i)
            }
            o.configClass = Ext.Object.classify(l)
        },
        addStatics: function(e) {
            var h, g;
            for (g in e) {
                if (e.hasOwnProperty(g)) {
                    h = e[g];
                    if (typeof h == "function" && !h.$isClass && h !== Ext.emptyFn && h !== Ext.identityFn) {
                        h.$owner = this;
                        h.$name = g;
                        h.displayName = Ext.getClassName(this) + "." + g
                    }
                    this[g] = h
                }
            }
            return this
        },
        addInheritableStatics: function(g) {
            var j, e, i = this.prototype, h, k;
            j = i.$inheritableStatics;
            e = i.$hasInheritableStatics;
            if (!j) {
                j = i.$inheritableStatics = [];
                e = i.$hasInheritableStatics = {}
            }
            for (h in g) {
                if (g.hasOwnProperty(h)) {
                    k = g[h];
                    if (typeof k == "function") {
                        k.displayName = Ext.getClassName(this) + "." + h
                    }
                    this[h] = k;
                    if (!e[h]) {
                        e[h] = true;
                        j.push(h)
                    }
                }
            }
            return this
        },
        addMembers: function(g) {
            var j = this.prototype, e = Ext.enumerables, m = [], k, l, h, n;
            for (h in g) {
                m.push(h)
            }
            if (e) {
                m.push.apply(m, e)
            }
            for (k = 0,
            l = m.length; k < l; k++) {
                h = m[k];
                if (g.hasOwnProperty(h)) {
                    n = g[h];
                    if (typeof n == "function" && !n.$isClass && n !== Ext.emptyFn && n !== Ext.identityFn) {
                        n.$owner = this;
                        n.$name = h;
                        n.displayName = (this.$className || "") + "#" + h
                    }
                    j[h] = n
                }
            }
            return this
        },
        addMember: function(e, g) {
            if (typeof g == "function" && !g.$isClass && g !== Ext.emptyFn && g !== Ext.identityFn) {
                g.$owner = this;
                g.$name = e;
                g.displayName = (this.$className || "") + "#" + e
            }
            this.prototype[e] = g;
            return this
        },
        implement: function() {
            this.addMembers.apply(this, arguments)
        },
        borrow: function(k, h) {
            Ext.classSystemMonitor && Ext.classSystemMonitor(this, "Ext.Base#borrow", arguments);
            var p = this.prototype, o = k.prototype, m = Ext.getClassName(this), j, l, g, n, e;
            h = Ext.Array.from(h);
            for (j = 0,
            l = h.length; j < l; j++) {
                g = h[j];
                e = o[g];
                if (typeof e == "function") {
                    n = Ext.Function.clone(e);
                    if (m) {
                        n.displayName = m + "#" + g
                    }
                    n.$owner = this;
                    n.$name = g;
                    p[g] = n
                } else {
                    p[g] = e
                }
            }
            return this
        },
        override: function(g) {
            var n = this, p = Ext.enumerables, l = n.prototype, i = Ext.Function.clone, e, k, h, o, m, j;
            if (arguments.length === 2) {
                e = g;
                g = {};
                g[e] = arguments[1];
                p = null
            }
            do {
                m = [];
                o = null;
                for (e in g) {
                    if (e == "statics") {
                        o = g[e]
                    } else {
                        if (e == "inheritableStatics") {
                            n.addInheritableStatics(g[e])
                        } else {
                            if (e == "config") {
                                n.addConfig(g[e], true)
                            } else {
                                m.push(e)
                            }
                        }
                    }
                }
                if (p) {
                    m.push.apply(m, p)
                }
                for (k = m.length; k--; ) {
                    e = m[k];
                    if (g.hasOwnProperty(e)) {
                        h = g[e];
                        if (typeof h == "function" && !h.$className && h !== Ext.emptyFn && h !== Ext.identityFn) {
                            if (typeof h.$owner != "undefined") {
                                h = i(h)
                            }
                            if (n.$className) {
                                h.displayName = n.$className + "#" + e
                            }
                            h.$owner = n;
                            h.$name = e;
                            j = l[e];
                            if (j) {
                                h.$previous = j
                            }
                        }
                        l[e] = h
                    }
                }
                l = n;
                g = o
            } while (g);return this
        },
        callParent: function(e) {
            var g;
            return (g = this.callParent.caller) && (g.$previous || (g = g.$owner ? g : g.caller) && g.$owner.superclass.self[g.$name]).apply(this, e || d)
        },
        callSuper: function(e) {
            var g;
            return (g = this.callSuper.caller) && ((g = g.$owner ? g : g.caller) && g.$owner.superclass.self[g.$name]).apply(this, e || d)
        },
        mixin: function(g, h) {
            var l = this, t = h.prototype, n = l.prototype, s, m, j, k, q, p, o, e;
            if (typeof t.onClassMixedIn != "undefined") {
                t.onClassMixedIn.call(h, l)
            }
            if (!n.hasOwnProperty("mixins")) {
                if ("mixins"in n) {
                    n.mixins = Ext.Object.chain(n.mixins)
                } else {
                    n.mixins = {}
                }
            }
            for (s in t) {
                p = t[s];
                if (s === "mixins") {
                    Ext.merge(n.mixins, p)
                } else {
                    if (s === "xhooks") {
                        for (o in p) {
                            e = p[o];
                            e.$previous = Ext.emptyFn;
                            if (n.hasOwnProperty(o)) {
                                c(e, n[o], o, l)
                            } else {
                                n[o] = c(e, null, o, l)
                            }
                        }
                    } else {
                        if (!(s === "mixinId" || s === "config") && n[s] === undefined) {
                            n[s] = p
                        }
                    }
                }
            }
            m = t.$inheritableStatics;
            if (m) {
                for (j = 0,
                k = m.length; j < k; j++) {
                    q = m[j];
                    if (!l.hasOwnProperty(q)) {
                        l[q] = h[q]
                    }
                }
            }
            if ("config"in t) {
                l.addConfig(t.config, false)
            }
            n.mixins[g] = t;
            return l
        },
        getName: function() {
            return Ext.getClassName(this)
        },
        createAlias: a(function(g, e) {
            this.override(g, function() {
                return this[e].apply(this, arguments)
            })
        }),
        addXtype: function(j) {
            var g = this.prototype
              , i = g.xtypesMap
              , h = g.xtypes
              , e = g.xtypesChain;
            if (!g.hasOwnProperty("xtypesMap")) {
                i = g.xtypesMap = Ext.merge({}, g.xtypesMap || {});
                h = g.xtypes = g.xtypes ? [].concat(g.xtypes) : [];
                e = g.xtypesChain = g.xtypesChain ? [].concat(g.xtypesChain) : [];
                g.xtype = j
            }
            if (!i[j]) {
                i[j] = true;
                h.push(j);
                e.push(j);
                Ext.ClassManager.setAlias(this, "widget." + j)
            }
            return this
        }
    });
    b.implement({
        isInstance: true,
        $className: "Ext.Base",
        configClass: Ext.emptyFn,
        initConfigList: [],
        configMap: {},
        initConfigMap: {},
        statics: function() {
            var g = this.statics.caller
              , e = this.self;
            if (!g) {
                return e
            }
            return g.$owner
        },
        callParent: function(h) {
            var j, e = (j = this.callParent.caller) && (j.$previous || (j = j.$owner ? j : j.caller) && j.$owner.superclass[j.$name]);
            if (!e) {
                j = this.callParent.caller;
                var i, g;
                if (!j.$owner) {
                    if (!j.caller) {
                        throw new Error("Attempting to call a protected method from the public scope, which is not allowed")
                    }
                    j = j.caller
                }
                i = j.$owner.superclass;
                g = j.$name;
                if (!(g in i)) {
                    throw new Error("this.callParent() was called but there's no such method (" + g + ") found in the parent class (" + (Ext.getClassName(i) || "Object") + ")")
                }
            }
            return e.apply(this, h || d)
        },
        callSuper: function(h) {
            var j, e = (j = this.callSuper.caller) && (j = j.$owner ? j : j.caller) && j.$owner.superclass[j.$name];
            if (!e) {
                j = this.callSuper.caller;
                var i, g;
                if (!j.$owner) {
                    if (!j.caller) {
                        throw new Error("Attempting to call a protected method from the public scope, which is not allowed")
                    }
                    j = j.caller
                }
                i = j.$owner.superclass;
                g = j.$name;
                if (!(g in i)) {
                    throw new Error("this.callSuper() was called but there's no such method (" + g + ") found in the parent class (" + (Ext.getClassName(i) || "Object") + ")")
                }
            }
            return e.apply(this, h || d)
        },
        self: b,
        constructor: function() {
            return this
        },
        initConfig: function(h) {
            var n = h, m = Ext.Class.configNameCache, k = new this.configClass(), q = this.initConfigList, j = this.configMap, p, l, o, g, e;
            this.initConfig = Ext.emptyFn;
            this.initialConfig = n || {};
            this.config = h = n ? Ext.merge(k, h) : k;
            if (n) {
                q = q.slice();
                for (g in n) {
                    if (j[g]) {
                        if (n[g] !== null) {
                            q.push(g);
                            this[m[g].initialized] = false
                        }
                    }
                }
            }
            for (l = 0,
            o = q.length; l < o; l++) {
                g = q[l];
                p = m[g];
                e = p.initialized;
                if (!this[e]) {
                    this[e] = true;
                    this[p.set].call(this, h[g])
                }
            }
            return this
        },
        hasConfig: function(e) {
            return Boolean(this.configMap[e])
        },
        setConfig: function(i, m) {
            if (!i) {
                return this
            }
            var h = Ext.Class.configNameCache, e = this.config, l = this.configMap, k = this.initialConfig, g, j;
            m = Boolean(m);
            for (g in i) {
                if (m && k.hasOwnProperty(g)) {
                    continue
                }
                j = i[g];
                e[g] = j;
                if (l[g]) {
                    this[h[g].set](j)
                }
            }
            return this
        },
        getConfig: function(g) {
            var e = Ext.Class.configNameCache;
            return this[e[g].get]()
        },
        getInitialConfig: function(g) {
            var e = this.config;
            if (!g) {
                return e
            } else {
                return e[g]
            }
        },
        onConfigUpdate: function(m, o, p) {
            var q = this.self, l = q.$className, h, k, e, j, n, g;
            m = Ext.Array.from(m);
            p = p || this;
            for (h = 0,
            k = m.length; h < k; h++) {
                e = m[h];
                j = "update" + Ext.String.capitalize(e);
                n = this[j] || Ext.emptyFn;
                g = function() {
                    n.apply(this, arguments);
                    p[o].apply(p, arguments)
                }
                ;
                g.$name = j;
                g.$owner = q;
                g.displayName = l + "#" + j;
                this[j] = g
            }
        },
        destroy: function() {
            this.destroy = Ext.emptyFn
        }
    });
    b.prototype.callOverridden = b.prototype.callParent;
    Ext.Base = b
}
)(Ext.Function.flexSetter);
(function() {
    var c, b = Ext.Base, g = [], e, d;
    for (e in b) {
        if (b.hasOwnProperty(e)) {
            g.push(e)
        }
    }
    d = g.length;
    function a(i) {
        function h() {
            return this.constructor.apply(this, arguments) || null
        }
        if (i) {
            h.displayName = i
        }
        return h
    }
    Ext.Class = c = function(i, j, h) {
        if (typeof i != "function") {
            h = j;
            j = i;
            i = null
        }
        if (!j) {
            j = {}
        }
        i = c.create(i, j);
        c.process(i, j, h);
        return i
    }
    ;
    Ext.apply(c, {
        onBeforeCreated: function(i, j, h) {
            Ext.classSystemMonitor && Ext.classSystemMonitor(i, ">> Ext.Class#onBeforeCreated", arguments);
            i.addMembers(j);
            h.onCreated.call(i, i);
            Ext.classSystemMonitor && Ext.classSystemMonitor(i, "<< Ext.Class#onBeforeCreated", arguments)
        },
        create: function(h, l) {
            var j, k;
            if (!h) {
                h = a(l.$className)
            }
            for (k = 0; k < d; k++) {
                j = g[k];
                h[j] = b[j]
            }
            return h
        },
        process: function(h, p, l) {
            var k = p.preprocessors || c.defaultPreprocessors, t = this.preprocessors, w = {
                onBeforeCreated: this.onBeforeCreated
            }, v = [], x, o, n, u, m, s, q;
            delete p.preprocessors;
            for (n = 0,
            u = k.length; n < u; n++) {
                x = k[n];
                if (typeof x == "string") {
                    x = t[x];
                    o = x.properties;
                    if (o === true) {
                        v.push(x.fn)
                    } else {
                        if (o) {
                            for (m = 0,
                            s = o.length; m < s; m++) {
                                q = o[m];
                                if (p.hasOwnProperty(q)) {
                                    v.push(x.fn);
                                    break
                                }
                            }
                        }
                    }
                } else {
                    v.push(x)
                }
            }
            w.onCreated = l ? l : Ext.emptyFn;
            w.preprocessors = v;
            this.doProcess(h, p, w)
        },
        doProcess: function(i, m, h) {
            var l = this
              , n = h.preprocessors
              , j = n.shift()
              , k = l.doProcess;
            for (; j; j = n.shift()) {
                if (j.call(l, i, m, h, k) === false) {
                    return
                }
            }
            h.onBeforeCreated.apply(l, arguments)
        },
        preprocessors: {},
        registerPreprocessor: function(i, l, j, h, k) {
            if (!h) {
                h = "last"
            }
            if (!j) {
                j = [i]
            }
            this.preprocessors[i] = {
                name: i,
                properties: j || false,
                fn: l
            };
            this.setDefaultPreprocessorPosition(i, h, k);
            return this
        },
        getPreprocessor: function(h) {
            return this.preprocessors[h]
        },
        getPreprocessors: function() {
            return this.preprocessors
        },
        defaultPreprocessors: [],
        getDefaultPreprocessors: function() {
            return this.defaultPreprocessors
        },
        setDefaultPreprocessors: function(h) {
            this.defaultPreprocessors = Ext.Array.from(h);
            return this
        },
        setDefaultPreprocessorPosition: function(j, l, k) {
            var h = this.defaultPreprocessors, i;
            if (typeof l == "string") {
                if (l === "first") {
                    h.unshift(j);
                    return this
                } else {
                    if (l === "last") {
                        h.push(j);
                        return this
                    }
                }
                l = l === "after" ? 1 : -1
            }
            i = Ext.Array.indexOf(h, k);
            if (i !== -1) {
                Ext.Array.splice(h, Math.max(0, i + l), 0, j)
            }
            return this
        },
        configNameCache: {},
        getConfigNameMap: function(j) {
            var i = this.configNameCache, k = i[j], h;
            if (!k) {
                h = j.charAt(0).toUpperCase() + j.substr(1);
                k = i[j] = {
                    internal: j,
                    initialized: "_is" + h + "Initialized",
                    apply: "apply" + h,
                    update: "update" + h,
                    set: "set" + h,
                    get: "get" + h,
                    doSet: "doSet" + h,
                    changeEvent: j.toLowerCase() + "change"
                }
            }
            return k
        }
    });
    c.registerPreprocessor("extend", function(j, l, q) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(j, "Ext.Class#extendPreProcessor", arguments);
        var m = Ext.Base, n = m.prototype, o = l.extend, h, p, k;
        delete l.extend;
        if (o && o !== Object) {
            h = o
        } else {
            h = m
        }
        p = h.prototype;
        if (!h.$isClass) {
            for (k in n) {
                if (!p[k]) {
                    p[k] = n[k]
                }
            }
        }
        j.extend(h);
        j.triggerExtended.apply(j, arguments);
        if (l.onClassExtended) {
            j.onExtended(l.onClassExtended, j);
            delete l.onClassExtended
        }
    }, true);
    c.registerPreprocessor("statics", function(h, i) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(h, "Ext.Class#staticsPreprocessor", arguments);
        h.addStatics(i.statics);
        delete i.statics
    });
    c.registerPreprocessor("inheritableStatics", function(h, i) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(h, "Ext.Class#inheritableStaticsPreprocessor", arguments);
        h.addInheritableStatics(i.inheritableStatics);
        delete i.inheritableStatics
    });
    c.registerPreprocessor("config", function(h, k) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(h, "Ext.Class#configPreProcessor", arguments);
        var j = k.config
          , i = h.prototype;
        delete k.config;
        Ext.Object.each(j, function(n, x) {
            var v = c.getConfigNameMap(n), q = v.internal, l = v.initialized, w = v.apply, o = v.update, u = v.set, m = v.get, z = u in i || k.hasOwnProperty(u), p = w in i || k.hasOwnProperty(w), s = o in i || k.hasOwnProperty(o), y, t;
            if (x === null || !z && !p && !s) {
                i[q] = x;
                i[l] = true
            } else {
                i[l] = false
            }
            if (!z) {
                k[u] = function(C) {
                    var B = this[q]
                      , A = this[w]
                      , D = this[o];
                    if (!this[l]) {
                        this[l] = true
                    }
                    if (A) {
                        C = A.call(this, C, B)
                    }
                    if (typeof C != "undefined") {
                        this[q] = C;
                        if (D && C !== B) {
                            D.call(this, C, B)
                        }
                    }
                    return this
                }
            }
            if (!(m in i) || k.hasOwnProperty(m)) {
                t = k[m] || false;
                if (t) {
                    y = function() {
                        return t.apply(this, arguments)
                    }
                } else {
                    y = function() {
                        return this[q]
                    }
                }
                k[m] = function() {
                    var A;
                    if (!this[l]) {
                        this[l] = true;
                        this[u](this.config[n])
                    }
                    A = this[m];
                    if ("$previous"in A) {
                        A.$previous = y
                    } else {
                        this[m] = y
                    }
                    return y.apply(this, arguments)
                }
            }
        });
        h.addConfig(j, true)
    });
    c.registerPreprocessor("mixins", function(l, p, h) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(l, "Ext.Class#mixinsPreprocessor", arguments);
        var j = p.mixins, m, k, n, o;
        delete p.mixins;
        Ext.Function.interceptBefore(h, "onCreated", function() {
            Ext.classSystemMonitor && Ext.classSystemMonitor(l, "Ext.Class#mixinsPreprocessor#beforeCreated", arguments);
            if (j instanceof Array) {
                for (n = 0,
                o = j.length; n < o; n++) {
                    k = j[n];
                    m = k.prototype.mixinId || k.$className;
                    l.mixin(m, k)
                }
            } else {
                for (var i in j) {
                    if (j.hasOwnProperty(i)) {
                        l.mixin(i, j[i])
                    }
                }
            }
        })
    });
    Ext.extend = function(j, k, i) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(j, "Ext.Class#extend-backwards-compatible", arguments);
        if (arguments.length === 2 && Ext.isObject(k)) {
            i = k;
            k = j;
            j = null
        }
        var h;
        if (!k) {
            throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")
        }
        i.extend = k;
        i.preprocessors = ["extend", "statics", "inheritableStatics", "mixins", "config"];
        if (j) {
            h = new c(j,i);
            h.prototype.constructor = j
        } else {
            h = new c(i)
        }
        h.prototype.override = function(n) {
            for (var l in n) {
                if (n.hasOwnProperty(l)) {
                    this[l] = n[l]
                }
            }
        }
        ;
        return h
    }
}
)();
(function(c, e, h, d, g) {
    function a() {
        function i() {
            return this.constructor.apply(this, arguments) || null
        }
        return i
    }
    var b = Ext.ClassManager = {
        classes: {},
        existCache: {},
        namespaceRewrites: [{
            from: "Ext.",
            to: Ext
        }],
        maps: {
            alternateToName: {},
            aliasToName: {},
            nameToAliases: {},
            nameToAlternates: {}
        },
        enableNamespaceParseCache: true,
        namespaceParseCache: {},
        instantiators: [],
        isCreated: function(n) {
            var m = this.existCache, l, o, k, j, p;
            if (typeof n != "string" || n.length < 1) {
                throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty")
            }
            if (this.classes[n] || m[n]) {
                return true
            }
            j = g;
            p = this.parseNamespace(n);
            for (l = 0,
            o = p.length; l < o; l++) {
                k = p[l];
                if (typeof k != "string") {
                    j = k
                } else {
                    if (!j || !j[k]) {
                        return false
                    }
                    j = j[k]
                }
            }
            m[n] = true;
            this.triggerCreated(n);
            return true
        },
        createdListeners: [],
        nameCreatedListeners: {},
        triggerCreated: function(t) {
            var v = this.createdListeners, m = this.nameCreatedListeners, n = this.maps.nameToAlternates[t], u = [t], p, s, o, q, l, k;
            for (p = 0,
            s = v.length; p < s; p++) {
                l = v[p];
                l.fn.call(l.scope, t)
            }
            if (n) {
                u.push.apply(u, n)
            }
            for (p = 0,
            s = u.length; p < s; p++) {
                k = u[p];
                v = m[k];
                if (v) {
                    for (o = 0,
                    q = v.length; o < q; o++) {
                        l = v[o];
                        l.fn.call(l.scope, k)
                    }
                    delete m[k]
                }
            }
        },
        onCreated: function(m, l, k) {
            Ext.classSystemMonitor && Ext.classSystemMonitor(k, "Ext.ClassManager#onCreated", arguments);
            var j = this.createdListeners
              , i = this.nameCreatedListeners
              , n = {
                fn: m,
                scope: l
            };
            if (k) {
                if (this.isCreated(k)) {
                    m.call(l, k);
                    return
                }
                if (!i[k]) {
                    i[k] = []
                }
                i[k].push(n)
            } else {
                j.push(n)
            }
        },
        parseNamespace: function(l) {
            if (typeof l != "string") {
                throw new Error("[Ext.ClassManager] Invalid namespace, must be a string")
            }
            var j = this.namespaceParseCache, m, o, q, k, u, t, s, n, p;
            if (this.enableNamespaceParseCache) {
                if (j.hasOwnProperty(l)) {
                    return j[l]
                }
            }
            m = [];
            o = this.namespaceRewrites;
            q = g;
            k = l;
            for (n = 0,
            p = o.length; n < p; n++) {
                u = o[n];
                t = u.from;
                s = u.to;
                if (k === t || k.substring(0, t.length) === t) {
                    k = k.substring(t.length);
                    if (typeof s != "string") {
                        q = s
                    } else {
                        m = m.concat(s.split("."))
                    }
                    break
                }
            }
            m.push(q);
            m = m.concat(k.split("."));
            if (this.enableNamespaceParseCache) {
                j[l] = m
            }
            return m
        },
        setNamespace: function(m, p) {
            var k = g, q = this.parseNamespace(m), o = q.length - 1, j = q[o], n, l;
            for (n = 0; n < o; n++) {
                l = q[n];
                if (typeof l != "string") {
                    k = l
                } else {
                    if (!k[l]) {
                        k[l] = {}
                    }
                    k = k[l]
                }
            }
            k[j] = p;
            return k[j]
        },
        createNamespaces: function() {
            var k = g, p, m, n, l, o, q;
            for (n = 0,
            o = arguments.length; n < o; n++) {
                p = this.parseNamespace(arguments[n]);
                for (l = 0,
                q = p.length; l < q; l++) {
                    m = p[l];
                    if (typeof m != "string") {
                        k = m
                    } else {
                        if (!k[m]) {
                            k[m] = {}
                        }
                        k = k[m]
                    }
                }
            }
            return k
        },
        set: function(i, m) {
            var l = this, o = l.maps, n = o.nameToAlternates, k = l.getName(m), j;
            l.classes[i] = l.setNamespace(i, m);
            if (k && k !== i) {
                o.alternateToName[i] = k;
                j = n[k] || (n[k] = []);
                j.push(i)
            }
            return this
        },
        get: function(l) {
            var n = this.classes, j, p, k, m, o;
            if (n[l]) {
                return n[l]
            }
            j = g;
            p = this.parseNamespace(l);
            for (m = 0,
            o = p.length; m < o; m++) {
                k = p[m];
                if (typeof k != "string") {
                    j = k
                } else {
                    if (!j || !j[k]) {
                        return null
                    }
                    j = j[k]
                }
            }
            return j
        },
        setAlias: function(i, j) {
            var l = this.maps.aliasToName, m = this.maps.nameToAliases, k;
            if (typeof i == "string") {
                k = i
            } else {
                k = this.getName(i)
            }
            if (j && l[j] !== k) {
                if (l[j] && Ext.isDefined(g.console)) {
                    g.console.log("[Ext.ClassManager] Overriding existing alias: '" + j + "' of: '" + l[j] + "' with: '" + k + "'. Be sure it's intentional.")
                }
                l[j] = k
            }
            if (!m[k]) {
                m[k] = []
            }
            if (j) {
                Ext.Array.include(m[k], j)
            }
            return this
        },
        addNameAliasMappings: function(j) {
            var o = this.maps.aliasToName, p = this.maps.nameToAliases, m, n, l, k;
            for (m in j) {
                n = p[m] || (p[m] = []);
                for (k = 0; k < j[m].length; k++) {
                    l = j[m][k];
                    if (!o[l]) {
                        o[l] = m;
                        n.push(l)
                    }
                }
            }
            return this
        },
        addNameAlternateMappings: function(m) {
            var j = this.maps.alternateToName, p = this.maps.nameToAlternates, l, n, o, k;
            for (l in m) {
                n = p[l] || (p[l] = []);
                for (k = 0; k < m[l].length; k++) {
                    o = m[l];
                    if (!j[o]) {
                        j[o] = l;
                        n.push(o)
                    }
                }
            }
            return this
        },
        getByAlias: function(i) {
            return this.get(this.getNameByAlias(i))
        },
        getNameByAlias: function(i) {
            return this.maps.aliasToName[i] || ""
        },
        getNameByAlternate: function(i) {
            return this.maps.alternateToName[i] || ""
        },
        getAliasesByName: function(i) {
            return this.maps.nameToAliases[i] || []
        },
        getName: function(i) {
            return i && i.$className || ""
        },
        getClass: function(i) {
            return i && i.self || null
        },
        create: function(j, l, i) {
            if (j != null && typeof j != "string") {
                throw new Error("[Ext.define] Invalid class name '" + j + "' specified, must be a non-empty string")
            }
            var k = a();
            if (typeof l == "function") {
                l = l(k)
            }
            if (j) {
                k.displayName = j
            }
            l.$className = j;
            return new c(k,l,function() {
                var m = l.postprocessors || b.defaultPostprocessors, u = b.postprocessors, v = [], t, o, s, n, q, p, w;
                delete l.postprocessors;
                for (o = 0,
                s = m.length; o < s; o++) {
                    t = m[o];
                    if (typeof t == "string") {
                        t = u[t];
                        p = t.properties;
                        if (p === true) {
                            v.push(t.fn)
                        } else {
                            if (p) {
                                for (n = 0,
                                q = p.length; n < q; n++) {
                                    w = p[n];
                                    if (l.hasOwnProperty(w)) {
                                        v.push(t.fn);
                                        break
                                    }
                                }
                            }
                        }
                    } else {
                        v.push(t)
                    }
                }
                l.postprocessors = v;
                l.createdFn = i;
                b.processCreate(j, this, l)
            }
            )
        },
        processCreate: function(l, j, n) {
            var m = this
              , i = n.postprocessors.shift()
              , k = n.createdFn;
            if (!i) {
                Ext.classSystemMonitor && Ext.classSystemMonitor(l, "Ext.ClassManager#classCreated", arguments);
                if (l) {
                    m.set(l, j)
                }
                if (k) {
                    k.call(j, j)
                }
                if (l) {
                    m.triggerCreated(l)
                }
                return
            }
            if (i.call(m, l, j, n, m.processCreate) !== false) {
                m.processCreate(l, j, n)
            }
        },
        createOverride: function(l, p, j) {
            var o = this
              , n = p.override
              , k = p.requires
              , i = p.uses
              , m = function() {
                var q, s;
                if (k) {
                    s = k;
                    k = null;
                    Ext.Loader.require(s, m)
                } else {
                    q = o.get(n);
                    delete p.override;
                    delete p.requires;
                    delete p.uses;
                    Ext.override(q, p);
                    o.triggerCreated(l);
                    if (i) {
                        Ext.Loader.addUsedClasses(i)
                    }
                    if (j) {
                        j.call(q)
                    }
                }
            };
            o.existCache[l] = true;
            o.onCreated(m, o, n);
            return o
        },
        instantiateByAlias: function() {
            var j = arguments[0]
              , i = h.call(arguments)
              , k = this.getNameByAlias(j);
            if (!k) {
                k = this.maps.aliasToName[j];
                if (!k) {
                    throw new Error("[Ext.createByAlias] Cannot create an instance of unrecognized alias: " + j)
                }
                if (g.console) {
                    g.console.warn("[Ext.Loader] Synchronously loading '" + k + "'; consider adding Ext.require('" + j + "') above Ext.onReady")
                }
                Ext.syncRequire(k)
            }
            i[0] = k;
            return this.instantiate.apply(this, i)
        },
        instantiate: function() {
            var k = arguments[0], m = typeof k, j = h.call(arguments, 1), l = k, n, i;
            if (m != "function") {
                if (m != "string" && j.length === 0) {
                    j = [k];
                    k = k.xclass
                }
                if (typeof k != "string" || k.length < 1) {
                    throw new Error("[Ext.create] Invalid class name or alias '" + k + "' specified, must be a non-empty string")
                }
                i = this.get(k)
            } else {
                i = k
            }
            if (!i) {
                n = this.getNameByAlias(k);
                if (n) {
                    k = n;
                    i = this.get(k)
                }
            }
            if (!i) {
                n = this.getNameByAlternate(k);
                if (n) {
                    k = n;
                    i = this.get(k)
                }
            }
            if (!i) {
                if (g.console) {
                    g.console.warn("[Ext.Loader] Synchronously loading '" + k + "'; consider adding Ext.require('" + (n ? l : k) + "') above Ext.onReady")
                }
                Ext.syncRequire(k);
                i = this.get(k)
            }
            if (!i) {
                throw new Error("[Ext.create] Cannot create an instance of unrecognized class name / alias: " + l)
            }
            if (typeof i != "function") {
                throw new Error("[Ext.create] '" + k + "' is a singleton and cannot be instantiated")
            }
            return this.getInstantiator(j.length)(i, j)
        },
        dynInstantiate: function(j, i) {
            i = d(i, true);
            i.unshift(j);
            return this.instantiate.apply(this, i)
        },
        getInstantiator: function(m) {
            var l = this.instantiators, n, k, j;
            n = l[m];
            if (!n) {
                k = m;
                j = [];
                for (k = 0; k < m; k++) {
                    j.push("a[" + k + "]")
                }
                n = l[m] = new Function("c","a","return new c(" + j.join(",") + ")");
                n.displayName = "Ext.ClassManager.instantiate" + m
            }
            return n
        },
        postprocessors: {},
        defaultPostprocessors: [],
        registerPostprocessor: function(j, m, k, i, l) {
            if (!i) {
                i = "last"
            }
            if (!k) {
                k = [j]
            }
            this.postprocessors[j] = {
                name: j,
                properties: k || false,
                fn: m
            };
            this.setDefaultPostprocessorPosition(j, i, l);
            return this
        },
        setDefaultPostprocessors: function(i) {
            this.defaultPostprocessors = d(i);
            return this
        },
        setDefaultPostprocessorPosition: function(j, m, l) {
            var k = this.defaultPostprocessors, i;
            if (typeof m == "string") {
                if (m === "first") {
                    k.unshift(j);
                    return this
                } else {
                    if (m === "last") {
                        k.push(j);
                        return this
                    }
                }
                m = m === "after" ? 1 : -1
            }
            i = Ext.Array.indexOf(k, l);
            if (i !== -1) {
                Ext.Array.splice(k, Math.max(0, i + m), 0, j)
            }
            return this
        },
        getNamesByExpression: function(q) {
            var o = this.maps.nameToAliases, s = [], j, n, l, k, t, m, p;
            if (typeof q != "string" || q.length < 1) {
                throw new Error("[Ext.ClassManager.getNamesByExpression] Expression " + q + " is invalid, must be a non-empty string")
            }
            if (q.indexOf("*") !== -1) {
                q = q.replace(/\*/g, "(.*?)");
                t = new RegExp("^" + q + "$");
                for (j in o) {
                    if (o.hasOwnProperty(j)) {
                        l = o[j];
                        if (j.search(t) !== -1) {
                            s.push(j)
                        } else {
                            for (m = 0,
                            p = l.length; m < p; m++) {
                                n = l[m];
                                if (n.search(t) !== -1) {
                                    s.push(j);
                                    break
                                }
                            }
                        }
                    }
                }
            } else {
                k = this.getNameByAlias(q);
                if (k) {
                    s.push(k)
                } else {
                    k = this.getNameByAlternate(q);
                    if (k) {
                        s.push(k)
                    } else {
                        s.push(q)
                    }
                }
            }
            return s
        }
    };
    b.registerPostprocessor("alias", function(l, k, o) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(l, "Ext.ClassManager#aliasPostProcessor", arguments);
        var j = o.alias, m, n;
        for (m = 0,
        n = j.length; m < n; m++) {
            e = j[m];
            this.setAlias(k, e)
        }
    }, ["xtype", "alias"]);
    b.registerPostprocessor("singleton", function(j, i, l, k) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(j, "Ext.ClassManager#singletonPostProcessor", arguments);
        if (l.singleton) {
            k.call(this, j, new i(), l)
        } else {
            return true
        }
        return false
    });
    b.registerPostprocessor("alternateClassName", function(k, j, o) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(k, "Ext.ClassManager#alternateClassNamePostprocessor", arguments);
        var m = o.alternateClassName, l, n, p;
        if (!(m instanceof Array)) {
            m = [m]
        }
        for (l = 0,
        n = m.length; l < n; l++) {
            p = m[l];
            if (typeof p != "string") {
                throw new Error("[Ext.define] Invalid alternate of: '" + p + "' for class: '" + k + "'; must be a valid string")
            }
            this.set(p, j)
        }
    });
    Ext.apply(Ext, {
        create: e(b, "instantiate"),
        widget: function(k, j) {
            var o = k, l, m, i, n;
            if (typeof o != "string") {
                j = k;
                o = j.xtype
            } else {
                j = j || {}
            }
            if (j.isComponent) {
                return j
            }
            l = "widget." + o;
            m = b.getNameByAlias(l);
            if (!m) {
                n = true
            }
            i = b.get(m);
            if (n || !i) {
                return b.instantiateByAlias(l, j)
            }
            return new i(j)
        },
        createByAlias: e(b, "instantiateByAlias"),
        define: function(j, k, i) {
            Ext.classSystemMonitor && Ext.classSystemMonitor(j, "ClassManager#define", arguments);
            if (k.override) {
                return b.createOverride.apply(b, arguments)
            }
            return b.create.apply(b, arguments)
        },
        undefine: function(q) {
            Ext.classSystemMonitor && Ext.classSystemMonitor(q, "Ext.ClassManager#undefine", arguments);
            var l = b.classes, t = b.maps, u = t.aliasToName, v = t.nameToAliases, x = t.alternateToName, o = t.nameToAlternates, j = v[q], s = o[q], m, w, k, n;
            delete b.namespaceParseCache[q];
            delete v[q];
            delete o[q];
            delete l[q];
            if (j) {
                for (n = j.length; n--; ) {
                    delete u[j[n]]
                }
            }
            if (s) {
                for (n = s.length; n--; ) {
                    delete x[s[n]]
                }
            }
            m = b.parseNamespace(q);
            w = m.length - 1;
            k = m[0];
            for (n = 1; n < w; n++) {
                k = k[m[n]];
                if (!k) {
                    return
                }
            }
            try {
                delete k[m[w]]
            } catch (p) {
                k[m[w]] = undefined
            }
        },
        getClassName: e(b, "getName"),
        getDisplayName: function(i) {
            if (i) {
                if (i.displayName) {
                    return i.displayName
                }
                if (i.$name && i.$class) {
                    return Ext.getClassName(i.$class) + "#" + i.$name
                }
                if (i.$className) {
                    return i.$className
                }
            }
            return "Anonymous"
        },
        getClass: e(b, "getClass"),
        namespace: e(b, "createNamespaces")
    });
    Ext.createWidget = Ext.widget;
    Ext.ns = Ext.namespace;
    c.registerPreprocessor("className", function(i, j) {
        if (j.$className) {
            i.$className = j.$className;
            i.displayName = i.$className
        }
        Ext.classSystemMonitor && Ext.classSystemMonitor(i, "Ext.ClassManager#classNamePreprocessor", arguments)
    }, true, "first");
    c.registerPreprocessor("alias", function(v, o) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(v, "Ext.ClassManager#aliasPreprocessor", arguments);
        var t = v.prototype, l = d(o.xtype), j = d(o.alias), w = "widget.", u = w.length, p = Array.prototype.slice.call(t.xtypesChain || []), m = Ext.merge({}, t.xtypesMap || {}), n, s, q, k;
        for (n = 0,
        s = j.length; n < s; n++) {
            q = j[n];
            if (typeof q != "string" || q.length < 1) {
                throw new Error("[Ext.define] Invalid alias of: '" + q + "' for class: '" + name + "'; must be a valid string")
            }
            if (q.substring(0, u) === w) {
                k = q.substring(u);
                Ext.Array.include(l, k)
            }
        }
        v.xtype = o.xtype = l[0];
        o.xtypes = l;
        for (n = 0,
        s = l.length; n < s; n++) {
            k = l[n];
            if (!m[k]) {
                m[k] = true;
                p.push(k)
            }
        }
        o.xtypesChain = p;
        o.xtypesMap = m;
        Ext.Function.interceptAfter(o, "onClassCreated", function() {
            Ext.classSystemMonitor && Ext.classSystemMonitor(v, "Ext.ClassManager#aliasPreprocessor#afterClassCreated", arguments);
            var i = t.mixins, y, x;
            for (y in i) {
                if (i.hasOwnProperty(y)) {
                    x = i[y];
                    l = x.xtypes;
                    if (l) {
                        for (n = 0,
                        s = l.length; n < s; n++) {
                            k = l[n];
                            if (!m[k]) {
                                m[k] = true;
                                p.push(k)
                            }
                        }
                    }
                }
            }
        });
        for (n = 0,
        s = l.length; n < s; n++) {
            k = l[n];
            if (typeof k != "string" || k.length < 1) {
                throw new Error("[Ext.define] Invalid xtype of: '" + k + "' for class: '" + name + "'; must be a valid non-empty string")
            }
            Ext.Array.include(j, w + k)
        }
        o.alias = j
    }, ["xtype", "alias"])
}
)(Ext.Class, Ext.Function.alias, Array.prototype.slice, Ext.Array.from, Ext.global);
if (Ext._alternatesMetadata) {
    Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata);
    Ext._alternatesMetadata = null
}
if (Ext._aliasMetadata) {
    Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata);
    Ext._aliasMetadata = null
}
Ext.Loader = new function() {
    var l = this
      , b = Ext.ClassManager
      , y = Ext.Class
      , e = Ext.Function.flexSetter
      , q = Ext.Function.alias
      , a = Ext.Function.pass
      , d = Ext.Function.defer
      , h = Ext.Array.erase
      , j = typeof window == "undefined"
      , s = j && typeof require == "function"
      , n = j && typeof system != "undefined" && system.program.search(/jsdb/) !== -1
      , v = typeof phantom != "undefined" && phantom.fs
      , p = ["extend", "mixins", "requires"]
      , A = {}
      , o = []
      , c = /\/\.\//g
      , g = /\./g
      , k = 0;
    Ext.apply(l, {
        isInHistory: A,
        history: o,
        config: {
            enabled: false,
            scriptChainDelay: false,
            disableCaching: true,
            disableCachingParam: "_dc",
            garbageCollect: false,
            paths: {
                Ext: "."
            },
            preserveScripts: true,
            scriptCharset: undefined
        },
        setConfig: function(D, E) {
            if (Ext.isObject(D) && arguments.length === 1) {
                Ext.merge(l.config, D);
                if ("paths"in D) {
                    Ext.app.collectNamespaces(D.paths)
                }
            } else {
                l.config[D] = Ext.isObject(E) ? Ext.merge(l.config[D], E) : E;
                if (D === "paths") {
                    Ext.app.collectNamespaces(E)
                }
            }
            return l
        },
        getConfig: function(D) {
            if (D) {
                return l.config[D]
            }
            return l.config
        },
        setPath: e(function(D, E) {
            l.config.paths[D] = E;
            Ext.app.namespaces[D] = true;
            k++;
            return l
        }),
        addClassPathMappings: function(E) {
            var D;
            if (k == 0) {
                l.config.paths = E
            } else {
                for (D in E) {
                    l.config.paths[D] = E[D]
                }
            }
            k++;
            return l
        },
        getPath: function(D) {
            var F = ""
              , G = l.config.paths
              , E = l.getPrefix(D);
            if (E.length > 0) {
                if (E === D) {
                    return G[E]
                }
                F = G[E];
                D = D.substring(E.length + 1)
            }
            if (F.length > 0) {
                F += "/"
            }
            return F.replace(c, "/") + D.replace(g, "/") + ".js"
        },
        getPrefix: function(E) {
            var G = l.config.paths, F, D = "";
            if (G.hasOwnProperty(E)) {
                return E
            }
            for (F in G) {
                if (G.hasOwnProperty(F) && F + "." === E.substring(0, F.length + 1)) {
                    if (F.length > D.length) {
                        D = F
                    }
                }
            }
            return D
        },
        isAClassNameWithAKnownPrefix: function(D) {
            var E = l.getPrefix(D);
            return E !== "" && E !== D
        },
        require: function(F, E, D, G) {
            if (E) {
                E.call(D)
            }
        },
        syncRequire: function() {},
        exclude: function(D) {
            return {
                require: function(G, F, E) {
                    return l.require(G, F, E, D)
                },
                syncRequire: function(G, F, E) {
                    return l.syncRequire(G, F, E, D)
                }
            }
        },
        onReady: function(G, F, H, D) {
            var E;
            if (H !== false && Ext.onDocumentReady) {
                E = G;
                G = function() {
                    Ext.onDocumentReady(E, F, D)
                }
            }
            G.call(F)
        }
    });
    var u = []
      , w = {}
      , z = {}
      , x = {}
      , t = {}
      , B = []
      , C = []
      , i = {}
      , m = function(D, E) {
        return E.priority - D.priority
    };
    Ext.apply(l, {
        documentHead: typeof document != "undefined" && (document.head || document.getElementsByTagName("head")[0]),
        isLoading: false,
        queue: u,
        isClassFileLoaded: w,
        isFileLoaded: z,
        readyListeners: B,
        optionalRequires: C,
        requiresMap: i,
        numPendingFiles: 0,
        numLoadedFiles: 0,
        hasFileLoadError: false,
        classNameToFilePathMap: x,
        scriptsLoading: 0,
        syncModeEnabled: false,
        scriptElements: t,
        refreshQueue: function() {
            var H = u.length, E, G, D, F;
            if (!H && !l.scriptsLoading) {
                return l.triggerReady()
            }
            for (E = 0; E < H; E++) {
                G = u[E];
                if (G) {
                    F = G.requires;
                    if (F.length > l.numLoadedFiles) {
                        continue
                    }
                    for (D = 0; D < F.length; ) {
                        if (b.isCreated(F[D])) {
                            h(F, D, 1)
                        } else {
                            D++
                        }
                    }
                    if (G.requires.length === 0) {
                        h(u, E, 1);
                        G.callback.call(G.scope);
                        l.refreshQueue();
                        break
                    }
                }
            }
            return l
        },
        injectScriptElement: function(D, K, H, M, F) {
            var L = document.createElement("script")
              , I = false
              , E = l.config
              , J = function() {
                if (!I) {
                    I = true;
                    L.onload = L.onreadystatechange = L.onerror = null;
                    if (typeof E.scriptChainDelay == "number") {
                        d(K, E.scriptChainDelay, M)
                    } else {
                        K.call(M)
                    }
                    l.cleanupScriptElement(L, E.preserveScripts === false, E.garbageCollect)
                }
            }
              , G = function(N) {
                d(H, 1, M);
                l.cleanupScriptElement(L, E.preserveScripts === false, E.garbageCollect)
            };
            L.type = "text/javascript";
            L.onerror = G;
            F = F || E.scriptCharset;
            if (F) {
                L.charset = F
            }
            if ("addEventListener"in L) {
                L.onload = J
            } else {
                if ("readyState"in L) {
                    L.onreadystatechange = function() {
                        if (this.readyState == "loaded" || this.readyState == "complete") {
                            J()
                        }
                    }
                } else {
                    L.onload = J
                }
            }
            L.src = D;
            (l.documentHead || document.getElementsByTagName("head")[0]).appendChild(L);
            return L
        },
        removeScriptElement: function(D) {
            if (t[D]) {
                l.cleanupScriptElement(t[D], true, !!l.getConfig("garbageCollect"));
                delete t[D]
            }
            return l
        },
        cleanupScriptElement: function(F, E, G) {
            var H;
            F.onload = F.onreadystatechange = F.onerror = null;
            if (E) {
                Ext.removeNode(F);
                if (G) {
                    for (H in F) {
                        try {
                            if (H != "src") {
                                F[H] = null
                            }
                            delete F[H]
                        } catch (D) {}
                    }
                }
            }
            return l
        },
        loadScript: function(M) {
            var G = l.getConfig(), F = typeof M == "string", E = F ? M : M.url, I = !F && M.onError, J = !F && M.onLoad, L = !F && M.scope, K = function() {
                l.numPendingFiles--;
                l.scriptsLoading--;
                if (I) {
                    I.call(L, "Failed loading '" + E + "', please verify that the file exists")
                }
                if (l.numPendingFiles + l.scriptsLoading === 0) {
                    l.refreshQueue()
                }
            }, H = function() {
                l.numPendingFiles--;
                l.scriptsLoading--;
                if (J) {
                    J.call(L)
                }
                if (l.numPendingFiles + l.scriptsLoading === 0) {
                    l.refreshQueue()
                }
            }, D;
            l.isLoading = true;
            l.numPendingFiles++;
            l.scriptsLoading++;
            D = G.disableCaching ? E + "?" + G.disableCachingParam + "=" + Ext.Date.now() : E;
            t[E] = l.injectScriptElement(D, H, K)
        },
        loadScriptFile: function(E, L, J, O, D) {
            if (z[E]) {
                return l
            }
            var G = l.getConfig(), P = E + (G.disableCaching ? "?" + G.disableCachingParam + "=" + Ext.Date.now() : ""), F = false, N, H, M, I = "";
            O = O || l;
            l.isLoading = true;
            if (!D) {
                M = function() {
                    J.call(O, "Failed loading '" + E + "', please verify that the file exists", D)
                }
                ;
                t[E] = l.injectScriptElement(P, L, M, O)
            } else {
                if (typeof XMLHttpRequest != "undefined") {
                    N = new XMLHttpRequest()
                } else {
                    N = new ActiveXObject("Microsoft.XMLHTTP")
                }
                try {
                    N.open("GET", P, false);
                    N.send(null)
                } catch (K) {
                    F = true
                }
                H = N.status === 1223 ? 204 : N.status === 0 && ((self.location || {}).protocol == "file:" || (self.location || {}).protocol == "ionp:") ? 200 : N.status;
                F = F || H === 0;
                if (F && !v) {
                    J.call(l, "Failed loading synchronously via XHR: '" + E + "'; It's likely that the file is either being loaded from a different domain or from the local file system whereby cross origin requests are not allowed due to security reasons. Use asynchronous loading with Ext.require instead.", D)
                } else {
                    if (H >= 200 && H < 300 || H === 304 || v) {
                        if (!Ext.isIE) {
                            I = "\n//@ sourceURL=" + E
                        }
                        Ext.globalEval(N.responseText + I);
                        L.call(O)
                    } else {
                        J.call(l, "Failed loading synchronously via XHR: '" + E + "'; please verify that the file exists. XHR status code: " + H, D)
                    }
                }
                N = null
            }
        },
        syncRequire: function() {
            var D = l.syncModeEnabled;
            if (!D) {
                l.syncModeEnabled = true
            }
            l.require.apply(l, arguments);
            if (!D) {
                l.syncModeEnabled = false
            }
            l.refreshQueue()
        },
        require: function(V, M, G, I) {
            var O = {}, F = {}, L = [], X = [], U = [], E = [], K, W, Q, P, D, J, T, S, R, N, H;
            if (I) {
                I = typeof I === "string" ? [I] : I;
                for (S = 0,
                N = I.length; S < N; S++) {
                    D = I[S];
                    if (typeof D == "string" && D.length > 0) {
                        L = b.getNamesByExpression(D);
                        for (R = 0,
                        H = L.length; R < H; R++) {
                            O[L[R]] = true
                        }
                    }
                }
            }
            V = typeof V === "string" ? [V] : V ? V : [];
            if (M) {
                if (M.length > 0) {
                    K = function() {
                        var Z = [], Y, aa;
                        for (Y = 0,
                        aa = E.length; Y < aa; Y++) {
                            Z.push(b.get(E[Y]))
                        }
                        return M.apply(this, Z)
                    }
                } else {
                    K = M
                }
            } else {
                K = Ext.emptyFn
            }
            G = G || Ext.global;
            for (S = 0,
            N = V.length; S < N; S++) {
                P = V[S];
                if (typeof P == "string" && P.length > 0) {
                    X = b.getNamesByExpression(P);
                    H = X.length;
                    for (R = 0; R < H; R++) {
                        T = X[R];
                        if (O[T] !== true) {
                            E.push(T);
                            if (!b.isCreated(T) && !F[T]) {
                                F[T] = true;
                                U.push(T)
                            }
                        }
                    }
                }
            }
            if (U.length > 0) {
                if (!l.config.enabled) {
                    throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class" + (U.length > 1 ? "es" : "") + ": " + U.join(", "))
                }
            } else {
                K.call(G);
                return l
            }
            W = l.syncModeEnabled;
            if (!W) {
                u.push({
                    requires: U.slice(),
                    callback: K,
                    scope: G
                })
            }
            N = U.length;
            for (S = 0; S < N; S++) {
                J = U[S];
                Q = l.getPath(J);
                if (W && w.hasOwnProperty(J)) {
                    if (!w[J]) {
                        l.numPendingFiles--;
                        l.removeScriptElement(Q);
                        delete w[J]
                    }
                }
                if (!w.hasOwnProperty(J)) {
                    w[J] = false;
                    x[J] = Q;
                    l.numPendingFiles++;
                    l.loadScriptFile(Q, a(l.onFileLoaded, [J, Q], l), a(l.onFileLoadError, [J, Q], l), l, W)
                }
            }
            if (W) {
                K.call(G);
                if (N === 1) {
                    return b.get(J)
                }
            }
            return l
        },
        onFileLoaded: function(K, E) {
            var H = w[K];
            l.numLoadedFiles++;
            w[K] = true;
            z[E] = true;
            if (!H) {
                l.numPendingFiles--
            }
            if (l.numPendingFiles === 0) {
                l.refreshQueue()
            }
            if (!l.syncModeEnabled && l.numPendingFiles === 0 && l.isLoading && !l.hasFileLoadError) {
                var M = [], D = [], L, G, J, F, I;
                for (G = 0,
                J = u.length; G < J; G++) {
                    L = u[G].requires;
                    for (F = 0,
                    I = L.length; F < I; F++) {
                        if (w[L[F]]) {
                            M.push(L[F])
                        }
                    }
                }
                if (M.length < 1) {
                    return
                }
                M = Ext.Array.filter(Ext.Array.unique(M), function(N) {
                    return !i.hasOwnProperty(N)
                }, l);
                if (M.length < 1) {
                    return
                }
                for (G = 0,
                J = M.length; G < J; G++) {
                    D.push(x[M[G]])
                }
                throw new Error("The following classes are not declared even if their files have been loaded: '" + M.join("', '") + "'. Please check the source code of their corresponding files for possible typos: '" + D.join("', '"))
            }
        },
        onFileLoadError: function(F, E, D, G) {
            l.numPendingFiles--;
            l.hasFileLoadError = true;
            throw new Error("[Ext.Loader] " + D)
        },
        addUsedClasses: function(F) {
            var D, E, G;
            if (F) {
                F = typeof F == "string" ? [F] : F;
                for (E = 0,
                G = F.length; E < G; E++) {
                    D = F[E];
                    if (typeof D == "string" && !Ext.Array.contains(C, D)) {
                        C.push(D)
                    }
                }
            }
            return l
        },
        triggerReady: function() {
            var D, E = C;
            if (l.isLoading) {
                l.isLoading = false;
                if (E.length !== 0) {
                    E = E.slice();
                    C.length = 0;
                    l.require(E, l.triggerReady, l);
                    return l
                }
            }
            Ext.Array.sort(B, m);
            while (B.length && !l.isLoading) {
                D = B.shift();
                D.fn.call(D.scope)
            }
            return l
        },
        onReady: function(G, F, H, D) {
            var E;
            if (H !== false && Ext.onDocumentReady) {
                E = G;
                G = function() {
                    Ext.onDocumentReady(E, F, D)
                }
            }
            if (!l.isLoading) {
                G.call(F)
            } else {
                B.push({
                    fn: G,
                    scope: F,
                    priority: D && D.priority || 0
                })
            }
        },
        historyPush: function(D) {
            if (D && w.hasOwnProperty(D) && !A[D]) {
                A[D] = true;
                o.push(D)
            }
            return l
        }
    });
    Ext.disableCacheBuster = function(E, F) {
        var D = new Date();
        D.setTime(D.getTime() + (E ? 10 * 365 : -1) * 24 * 60 * 60 * 1000);
        D = D.toGMTString();
        document.cookie = "ext-cache=1; expires=" + D + "; path=" + (F || "/")
    }
    ;
    if (j) {
        if (s) {
            Ext.apply(l, {
                syncModeEnabled: true,
                setPath: e(function(D, E) {
                    E = require("fs").realpathSync(E);
                    l.config.paths[D] = E;
                    return l
                }),
                loadScriptFile: function(E, G, H, F, D) {
                    require(E);
                    G.call(F)
                }
            })
        } else {
            if (n) {
                Ext.apply(l, {
                    syncModeEnabled: true,
                    loadScriptFile: function(E, G, H, F, D) {
                        load(E);
                        G.call(F)
                    }
                })
            }
        }
    }
    Ext.require = q(l, "require");
    Ext.syncRequire = q(l, "syncRequire");
    Ext.exclude = q(l, "exclude");
    Ext.onReady = function(F, E, D) {
        l.onReady(F, E, true, D)
    }
    ;
    y.registerPreprocessor("loader", function(D, V, E, S) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(D, "Ext.Loader#loaderPreprocessor", arguments);
        var U = this, M = [], O, G = b.getName(D), R, Q, K, H, P, N, T, F, L;
        for (R = 0,
        K = p.length; R < K; R++) {
            N = p[R];
            if (V.hasOwnProperty(N)) {
                T = V[N];
                if (typeof T == "string") {
                    M.push(T)
                } else {
                    if (T instanceof Array) {
                        for (Q = 0,
                        H = T.length; Q < H; Q++) {
                            P = T[Q];
                            if (typeof P == "string") {
                                M.push(P)
                            }
                        }
                    } else {
                        if (typeof T != "function") {
                            for (Q in T) {
                                if (T.hasOwnProperty(Q)) {
                                    P = T[Q];
                                    if (typeof P == "string") {
                                        M.push(P)
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        if (M.length === 0) {
            return
        }
        var J = [], I;
        if (G) {
            i[G] = M;
            F = l.requiredByMap || (l.requiredByMap = {});
            for (R = 0,
            K = M.length; R < K; R++) {
                O = M[R];
                (F[O] || (F[O] = [])).push(G)
            }
            I = function(W) {
                J.push(W);
                if (i[W]) {
                    if (Ext.Array.contains(i[W], G)) {
                        throw new Error("Deadlock detected while loading dependencies! '" + G + "' and '" + J[1] + "' mutually require each other. Path: " + J.join(" -> ") + " -> " + J[0])
                    }
                    for (R = 0,
                    K = i[W].length; R < K; R++) {
                        I(i[W][R])
                    }
                }
            }
            ;
            I(G)
        }
        l.require(M, function() {
            for (R = 0,
            K = p.length; R < K; R++) {
                N = p[R];
                if (V.hasOwnProperty(N)) {
                    T = V[N];
                    if (typeof T == "string") {
                        V[N] = b.get(T)
                    } else {
                        if (T instanceof Array) {
                            for (Q = 0,
                            H = T.length; Q < H; Q++) {
                                P = T[Q];
                                if (typeof P == "string") {
                                    V[N][Q] = b.get(P)
                                }
                            }
                        } else {
                            if (typeof T != "function") {
                                for (var W in T) {
                                    if (T.hasOwnProperty(W)) {
                                        P = T[W];
                                        if (typeof P == "string") {
                                            V[N][W] = b.get(P)
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            S.call(U, D, V, E)
        });
        return false
    }, true, "after", "className");
    b.registerPostprocessor("uses", function(F, E, G) {
        Ext.classSystemMonitor && Ext.classSystemMonitor(E, "Ext.Loader#usesPostprocessor", arguments);
        var D = G.uses;
        if (D) {
            l.addUsedClasses(D)
        }
    });
    b.onCreated(l.historyPush)
}
();
if (Ext._classPathMetadata) {
    Ext.Loader.addClassPathMappings(Ext._classPathMetadata);
    Ext._classPathMetadata = null
}
(function() {
    var a = document.getElementsByTagName("script")
      , b = a[a.length - 1]
      , d = b.src
      , c = d.substring(0, d.lastIndexOf("/") + 1)
      , e = Ext.Loader;
    if (d.indexOf("/platform/core/src/class/") != -1) {
        c = c + "../../../../extjs/"
    } else {
        if (d.indexOf("/core/src/class/") != -1) {
            c = c + "../../../"
        }
    }
    e.setConfig({
        enabled: true,
        disableCaching: true,
        paths: {
            Ext: c + "src"
        }
    })
}
)();
Ext._endTime = new Date().getTime();
if (Ext._beforereadyhandler) {
    Ext._beforereadyhandler()
}
Ext.Error = Ext.extend(Error, {
    statics: {
        ignore: false,
        raise: function(a) {
            a = a || {};
            if (Ext.isString(a)) {
                a = {
                    msg: a
                }
            }
            var c = this.raise.caller, b;
            if (c) {
                if (c.$name) {
                    a.sourceMethod = c.$name
                }
                if (c.$owner) {
                    a.sourceClass = c.$owner.$className
                }
            }
            if (Ext.Error.handle(a) !== true) {
                b = Ext.Error.prototype.toString.call(a);
                Ext.log({
                    msg: b,
                    level: "error",
                    dump: a,
                    stack: true
                });
                throw new Ext.Error(a)
            }
        },
        handle: function() {
            return Ext.Error.ignore
        }
    },
    name: "Ext.Error",
    constructor: function(a) {
        if (Ext.isString(a)) {
            a = {
                msg: a
            }
        }
        var b = this;
        Ext.apply(b, a);
        b.message = b.message || b.msg
    },
    toString: function() {
        var c = this
          , b = c.sourceClass ? c.sourceClass : ""
          , a = c.sourceMethod ? "." + c.sourceMethod + "(): " : ""
          , d = c.msg || "(No description provided)";
        return b + a + d
    }
});
Ext.deprecated = function(b) {
    if (!b) {
        b = ""
    }
    function a() {
        Ext.Error.raise('The method "' + a.$owner.$className + "." + a.$name + '" has been removed. ' + b)
    }
    return a;
    return Ext.emptyFn
}
;
(function() {
    var g, e = 0, b = Ext.global, d;
    if (typeof window === "undefined") {
        return
    }
    function a() {
        var j = Ext.log.counters
          , i = Ext.supports
          , h = i && i.WindowOnError;
        if (j && j.error + j.warn + j.info + j.log) {
            d = ["Logged Errors:", j.error, "Warnings:", j.warn, "Info:", j.info, "Log:", j.log].join(" ");
            if (e) {
                d = "*** Errors: " + e + " - " + d
            } else {
                if (j.error) {
                    d = "*** " + d
                }
            }
            b.status = d
        }
        if (!Ext.isDefined(Ext.Error.notify)) {
            Ext.Error.notify = Ext.isIE6 || Ext.isIE7
        }
        if (Ext.Error.notify && (h ? e : j && j.error)) {
            Ext.Error.notify = false;
            if (g) {
                b.clearInterval(g);
                g = null
            }
            alert("Unhandled error on page: See console or log");
            c()
        }
    }
    function c() {
        g = b.setInterval(a, 1000)
    }
    c()
}
)();
Ext.JSON = new function() {
    var me = this, encodingFunction, decodingFunction, useNative = null, useHasOwn = !!{}.hasOwnProperty, isNative = function() {
        if (useNative === null) {
            useNative = Ext.USE_NATIVE_JSON && window.JSON && JSON.toString() == "[object JSON]"
        }
        return useNative
    }, pad = function(n) {
        return n < 10 ? "0" + n : n
    }, doDecode = function(json) {
        return eval("(" + json + ")")
    }, doEncode = function(o, newline) {
        if (o === null || o === undefined) {
            return "null"
        } else {
            if (Ext.isDate(o)) {
                return Ext.JSON.encodeDate(o)
            } else {
                if (Ext.isString(o)) {
                    return Ext.JSON.encodeString(o)
                } else {
                    if (typeof o == "number") {
                        return isFinite(o) ? String(o) : "null"
                    } else {
                        if (Ext.isBoolean(o)) {
                            return String(o)
                        } else {
                            if (o.toJSON) {
                                return o.toJSON()
                            } else {
                                if (Ext.isArray(o)) {
                                    return encodeArray(o, newline)
                                } else {
                                    if (Ext.isObject(o)) {
                                        return encodeObject(o, newline)
                                    } else {
                                        if (typeof o === "function") {
                                            return "null"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        return "undefined"
    }, m = {
        "\b": "\\b",
        "   ": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\",
        "": "\\u000b"
    }, charToReplace = /[\\\"\x00-\x1f\x7f-\uffff]/g, encodeString = function(s) {
        return '"' + s.replace(charToReplace, function(a) {
            var c = m[a];
            return typeof c === "string" ? c : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4)
        }) + '"'
    }, encodeArrayPretty = function(o, newline) {
        var len = o.length, cnewline = newline + "   ", sep = "," + cnewline, a = ["[", cnewline], i;
        for (i = 0; i < len; i += 1) {
            a.push(Ext.JSON.encodeValue(o[i], cnewline), sep)
        }
        a[a.length - 1] = newline + "]";
        return a.join("")
    }, encodeObjectPretty = function(o, newline) {
        var cnewline = newline + "   ", sep = "," + cnewline, a = ["{", cnewline], i, val;
        for (i in o) {
            val = o[i];
            if (!useHasOwn || o.hasOwnProperty(i)) {
                if (typeof val === "function" || val === undefined) {
                    continue
                }
                a.push(Ext.JSON.encodeValue(i) + ": " + Ext.JSON.encodeValue(val, cnewline), sep)
            }
        }
        a[a.length - 1] = newline + "}";
        return a.join("")
    }, encodeArray = function(o, newline) {
        if (newline) {
            return encodeArrayPretty(o, newline)
        }
        var a = ["[", ""], len = o.length, i;
        for (i = 0; i < len; i += 1) {
            a.push(Ext.JSON.encodeValue(o[i]), ",")
        }
        a[a.length - 1] = "]";
        return a.join("")
    }, encodeObject = function(o, newline) {
        if (newline) {
            return encodeObjectPretty(o, newline)
        }
        var a = ["{", ""], i, val;
        for (i in o) {
            val = o[i];
            if (!useHasOwn || o.hasOwnProperty(i)) {
                if (typeof val === "function" || val === undefined) {
                    continue
                }
                a.push(Ext.JSON.encodeValue(i), ":", Ext.JSON.encodeValue(val), ",")
            }
        }
        a[a.length - 1] = "}";
        return a.join("")
    };
    me.encodeString = encodeString;
    me.encodeValue = doEncode;
    me.encodeDate = function(o) {
        return '"' + o.getFullYear() + "-" + pad(o.getMonth() + 1) + "-" + pad(o.getDate()) + "T" + pad(o.getHours()) + ":" + pad(o.getMinutes()) + ":" + pad(o.getSeconds()) + '"'
    }
    ;
    me.encode = function(o) {
        if (!encodingFunction) {
            encodingFunction = isNative() ? JSON.stringify : me.encodeValue
        }
        return encodingFunction(o)
    }
    ;
    me.decode = function(json, safe) {
        if (!decodingFunction) {
            decodingFunction = isNative() ? JSON.parse : doDecode
        }
        try {
            return decodingFunction(json)
        } catch (e) {
            if (safe === true) {
                return null
            }
            Ext.Error.raise({
                sourceClass: "Ext.JSON",
                sourceMethod: "decode",
                msg: "You're trying to decode an invalid JSON String: " + json
            })
        }
    }
}
();
Ext.encode = Ext.JSON.encode;
Ext.decode = Ext.JSON.decode;
Ext.apply(Ext, {
    userAgent: navigator.userAgent.toLowerCase(),
    cache: {},
    idSeed: 1000,
    windowId: "ext-window",
    documentId: "ext-document",
    isReady: false,
    enableGarbageCollector: true,
    enableListenerCollection: true,
    rootHierarchyState: {},
    addCacheEntry: function(g, c, e) {
        e = e || c.dom;
        if (!e) {
            Ext.Error.raise("Cannot add an entry to the element cache without the DOM node")
        }
        var a = Ext.cache
          , b = g || c && c.id || e.id
          , d = a[b] || (a[b] = {
            data: {},
            events: {},
            dom: e,
            skipGarbageCollection: !!(e.getElementById || e.navigator)
        });
        if (c) {
            c.$cache = d;
            d.el = c
        }
        return d
    },
    updateCacheEntry: function(a, b) {
        a.dom = b;
        if (a.el) {
            a.el.dom = b
        }
        return a
    },
    id: function(a, c) {
        var b = this
          , d = "";
        a = Ext.getDom(a, true) || {};
        if (a === document) {
            a.id = b.documentId
        } else {
            if (a === window) {
                a.id = b.windowId
            }
        }
        if (!a.id) {
            if (b.isSandboxed) {
                d = Ext.sandboxName.toLowerCase() + "-"
            }
            a.id = d + (c || "ext-gen") + ++Ext.idSeed
        }
        return a.id
    },
    escapeId: function() {
        var c = /^[a-zA-Z_][a-zA-Z0-9_\-]*$/i
          , d = /([\W]{1})/g
          , b = /^(\d)/g
          , a = function(h, g) {
            return "\\" + g
        }
          , e = function(h, g) {
            return "\\00" + g.charCodeAt(0).toString(16) + " "
        };
        return function(g) {
            return c.test(g) ? g : g.replace(d, a).replace(b, e)
        }
    }(),
    getBody: function() {
        var a;
        return function() {
            return a || (a = Ext.get(document.body))
        }
    }(),
    getHead: function() {
        var a;
        return function() {
            return a || (a = Ext.get(document.getElementsByTagName("head")[0]))
        }
    }(),
    getDoc: function() {
        var a;
        return function() {
            return a || (a = Ext.get(document))
        }
    }(),
    getOrientation: function() {
        return window.innerHeight > window.innerWidth ? "portrait" : "landscape"
    },
    destroy: function() {
        var c = arguments.length, b, a;
        for (b = 0; b < c; b++) {
            a = arguments[b];
            if (a) {
                if (Ext.isArray(a)) {
                    this.destroy.apply(this, a)
                } else {
                    if (Ext.isFunction(a.destroy)) {
                        a.destroy()
                    } else {
                        if (a.dom) {
                            a.remove()
                        }
                    }
                }
            }
        }
    },
    callback: function(d, c, b, a) {
        if (Ext.isFunction(d)) {
            b = b || [];
            c = c || window;
            if (a) {
                Ext.defer(d, a, c, b)
            } else {
                d.apply(c, b)
            }
        }
    },
    htmlEncode: function(a) {
        return Ext.String.htmlEncode(a)
    },
    htmlDecode: function(a) {
        return Ext.String.htmlDecode(a)
    },
    urlAppend: function(a, b) {
        return Ext.String.urlAppend(a, b)
    }
});
Ext.ns = Ext.namespace;
window.undefined = window.undefined;
(function() {
    var s = function(e) {
        return e.test(Ext.userAgent)
    }, z = document.compatMode == "CSS1Compat", L = function(X, W) {
        var e;
        return X && (e = W.exec(Ext.userAgent)) ? parseFloat(e[1]) : 0
    }, t = document.documentMode, a = s(/opera/), B = a && s(/version\/10\.5/), Q = s(/\bchrome\b/), F = s(/webkit/), c = !Q && s(/safari/), O = c && s(/applewebkit\/4/), M = c && s(/version\/3/), J = c && s(/version\/4/), m = c && s(/version\/5\.0/), I = c && s(/version\/5/), l = !a && s(/msie/), P = l && (s(/msie 7/) && t != 8 && t != 9 && t != 10 || t == 7), N = l && (s(/msie 8/) && t != 7 && t != 9 && t != 10 || t == 8), K = l && (s(/msie 9/) && t != 7 && t != 8 && t != 10 || t == 9), j = l && (s(/msie 10/) && t != 7 && t != 8 && t != 9 || t == 10), S = l && s(/msie 6/), b = !F && s(/gecko/), V = b && s(/rv:1\.9/), U = b && s(/rv:2\.0/), T = b && s(/rv:5\./), v = b && s(/rv:10\./), E = V && s(/rv:1\.9\.0/), C = V && s(/rv:1\.9\.1/), A = V && s(/rv:1\.9\.2/), i = s(/windows|win32/), H = s(/macintosh|mac os x/), D = s(/linux/), o = null, p = L(true, /\bchrome\/(\d+\.\d+)/), k = L(true, /\bfirefox\/(\d+\.\d+)/), q = L(l, /msie (\d+\.\d+)/), x = L(a, /version\/(\d+\.\d+)/), g = L(c, /version\/(\d+\.\d+)/), G = L(F, /webkit\/(\d+\.\d+)/), u = /^https/i.test(window.location.protocol), n;
    try {
        document.execCommand("BackgroundImageCache", false, true)
    } catch (R) {}
    var d = /string|number|boolean/;
    function y(X) {
        var aa, Y, Z, W, e = [];
        for (W in X) {
            if (X.hasOwnProperty(W)) {
                Z = X[W];
                Y = typeof Z;
                if (Y == "function") {
                    continue
                }
                if (Y == "undefined") {
                    aa = Y
                } else {
                    if (Z === null || d.test(Y) || Ext.isDate(Z)) {
                        aa = Ext.encode(Z)
                    } else {
                        if (Ext.isArray(Z)) {
                            aa = "[ ]"
                        } else {
                            if (Ext.isObject(Z)) {
                                aa = "{ }"
                            } else {
                                aa = Y
                            }
                        }
                    }
                }
                e.push(Ext.encode(W) + ": " + aa)
            }
        }
        if (e.length) {
            return " \nData: {\n  " + e.join(",\n  ") + "\n}"
        }
        return ""
    }
    function h(ac) {
        var ad, Z, W = Ext.global.console, e = "log", X = h.indent || 0, ab, Y, aa;
        h.indent = X;
        if (typeof ac != "string") {
            ad = ac;
            ac = ad.msg || "";
            e = ad.level || e;
            Z = ad.dump;
            ab = ad.stack;
            if (ad.indent) {
                ++h.indent
            } else {
                if (ad.outdent) {
                    h.indent = X = Math.max(X - 1, 0)
                }
            }
            if (Z && !(W && W.dir)) {
                ac += y(Z);
                Z = null
            }
        }
        if (arguments.length > 1) {
            ac += Array.prototype.slice.call(arguments, 1).join("")
        }
        ac = X ? Ext.String.repeat(" ", h.indentSize * X) + ac : ac;
        if (e != "log") {
            ac = "[" + e.charAt(0).toUpperCase() + "] " + ac
        }
        if (W) {
            if (W[e]) {
                W[e](ac)
            } else {
                W.log(ac)
            }
            if (Z) {
                W.dir(Z)
            }
            if (ab && W.trace) {
                if (!W.firebug || e != "error") {
                    W.trace()
                }
            }
        } else {
            if (Ext.isOpera) {
                opera.postError(ac)
            } else {
                Y = h.out;
                aa = h.max;
                if (Y.length >= aa) {
                    Ext.Array.erase(Y, 0, Y.length - 3 * Math.floor(aa / 4))
                }
                Y.push(ac)
            }
        }
        ++h.count;
        ++h.counters[e]
    }
    function w(W, e) {
        if (typeof e[0] == "string") {
            e.unshift({})
        }
        e[0].level = W;
        h.apply(this, e)
    }
    h.error = function() {
        w("error", Array.prototype.slice.call(arguments))
    }
    ;
    h.info = function() {
        w("info", Array.prototype.slice.call(arguments))
    }
    ;
    h.warn = function() {
        w("warn", Array.prototype.slice.call(arguments))
    }
    ;
    h.count = 0;
    h.counters = {
        error: 0,
        warn: 0,
        info: 0,
        log: 0
    };
    h.indentSize = 2;
    h.out = [];
    h.max = 750;
    h.show = function() {
        window.open("", "extlog").document.write(['<html><head><script type="text/javascript">', "var lastCount = 0;", "function update () {", "var ext = window.opener.Ext,", "extlog = ext && ext.log;", "if (extlog && extlog.out && lastCount != extlog.count) {", "lastCount = extlog.count;", 'var s = "<tt>" + extlog.out.join("~~~").replace(/[&]/g, "&amp;").replace(/[<]/g, "&lt;").replace(/[ ]/g, "&#160;").replace(/\\~\\~\\~/g, "<br/>") + "</tt>";', "document.body.innerHTML = s;", "}", "setTimeout(update, 1000);", "}", "setTimeout(update, 1000);", "<\/script></head><body></body></html>"].join(""))
    }
    ;
    n = function() {}
    ;
    n.info = n.warn = n.error = Ext.emptyFn;
    Ext.setVersion("extjs", "4.2.0.663");
    Ext.apply(Ext, {
        SSL_SECURE_URL: u && l ? "javascript:''" : "about:blank",
        plainTableCls: Ext.buildSettings.baseCSSPrefix + "table-plain",
        plainListCls: Ext.buildSettings.baseCSSPrefix + "list-plain",
        enableNestedListenerRemoval: false,
        USE_NATIVE_JSON: false,
        getDom: function(X, W) {
            if (!X || !document) {
                return null
            }
            if (X.dom) {
                return X.dom
            } else {
                if (typeof X == "string") {
                    var Y = Ext.getElementById(X);
                    if (Y && l && W) {
                        if (X == Y.getAttribute("id")) {
                            return Y
                        } else {
                            return null
                        }
                    }
                    return Y
                } else {
                    return X
                }
            }
        },
        removeNode: S || P || N ? function() {
            var e;
            return function(Y) {
                if (Y && Y.tagName.toUpperCase() != "BODY") {
                    Ext.enableNestedListenerRemoval ? Ext.EventManager.purgeElement(Y) : Ext.EventManager.removeAll(Y);
                    var W = Ext.cache
                      , X = Y.id;
                    if (W[X]) {
                        delete W[X].dom;
                        delete W[X]
                    }
                    if (N && Y.parentNode) {
                        Y.parentNode.removeChild(Y)
                    }
                    e = e || document.createElement("div");
                    e.appendChild(Y);
                    e.innerHTML = ""
                }
            }
        }() : function(X) {
            if (X && X.parentNode && X.tagName.toUpperCase() != "BODY") {
                Ext.enableNestedListenerRemoval ? Ext.EventManager.purgeElement(X) : Ext.EventManager.removeAll(X);
                var e = Ext.cache
                  , W = X.id;
                if (e[W]) {
                    delete e[W].dom;
                    delete e[W]
                }
                X.parentNode.removeChild(X)
            }
        }
        ,
        isStrict: z,
        isIEQuirks: l && !z && (S || P || N || K),
        isOpera: a,
        isOpera10_5: B,
        isWebKit: F,
        isChrome: Q,
        isSafari: c,
        isSafari3: M,
        isSafari4: J,
        isSafari5: I,
        isSafari5_0: m,
        isSafari2: O,
        isIE: l,
        isIE6: S,
        isIE7: P,
        isIE7m: S || P,
        isIE7p: l && !S,
        isIE8: N,
        isIE8m: S || P || N,
        isIE8p: l && !(S || P),
        isIE9: K,
        isIE9m: S || P || N || K,
        isIE9p: l && !(S || P || N),
        isIE10: j,
        isIE10m: S || P || N || K || j,
        isIE10p: l && !(S || P || N || K),
        isGecko: b,
        isGecko3: V,
        isGecko4: U,
        isGecko5: T,
        isGecko10: v,
        isFF3_0: E,
        isFF3_5: C,
        isFF3_6: A,
        isFF4: 4 <= k && k < 5,
        isFF5: 5 <= k && k < 6,
        isFF10: 10 <= k && k < 11,
        isLinux: D,
        isWindows: i,
        isMac: H,
        chromeVersion: p,
        firefoxVersion: k,
        ieVersion: q,
        operaVersion: x,
        safariVersion: g,
        webKitVersion: G,
        isSecure: u,
        BLANK_IMAGE_URL: S || P ? "//www.sencha.com/s.gif" : "data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",
        value: function(X, e, W) {
            return Ext.isEmpty(X, W) ? e : X
        },
        escapeRe: function(e) {
            return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g, "\\$1")
        },
        addBehaviors: function(Z) {
            if (!Ext.isReady) {
                Ext.onReady(function() {
                    Ext.addBehaviors(Z)
                })
            } else {
                var W = {}, Y, e, X;
                for (e in Z) {
                    if ((Y = e.split("@"))[1]) {
                        X = Y[0];
                        if (!W[X]) {
                            W[X] = Ext.select(X)
                        }
                        W[X].on(Y[1], Z[e])
                    }
                }
                W = null
            }
        },
        getScrollbarSize: function(W) {
            if (!Ext.isReady) {
                return {}
            }
            if (W || !o) {
                var e = document.body
                  , X = document.createElement("div");
                X.style.width = X.style.height = "100px";
                X.style.overflow = "scroll";
                X.style.position = "absolute";
                e.appendChild(X);
                o = {
                    width: X.offsetWidth - X.clientWidth,
                    height: X.offsetHeight - X.clientHeight
                };
                e.removeChild(X)
            }
            return o
        },
        getScrollBarWidth: function(W) {
            var e = Ext.getScrollbarSize(W);
            return e.width + 2
        },
        copyTo: function(W, Y, aa, Z) {
            if (typeof aa == "string") {
                aa = aa.split(/[,;\s]/)
            }
            var ab, X = aa ? aa.length : 0, e;
            for (ab = 0; ab < X; ab++) {
                e = aa[ab];
                if (Z || Y.hasOwnProperty(e)) {
                    W[e] = Y[e]
                }
            }
            return W
        },
        destroyMembers: function(Y) {
            for (var X = 1, W = arguments, e = W.length; X < e; X++) {
                Ext.destroy(Y[W[X]]);
                delete Y[W[X]]
            }
        },
        log: h || n,
        partition: function(e, Z) {
            var aa = [[], []], W, Y, X = e.length;
            for (W = 0; W < X; W++) {
                Y = e[W];
                aa[Z && Z(Y, W, e) || !Z && Y ? 0 : 1].push(Y)
            }
            return aa
        },
        invoke: function(e, Z) {
            var ab = [], aa = Array.prototype.slice.call(arguments, 2), W, Y, X = e.length;
            for (W = 0; W < X; W++) {
                Y = e[W];
                if (Y && typeof Y[Z] == "function") {
                    ab.push(Y[Z].apply(Y, aa))
                } else {
                    ab.push(undefined)
                }
            }
            return ab
        },
        zip: function() {
            var ac = Ext.partition(arguments, function(ad) {
                return typeof ad != "function"
            }), Z = ac[0], ab = ac[1][0], e = Ext.max(Ext.pluck(Z, "length")), Y = [], aa, X, W;
            for (aa = 0; aa < e; aa++) {
                Y[aa] = [];
                if (ab) {
                    Y[aa] = ab.apply(ab, Ext.pluck(Z, aa))
                } else {
                    for (X = 0,
                    W = Z.length; X < W; X++) {
                        Y[aa].push(Z[X][aa])
                    }
                }
            }
            return Y
        },
        toSentence: function(W, e) {
            var Z = W.length, Y, X;
            if (Z <= 1) {
                return W[0]
            } else {
                Y = W.slice(0, Z - 1);
                X = W[Z - 1];
                return Ext.util.Format.format("{0} {1} {2}", Y.join(", "), e || "and", X)
            }
        },
        setGlyphFontFamily: function(e) {
            Ext._glyphFontFamily = e
        },
        useShims: S
    })
}
)();
Ext.application = function(a) {
    var c, d, b;
    if (typeof a === "string") {
        Ext.require(a, function() {
            c = Ext.ClassManager.get(a)
        })
    } else {
        Ext.Loader.setPath(a.name, a.appFolder || "app");
        if (d = a.paths) {
            for (b in d) {
                if (d.hasOwnProperty(b)) {
                    Ext.Loader.setPath(b, d[b])
                }
            }
        }
        a["paths processed"] = true;
        Ext.define(a.name + ".$application", Ext.apply({
            extend: "Ext.app.Application"
        }, a), function() {
            c = this
        })
    }
    Ext.onReady(function() {
        Ext.app.Application.instance = new c()
    })
}
;
(function() {
    Ext.ns("Ext.util");
    Ext.util.Format = {};
    var g = Ext.util.Format, e = /<\/?[^>]+>/gi, c = /(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi, b = /\r?\n/g, d = /[^\d\.]/g, a;
    Ext.apply(g, {
        thousandSeparator: ",",
        decimalSeparator: ".",
        currencyPrecision: 2,
        currencySign: "$",
        currencyAtEnd: false,
        undef: function(h) {
            return h !== undefined ? h : ""
        },
        defaultValue: function(i, h) {
            return i !== undefined && i !== "" ? i : h
        },
        substr: "ab".substr(-1) != "b" ? function(i, k, h) {
            var j = String(i);
            return k < 0 ? j.substr(Math.max(j.length + k, 0), h) : j.substr(k, h)
        }
        : function(i, j, h) {
            return String(i).substr(j, h)
        }
        ,
        lowercase: function(h) {
            return String(h).toLowerCase()
        },
        uppercase: function(h) {
            return String(h).toUpperCase()
        },
        usMoney: function(h) {
            return g.currency(h, "$", 2)
        },
        currency: function(k, m, j, h) {
            var o = ""
              , n = ",0"
              , l = 0;
            k = k - 0;
            if (k < 0) {
                k = -k;
                o = "-"
            }
            j = Ext.isDefined(j) ? j : g.currencyPrecision;
            n += n + (j > 0 ? "." : "");
            for (; l < j; l++) {
                n += "0"
            }
            k = g.number(k, n);
            if ((h || g.currencyAtEnd) === true) {
                return Ext.String.format("{0}{1}{2}", o, k, m || g.currencySign)
            } else {
                return Ext.String.format("{0}{1}{2}", o, m || g.currencySign, k)
            }
        },
        date: function(h, i) {
            if (!h) {
                return ""
            }
            if (!Ext.isDate(h)) {
                h = new Date(Date.parse(h))
            }
            return Ext.Date.dateFormat(h, i || Ext.Date.defaultFormat)
        },
        dateRenderer: function(h) {
            return function(i) {
                return g.date(i, h)
            }
        },
        stripTags: function(h) {
            return !h ? h : String(h).replace(e, "")
        },
        stripScripts: function(h) {
            return !h ? h : String(h).replace(c, "")
        },
        fileSize: function(h) {
            if (h < 1024) {
                return h + " bytes"
            } else {
                if (h < 1048576) {
                    return Math.round(h * 10 / 1024) / 10 + " KB"
                } else {
                    return Math.round(h * 10 / 1048576) / 10 + " MB"
                }
            }
        },
        math: function() {
            var h = {};
            return function(j, i) {
                if (!h[i]) {
                    h[i] = Ext.functionFactory("v", "return v " + i + ";")
                }
                return h[i](j)
            }
        }(),
        round: function(j, i) {
            var h = Number(j);
            if (typeof i == "number") {
                i = Math.pow(10, i);
                h = Math.round(j * i) / i
            }
            return h
        },
        number: function(z, t) {
            if (!t) {
                return z
            }
            z = Ext.Number.from(z, NaN);
            if (isNaN(z)) {
                return ""
            }
            var A = g.thousandSeparator, q = g.decimalSeparator, s = z < 0, k, h, y, x, p, u, o, l, w;
            z = Math.abs(z);
            if (t.substr(t.length - 2) == "/i") {
                if (!a) {
                    a = new RegExp("[^\\d\\" + g.decimalSeparator + "]","g")
                }
                t = t.substr(0, t.length - 2);
                k = t.indexOf(A) != -1;
                h = t.replace(a, "").split(q)
            } else {
                k = t.indexOf(",") != -1;
                h = t.replace(d, "").split(".")
            }
            if (h.length > 2) {
                Ext.Error.raise({
                    sourceClass: "Ext.util.Format",
                    sourceMethod: "number",
                    value: z,
                    formatString: t,
                    msg: "Invalid number format, should have no more than 1 decimal"
                })
            } else {
                if (h.length > 1) {
                    z = Ext.Number.toFixed(z, h[1].length)
                } else {
                    z = Ext.Number.toFixed(z, 0)
                }
            }
            y = z.toString();
            h = y.split(".");
            if (k) {
                x = h[0];
                p = [];
                u = x.length;
                o = Math.floor(u / 3);
                l = x.length % 3 || 3;
                for (w = 0; w < u; w += l) {
                    if (w !== 0) {
                        l = 3
                    }
                    p[p.length] = x.substr(w, l);
                    o -= 1
                }
                y = p.join(A);
                if (h[1]) {
                    y += q + h[1]
                }
            } else {
                if (h[1]) {
                    y = h[0] + q + h[1]
                }
            }
            if (s) {
                s = y.replace(/[^1-9]/g, "") !== ""
            }
            return (s ? "-" : "") + t.replace(/[\d,?\.?]+/, y)
        },
        numberRenderer: function(h) {
            return function(i) {
                return g.number(i, h)
            }
        },
        attributes: function(i) {
            if (typeof i === "object") {
                var h = [], j;
                for (j in i) {
                    h.push(j, '="', j === "style" ? Ext.DomHelper.generateStyles(i[j]) : Ext.htmlEncode(i[j]), '"')
                }
                i = h.join("")
            }
            return i || ""
        },
        plural: function(h, i, j) {
            return h + " " + (h == 1 ? i : j ? j : i + "s")
        },
        nl2br: function(h) {
            return Ext.isEmpty(h) ? "" : h.replace(b, "<br/>")
        },
        capitalize: Ext.String.capitalize,
        ellipsis: Ext.String.ellipsis,
        format: Ext.String.format,
        htmlDecode: Ext.String.htmlDecode,
        htmlEncode: Ext.String.htmlEncode,
        leftPad: Ext.String.leftPad,
        trim: Ext.String.trim,
        parseBox: function(i) {
            i = i || 0;
            if (typeof i === "number") {
                return {
                    top: i,
                    right: i,
                    bottom: i,
                    left: i
                }
            }
            var j = i.split(" ")
              , h = j.length;
            if (h == 1) {
                j[1] = j[2] = j[3] = j[0]
            } else {
                if (h == 2) {
                    j[2] = j[0];
                    j[3] = j[1]
                } else {
                    if (h == 3) {
                        j[3] = j[1]
                    }
                }
            }
            return {
                top: parseInt(j[0], 10) || 0,
                right: parseInt(j[1], 10) || 0,
                bottom: parseInt(j[2], 10) || 0,
                left: parseInt(j[3], 10) || 0
            }
        },
        escapeRegex: function(h) {
            return h.replace(/([\-.*+?\^${}()|\[\]\/\\])/g, "\\$1")
        }
    })
}
)();
Ext.define("Ext.util.TaskRunner", {
    interval: 10,
    timerId: null,
    constructor: function(a) {
        var b = this;
        if (typeof a == "number") {
            b.interval = a
        } else {
            if (a) {
                Ext.apply(b, a)
            }
        }
        b.tasks = [];
        b.timerFn = Ext.Function.bind(b.onTick, b)
    },
    newTask: function(b) {
        var a = new Ext.util.TaskRunner.Task(b);
        a.manager = this;
        return a
    },
    start: function(a) {
        var c = this
          , b = new Date().getTime();
        if (!a.pending) {
            c.tasks.push(a);
            a.pending = true
        }
        a.stopped = false;
        a.taskStartTime = b;
        a.taskRunTime = a.fireOnStart !== false ? 0 : a.taskStartTime;
        a.taskRunCount = 0;
        if (!c.firing) {
            if (a.fireOnStart !== false) {
                c.startTimer(0, b)
            } else {
                c.startTimer(a.interval, b)
            }
        }
        return a
    },
    stop: function(a) {
        if (!a.stopped) {
            a.stopped = true;
            if (a.onStop) {
                a.onStop.call(a.scope || a, a)
            }
        }
        return a
    },
    stopAll: function() {
        Ext.each(this.tasks, this.stop, this)
    },
    firing: false,
    nextExpires: 1e+99,
    onTick: function() {
        var m = this, e = m.tasks, a = new Date().getTime(), n = 1e+99, k = e.length, c, o, h, b, d, g;
        m.timerId = null;
        m.firing = true;
        for (h = 0; h < k || h < (k = e.length); ++h) {
            b = e[h];
            if (!(g = b.stopped)) {
                c = b.taskRunTime + b.interval;
                if (c <= a) {
                    d = 1;
                    try {
                        d = b.run.apply(b.scope || b, b.args || [++b.taskRunCount])
                    } catch (j) {
                        try {
                            Ext.log({
                                msg: j,
                                level: "error"
                            });
                            if (b.onError) {
                                d = b.onError.call(b.scope || b, b, j)
                            }
                        } catch (l) {}
                    }
                    b.taskRunTime = a;
                    if (d === false || b.taskRunCount === b.repeat) {
                        m.stop(b);
                        g = true
                    } else {
                        g = b.stopped;
                        c = a + b.interval
                    }
                }
                if (!g && b.duration && b.duration <= a - b.taskStartTime) {
                    m.stop(b);
                    g = true
                }
            }
            if (g) {
                b.pending = false;
                if (!o) {
                    o = e.slice(0, h)
                }
            } else {
                if (o) {
                    o.push(b)
                }
                if (n > c) {
                    n = c
                }
            }
        }
        if (o) {
            m.tasks = o
        }
        m.firing = false;
        if (m.tasks.length) {
            m.startTimer(n - a, new Date().getTime())
        }
        if (m.fireIdleEvent !== false) {
            Ext.EventManager.idleEvent.fire()
        }
    },
    startTimer: function(e, c) {
        var d = this
          , b = c + e
          , a = d.timerId;
        if (a && d.nextExpires - b > d.interval) {
            clearTimeout(a);
            a = null
        }
        if (!a) {
            if (e < d.interval) {
                e = d.interval
            }
            d.timerId = setTimeout(d.timerFn, e);
            d.nextExpires = b
        }
    }
}, function() {
    var b = this
      , a = b.prototype;
    a.destroy = a.stopAll;
    Ext.util.TaskManager = Ext.TaskManager = new b();
    b.Task = new Ext.Class({
        isTask: true,
        stopped: true,
        fireOnStart: false,
        constructor: function(c) {
            Ext.apply(this, c)
        },
        restart: function(c) {
            if (c !== undefined) {
                this.interval = c
            }
            this.manager.start(this)
        },
        start: function(c) {
            if (this.stopped) {
                this.restart(c)
            }
        },
        stop: function() {
            this.manager.stop(this)
        }
    });
    a = b.Task.prototype;
    a.destroy = a.stop
});
Ext.define("Ext.util.TaskManager", {
    extend: Ext.util.TaskRunner,
    alternateClassName: ["Ext.TaskManager"],
    singleton: true
});
Ext.define("Ext.perf.Accumulator", function() {
    var c = null, h = Ext.global.chrome, d, b = function() {
        b = function() {
            return new Date().getTime()
        }
        ;
        var l, m;
        if (Ext.isChrome && h && h.Interval) {
            l = new h.Interval();
            l.start();
            b = function() {
                return l.microseconds() / 1000
            }
        } else {
            if (window.ActiveXObject) {
                try {
                    m = new ActiveXObject("SenchaToolbox.Toolbox");
                    Ext.senchaToolbox = m;
                    b = function() {
                        return m.milliseconds
                    }
                } catch (n) {}
            } else {
                if (Date.now) {
                    b = Date.now
                }
            }
        }
        Ext.perf.getTimestamp = Ext.perf.Accumulator.getTimestamp = b;
        return b()
    };
    function i(m, l) {
        m.sum += l;
        m.min = Math.min(m.min, l);
        m.max = Math.max(m.max, l)
    }
    function e(o) {
        var m = o ? o : b() - this.time
          , n = this
          , l = n.accum;
        ++l.count;
        if (!--l.depth) {
            i(l.total, m)
        }
        i(l.pure, m - n.childTime);
        c = n.parent;
        if (c) {
            ++c.accum.childCount;
            c.childTime += m
        }
    }
    function a() {
        return {
            min: Number.MAX_VALUE,
            max: 0,
            sum: 0
        }
    }
    function j(m, l) {
        return function() {
            var o = m.enter()
              , n = l.apply(this, arguments);
            o.leave();
            return n
        }
    }
    function k(l) {
        return Math.round(l * 100) / 100
    }
    function g(n, m, l, p) {
        var o = {
            avg: 0,
            min: p.min,
            max: p.max,
            sum: 0
        };
        if (n) {
            l = l || 0;
            o.sum = p.sum - m * l;
            o.avg = o.sum / n
        }
        return o
    }
    return {
        constructor: function(l) {
            var m = this;
            m.count = m.childCount = m.depth = m.maxDepth = 0;
            m.pure = a();
            m.total = a();
            m.name = l
        },
        statics: {
            getTimestamp: b
        },
        format: function(l) {
            if (!d) {
                d = new Ext.XTemplate(["{name} - {count} call(s)", '<tpl if="count">', '<tpl if="childCount">', " ({childCount} children)", "</tpl>", '<tpl if="depth - 1">', " ({depth} deep)", "</tpl>", '<tpl for="times">', ", {type}: {[this.time(values.sum)]} msec (", "avg={[this.time(values.sum / parent.count)]}", ")", "</tpl>", "</tpl>"].join(""),{
                    time: function(n) {
                        return Math.round(n * 100) / 100
                    }
                })
            }
            var m = this.getData(l);
            m.name = this.name;
            m.pure.type = "Pure";
            m.total.type = "Total";
            m.times = [m.pure, m.total];
            return d.apply(m)
        },
        getData: function(l) {
            var m = this;
            return {
                count: m.count,
                childCount: m.childCount,
                depth: m.maxDepth,
                pure: g(m.count, m.childCount, l, m.pure),
                total: g(m.count, m.childCount, l, m.total)
            }
        },
        enter: function() {
            var l = this
              , m = {
                accum: l,
                leave: e,
                childTime: 0,
                parent: c
            };
            ++l.depth;
            if (l.maxDepth < l.depth) {
                l.maxDepth = l.depth
            }
            c = m;
            m.time = b();
            return m
        },
        monitor: function(n, m, l) {
            var o = this.enter();
            if (l) {
                n.apply(m, l)
            } else {
                n.call(m)
            }
            o.leave()
        },
        report: function() {
            Ext.log(this.format())
        },
        tap: function(u, w) {
            var v = this, o = typeof w == "string" ? [w] : w, t, x, q, p, n, m, l, s;
            s = function() {
                if (typeof u == "string") {
                    t = Ext.global;
                    p = u.split(".");
                    for (q = 0,
                    n = p.length; q < n; ++q) {
                        t = t[p[q]]
                    }
                } else {
                    t = u
                }
                for (q = 0,
                n = o.length; q < n; ++q) {
                    m = o[q];
                    x = m.charAt(0) == "!";
                    if (x) {
                        m = m.substring(1)
                    } else {
                        x = !(m in t.prototype)
                    }
                    l = x ? t : t.prototype;
                    l[m] = j(v, l[m])
                }
            }
            ;
            Ext.ClassManager.onCreated(s, v, u);
            return v
        }
    }
}(), function() {
    Ext.perf.getTimestamp = this.getTimestamp
});
Ext.define("Ext.perf.Monitor", {
    singleton: true,
    alternateClassName: "Ext.Perf",
    constructor: function() {
        this.accumulators = [];
        this.accumulatorsByName = {}
    },
    calibrate: function() {
        var b = new Ext.perf.Accumulator("$"), g = b.total, c = Ext.perf.Accumulator.getTimestamp, e = 0, h, a, d;
        d = c();
        do {
            h = b.enter();
            h.leave();
            ++e
        } while (g.sum < 100);a = c();
        return (a - d) / e
    },
    get: function(b) {
        var c = this
          , a = c.accumulatorsByName[b];
        if (!a) {
            c.accumulatorsByName[b] = a = new Ext.perf.Accumulator(b);
            c.accumulators.push(a)
        }
        return a
    },
    enter: function(a) {
        return this.get(a).enter()
    },
    monitor: function(a, c, b) {
        this.get(a).monitor(c, b)
    },
    report: function() {
        var c = this
          , b = c.accumulators
          , a = c.calibrate();
        b.sort(function(e, d) {
            return e.name < d.name ? -1 : d.name < e.name ? 1 : 0
        });
        c.updateGC();
        Ext.log("Calibration: " + Math.round(a * 100) / 100 + " msec/sample");
        Ext.each(b, function(d) {
            Ext.log(d.format(a))
        })
    },
    getData: function(c) {
        var b = {}
          , a = this.accumulators;
        Ext.each(a, function(d) {
            if (c || d.count) {
                b[d.name] = d.getData()
            }
        });
        return b
    },
    reset: function() {
        Ext.each(this.accumulators, function(a) {
            var b = a;
            b.count = b.childCount = b.depth = b.maxDepth = 0;
            b.pure = {
                min: Number.MAX_VALUE,
                max: 0,
                sum: 0
            };
            b.total = {
                min: Number.MAX_VALUE,
                max: 0,
                sum: 0
            }
        })
    },
    updateGC: function() {
        var a = this.accumulatorsByName.GC, b = Ext.senchaToolbox, c;
        if (a) {
            a.count = b.garbageCollectionCounter || 0;
            if (a.count) {
                c = a.pure;
                a.total.sum = c.sum = b.garbageCollectionMilliseconds;
                c.min = c.max = c.sum / a.count;
                c = a.total;
                c.min = c.max = c.sum / a.count
            }
        }
    },
    watchGC: function() {
        Ext.perf.getTimestamp();
        var a = Ext.senchaToolbox;
        if (a) {
            this.get("GC");
            a.watchGarbageCollector(false)
        }
    },
    setup: function(c) {
        if (!c) {
            c = {
                render: {
                    "Ext.AbstractComponent": "render"
                },
                layout: {
                    "Ext.layout.Context": "run"
                }
            }
        }
        this.currentConfig = c;
        var d, g, b, e, a;
        for (d in c) {
            if (c.hasOwnProperty(d)) {
                g = c[d];
                b = Ext.Perf.get(d);
                for (e in g) {
                    if (g.hasOwnProperty(e)) {
                        a = g[e];
                        b.tap(e, a)
                    }
                }
            }
        }
        this.watchGC()
    }
});
Ext.is = {
    init: function(b) {
        var c = this.platforms, e = c.length, d, a;
        b = b || window.navigator;
        for (d = 0; d < e; d++) {
            a = c[d];
            this[a.identity] = a.regex.test(b[a.property])
        }
        this.Desktop = this.Mac || this.Windows || this.Linux && !this.Android;
        this.Tablet = this.iPad;
        this.Phone = !this.Desktop && !this.Tablet;
        this.iOS = this.iPhone || this.iPad || this.iPod;
        this.Standalone = !!window.navigator.standalone
    },
    platforms: [{
        property: "platform",
        regex: /iPhone/i,
        identity: "iPhone"
    }, {
        property: "platform",
        regex: /iPod/i,
        identity: "iPod"
    }, {
        property: "userAgent",
        regex: /iPad/i,
        identity: "iPad"
    }, {
        property: "userAgent",
        regex: /Blackberry/i,
        identity: "Blackberry"
    }, {
        property: "userAgent",
        regex: /Android/i,
        identity: "Android"
    }, {
        property: "platform",
        regex: /Mac/i,
        identity: "Mac"
    }, {
        property: "platform",
        regex: /Win/i,
        identity: "Windows"
    }, {
        property: "platform",
        regex: /Linux/i,
        identity: "Linux"
    }]
};
Ext.is.init();
(function() {
    var a = function(g, e) {
        var d = g.ownerDocument.defaultView
          , h = (d ? d.getComputedStyle(g, null) : g.currentStyle) || g.style;
        return h[e]
    }
      , c = {
        "IE6-quirks": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE6-strict": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE7-quirks": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE7-strict": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE8-quirks": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE8-strict": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE9-quirks": [0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0],
        "IE9-strict": [0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0],
        "IE10-quirks": [1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0],
        "IE10-strict": [1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0]
    };
    function b() {
        var d = Ext.isIE6 ? "IE6" : Ext.isIE7 ? "IE7" : Ext.isIE8 ? "IE8" : Ext.isIE9 ? "IE9" : Ext.isIE10 ? "IE10" : "";
        return d ? d + (Ext.isStrict ? "-strict" : "-quirks") : ""
    }
    Ext.supports = {
        init: function() {
            var k = this, o = document, i = k.toRun || k.tests, h = i.length, d = h && Ext.isReady && o.createElement("div"), e = [], l = b(), j, g, m;
            if (d) {
                d.innerHTML = ['<div style="height:30px;width:50px;">', '<div style="height:20px;width:20px;"></div>', "</div>", '<div style="width: 200px; height: 200px; position: relative; padding: 5px;">', '<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>', "</div>", '<div style="position: absolute; left: 10%; top: 10%;"></div>', '<div style="float:left; background-color:transparent;"></div>'].join("");
                o.body.appendChild(d)
            }
            g = c[l];
            while (h--) {
                j = i[h];
                m = g && g[h];
                if (m !== undefined) {
                    k[j.identity] = m
                } else {
                    if (d || j.early) {
                        k[j.identity] = j.fn.call(k, o, d)
                    } else {
                        e.push(j)
                    }
                }
            }
            if (d) {
                o.body.removeChild(d)
            }
            k.toRun = e
        },
        generateVector: function() {
            var g = this.tests, d = [], e = 0, h = g.length, j;
            for (; e < h; e++) {
                j = g[e];
                d.push(this[j.identity] ? 1 : 0)
            }
            return d
        },
        PointerEvents: "pointerEvents"in document.documentElement.style,
        LocalStorage: function() {
            try {
                return "localStorage"in window && window.localStorage !== null
            } catch (d) {
                return false
            }
        }(),
        CSS3BoxShadow: "boxShadow"in document.documentElement.style || "WebkitBoxShadow"in document.documentElement.style || "MozBoxShadow"in document.documentElement.style,
        ClassList: !!document.documentElement.classList,
        OrientationChange: typeof window.orientation != "undefined" && "onorientationchange"in window,
        DeviceMotion: "ondevicemotion"in window,
        Touch: "ontouchstart"in window && !Ext.is.Desktop,
        TimeoutActualLateness: function() {
            setTimeout(function() {
                Ext.supports.TimeoutActualLateness = arguments.length !== 0
            }, 0)
        }(),
        tests: [{
            identity: "Transitions",
            fn: function(k, m) {
                var j = ["webkit", "Moz", "o", "ms", "khtml"]
                  , l = "TransitionEnd"
                  , d = [j[0] + l, "transitionend", j[2] + l, j[3] + l, j[4] + l]
                  , h = j.length
                  , g = 0
                  , e = false;
                for (; g < h; g++) {
                    if (a(m, j[g] + "TransitionProperty")) {
                        Ext.supports.CSS3Prefix = j[g];
                        Ext.supports.CSS3TransitionEnd = d[g];
                        e = true;
                        break
                    }
                }
                return e
            }
        }, {
            identity: "RightMargin",
            fn: function(e, g) {
                var d = e.defaultView;
                return !(d && d.getComputedStyle(g.firstChild.firstChild, null).marginRight != "0px")
            }
        }, {
            identity: "DisplayChangeInputSelectionBug",
            early: true,
            fn: function() {
                var d = Ext.webKitVersion;
                return 0 < d && d < 533
            }
        }, {
            identity: "DisplayChangeTextAreaSelectionBug",
            early: true,
            fn: function() {
                var d = Ext.webKitVersion;
                return 0 < d && d < 534.24
            }
        }, {
            identity: "TransparentColor",
            fn: function(e, g, d) {
                d = e.defaultView;
                return !(d && d.getComputedStyle(g.lastChild, null).backgroundColor != "transparent")
            }
        }, {
            identity: "ComputedStyle",
            fn: function(e, g, d) {
                d = e.defaultView;
                return d && d.getComputedStyle
            }
        }, {
            identity: "Svg",
            fn: function(d) {
                return !!d.createElementNS && !!d.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect
            }
        }, {
            identity: "Canvas",
            fn: function(d) {
                return !!d.createElement("canvas").getContext
            }
        }, {
            identity: "Vml",
            fn: function(e) {
                var g = e.createElement("div");
                g.innerHTML = "<!--[if vml]><br/><br/><![endif]-->";
                return g.childNodes.length == 2
            }
        }, {
            identity: "Float",
            fn: function(d, e) {
                return !!e.lastChild.style.cssFloat
            }
        }, {
            identity: "AudioTag",
            fn: function(d) {
                return !!d.createElement("audio").canPlayType
            }
        }, {
            identity: "History",
            fn: function() {
                var d = window.history;
                return !!(d && d.pushState)
            }
        }, {
            identity: "CSS3DTransform",
            fn: function() {
                return typeof WebKitCSSMatrix != "undefined" && new WebKitCSSMatrix().hasOwnProperty("m41")
            }
        }, {
            identity: "CSS3LinearGradient",
            fn: function(j, d) {
                var l = "background-image:"
                  , k = "-webkit-gradient(linear, left top, right bottom, from(black), to(white))"
                  , i = "linear-gradient(left top, black, white)"
                  , h = "-moz-" + i
                  , e = "-ms-" + i
                  , g = "-o-" + i
                  , m = [l + k, l + i, l + h, l + e, l + g];
                d.style.cssText = m.join(";");
                return ("" + d.style.backgroundImage).indexOf("gradient") !== -1 && !Ext.isIE9
            }
        }, {
            identity: "CSS3BorderRadius",
            fn: function(h, j) {
                var e = ["borderRadius", "BorderRadius", "MozBorderRadius", "WebkitBorderRadius", "OBorderRadius", "KhtmlBorderRadius"], g = false, d;
                for (d = 0; d < e.length; d++) {
                    if (document.body.style[e[d]] !== undefined) {
                        return true
                    }
                }
                return g
            }
        }, {
            identity: "GeoLocation",
            fn: function() {
                return typeof navigator != "undefined" && "geolocation"in navigator || typeof google != "undefined" && typeof google.gears != "undefined"
            }
        }, {
            identity: "MouseEnterLeave",
            fn: function(d, e) {
                return "onmouseenter"in e && "onmouseleave"in e
            }
        }, {
            identity: "MouseWheel",
            fn: function(d, e) {
                return "onmousewheel"in e
            }
        }, {
            identity: "Opacity",
            fn: function(d, e) {
                if (Ext.isIE6 || Ext.isIE7 || Ext.isIE8) {
                    return false
                }
                e.firstChild.style.cssText = "opacity:0.73";
                return e.firstChild.style.opacity == "0.73"
            }
        }, {
            identity: "Placeholder",
            fn: function(d) {
                return "placeholder"in d.createElement("input")
            }
        }, {
            identity: "Direct2DBug",
            fn: function() {
                return Ext.isString(document.body.style.msTransformOrigin) && Ext.isIE10m
            }
        }, {
            identity: "BoundingClientRect",
            fn: function(d, e) {
                return Ext.isFunction(e.getBoundingClientRect)
            }
        }, {
            identity: "RotatedBoundingClientRect",
            fn: function() {
                var d = document.body
                  , e = false
                  , h = document.createElement("div")
                  , g = h.style;
                if (h.getBoundingClientRect) {
                    g.WebkitTransform = g.MozTransform = g.OTransform = g.transform = "rotate(90deg)";
                    g.width = "100px";
                    g.height = "30px";
                    d.appendChild(h);
                    e = h.getBoundingClientRect().height !== 100;
                    d.removeChild(h)
                }
                return e
            }
        }, {
            identity: "IncludePaddingInWidthCalculation",
            fn: function(d, e) {
                return e.childNodes[1].firstChild.offsetWidth == 210
            }
        }, {
            identity: "IncludePaddingInHeightCalculation",
            fn: function(d, e) {
                return e.childNodes[1].firstChild.offsetHeight == 210
            }
        }, {
            identity: "ArraySort",
            fn: function() {
                var d = [1, 2, 3, 4, 5].sort(function() {
                    return 0
                });
                return d[0] === 1 && d[1] === 2 && d[2] === 3 && d[3] === 4 && d[4] === 5
            }
        }, {
            identity: "Range",
            fn: function() {
                return !!document.createRange
            }
        }, {
            identity: "CreateContextualFragment",
            fn: function() {
                var d = Ext.supports.Range ? document.createRange() : false;
                return d && !!d.createContextualFragment
            }
        }, {
            identity: "WindowOnError",
            fn: function() {
                return Ext.isIE || Ext.isGecko || Ext.webKitVersion >= 534.16
            }
        }, {
            identity: "TextAreaMaxLength",
            fn: function() {
                var d = document.createElement("textarea");
                return "maxlength"in d
            }
        }, {
            identity: "GetPositionPercentage",
            fn: function(d, e) {
                return a(e.childNodes[2], "left") == "10%"
            }
        }, {
            identity: "PercentageHeightOverflowBug",
            fn: function(h) {
                var d = false, g, e;
                if (Ext.getScrollbarSize().height) {
                    e = h.createElement("div");
                    g = e.style;
                    g.height = "50px";
                    g.width = "50px";
                    g.overflow = "auto";
                    g.position = "absolute";
                    e.innerHTML = ['<div style="display:table;height:100%;">', '<div style="width:51px;"></div>', "</div>"].join("");
                    h.body.appendChild(e);
                    if (e.firstChild.offsetHeight === 50) {
                        d = true
                    }
                    h.body.removeChild(e)
                }
                return d
            }
        }, {
            identity: "xOriginBug",
            fn: function(h, i) {
                i.innerHTML = '<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';
                var g = document.getElementById("b1").getBoundingClientRect()
                  , e = document.getElementById("b2").getBoundingClientRect()
                  , d = document.getElementById("b3").getBoundingClientRect();
                return e.left !== g.left && d.right !== g.right
            }
        }]
    }
}
)();
Ext.supports.init();
Ext.util.DelayedTask = function(e, d, b, h) {
    var g = this, i, a, c = function() {
        clearInterval(i);
        i = null;
        e.apply(d, b || []);
        Ext.EventManager.idleEvent.fire()
    };
    h = typeof h === "boolean" ? h : true;
    g.delay = function(k, m, l, j) {
        if (h) {
            g.cancel()
        }
        a = k || a,
        e = m || e;
        d = l || d;
        b = j || b;
        if (!i) {
            i = setInterval(c, a)
        }
    }
    ;
    g.cancel = function() {
        if (i) {
            clearInterval(i);
            i = null
        }
    }
}
;
Ext.define("Ext.util.Event", function() {
    var d = Array.prototype.slice
      , a = Ext.Array.insert
      , b = Ext.Array.toArray
      , c = Ext.util.DelayedTask;
    return {
        isEvent: true,
        suspended: 0,
        noOptions: {},
        constructor: function(g, e) {
            this.name = e;
            this.observable = g;
            this.listeners = []
        },
        addListener: function(p, s, u) {
            var n = this, o, j, q, e, t, m, h, l, k, g;
            s = s || n.observable;
            if (!p) {
                Ext.Error.raise({
                    sourceClass: Ext.getClassName(this.observable),
                    sourceMethod: "addListener",
                    msg: "The specified callback function is undefined"
                })
            }
            if (!n.isListening(p, s)) {
                j = n.createListener(p, s, u);
                if (n.firing) {
                    n.listeners = n.listeners.slice(0)
                }
                o = n.listeners;
                l = h = o.length;
                q = u && u.priority;
                t = n._highestNegativePriorityIndex;
                m = t !== undefined;
                if (q) {
                    e = q < 0;
                    if (!e || m) {
                        for (k = e ? t : 0; k < h; k++) {
                            g = o[k].o ? o[k].o.priority || 0 : 0;
                            if (g < q) {
                                l = k;
                                break
                            }
                        }
                    } else {
                        n._highestNegativePriorityIndex = l
                    }
                } else {
                    if (m) {
                        l = t
                    }
                }
                if (!e && l <= t) {
                    n._highestNegativePriorityIndex++
                }
                if (l === h) {
                    n.listeners[h] = j
                } else {
                    a(n.listeners, l, [j])
                }
            }
        },
        createListener: function(h, g, k) {
            g = g || this.observable;
            var i = this
              , j = {
                fn: h,
                scope: g,
                ev: i
            }
              , e = h;
            if (k) {
                j.o = k;
                if (k.single) {
                    e = i.createSingle(e, j, k, g)
                }
                if (k.target) {
                    e = i.createTargeted(e, j, k, g)
                }
                if (k.delay) {
                    e = i.createDelayed(e, j, k, g)
                }
                if (k.buffer) {
                    e = i.createBuffered(e, j, k, g)
                }
            }
            j.fireFn = e;
            return j
        },
        findListener: function(k, j) {
            var h = this.listeners, e = h.length, l, g;
            while (e--) {
                l = h[e];
                if (l) {
                    g = l.scope;
                    if (l.fn == k && g == (j || this.observable)) {
                        return e
                    }
                }
            }
            return -1
        },
        isListening: function(g, e) {
            return this.findListener(g, e) !== -1
        },
        removeListener: function(i, h) {
            var j = this, g, m, l, e;
            g = j.findListener(i, h);
            if (g != -1) {
                m = j.listeners[g];
                l = j._highestNegativePriorityIndex;
                if (j.firing) {
                    j.listeners = j.listeners.slice(0)
                }
                if (m.task) {
                    m.task.cancel();
                    delete m.task
                }
                e = m.tasks && m.tasks.length;
                if (e) {
                    while (e--) {
                        m.tasks[e].cancel()
                    }
                    delete m.tasks
                }
                j.listeners.splice(g, 1);
                if (l) {
                    if (g < l) {
                        j._highestNegativePriorityIndex--
                    } else {
                        if (g === l && g === j.listeners.length) {
                            delete j._highestNegativePriorityIndex
                        }
                    }
                }
                return true
            }
            return false
        },
        clearListeners: function() {
            var g = this.listeners
              , e = g.length;
            while (e--) {
                this.removeListener(g[e].fn, g[e].scope)
            }
        },
        suspend: function() {
            this.suspended += 1
        },
        resume: function() {
            if (this.suspended) {
                this.suspended--
            }
        },
        fire: function() {
            var l = this, j = l.listeners, k = j.length, h, g, m, e;
            if (!l.suspended && k > 0) {
                l.firing = true;
                g = arguments.length ? d.call(arguments, 0) : [];
                e = g.length;
                for (h = 0; h < k; h++) {
                    m = j[h];
                    if (m.o) {
                        g[e] = m.o
                    }
                    if (m && m.fireFn.apply(m.scope || l.observable, g) === false) {
                        return l.firing = false
                    }
                }
            }
            l.firing = false;
            return true
        },
        createTargeted: function(g, h, i, e) {
            return function() {
                if (i.target === arguments[0]) {
                    g.apply(e, arguments)
                }
            }
        },
        createBuffered: function(g, h, i, e) {
            h.task = new c();
            return function() {
                h.task.delay(i.buffer, g, e, b(arguments))
            }
        },
        createDelayed: function(g, h, i, e) {
            return function() {
                var j = new c();
                if (!h.tasks) {
                    h.tasks = []
                }
                h.tasks.push(j);
                j.delay(i.delay || 10, g, e, b(arguments))
            }
        },
        createSingle: function(g, h, i, e) {
            return function() {
                var j = h.ev;
                if (j.removeListener(h.fn, e) && j.observable) {
                    j.observable.hasListeners[j.name]--
                }
                return g.apply(e, arguments)
            }
        }
    }
});
Ext.EventManager = new function() {
    var a = this, g = document, e = window, d = /\\/g, b = Ext.baseCSSPrefix, h, c = function() {
        var n = g.body || g.getElementsByTagName("body")[0], j = [b + "body"], i = [], k = Ext.supports.CSS3LinearGradient, m = Ext.supports.CSS3BorderRadius, l;
        if (!n) {
            return false
        }
        l = n.parentNode;
        function o(p) {
            j.push(b + p)
        }
        if (Ext.isIE && Ext.isIE9m) {
            o("ie");
            if (Ext.isIE6) {
                o("ie6")
            } else {
                o("ie7p");
                if (Ext.isIE7) {
                    o("ie7")
                } else {
                    o("ie8p");
                    if (Ext.isIE8) {
                        o("ie8")
                    } else {
                        o("ie9p");
                        if (Ext.isIE9) {
                            o("ie9")
                        }
                    }
                }
            }
            if (Ext.isIE7m) {
                o("ie7m")
            }
            if (Ext.isIE8m) {
                o("ie8m")
            }
            if (Ext.isIE9m) {
                o("ie9m")
            }
            if (Ext.isIE7 || Ext.isIE8) {
                o("ie78")
            }
        }
        if (Ext.isIE10) {
            o("ie10")
        }
        if (Ext.isGecko) {
            o("gecko");
            if (Ext.isGecko3) {
                o("gecko3")
            }
            if (Ext.isGecko4) {
                o("gecko4")
            }
            if (Ext.isGecko5) {
                o("gecko5")
            }
        }
        if (Ext.isOpera) {
            o("opera")
        }
        if (Ext.isWebKit) {
            o("webkit")
        }
        if (Ext.isSafari) {
            o("safari");
            if (Ext.isSafari2) {
                o("safari2")
            }
            if (Ext.isSafari3) {
                o("safari3")
            }
            if (Ext.isSafari4) {
                o("safari4")
            }
            if (Ext.isSafari5) {
                o("safari5")
            }
            if (Ext.isSafari5_0) {
                o("safari5_0")
            }
        }
        if (Ext.isChrome) {
            o("chrome")
        }
        if (Ext.isMac) {
            o("mac")
        }
        if (Ext.isLinux) {
            o("linux")
        }
        if (!m) {
            o("nbr")
        }
        if (!k) {
            o("nlg")
        }
        if (l) {
            if (Ext.isStrict && (Ext.isIE6 || Ext.isIE7)) {
                Ext.isBorderBox = false
            } else {
                Ext.isBorderBox = true
            }
            if (Ext.isBorderBox) {
                i.push(b + "border-box")
            }
            if (Ext.isStrict) {
                i.push(b + "strict")
            } else {
                i.push(b + "quirks")
            }
            Ext.fly(l, "_internal").addCls(i)
        }
        Ext.fly(n, "_internal").addCls(j);
        return true
    };
    Ext.apply(a, {
        hasBoundOnReady: false,
        hasFiredReady: false,
        deferReadyEvent: 1,
        onReadyChain: [],
        readyEvent: function() {
            h = new Ext.util.Event();
            h.fire = function() {
                Ext._beforeReadyTime = Ext._beforeReadyTime || new Date().getTime();
                h.self.prototype.fire.apply(h, arguments);
                Ext._afterReadytime = new Date().getTime()
            }
            ;
            return h
        }(),
        idleEvent: new Ext.util.Event(),
        isReadyPaused: function() {
            return /[?&]ext-pauseReadyFire\b/i.test(location.search) && !Ext._continueFireReady
        },
        bindReadyEvent: function() {
            if (a.hasBoundOnReady) {
                return
            }
            if (g.readyState == "complete") {
                a.onReadyEvent({
                    type: g.readyState || "body"
                })
            } else {
                g.addEventListener("DOMContentLoaded", a.onReadyEvent, false);
                e.addEventListener("load", a.onReadyEvent, false);
                a.hasBoundOnReady = true
            }
        },
        onReadyEvent: function(i) {
            if (i && i.type) {
                a.onReadyChain.push(i.type)
            }
            if (a.hasBoundOnReady) {
                g.removeEventListener("DOMContentLoaded", a.onReadyEvent, false);
                e.removeEventListener("load", a.onReadyEvent, false)
            }
            if (!Ext.isReady) {
                a.fireDocReady()
            }
        },
        fireDocReady: function() {
            if (!Ext.isReady) {
                Ext._readyTime = new Date().getTime();
                Ext.isReady = true;
                Ext.supports.init();
                a.onWindowUnload();
                h.onReadyChain = a.onReadyChain;
                if (Ext.isNumber(a.deferReadyEvent)) {
                    Ext.Function.defer(a.fireReadyEvent, a.deferReadyEvent);
                    a.hasDocReadyTimer = true
                } else {
                    a.fireReadyEvent()
                }
            }
        },
        fireReadyEvent: function() {
            a.hasDocReadyTimer = false;
            a.isFiring = true;
            while (h.listeners.length && !a.isReadyPaused()) {
                h.fire()
            }
            a.isFiring = false;
            a.hasFiredReady = true;
            Ext.EventManager.idleEvent.fire()
        },
        onDocumentReady: function(k, j, i) {
            i = i || {};
            i.single = true;
            h.addListener(k, j, i);
            if (!(a.isFiring || a.hasDocReadyTimer)) {
                if (Ext.isReady) {
                    a.fireReadyEvent()
                } else {
                    a.bindReadyEvent()
                }
            }
        },
        stoppedMouseDownEvent: new Ext.util.Event(),
        propRe: /^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,
        getId: function(i) {
            var j;
            i = Ext.getDom(i);
            if (i === g || i === e) {
                j = i === g ? Ext.documentId : Ext.windowId
            } else {
                j = Ext.id(i)
            }
            if (!Ext.cache[j]) {
                Ext.addCacheEntry(j, null, i)
            }
            return j
        },
        prepareListenerConfig: function(l, j, n) {
            var o = a.propRe, k, m, i;
            for (k in j) {
                if (j.hasOwnProperty(k)) {
                    if (!o.test(k)) {
                        m = j[k];
                        if (typeof m == "function") {
                            i = [l, k, m, j.scope, j]
                        } else {
                            i = [l, k, m.fn, m.scope, m]
                        }
                        if (n) {
                            a.removeListener.apply(a, i)
                        } else {
                            a.addListener.apply(a, i)
                        }
                    }
                }
            }
        },
        mouseEnterLeaveRe: /mouseenter|mouseleave/,
        normalizeEvent: function(i, j) {
            if (a.mouseEnterLeaveRe.test(i) && !Ext.supports.MouseEnterLeave) {
                if (j) {
                    j = Ext.Function.createInterceptor(j, a.contains)
                }
                i = i == "mouseenter" ? "mouseover" : "mouseout"
            } else {
                if (i == "mousewheel" && !Ext.supports.MouseWheel && !Ext.isOpera) {
                    i = "DOMMouseScroll"
                }
            }
            return {
                eventName: i,
                fn: j
            }
        },
        contains: function(j) {
            j = j.browserEvent || j;
            var i = j.currentTarget
              , k = a.getRelatedTarget(j);
            if (i && i.firstChild) {
                while (k) {
                    if (k === i) {
                        return false
                    }
                    k = k.parentNode;
                    if (k && k.nodeType != 1) {
                        k = null
                    }
                }
            }
            return true
        },
        addListener: function(m, o, q, s, t) {
            if (typeof o !== "string") {
                a.prepareListenerConfig(m, o);
                return
            }
            var l = m.dom || Ext.getDom(m), p, k, i, j, n;
            if (!q) {
                Ext.Error.raise({
                    sourceClass: "Ext.EventManager",
                    sourceMethod: "addListener",
                    targetElement: m,
                    eventName: o,
                    msg: 'Error adding "' + o + '" listener. The handler function is undefined.'
                })
            }
            t = t || {};
            p = a.normalizeEvent(o, q);
            k = a.createListenerWrap(l, o, p.fn, s, t);
            i = a.getEventListenerCache(m.dom ? m : l, o);
            o = p.eventName;
            if (l.attachEvent) {
                j = a.normalizeId(l);
                if (j) {
                    n = Ext.cache[j][o];
                    if (n && n.firing) {
                        i = a.cloneEventListenerCache(l, o)
                    }
                }
            }
            i.push({
                fn: q,
                wrap: k,
                scope: s
            });
            if (l.attachEvent) {
                if (i.length === 1) {
                    j = a.normalizeId(l, true);
                    q = Ext.Function.bind(a.handleSingleEvent, a, [j, o], true);
                    Ext.cache[j][o] = {
                        firing: false,
                        fn: q
                    };
                    l.attachEvent("on" + o, q)
                }
            } else {
                if (l.addEventListener) {
                    l.addEventListener(o, k, t.capture || false)
                }
            }
            if (l == g && o == "mousedown") {
                a.stoppedMouseDownEvent.addListener(k)
            }
        },
        normalizeId: function(j, i) {
            var k;
            if (j === document) {
                k = Ext.documentId
            } else {
                if (j === window) {
                    k = Ext.windowId
                } else {
                    k = j.id
                }
            }
            if (!k && i) {
                k = a.getId(j)
            }
            return k
        },
        handleSingleEvent: function(o, p, l) {
            var m = a.getEventListenerCache(p, l), k = Ext.cache[p][l], j, n;
            if (k.firing) {
                return
            }
            k.firing = true;
            for (n = 0,
            j = m.length; n < j; ++n) {
                m[n].wrap(o)
            }
            k.firing = false
        },
        removeListener: function(t, v, w, y) {
            if (typeof v !== "string") {
                a.prepareListenerConfig(t, v, true);
                return
            }
            var q = Ext.getDom(t), m, n = t.dom ? t : Ext.get(q), k = a.getEventListenerCache(n, v), x = a.normalizeEvent(v).eventName, s = k.length, p, u, o, l;
            while (s--) {
                o = k[s];
                if (o && (!w || o.fn == w) && (!y || o.scope === y)) {
                    l = o.wrap;
                    if (l.task) {
                        clearTimeout(l.task);
                        delete l.task
                    }
                    p = l.tasks && l.tasks.length;
                    if (p) {
                        while (p--) {
                            clearTimeout(l.tasks[p])
                        }
                        delete l.tasks
                    }
                    if (q.detachEvent) {
                        m = a.normalizeId(q, true);
                        u = Ext.cache[m][x];
                        if (u && u.firing) {
                            k = a.cloneEventListenerCache(q, x)
                        }
                        if (k.length === 1) {
                            w = u.fn;
                            delete Ext.cache[m][x];
                            q.detachEvent("on" + x, w)
                        }
                    } else {
                        q.removeEventListener(x, l, false)
                    }
                    if (l && q == g && v == "mousedown") {
                        a.stoppedMouseDownEvent.removeListener(l)
                    }
                    Ext.Array.erase(k, s, 1)
                }
            }
        },
        removeAll: function(l) {
            var m = typeof l === "string" ? l : l.id, j, k, i;
            if (m && (j = Ext.cache[m])) {
                k = j.events;
                for (i in k) {
                    if (k.hasOwnProperty(i)) {
                        a.removeListener(l, i)
                    }
                }
                j.events = {}
            }
        },
        purgeElement: function(m, k) {
            var o = Ext.getDom(m), l = 0, j, n;
            if (k) {
                a.removeListener(m, k)
            } else {
                a.removeAll(m)
            }
            if (o && o.childNodes) {
                n = o.childNodes;
                for (j = n.length; l < j; l++) {
                    a.purgeElement(n[l], k)
                }
            }
        },
        createListenerWrap: function(p, j, m, l, i) {
            i = i || {};
            var n, o, k = function(s, q) {
                if (!o) {
                    n = ["if(!" + Ext.name + ") {return;}"];
                    if (i.buffer || i.delay || i.freezeEvent) {
                        if (i.freezeEvent) {
                            n.push("e = X.EventObject.setEvent(e);")
                        }
                        n.push("e = new X.EventObjectImpl(e, " + (i.freezeEvent ? "true" : "false") + ");")
                    } else {
                        n.push("e = X.EventObject.setEvent(e);")
                    }
                    if (i.delegate) {
                        n.push('var result, t = e.getTarget("' + (i.delegate + "").replace(d, "\\\\") + '", this);');
                        n.push("if(!t) {return;}")
                    } else {
                        n.push("var t = e.target, result;")
                    }
                    if (i.target) {
                        n.push("if(e.target !== options.target) {return;}")
                    }
                    if (i.stopEvent) {
                        n.push("e.stopEvent();")
                    } else {
                        if (i.preventDefault) {
                            n.push("e.preventDefault();")
                        }
                        if (i.stopPropagation) {
                            n.push("e.stopPropagation();")
                        }
                    }
                    if (i.normalized === false) {
                        n.push("e = e.browserEvent;")
                    }
                    if (i.buffer) {
                        n.push("(wrap.task && clearTimeout(wrap.task));");
                        n.push("wrap.task = setTimeout(function() {")
                    }
                    if (i.delay) {
                        n.push("wrap.tasks = wrap.tasks || [];");
                        n.push("wrap.tasks.push(setTimeout(function() {")
                    }
                    n.push("result = fn.call(scope || dom, e, t, options);");
                    if (i.single) {
                        n.push("evtMgr.removeListener(dom, ename, fn, scope);")
                    }
                    if (j !== "mousemove" && j !== "unload") {
                        n.push("if (evtMgr.idleEvent.listeners.length) {");
                        n.push("evtMgr.idleEvent.fire();");
                        n.push("}")
                    }
                    if (i.delay) {
                        n.push("}, " + i.delay + "));")
                    }
                    if (i.buffer) {
                        n.push("}, " + i.buffer + ");")
                    }
                    n.push("return result;");
                    o = Ext.cacheableFunctionFactory("e", "options", "fn", "scope", "ename", "dom", "wrap", "args", "X", "evtMgr", n.join("\n"))
                }
                return o.call(p, s, i, m, l, j, p, k, q, Ext, a)
            };
            return k
        },
        getEventCache: function(k) {
            var j, i, l;
            if (!k) {
                return []
            }
            if (k.$cache) {
                j = k.$cache
            } else {
                if (typeof k === "string") {
                    l = k
                } else {
                    l = a.getId(k)
                }
                j = Ext.cache[l]
            }
            i = j.events || (j.events = {});
            return i
        },
        getEventListenerCache: function(k, i) {
            var j = a.getEventCache(k);
            return j[i] || (j[i] = [])
        },
        cloneEventListenerCache: function(l, i) {
            var k = a.getEventCache(l), j;
            if (k[i]) {
                j = k[i].slice(0)
            } else {
                j = []
            }
            k[i] = j;
            return j
        },
        mouseLeaveRe: /(mouseout|mouseleave)/,
        mouseEnterRe: /(mouseover|mouseenter)/,
        stopEvent: function(i) {
            a.stopPropagation(i);
            a.preventDefault(i)
        },
        stopPropagation: function(i) {
            i = i.browserEvent || i;
            if (i.stopPropagation) {
                i.stopPropagation()
            } else {
                i.cancelBubble = true
            }
        },
        preventDefault: function(i) {
            i = i.browserEvent || i;
            if (i.preventDefault) {
                i.preventDefault()
            } else {
                i.returnValue = false;
                try {
                    if (i.ctrlKey || i.keyCode > 111 && i.keyCode < 124) {
                        i.keyCode = -1
                    }
                } catch (j) {}
            }
        },
        getRelatedTarget: function(i) {
            i = i.browserEvent || i;
            var j = i.relatedTarget;
            if (!j) {
                if (a.mouseLeaveRe.test(i.type)) {
                    j = i.toElement
                } else {
                    if (a.mouseEnterRe.test(i.type)) {
                        j = i.fromElement
                    }
                }
            }
            return a.resolveTextNode(j)
        },
        getPageX: function(i) {
            return a.getPageXY(i)[0]
        },
        getPageY: function(i) {
            return a.getPageXY(i)[1]
        },
        getPageXY: function(k) {
            k = k.browserEvent || k;
            var j = k.pageX
              , m = k.pageY
              , l = g.documentElement
              , i = g.body;
            if (!j && j !== 0) {
                j = k.clientX + (l && l.scrollLeft || i && i.scrollLeft || 0) - (l && l.clientLeft || i && i.clientLeft || 0);
                m = k.clientY + (l && l.scrollTop || i && i.scrollTop || 0) - (l && l.clientTop || i && i.clientTop || 0)
            }
            return [j, m]
        },
        getTarget: function(i) {
            i = i.browserEvent || i;
            return a.resolveTextNode(i.target || i.srcElement)
        },
        resolveTextNode: Ext.isGecko ? function(j) {
            if (j) {
                var i = HTMLElement.prototype.toString.call(j);
                if (i !== "[xpconnect wrapped native prototype]" && i !== "[object XULElement]") {
                    return j.nodeType == 3 ? j.parentNode : j
                }
            }
        }
        : function(i) {
            return i && i.nodeType == 3 ? i.parentNode : i
        }
        ,
        curWidth: 0,
        curHeight: 0,
        onWindowResize: function(l, k, j) {
            var i = a.resizeEvent;
            if (!i) {
                a.resizeEvent = i = new Ext.util.Event();
                a.on(e, "resize", a.fireResize, null, {
                    buffer: 100
                })
            }
            i.addListener(l, k, j)
        },
        fireResize: function() {
            var i = Ext.Element.getViewWidth()
              , j = Ext.Element.getViewHeight();
            if (a.curHeight != j || a.curWidth != i) {
                a.curHeight = j;
                a.curWidth = i;
                a.resizeEvent.fire(i, j)
            }
        },
        removeResizeListener: function(k, j) {
            var i = a.resizeEvent;
            if (i) {
                i.removeListener(k, j)
            }
        },
        onWindowUnload: function(l, k, j) {
            var i = a.unloadEvent;
            if (!i) {
                a.unloadEvent = i = new Ext.util.Event();
                a.addListener(e, "unload", a.fireUnload)
            }
            if (l) {
                i.addListener(l, k, j)
            }
        },
        fireUnload: function() {
            try {
                g = e = undefined;
                var o, k, m, l, j;
                a.unloadEvent.fire();
                if (Ext.isGecko3) {
                    o = Ext.ComponentQuery.query("gridview");
                    k = 0;
                    m = o.length;
                    for (; k < m; k++) {
                        o[k].scrollToTop()
                    }
                }
                j = Ext.cache;
                for (l in j) {
                    if (j.hasOwnProperty(l)) {
                        a.removeAll(l)
                    }
                }
            } catch (n) {}
        },
        removeUnloadListener: function(k, j) {
            var i = a.unloadEvent;
            if (i) {
                i.removeListener(k, j)
            }
        },
        useKeyDown: Ext.isWebKit ? parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/) && navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1], 10) >= 525 : !(Ext.isGecko && !Ext.isWindows || Ext.isOpera),
        getKeyEvent: function() {
            return a.useKeyDown ? "keydown" : "keypress"
        }
    });
    if (!("addEventListener"in document) && document.attachEvent) {
        Ext.apply(a, {
            pollScroll: function() {
                var i = true;
                try {
                    document.documentElement.doScroll("left")
                } catch (j) {
                    i = false
                }
                if (i && document.body) {
                    a.onReadyEvent({
                        type: "doScroll"
                    })
                } else {
                    a.scrollTimeout = setTimeout(a.pollScroll, 20)
                }
                return i
            },
            scrollTimeout: null,
            readyStatesRe: /complete/i,
            checkReadyState: function() {
                var i = document.readyState;
                if (a.readyStatesRe.test(i)) {
                    a.onReadyEvent({
                        type: i
                    })
                }
            },
            bindReadyEvent: function() {
                var i = true;
                if (a.hasBoundOnReady) {
                    return
                }
                try {
                    i = window.frameElement === undefined
                } catch (j) {
                    i = false
                }
                if (!i || !g.documentElement.doScroll) {
                    a.pollScroll = Ext.emptyFn
                }
                if (a.pollScroll() === true) {
                    return
                }
                if (g.readyState == "complete") {
                    a.onReadyEvent({
                        type: "already " + (g.readyState || "body")
                    })
                } else {
                    g.attachEvent("onreadystatechange", a.checkReadyState);
                    window.attachEvent("onload", a.onReadyEvent);
                    a.hasBoundOnReady = true
                }
            },
            onReadyEvent: function(i) {
                if (i && i.type) {
                    a.onReadyChain.push(i.type)
                }
                if (a.hasBoundOnReady) {
                    document.detachEvent("onreadystatechange", a.checkReadyState);
                    window.detachEvent("onload", a.onReadyEvent)
                }
                if (Ext.isNumber(a.scrollTimeout)) {
                    clearTimeout(a.scrollTimeout);
                    delete a.scrollTimeout
                }
                if (!Ext.isReady) {
                    a.fireDocReady()
                }
            },
            onReadyChain: []
        })
    }
    Ext.onReady = function(k, j, i) {
        Ext.Loader.onReady(k, j, true, i)
    }
    ;
    Ext.onDocumentReady = a.onDocumentReady;
    a.on = a.addListener;
    a.un = a.removeListener;
    Ext.onReady(c)
}
();
Ext.define("Ext.util.Observable", function(a) {
    var d = []
      , e = Array.prototype
      , g = e.slice
      , c = Ext.util.Event
      , b = function(h) {
        if (h instanceof b) {
            return h
        }
        this.observable = h;
        if (arguments[1].isObservable) {
            this.managedListeners = true
        }
        this.args = g.call(arguments, 1)
    };
    b.prototype.destroy = function() {
        this.observable[this.managedListeners ? "mun" : "un"].apply(this.observable, this.args)
    }
    ;
    return {
        statics: {
            releaseCapture: function(h) {
                h.fireEvent = this.prototype.fireEvent
            },
            capture: function(j, i, h) {
                j.fireEvent = Ext.Function.createInterceptor(j.fireEvent, i, h)
            },
            observe: function(h, i) {
                if (h) {
                    if (!h.isObservable) {
                        Ext.applyIf(h, new this());
                        this.capture(h.prototype, h.fireEvent, h)
                    }
                    if (Ext.isObject(i)) {
                        h.on(i)
                    }
                }
                return h
            },
            prepareClass: function(j, i) {
                if (!j.HasListeners) {
                    var k = function() {}
                      , h = j.superclass.HasListeners || i && i.HasListeners || a.HasListeners;
                    j.prototype.HasListeners = j.HasListeners = k;
                    k.prototype = j.hasListeners = new h()
                }
            }
        },
        isObservable: true,
        eventsSuspended: 0,
        constructor: function(h) {
            var i = this;
            Ext.apply(i, h);
            if (!i.hasListeners) {
                i.hasListeners = new i.HasListeners()
            }
            i.events = i.events || {};
            if (i.listeners) {
                i.on(i.listeners);
                i.listeners = null
            }
            if (i.bubbleEvents) {
                i.enableBubble(i.bubbleEvents)
            }
        },
        onClassExtended: function(h) {
            if (!h.HasListeners) {
                a.prepareClass(h)
            }
        },
        eventOptionsRe: /^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,
        addManagedListener: function(o, k, m, p, q, j) {
            var l = this, n = l.managedListeners = l.managedListeners || [], i, h;
            if (typeof k !== "string") {
                h = arguments.length > 4 ? q : k;
                q = k;
                for (k in q) {
                    if (q.hasOwnProperty(k)) {
                        i = q[k];
                        if (!l.eventOptionsRe.test(k)) {
                            l.addManagedListener(o, k, i.fn || i, i.scope || q.scope || p, i.fn ? i : h, true)
                        }
                    }
                }
                if (q && q.destroyable) {
                    return new b(l,o,q)
                }
            } else {
                if (typeof m === "string") {
                    p = p || l;
                    if (!p[m]) {
                        Ext.Error.raise('No method named "' + m + '"')
                    }
                    m = p[m]
                }
                n.push({
                    item: o,
                    ename: k,
                    fn: m,
                    scope: p,
                    options: q
                });
                o.on(k, m, p, q);
                if (!j && q && q.destroyable) {
                    return new b(l,o,k,m,p)
                }
            }
        },
        removeManagedListener: function(p, k, n, q) {
            var m = this, s, j, o, h, l;
            if (typeof k !== "string") {
                s = k;
                for (k in s) {
                    if (s.hasOwnProperty(k)) {
                        j = s[k];
                        if (!m.eventOptionsRe.test(k)) {
                            m.removeManagedListener(p, k, j.fn || j, j.scope || s.scope || q)
                        }
                    }
                }
            } else {
                o = m.managedListeners ? m.managedListeners.slice() : [];
                for (l = 0,
                h = o.length; l < h; l++) {
                    m.removeManagedListenerItem(false, o[l], p, k, n, q)
                }
            }
        },
        fireEvent: function(h) {
            return this.fireEventArgs(h, Array.prototype.slice.call(arguments, 1))
        },
        fireEventArgs: function(h, j) {
            h = h.toLowerCase();
            var m = this
              , k = m.events
              , l = k && k[h]
              , i = true;
            if (l && m.hasListeners[h]) {
                i = m.continueFireEvent(h, j || d, l.bubble)
            }
            return i
        },
        continueFireEvent: function(j, l, i) {
            var n = this, h, m, k = true;
            do {
                if (n.eventsSuspended) {
                    if (h = n.eventQueue) {
                        h.push([j, l, i])
                    }
                    return k
                } else {
                    m = n.events[j];
                    if (m && m != true) {
                        if ((k = m.fire.apply(m, l)) === false) {
                            break
                        }
                    }
                }
            } while (i && (n = n.getBubbleParent()));return k
        },
        getBubbleParent: function() {
            var i = this
              , h = i.getBubbleTarget && i.getBubbleTarget();
            if (h && h.isObservable) {
                return h
            }
            return null
        },
        addListener: function(k, m, l, j) {
            var o = this, i, n, h = 0;
            if (typeof k !== "string") {
                j = k;
                for (k in j) {
                    if (j.hasOwnProperty(k)) {
                        i = j[k];
                        if (!o.eventOptionsRe.test(k)) {
                            o.addListener(k, i.fn || i, i.scope || j.scope, i.fn ? i : j)
                        }
                    }
                }
                if (j && j.destroyable) {
                    return new b(o,j)
                }
            } else {
                k = k.toLowerCase();
                n = o.events[k];
                if (n && n.isEvent) {
                    h = n.listeners.length
                } else {
                    o.events[k] = n = new c(o,k)
                }
                if (!m) {
                    Ext.Error.raise("No function passed for event " + o.$className + "." + k)
                }
                if (typeof m === "string") {
                    l = l || o;
                    if (!l[m]) {
                        Ext.Error.raise('No method named "' + m + '"')
                    }
                    m = l[m]
                }
                n.addListener(m, l, j);
                if (n.listeners.length !== h) {
                    o.hasListeners._incr_(k)
                }
                if (j && j.destroyable) {
                    return new b(o,k,m,l,j)
                }
            }
        },
        removeListener: function(j, l, k) {
            var n = this, i, m, h;
            if (typeof j !== "string") {
                h = j;
                for (j in h) {
                    if (h.hasOwnProperty(j)) {
                        i = h[j];
                        if (!n.eventOptionsRe.test(j)) {
                            n.removeListener(j, i.fn || i, i.scope || h.scope)
                        }
                    }
                }
            } else {
                j = j.toLowerCase();
                m = n.events[j];
                if (m && m.isEvent) {
                    if (m.removeListener(l, k)) {
                        n.hasListeners._decr_(j)
                    }
                }
            }
        },
        clearListeners: function() {
            var j = this.events, h = this.hasListeners, k, i;
            for (i in j) {
                if (j.hasOwnProperty(i)) {
                    k = j[i];
                    if (k.isEvent) {
                        delete h[i];
                        k.clearListeners()
                    }
                }
            }
            this.clearManagedListeners()
        },
        purgeListeners: function() {
            if (Ext.global.console) {
                Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")
            }
            return this.clearListeners.apply(this, arguments)
        },
        clearManagedListeners: function() {
            var j = this.managedListeners || []
              , k = 0
              , h = j.length;
            for (; k < h; k++) {
                this.removeManagedListenerItem(true, j[k])
            }
            this.managedListeners = []
        },
        removeManagedListenerItem: function(i, h, m, j, l, k) {
            if (i || h.item === m && h.ename === j && (!l || h.fn === l) && (!k || h.scope === k)) {
                h.item.un(h.ename, h.fn, h.scope);
                if (!i) {
                    Ext.Array.remove(this.managedListeners, h)
                }
            }
        },
        purgeManagedListeners: function() {
            if (Ext.global.console) {
                Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")
            }
            return this.clearManagedListeners.apply(this, arguments)
        },
        addEvents: function(n) {
            var m = this, l = m.events || (m.events = {}), h, j, k;
            if (typeof n == "string") {
                for (j = arguments,
                k = j.length; k--; ) {
                    h = j[k];
                    if (!l[h]) {
                        l[h] = true
                    }
                }
            } else {
                Ext.applyIf(m.events, n)
            }
        },
        hasListener: function(h) {
            return !!this.hasListeners[h.toLowerCase()]
        },
        suspendEvents: function(h) {
            this.eventsSuspended += 1;
            if (h && !this.eventQueue) {
                this.eventQueue = []
            }
        },
        suspendEvent: function(j) {
            var h = arguments.length, k, l;
            for (k = 0; k < h; k++) {
                l = this.events[arguments[k]];
                if (l && l.suspend) {
                    l.suspend()
                }
            }
        },
        resumeEvent: function() {
            var h = arguments.length, j, k;
            for (j = 0; j < h; j++) {
                k = this.events[arguments[j]];
                if (k && k.resume) {
                    k.resume()
                }
            }
        },
        resumeEvents: function() {
            var h = this, k = h.eventQueue, j, i;
            if (h.eventsSuspended && !--h.eventsSuspended) {
                delete h.eventQueue;
                if (k) {
                    j = k.length;
                    for (i = 0; i < j; i++) {
                        h.continueFireEvent.apply(h, k[i])
                    }
                }
            }
        },
        relayEvents: function(j, l, o) {
            var n = this, h = l.length, k = 0, m, p = {};
            for (; k < h; k++) {
                m = l[k];
                p[m] = n.createRelayer(o ? o + m : m)
            }
            n.mon(j, p, null, null, undefined);
            return new b(n,j,p)
        },
        createRelayer: function(h, i) {
            var j = this;
            return function() {
                return j.fireEventArgs.call(j, h, i ? Array.prototype.slice.apply(arguments, i) : arguments)
            }
        },
        enableBubble: function(p) {
            if (p) {
                var n = this, o = typeof p == "string" ? arguments : p, m = o.length, k = n.events, j, l, h;
                for (h = 0; h < m; ++h) {
                    j = o[h].toLowerCase();
                    l = k[j];
                    if (!l || typeof l == "boolean") {
                        k[j] = l = new c(n,j)
                    }
                    n.hasListeners._incr_(j);
                    l.bubble = true
                }
            }
        }
    }
}, function() {
    var b = this, e = b.prototype, c = function() {}, g = function(h) {
        if (!h.HasListeners) {
            var i = h.prototype;
            b.prepareClass(h, this);
            h.onExtended(function(j) {
                Ext.classSystemMonitor && Ext.classSystemMonitor("extend mixin", arguments);
                b.prepareClass(j)
            });
            if (i.onClassMixedIn) {
                Ext.override(h, {
                    onClassMixedIn: function(j) {
                        g.call(this, j);
                        this.callParent(arguments)
                    }
                })
            } else {
                i.onClassMixedIn = function(j) {
                    g.call(this, j)
                }
            }
        }
    }, a;
    c.prototype = {
        _decr_: function(h) {
            if (!--this[h]) {
                delete this[h]
            }
        },
        _incr_: function(h) {
            if (this.hasOwnProperty(h)) {
                ++this[h]
            } else {
                this[h] = 1
            }
        }
    };
    e.HasListeners = b.HasListeners = c;
    b.createAlias({
        on: "addListener",
        un: "removeListener",
        mon: "addManagedListener",
        mun: "removeManagedListener"
    });
    b.observeClass = b.observe;
    Ext.globalEvents = a = new b({
        events: {
            idle: Ext.EventManager.idleEvent,
            ready: Ext.EventManager.readyEvent
        }
    });
    Ext.on = function() {
        return a.addListener.apply(a, arguments)
    }
    ;
    Ext.un = function() {
        return a.removeListener.apply(a, arguments)
    }
    ;
    function d(n) {
        var m = (this.methodEvents = this.methodEvents || {})[n], j, i, k, l = this, h;
        if (!m) {
            this.methodEvents[n] = m = {};
            m.originalFn = this[n];
            m.methodName = n;
            m.before = [];
            m.after = [];
            h = function(q, p, o) {
                if ((i = q.apply(p || l, o)) !== undefined) {
                    if (typeof i == "object") {
                        if (i.returnValue !== undefined) {
                            j = i.returnValue
                        } else {
                            j = i
                        }
                        k = !!i.cancel
                    } else {
                        if (i === false) {
                            k = true
                        } else {
                            j = i
                        }
                    }
                }
            }
            ;
            this[n] = function() {
                var q = Array.prototype.slice.call(arguments, 0), p, s, o;
                j = i = undefined;
                k = false;
                for (s = 0,
                o = m.before.length; s < o; s++) {
                    p = m.before[s];
                    h(p.fn, p.scope, q);
                    if (k) {
                        return j
                    }
                }
                if ((i = m.originalFn.apply(l, q)) !== undefined) {
                    j = i
                }
                for (s = 0,
                o = m.after.length; s < o; s++) {
                    p = m.after[s];
                    h(p.fn, p.scope, q);
                    if (k) {
                        return j
                    }
                }
                return j
            }
        }
        return m
    }
    Ext.apply(e, {
        onClassMixedIn: g,
        beforeMethod: function(j, i, h) {
            d.call(this, j).before.push({
                fn: i,
                scope: h
            })
        },
        afterMethod: function(j, i, h) {
            d.call(this, j).after.push({
                fn: i,
                scope: h
            })
        },
        removeMethodListener: function(n, l, k) {
            var m = this.getMethodEvent(n), j, h;
            for (j = 0,
            h = m.before.length; j < h; j++) {
                if (m.before[j].fn == l && m.before[j].scope == k) {
                    Ext.Array.erase(m.before, j, 1);
                    return
                }
            }
            for (j = 0,
            h = m.after.length; j < h; j++) {
                if (m.after[j].fn == l && m.after[j].scope == k) {
                    Ext.Array.erase(m.after, j, 1);
                    return
                }
            }
        },
        toggleEventLogging: function(h) {
            Ext.util.Observable[h ? "capture" : "releaseCapture"](this, function(i) {
                if (Ext.isDefined(Ext.global.console)) {
                    Ext.global.console.log(i, arguments)
                }
            })
        }
    })
});
Ext.define("Ext.EventObjectImpl", {
    BACKSPACE: 8,
    TAB: 9,
    NUM_CENTER: 12,
    ENTER: 13,
    RETURN: 13,
    SHIFT: 16,
    CTRL: 17,
    ALT: 18,
    PAUSE: 19,
    CAPS_LOCK: 20,
    ESC: 27,
    SPACE: 32,
    PAGE_UP: 33,
    PAGE_DOWN: 34,
    END: 35,
    HOME: 36,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    PRINT_SCREEN: 44,
    INSERT: 45,
    DELETE: 46,
    ZERO: 48,
    ONE: 49,
    TWO: 50,
    THREE: 51,
    FOUR: 52,
    FIVE: 53,
    SIX: 54,
    SEVEN: 55,
    EIGHT: 56,
    NINE: 57,
    A: 65,
    B: 66,
    C: 67,
    D: 68,
    E: 69,
    F: 70,
    G: 71,
    H: 72,
    I: 73,
    J: 74,
    K: 75,
    L: 76,
    M: 77,
    N: 78,
    O: 79,
    P: 80,
    Q: 81,
    R: 82,
    S: 83,
    T: 84,
    U: 85,
    V: 86,
    W: 87,
    X: 88,
    Y: 89,
    Z: 90,
    CONTEXT_MENU: 93,
    NUM_ZERO: 96,
    NUM_ONE: 97,
    NUM_TWO: 98,
    NUM_THREE: 99,
    NUM_FOUR: 100,
    NUM_FIVE: 101,
    NUM_SIX: 102,
    NUM_SEVEN: 103,
    NUM_EIGHT: 104,
    NUM_NINE: 105,
    NUM_MULTIPLY: 106,
    NUM_PLUS: 107,
    NUM_MINUS: 109,
    NUM_PERIOD: 110,
    NUM_DIVISION: 111,
    F1: 112,
    F2: 113,
    F3: 114,
    F4: 115,
    F5: 116,
    F6: 117,
    F7: 118,
    F8: 119,
    F9: 120,
    F10: 121,
    F11: 122,
    F12: 123,
    WHEEL_SCALE: function() {
        var a;
        if (Ext.isGecko) {
            a = 3
        } else {
            if (Ext.isMac) {
                if (Ext.isSafari && Ext.webKitVersion >= 532) {
                    a = 120
                } else {
                    a = 12
                }
                a *= 3
            } else {
                a = 120
            }
        }
        return a
    }(),
    clickRe: /(dbl)?click/,
    safariKeys: {
        3: 13,
        63234: 37,
        63235: 39,
        63232: 38,
        63233: 40,
        63276: 33,
        63277: 34,
        63272: 46,
        63273: 36,
        63275: 35
    },
    btnMap: Ext.isIE ? {
        1: 0,
        4: 1,
        2: 2
    } : {
        0: 0,
        1: 1,
        2: 2
    },
    constructor: function(a, b) {
        if (a) {
            this.setEvent(a.browserEvent || a, b)
        }
    },
    setEvent: function(d, e) {
        var c = this, b, a;
        if (d === c || d && d.browserEvent) {
            return d
        }
        c.browserEvent = d;
        if (d) {
            b = d.button ? c.btnMap[d.button] : d.which ? d.which - 1 : -1;
            if (c.clickRe.test(d.type) && b == -1) {
                b = 0
            }
            a = {
                type: d.type,
                button: b,
                shiftKey: d.shiftKey,
                ctrlKey: d.ctrlKey || d.metaKey || false,
                altKey: d.altKey,
                keyCode: d.keyCode,
                charCode: d.charCode,
                target: Ext.EventManager.getTarget(d),
                relatedTarget: Ext.EventManager.getRelatedTarget(d),
                currentTarget: d.currentTarget,
                xy: e ? c.getXY() : null
            }
        } else {
            a = {
                button: -1,
                shiftKey: false,
                ctrlKey: false,
                altKey: false,
                keyCode: 0,
                charCode: 0,
                target: null,
                xy: [0, 0]
            }
        }
        Ext.apply(c, a);
        return c
    },
    stopEvent: function() {
        this.stopPropagation();
        this.preventDefault()
    },
    preventDefault: function() {
        if (this.browserEvent) {
            Ext.EventManager.preventDefault(this.browserEvent)
        }
    },
    stopPropagation: function() {
        var a = this.browserEvent;
        if (a) {
            if (a.type == "mousedown") {
                Ext.EventManager.stoppedMouseDownEvent.fire(this)
            }
            Ext.EventManager.stopPropagation(a)
        }
    },
    getCharCode: function() {
        return this.charCode || this.keyCode
    },
    getKey: function() {
        return this.normalizeKey(this.keyCode || this.charCode)
    },
    normalizeKey: function(a) {
        return Ext.isWebKit ? this.safariKeys[a] || a : a
    },
    getPageX: function() {
        return this.getX()
    },
    getPageY: function() {
        return this.getY()
    },
    getX: function() {
        return this.getXY()[0]
    },
    getY: function() {
        return this.getXY()[1]
    },
    getXY: function() {
        if (!this.xy) {
            this.xy = Ext.EventManager.getPageXY(this.browserEvent)
        }
        return this.xy
    },
    getTarget: function(b, c, a) {
        if (b) {
            return Ext.fly(this.target).findParent(b, c, a)
        }
        return a ? Ext.get(this.target) : this.target
    },
    getRelatedTarget: function(b, c, a) {
        if (b && this.relatedTarget) {
            return Ext.fly(this.relatedTarget).findParent(b, c, a)
        }
        return a ? Ext.get(this.relatedTarget) : this.relatedTarget
    },
    correctWheelDelta: function(c) {
        var b = this.WHEEL_SCALE
          , a = Math.round(c / b);
        if (!a && c) {
            a = c < 0 ? -1 : 1
        }
        return a
    },
    getWheelDeltas: function() {
        var d = this
          , c = d.browserEvent
          , b = 0
          , a = 0;
        if (Ext.isDefined(c.wheelDeltaX)) {
            b = c.wheelDeltaX;
            a = c.wheelDeltaY
        } else {
            if (c.wheelDelta) {
                a = c.wheelDelta
            } else {
                if (c.detail) {
                    a = -c.detail;
                    if (a > 100) {
                        a = 3
                    } else {
                        if (a < -100) {
                            a = -3
                        }
                    }
                    if (Ext.isDefined(c.axis) && c.axis === c.HORIZONTAL_AXIS) {
                        b = a;
                        a = 0
                    }
                }
            }
        }
        return {
            x: d.correctWheelDelta(b),
            y: d.correctWheelDelta(a)
        }
    },
    getWheelDelta: function() {
        var a = this.getWheelDeltas();
        return a.y
    },
    within: function(d, e, b) {
        if (d) {
            var c = e ? this.getRelatedTarget() : this.getTarget(), a;
            if (c) {
                a = Ext.fly(d).contains(c);
                if (!a && b) {
                    a = c == Ext.getDom(d)
                }
                return a
            }
        }
        return false
    },
    isNavKeyPress: function() {
        var b = this
          , a = this.normalizeKey(b.keyCode);
        return a >= 33 && a <= 40 || a == b.RETURN || a == b.TAB || a == b.ESC
    },
    isSpecialKey: function() {
        var a = this.normalizeKey(this.keyCode);
        return this.type == "keypress" && this.ctrlKey || this.isNavKeyPress() || a == this.BACKSPACE || a >= 16 && a <= 20 || a >= 44 && a <= 46
    },
    getPoint: function() {
        var a = this.getXY();
        return new Ext.util.Point(a[0],a[1])
    },
    hasModifier: function() {
        return this.ctrlKey || this.altKey || this.shiftKey || this.metaKey
    },
    injectEvent: function() {
        var d, e = {}, c;
        if (!Ext.isIE && document.createEvent) {
            d = {
                createHtmlEvent: function(k, i, h, g) {
                    var j = k.createEvent("HTMLEvents");
                    j.initEvent(i, h, g);
                    return j
                },
                createMouseEvent: function(v, t, m, l, o, k, i, j, g, s, q, n, p) {
                    var h = v.createEvent("MouseEvents")
                      , u = v.defaultView || window;
                    if (h.initMouseEvent) {
                        h.initMouseEvent(t, m, l, u, o, k, i, k, i, j, g, s, q, n, p)
                    } else {
                        h = v.createEvent("UIEvents");
                        h.initEvent(t, m, l);
                        h.view = u;
                        h.detail = o;
                        h.screenX = k;
                        h.screenY = i;
                        h.clientX = k;
                        h.clientY = i;
                        h.ctrlKey = j;
                        h.altKey = g;
                        h.metaKey = q;
                        h.shiftKey = s;
                        h.button = n;
                        h.relatedTarget = p
                    }
                    return h
                },
                createUIEvent: function(m, k, i, h, j) {
                    var l = m.createEvent("UIEvents")
                      , g = m.defaultView || window;
                    l.initUIEvent(k, i, h, g, j);
                    return l
                },
                fireEvent: function(i, g, h) {
                    i.dispatchEvent(h)
                },
                fixTarget: function(g) {
                    if (g == window && !g.dispatchEvent) {
                        return document
                    }
                    return g
                }
            }
        } else {
            if (document.createEventObject) {
                c = {
                    0: 1,
                    1: 4,
                    2: 2
                };
                d = {
                    createHtmlEvent: function(k, i, h, g) {
                        var j = k.createEventObject();
                        j.bubbles = h;
                        j.cancelable = g;
                        return j
                    },
                    createMouseEvent: function(u, t, m, l, o, k, i, j, g, s, q, n, p) {
                        var h = u.createEventObject();
                        h.bubbles = m;
                        h.cancelable = l;
                        h.detail = o;
                        h.screenX = k;
                        h.screenY = i;
                        h.clientX = k;
                        h.clientY = i;
                        h.ctrlKey = j;
                        h.altKey = g;
                        h.shiftKey = s;
                        h.metaKey = q;
                        h.button = c[n] || n;
                        h.relatedTarget = p;
                        return h
                    },
                    createUIEvent: function(l, j, h, g, i) {
                        var k = l.createEventObject();
                        k.bubbles = h;
                        k.cancelable = g;
                        return k
                    },
                    fireEvent: function(i, g, h) {
                        i.fireEvent("on" + g, h)
                    },
                    fixTarget: function(g) {
                        if (g == document) {
                            return document.documentElement
                        }
                        return g
                    }
                }
            }
        }
        Ext.Object.each({
            load: [false, false],
            unload: [false, false],
            select: [true, false],
            change: [true, false],
            submit: [true, true],
            reset: [true, false],
            resize: [true, false],
            scroll: [true, false]
        }, function(i, j) {
            var h = j[0]
              , g = j[1];
            e[i] = function(m, k) {
                var l = d.createHtmlEvent(i, h, g);
                d.fireEvent(m, i, l)
            }
        });
        function b(i, h) {
            var g = i != "mousemove";
            return function(m, j) {
                var l = j.getXY()
                  , k = d.createMouseEvent(m.ownerDocument, i, true, g, h, l[0], l[1], j.ctrlKey, j.altKey, j.shiftKey, j.metaKey, j.button, j.relatedTarget);
                d.fireEvent(m, i, k)
            }
        }
        Ext.each(["click", "dblclick", "mousedown", "mouseup", "mouseover", "mousemove", "mouseout"], function(g) {
            e[g] = b(g, 1)
        });
        Ext.Object.each({
            focusin: [true, false],
            focusout: [true, false],
            activate: [true, true],
            focus: [false, false],
            blur: [false, false]
        }, function(i, j) {
            var h = j[0]
              , g = j[1];
            e[i] = function(m, k) {
                var l = d.createUIEvent(m.ownerDocument, i, h, g, 1);
                d.fireEvent(m, i, l)
            }
        });
        if (!d) {
            e = {};
            d = {
                fixTarget: Ext.identityFn
            }
        }
        function a(h, g) {}
        return function(j) {
            var i = this
              , h = e[i.type] || a
              , g = j ? j.dom || j : i.getTarget();
            g = d.fixTarget(g);
            h(g, i)
        }
    }()
}, function() {
    Ext.EventObject = new Ext.EventObjectImpl()
});
Ext.define("Ext.dom.AbstractQuery", {
    select: function(k, b) {
        var h = [], d, g, e, c, a;
        b = b || document;
        if (typeof b == "string") {
            b = document.getElementById(b)
        }
        k = k.split(",");
        for (g = 0,
        c = k.length; g < c; g++) {
            if (typeof k[g] == "string") {
                if (typeof k[g][0] == "@") {
                    d = b.getAttributeNode(k[g].substring(1));
                    h.push(d)
                } else {
                    d = b.querySelectorAll(k[g]);
                    for (e = 0,
                    a = d.length; e < a; e++) {
                        h.push(d[e])
                    }
                }
            }
        }
        return h
    },
    selectNode: function(b, a) {
        return this.select(b, a)[0]
    },
    is: function(a, b) {
        if (typeof a == "string") {
            a = document.getElementById(a)
        }
        return this.select(b).indexOf(a) !== -1
    }
});
Ext.define("Ext.dom.AbstractHelper", {
    emptyTags: /^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,
    confRe: /^(?:tag|children|cn|html|tpl|tplData)$/i,
    endRe: /end/i,
    styleSepRe: /\s*(?::|;)\s*/,
    attributeTransform: {
        cls: "class",
        htmlFor: "for"
    },
    closeTags: {},
    decamelizeName: function() {
        var c = /([a-z])([A-Z])/g
          , b = {};
        function a(d, g, e) {
            return g + "-" + e.toLowerCase()
        }
        return function(d) {
            return b[d] || (b[d] = d.replace(c, a))
        }
    }(),
    generateMarkup: function(j, b) {
        var h = this, g = typeof j, e, a, k, d, c;
        if (g == "string" || g == "number") {
            b.push(j)
        } else {
            if (Ext.isArray(j)) {
                for (d = 0; d < j.length; d++) {
                    if (j[d]) {
                        h.generateMarkup(j[d], b)
                    }
                }
            } else {
                k = j.tag || "div";
                b.push("<", k);
                for (e in j) {
                    if (j.hasOwnProperty(e)) {
                        a = j[e];
                        if (!h.confRe.test(e)) {
                            if (typeof a == "object") {
                                b.push(" ", e, '="');
                                h.generateStyles(a, b).push('"')
                            } else {
                                b.push(" ", h.attributeTransform[e] || e, '="', a, '"')
                            }
                        }
                    }
                }
                if (h.emptyTags.test(k)) {
                    b.push("/>")
                } else {
                    b.push(">");
                    if (a = j.tpl) {
                        a.applyOut(j.tplData, b)
                    }
                    if (a = j.html) {
                        b.push(a)
                    }
                    if (a = j.cn || j.children) {
                        h.generateMarkup(a, b)
                    }
                    c = h.closeTags;
                    b.push(c[k] || (c[k] = "</" + k + ">"))
                }
            }
        }
        return b
    },
    generateStyles: function(e, c) {
        var b = c || [], d;
        for (d in e) {
            if (e.hasOwnProperty(d)) {
                b.push(this.decamelizeName(d), ":", e[d], ";")
            }
        }
        return c || b.join("")
    },
    markup: function(a) {
        if (typeof a == "string") {
            return a
        }
        var b = this.generateMarkup(a, []);
        return b.join("")
    },
    applyStyles: function(c, d) {
        if (d) {
            var b = 0, a;
            c = Ext.fly(c, "_applyStyles");
            if (typeof d == "function") {
                d = d.call()
            }
            if (typeof d == "string") {
                d = Ext.util.Format.trim(d).split(this.styleSepRe);
                for (a = d.length; b < a; ) {
                    c.setStyle(d[b++], d[b++])
                }
            } else {
                if (Ext.isObject(d)) {
                    c.setStyle(d)
                }
            }
        }
    },
    insertHtml: function(c, g, d) {
        var h = {}, a, b, i, e;
        c = c.toLowerCase();
        h.beforebegin = ["BeforeBegin", "previousSibling"];
        h.afterend = ["AfterEnd", "nextSibling"];
        b = g.ownerDocument.createRange();
        a = "setStart" + (this.endRe.test(c) ? "After" : "Before");
        if (h[c]) {
            b[a](g);
            i = b.createContextualFragment(d);
            g.parentNode.insertBefore(i, c == "beforebegin" ? g : g.nextSibling);
            return g[(c == "beforebegin" ? "previous" : "next") + "Sibling"]
        } else {
            e = (c == "afterbegin" ? "first" : "last") + "Child";
            if (g.firstChild) {
                b[a](g[e]);
                i = b.createContextualFragment(d);
                if (c == "afterbegin") {
                    g.insertBefore(i, g.firstChild)
                } else {
                    g.appendChild(i)
                }
            } else {
                g.innerHTML = d
            }
            return g[e]
        }
        throw 'Illegal insertion point -> "' + c + '"'
    },
    insertBefore: function(a, c, b) {
        return this.doInsert(a, c, b, "beforebegin")
    },
    insertAfter: function(a, c, b) {
        return this.doInsert(a, c, b, "afterend", "nextSibling")
    },
    insertFirst: function(a, c, b) {
        return this.doInsert(a, c, b, "afterbegin", "firstChild")
    },
    append: function(a, c, b) {
        return this.doInsert(a, c, b, "beforeend", "", true)
    },
    overwrite: function(a, c, b) {
        a = Ext.getDom(a);
        a.innerHTML = this.markup(c);
        return b ? Ext.get(a.firstChild) : a.firstChild
    },
    doInsert: function(d, g, e, h, c, a) {
        var b = this.insertHtml(h, Ext.getDom(d), this.markup(g));
        return e ? Ext.get(b, true) : b
    }
});
Ext.define("Ext.dom.AbstractElement_static", {
    override: "Ext.dom.AbstractElement",
    inheritableStatics: {
        unitRe: /\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,
        camelRe: /(-[a-z])/gi,
        msRe: /^-ms-/,
        cssRe: /([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,
        opacityRe: /alpha\(opacity=(.*)\)/i,
        propertyCache: {},
        defaultUnit: "px",
        borders: {
            l: "border-left-width",
            r: "border-right-width",
            t: "border-top-width",
            b: "border-bottom-width"
        },
        paddings: {
            l: "padding-left",
            r: "padding-right",
            t: "padding-top",
            b: "padding-bottom"
        },
        margins: {
            l: "margin-left",
            r: "margin-right",
            t: "margin-top",
            b: "margin-bottom"
        },
        addUnits: function(b, a) {
            if (typeof b == "number") {
                return b + (a || this.defaultUnit || "px")
            }
            if (b === "" || b == "auto" || b === undefined || b === null) {
                return b || ""
            }
            if (!this.unitRe.test(b)) {
                if (Ext.isDefined(Ext.global.console)) {
                    Ext.global.console.warn("Warning, size detected as NaN on Element.addUnits.")
                }
                return b || ""
            }
            return b
        },
        isAncestor: function(b, d) {
            var a = false;
            b = Ext.getDom(b);
            d = Ext.getDom(d);
            if (b && d) {
                if (b.contains) {
                    return b.contains(d)
                } else {
                    if (b.compareDocumentPosition) {
                        return !!(b.compareDocumentPosition(d) & 16)
                    } else {
                        while (d = d.parentNode) {
                            a = d == b || a
                        }
                    }
                }
            }
            return a
        },
        parseBox: function(c) {
            c = c || 0;
            var a = typeof c, d, b;
            if (a === "number") {
                return {
                    top: c,
                    right: c,
                    bottom: c,
                    left: c
                }
            } else {
                if (a !== "string") {
                    return c
                }
            }
            d = c.split(" ");
            b = d.length;
            if (b == 1) {
                d[1] = d[2] = d[3] = d[0]
            } else {
                if (b == 2) {
                    d[2] = d[0];
                    d[3] = d[1]
                } else {
                    if (b == 3) {
                        d[3] = d[1]
                    }
                }
            }
            return {
                top: parseFloat(d[0]) || 0,
                right: parseFloat(d[1]) || 0,
                bottom: parseFloat(d[2]) || 0,
                left: parseFloat(d[3]) || 0
            }
        },
        unitizeBox: function(g, e) {
            var d = this.addUnits
              , c = this.parseBox(g);
            return d(c.top, e) + " " + d(c.right, e) + " " + d(c.bottom, e) + " " + d(c.left, e)
        },
        camelReplaceFn: function(b, c) {
            return c.charAt(1).toUpperCase()
        },
        normalize: function(a) {
            if (a == "float") {
                a = Ext.supports.Float ? "cssFloat" : "styleFloat"
            }
            return this.propertyCache[a] || (this.propertyCache[a] = a.replace(this.msRe, "ms-").replace(this.camelRe, this.camelReplaceFn))
        },
        getDocumentHeight: function() {
            return Math.max(!Ext.isStrict ? document.body.scrollHeight : document.documentElement.scrollHeight, this.getViewportHeight())
        },
        getDocumentWidth: function() {
            return Math.max(!Ext.isStrict ? document.body.scrollWidth : document.documentElement.scrollWidth, this.getViewportWidth())
        },
        getViewportHeight: function() {
            return window.innerHeight
        },
        getViewportWidth: function() {
            return window.innerWidth
        },
        getViewSize: function() {
            return {
                width: window.innerWidth,
                height: window.innerHeight
            }
        },
        getOrientation: function() {
            if (Ext.supports.OrientationChange) {
                return window.orientation == 0 ? "portrait" : "landscape"
            }
            return window.innerHeight > window.innerWidth ? "portrait" : "landscape"
        },
        fromPoint: function(a, b) {
            return Ext.get(document.elementFromPoint(a, b))
        },
        parseStyles: function(c) {
            var a = {}, b = this.cssRe, d;
            if (c) {
                b.lastIndex = 0;
                while (d = b.exec(c)) {
                    a[d[1]] = d[2] || ""
                }
            }
            return a
        }
    }
}, function() {
    var c = document
      , b = null
      , a = c.compatMode == "CSS1Compat";
    if (!("activeElement"in c) && c.addEventListener) {
        c.addEventListener("focus", function(e) {
            if (e && e.target) {
                b = e.target == c ? null : e.target
            }
        }, true)
    }
    function d(g, h, e) {
        return function() {
            g.selectionStart = h;
            g.selectionEnd = e
        }
    }
    this.addInheritableStatics({
        getActiveElement: function() {
            var h;
            try {
                h = c.activeElement
            } catch (g) {}
            h = h || b;
            if (!h) {
                h = b = document.body
            }
            return h
        },
        getRightMarginFixCleaner: function(k) {
            var h = Ext.supports, i = h.DisplayChangeInputSelectionBug, j = h.DisplayChangeTextAreaSelectionBug, l, e, m, g;
            if (i || j) {
                l = c.activeElement || b;
                e = l && l.tagName;
                if (j && e == "TEXTAREA" || i && e == "INPUT" && l.type == "text") {
                    if (Ext.dom.Element.isAncestor(k, l)) {
                        m = l.selectionStart;
                        g = l.selectionEnd;
                        if (Ext.isNumber(m) && Ext.isNumber(g)) {
                            return d(l, m, g)
                        }
                    }
                }
            }
            return Ext.emptyFn
        },
        getViewWidth: function(e) {
            return e ? Ext.dom.Element.getDocumentWidth() : Ext.dom.Element.getViewportWidth()
        },
        getViewHeight: function(e) {
            return e ? Ext.dom.Element.getDocumentHeight() : Ext.dom.Element.getViewportHeight()
        },
        getDocumentHeight: function() {
            return Math.max(!a ? c.body.scrollHeight : c.documentElement.scrollHeight, Ext.dom.Element.getViewportHeight())
        },
        getDocumentWidth: function() {
            return Math.max(!a ? c.body.scrollWidth : c.documentElement.scrollWidth, Ext.dom.Element.getViewportWidth())
        },
        getViewportHeight: function() {
            return Ext.isIE9m ? Ext.isStrict ? c.documentElement.clientHeight : c.body.clientHeight : self.innerHeight
        },
        getViewportWidth: function() {
            return !Ext.isStrict && !Ext.isOpera ? c.body.clientWidth : Ext.isIE9m ? c.documentElement.clientWidth : self.innerWidth
        },
        serializeForm: function(i) {
            var j = i.elements || (document.forms[i] || Ext.getDom(i)).elements, u = false, t = encodeURIComponent, m = "", l = j.length, n, g, s, w, v, p, k, q, h;
            for (p = 0; p < l; p++) {
                n = j[p];
                g = n.name;
                s = n.type;
                w = n.options;
                if (!n.disabled && g) {
                    if (/select-(one|multiple)/i.test(s)) {
                        q = w.length;
                        for (k = 0; k < q; k++) {
                            h = w[k];
                            if (h.selected) {
                                v = h.hasAttribute ? h.hasAttribute("value") : h.getAttributeNode("value").specified;
                                m += Ext.String.format("{0}={1}&", t(g), t(v ? h.value : h.text))
                            }
                        }
                    } else {
                        if (!/file|undefined|reset|button/i.test(s)) {
                            if (!(/radio|checkbox/i.test(s) && !n.checked) && !(s == "submit" && u)) {
                                m += t(g) + "=" + t(n.value) + "&";
                                u = /submit/i.test(s)
                            }
                        }
                    }
                }
            }
            return m.substr(0, m.length - 1)
        }
    })
});
Ext.define("Ext.dom.AbstractElement_insertion", {
    override: "Ext.dom.AbstractElement",
    appendChild: function(d, c) {
        var g = this, i, b, h, a;
        if (d.nodeType || d.dom || typeof d == "string") {
            d = Ext.getDom(d);
            g.dom.appendChild(d);
            return !c ? Ext.get(d) : d
        } else {
            if (d.length) {
                i = Ext.fly(document.createDocumentFragment(), "_internal");
                b = d.length;
                Ext.DomHelper.useDom = true;
                for (h = 0; h < b; h++) {
                    i.appendChild(d[h], c)
                }
                Ext.DomHelper.useDom = a;
                g.dom.appendChild(i.dom);
                return c ? i.dom : i
            } else {
                return g.createChild(d, null, c)
            }
        }
    },
    appendTo: function(a) {
        Ext.getDom(a).appendChild(this.dom);
        return this
    },
    insertBefore: function(a) {
        a = Ext.getDom(a);
        a.parentNode.insertBefore(this.dom, a);
        return this
    },
    insertAfter: function(a) {
        a = Ext.getDom(a);
        a.parentNode.insertBefore(this.dom, a.nextSibling);
        return this
    },
    insertFirst: function(b, a) {
        b = b || {};
        if (b.nodeType || b.dom || typeof b == "string") {
            b = Ext.getDom(b);
            this.dom.insertBefore(b, this.dom.firstChild);
            return !a ? Ext.get(b) : b
        } else {
            return this.createChild(b, this.dom.firstChild, a)
        }
    },
    insertSibling: function(b, g, j) {
        var i = this, k = Ext.core.DomHelper, l = k.useDom, m = (g || "before").toLowerCase() == "after", d, a, c, h;
        if (Ext.isArray(b)) {
            a = Ext.fly(document.createDocumentFragment(), "_internal");
            c = b.length;
            k.useDom = true;
            for (h = 0; h < c; h++) {
                d = a.appendChild(b[h], j)
            }
            k.useDom = l;
            i.dom.parentNode.insertBefore(a.dom, m ? i.dom.nextSibling : i.dom);
            return d
        }
        b = b || {};
        if (b.nodeType || b.dom) {
            d = i.dom.parentNode.insertBefore(Ext.getDom(b), m ? i.dom.nextSibling : i.dom);
            if (!j) {
                d = Ext.get(d)
            }
        } else {
            if (m && !i.dom.nextSibling) {
                d = k.append(i.dom.parentNode, b, !j)
            } else {
                d = k[m ? "insertAfter" : "insertBefore"](i.dom, b, !j)
            }
        }
        return d
    },
    replace: function(a) {
        a = Ext.get(a);
        this.insertBefore(a);
        a.remove();
        return this
    },
    replaceWith: function(a) {
        var b = this;
        if (a.nodeType || a.dom || typeof a == "string") {
            a = Ext.get(a);
            b.dom.parentNode.insertBefore(a.dom, b.dom)
        } else {
            a = Ext.core.DomHelper.insertBefore(b.dom, a)
        }
        delete Ext.cache[b.id];
        Ext.removeNode(b.dom);
        b.id = Ext.id(b.dom = a);
        Ext.dom.AbstractElement.addToCache(b.isFlyweight ? new Ext.dom.AbstractElement(b.dom) : b);
        return b
    },
    createChild: function(b, a, c) {
        b = b || {
            tag: "div"
        };
        if (a) {
            return Ext.core.DomHelper.insertBefore(a, b, c !== true)
        } else {
            return Ext.core.DomHelper.append(this.dom, b, c !== true)
        }
    },
    wrap: function(b, c, a) {
        var e = Ext.core.DomHelper.insertBefore(this.dom, b || {
            tag: "div"
        }, true)
          , d = e;
        if (a) {
            d = Ext.DomQuery.selectNode(a, e.dom)
        }
        d.appendChild(this.dom);
        return c ? e.dom : e
    },
    insertHtml: function(b, c, a) {
        var d = Ext.core.DomHelper.insertHtml(b, this.dom, c);
        return a ? Ext.get(d) : d
    }
});
Ext.define("Ext.dom.AbstractElement_style", {
    override: "Ext.dom.AbstractElement"
}, function() {
    var d = this
      , m = /\w/g
      , q = /\s+/
      , c = /^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i
      , j = Ext.supports.ClassList
      , e = "padding"
      , i = "margin"
      , a = "border"
      , s = "-left"
      , b = "-right"
      , o = "-top"
      , k = "-bottom"
      , p = "-width"
      , l = {
        l: a + s + p,
        r: a + b + p,
        t: a + o + p,
        b: a + k + p
    }
      , g = {
        l: e + s,
        r: e + b,
        t: e + o,
        b: e + k
    }
      , n = {
        l: i + s,
        r: i + b,
        t: i + o,
        b: i + k
    }
      , h = new d.Fly();
    Ext.override(d, {
        styleHooks: {},
        addStyles: function(A, z) {
            var v = 0, y = (A || "").match(m), x, t = y.length, w, u = [];
            if (t == 1) {
                v = Math.abs(parseFloat(this.getStyle(z[y[0]])) || 0)
            } else {
                if (t) {
                    for (x = 0; x < t; x++) {
                        w = y[x];
                        u.push(z[w])
                    }
                    u = this.getStyle(u);
                    for (x = 0; x < t; x++) {
                        w = y[x];
                        v += Math.abs(parseFloat(u[z[w]]) || 0)
                    }
                }
            }
            return v
        },
        addCls: function() {
            var u = function(A) {
                if (String(A).indexOf("undefined") > -1) {
                    Ext.Logger.warn("called with an undefined className: " + A)
                }
                var B = this, x = B.dom, v = B.trimRe, C = A, w, D, y, z, E;
                if (typeof A == "string") {
                    A = A.replace(v, "").split(q)
                }
                if (x && A && !!(z = A.length)) {
                    if (!x.className) {
                        x.className = A.join(" ")
                    } else {
                        w = x.classList;
                        if (w) {
                            for (y = 0; y < z; ++y) {
                                E = A[y];
                                if (E) {
                                    if (!w.contains(E)) {
                                        if (D) {
                                            D.push(E)
                                        } else {
                                            D = x.className.replace(v, "");
                                            D = D ? [D, E] : [E]
                                        }
                                    }
                                }
                            }
                            if (D) {
                                x.className = D.join(" ")
                            }
                        } else {
                            t(C)
                        }
                    }
                }
                return B
            }
              , t = function(w) {
                if (String(w).indexOf("undefined") > -1) {
                    Ext.Logger.warn("called with an undefined className: '" + w + "'")
                }
                var x = this, y = x.dom, v;
                if (y && w && w.length) {
                    v = Ext.Element.mergeClsList(y.className, w);
                    if (v.changed) {
                        y.className = v.join(" ")
                    }
                }
                return x
            };
            return j ? u : t
        }(),
        removeCls: function(v) {
            var w = this, y = w.dom, x, t, u;
            if (typeof v == "string") {
                v = v.replace(w.trimRe, "").split(q)
            }
            if (y && y.className && v && !!(t = v.length)) {
                x = y.classList;
                if (t === 1 && x) {
                    if (v[0]) {
                        x.remove(v[0])
                    }
                } else {
                    u = Ext.Element.removeCls(y.className, v);
                    if (u.changed) {
                        y.className = u.join(" ")
                    }
                }
            }
            return w
        },
        radioCls: function(x) {
            var y = this.dom.parentNode.childNodes, u, w, t;
            x = Ext.isArray(x) ? x : [x];
            for (w = 0,
            t = y.length; w < t; w++) {
                u = y[w];
                if (u && u.nodeType == 1) {
                    h.attach(u).removeCls(x)
                }
            }
            return this.addCls(x)
        },
        toggleCls: function() {
            var t = function(v) {
                var w = this, y = w.dom, x;
                if (y) {
                    v = v.replace(w.trimRe, "");
                    if (v) {
                        x = y.classList;
                        if (x) {
                            x.toggle(v)
                        } else {
                            u(v)
                        }
                    }
                }
                return w
            }
              , u = function(v) {
                return this.hasCls(v) ? this.removeCls(v) : this.addCls(v)
            };
            return j ? t : u
        }(),
        hasCls: function() {
            var t = function(w) {
                var y = this.dom, v = false, x;
                if (y && w) {
                    x = y.classList;
                    if (x) {
                        v = x.contains(w)
                    } else {
                        v = u(w)
                    }
                }
                return v
            }
              , u = function(v) {
                var w = this.dom;
                return w ? v && (" " + w.className + " ").indexOf(" " + v + " ") !== -1 : false
            };
            return j ? t : u
        }(),
        replaceCls: function(u, t) {
            return this.removeCls(u).addCls(t)
        },
        isStyle: function(t, u) {
            return this.getStyle(t) == u
        },
        getStyle: function(F, A) {
            var B = this, w = B.dom, I = typeof F != "string", G = B.styleHooks, u = F, C = u, z = 1, y, H, E, D, v, t, x;
            if (I) {
                E = {};
                u = C[0];
                x = 0;
                if (!(z = C.length)) {
                    return E
                }
            }
            if (!w || w.documentElement) {
                return E || ""
            }
            y = w.style;
            if (A) {
                t = y
            } else {
                t = w.ownerDocument.defaultView.getComputedStyle(w, null);
                if (!t) {
                    A = true;
                    t = y
                }
            }
            do {
                D = G[u];
                if (!D) {
                    G[u] = D = {
                        name: d.normalize(u)
                    }
                }
                if (D.get) {
                    v = D.get(w, B, A, t)
                } else {
                    H = D.name;
                    v = t[H]
                }
                if (!I) {
                    return v
                }
                E[u] = v;
                u = C[++x]
            } while (x < z);return E
        },
        getStyles: function() {
            var u = Ext.Array.slice(arguments), t = u.length, v;
            if (t && typeof u[t - 1] == "boolean") {
                v = u.pop()
            }
            return this.getStyle(u, v)
        },
        isTransparent: function(u) {
            var t = this.getStyle(u);
            return t ? c.test(t) : false
        },
        setStyle: function(A, y) {
            var w = this, z = w.dom, t = w.styleHooks, v = z.style, u = A, x;
            if (typeof u == "string") {
                x = t[u];
                if (!x) {
                    t[u] = x = {
                        name: d.normalize(u)
                    }
                }
                y = y == null ? "" : y;
                if (x.set) {
                    x.set(z, y, w)
                } else {
                    v[x.name] = y
                }
                if (x.afterSet) {
                    x.afterSet(z, y, w)
                }
            } else {
                for (u in A) {
                    if (A.hasOwnProperty(u)) {
                        x = t[u];
                        if (!x) {
                            t[u] = x = {
                                name: d.normalize(u)
                            }
                        }
                        y = A[u];
                        y = y == null ? "" : y;
                        if (x.set) {
                            x.set(z, y, w)
                        } else {
                            v[x.name] = y
                        }
                        if (x.afterSet) {
                            x.afterSet(z, y, w)
                        }
                    }
                }
            }
            return w
        },
        getHeight: function(u) {
            var v = this.dom
              , t = u ? v.clientHeight - this.getPadding("tb") : v.offsetHeight;
            return t > 0 ? t : 0
        },
        getWidth: function(t) {
            var v = this.dom
              , u = t ? v.clientWidth - this.getPadding("lr") : v.offsetWidth;
            return u > 0 ? u : 0
        },
        setWidth: function(t) {
            var u = this;
            u.dom.style.width = d.addUnits(t);
            return u
        },
        setHeight: function(t) {
            var u = this;
            u.dom.style.height = d.addUnits(t);
            return u
        },
        getBorderWidth: function(t) {
            return this.addStyles(t, l)
        },
        getPadding: function(t) {
            return this.addStyles(t, g)
        },
        margins: n,
        applyStyles: function(v) {
            if (v) {
                var u, t, w = this.dom;
                if (typeof v == "function") {
                    v = v.call()
                }
                if (typeof v == "string") {
                    v = Ext.util.Format.trim(v).split(/\s*(?::|;)\s*/);
                    for (u = 0,
                    t = v.length; u < t; ) {
                        w.style[d.normalize(v[u++])] = v[u++]
                    }
                } else {
                    if (typeof v == "object") {
                        this.setStyle(v)
                    }
                }
            }
        },
        setSize: function(v, t) {
            var w = this
              , u = w.dom.style;
            if (Ext.isObject(v)) {
                t = v.height;
                v = v.width
            }
            u.width = d.addUnits(v);
            u.height = d.addUnits(t);
            return w
        },
        getViewSize: function() {
            var t = document
              , u = this.dom;
            if (u == t || u == t.body) {
                return {
                    width: d.getViewportWidth(),
                    height: d.getViewportHeight()
                }
            } else {
                return {
                    width: u.clientWidth,
                    height: u.clientHeight
                }
            }
        },
        getSize: function(u) {
            var t = this.dom;
            return {
                width: Math.max(0, u ? t.clientWidth - this.getPadding("lr") : t.offsetWidth),
                height: Math.max(0, u ? t.clientHeight - this.getPadding("tb") : t.offsetHeight)
            }
        },
        repaint: function() {
            var t = this.dom;
            this.addCls(Ext.baseCSSPrefix + "repaint");
            setTimeout(function() {
                h.attach(t).removeCls(Ext.baseCSSPrefix + "repaint")
            }, 1);
            return this
        },
        getMargin: function(u) {
            var v = this, x = {
                t: "top",
                l: "left",
                r: "right",
                b: "bottom"
            }, t, y, w;
            if (!u) {
                w = [];
                for (t in v.margins) {
                    if (v.margins.hasOwnProperty(t)) {
                        w.push(v.margins[t])
                    }
                }
                y = v.getStyle(w);
                if (y && typeof y == "object") {
                    for (t in v.margins) {
                        if (v.margins.hasOwnProperty(t)) {
                            y[x[t]] = parseFloat(y[v.margins[t]]) || 0
                        }
                    }
                }
                return y
            } else {
                return v.addStyles(u, v.margins)
            }
        },
        mask: function(u, y, C) {
            var z = this, v = z.dom, w = (z.$cache || z.getCache()).data, t = w.mask, D, B, A = "", x = Ext.baseCSSPrefix;
            z.addCls(x + "masked");
            if (z.getStyle("position") == "static") {
                z.addCls(x + "masked-relative")
            }
            if (t) {
                t.remove()
            }
            if (y && typeof y == "string") {
                A = " " + y
            } else {
                A = " " + x + "mask-gray"
            }
            D = z.createChild({
                cls: x + "mask" + (C !== false ? "" : " " + x + "mask-gray"),
                html: u ? '<div class="' + (y || x + "mask-message") + '">' + u + "</div>" : ""
            });
            B = z.getSize();
            w.mask = D;
            if (v === document.body) {
                B.height = window.innerHeight;
                if (z.orientationHandler) {
                    Ext.EventManager.unOrientationChange(z.orientationHandler, z)
                }
                z.orientationHandler = function() {
                    B = z.getSize();
                    B.height = window.innerHeight;
                    D.setSize(B)
                }
                ;
                Ext.EventManager.onOrientationChange(z.orientationHandler, z)
            }
            D.setSize(B);
            if (Ext.is.iPad) {
                Ext.repaint()
            }
        },
        unmask: function() {
            var u = this
              , w = (u.$cache || u.getCache()).data
              , t = w.mask
              , v = Ext.baseCSSPrefix;
            if (t) {
                t.remove();
                delete w.mask
            }
            u.removeCls([v + "masked", v + "masked-relative"]);
            if (u.dom === document.body) {
                Ext.EventManager.unOrientationChange(u.orientationHandler, u);
                delete u.orientationHandler
            }
        }
    });
    Ext.onReady(function() {
        var B = Ext.supports, t, z, x, u, A;
        function y(G, D, F, C) {
            var E = C[this.name] || "";
            return c.test(E) ? "transparent" : E
        }
        function w(I, F, H, E) {
            var C = E.marginRight, D, G;
            if (C != "0px") {
                D = I.style;
                G = D.display;
                D.display = "inline-block";
                C = (H ? E : I.ownerDocument.defaultView.getComputedStyle(I, null)).marginRight;
                D.display = G
            }
            return C
        }
        function v(J, G, I, F) {
            var C = F.marginRight, E, D, H;
            if (C != "0px") {
                E = J.style;
                D = d.getRightMarginFixCleaner(J);
                H = E.display;
                E.display = "inline-block";
                C = (I ? F : J.ownerDocument.defaultView.getComputedStyle(J, "")).marginRight;
                E.display = H;
                D()
            }
            return C
        }
        t = d.prototype.styleHooks;
        if (B.init) {
            B.init()
        }
        if (!B.RightMargin) {
            t.marginRight = t["margin-right"] = {
                name: "marginRight",
                get: B.DisplayChangeInputSelectionBug || B.DisplayChangeTextAreaSelectionBug ? v : w
            }
        }
        if (!B.TransparentColor) {
            z = ["background-color", "border-color", "color", "outline-color"];
            for (x = z.length; x--; ) {
                u = z[x];
                A = d.normalize(u);
                t[u] = t[A] = {
                    name: A,
                    get: y
                }
            }
        }
    })
});
Ext.define("Ext.dom.AbstractElement_traversal", {
    override: "Ext.dom.AbstractElement",
    findParent: function(h, b, a) {
        var e = this.dom, c = document.documentElement, g = 0, d;
        b = b || 50;
        if (isNaN(b)) {
            d = Ext.getDom(b);
            b = Number.MAX_VALUE
        }
        while (e && e.nodeType == 1 && g < b && e != c && e != d) {
            if (Ext.DomQuery.is(e, h)) {
                return a ? Ext.get(e) : e
            }
            g++;
            e = e.parentNode
        }
        return null
    },
    findParentNode: function(d, b, a) {
        var c = Ext.fly(this.dom.parentNode, "_internal");
        return c ? c.findParent(d, b, a) : null
    },
    up: function(c, a, b) {
        return this.findParentNode(c, a, !b)
    },
    select: function(a, b) {
        return Ext.dom.Element.select(a, this.dom, b)
    },
    query: function(a) {
        return Ext.DomQuery.select(a, this.dom)
    },
    down: function(a, b) {
        var c = Ext.DomQuery.selectNode(a, this.dom);
        return b ? c : Ext.get(c)
    },
    child: function(a, b) {
        var d, c = this, e;
        e = Ext.id(c.dom);
        e = Ext.escapeId(e);
        d = Ext.DomQuery.selectNode("#" + e + " > " + a, c.dom);
        return b ? d : Ext.get(d)
    },
    parent: function(a, b) {
        return this.matchNode("parentNode", "parentNode", a, b)
    },
    next: function(a, b) {
        return this.matchNode("nextSibling", "nextSibling", a, b)
    },
    prev: function(a, b) {
        return this.matchNode("previousSibling", "previousSibling", a, b)
    },
    first: function(a, b) {
        return this.matchNode("nextSibling", "firstChild", a, b)
    },
    last: function(a, b) {
        return this.matchNode("previousSibling", "lastChild", a, b)
    },
    matchNode: function(b, e, a, c) {
        if (!this.dom) {
            return null
        }
        var d = this.dom[e];
        while (d) {
            if (d.nodeType == 1 && (!a || Ext.DomQuery.is(d, a))) {
                return !c ? Ext.get(d) : d
            }
            d = d[b]
        }
        return null
    },
    isAncestor: function(a) {
        return this.self.isAncestor.call(this.self, this.dom, a)
    }
});
Ext.define("Ext.dom.AbstractElement", {
    trimRe: /^\s+|\s+$/g,
    whitespaceRe: /\s/,
    inheritableStatics: {
        trimRe: /^\s+|\s+$/g,
        whitespaceRe: /\s/,
        get: function(c) {
            var i = this, j = window.document, d = Ext.dom.Element, h, b, g, e, a;
            if (!c) {
                return null
            }
            if (c.isFly) {
                c = c.dom
            }
            if (typeof c == "string") {
                if (c == Ext.windowId) {
                    return d.get(window)
                } else {
                    if (c == Ext.documentId) {
                        return d.get(j)
                    }
                }
                h = Ext.cache[c];
                if (h && h.skipGarbageCollection) {
                    g = h.el;
                    return g
                }
                if (!(e = j.getElementById(c))) {
                    return null
                }
                if (h && h.el) {
                    g = Ext.updateCacheEntry(h, e).el
                } else {
                    g = new d(e,!!h)
                }
                return g
            } else {
                if (c.tagName) {
                    if (!(a = c.id)) {
                        a = Ext.id(c)
                    }
                    h = Ext.cache[a];
                    if (h && h.el) {
                        g = Ext.updateCacheEntry(h, c).el
                    } else {
                        g = new d(c,!!h)
                    }
                    return g
                } else {
                    if (c instanceof i) {
                        if (c != i.docEl && c != i.winEl) {
                            a = c.id;
                            h = Ext.cache[a];
                            if (h) {
                                Ext.updateCacheEntry(h, j.getElementById(a) || c.dom)
                            }
                        }
                        return c
                    } else {
                        if (c.isComposite) {
                            return c
                        } else {
                            if (Ext.isArray(c)) {
                                return i.select(c)
                            } else {
                                if (c === j) {
                                    if (!i.docEl) {
                                        b = i.docEl = Ext.Object.chain(d.prototype);
                                        b.dom = j;
                                        b.el = b;
                                        b.id = Ext.id(j);
                                        i.addToCache(b)
                                    }
                                    return i.docEl
                                } else {
                                    if (c === window) {
                                        if (!i.winEl) {
                                            i.winEl = Ext.Object.chain(d.prototype);
                                            i.winEl.dom = window;
                                            i.winEl.id = Ext.id(window);
                                            i.addToCache(i.winEl)
                                        }
                                        return i.winEl
                                    }
                                }
                            }
                        }
                    }
                }
            }
            return null
        },
        addToCache: function(a, b) {
            if (a) {
                Ext.addCacheEntry(b, a)
            }
            return a
        },
        addMethods: function() {
            this.override.apply(this, arguments)
        },
        mergeClsList: function() {
            var m, k = {}, g, b, d, h, c, n = [], e = false, a = this.trimRe, l = this.whitespaceRe;
            for (g = 0,
            b = arguments.length; g < b; g++) {
                m = arguments[g];
                if (Ext.isString(m)) {
                    m = m.replace(a, "").split(l)
                }
                if (m) {
                    for (d = 0,
                    h = m.length; d < h; d++) {
                        c = m[d];
                        if (!k[c]) {
                            if (g) {
                                e = true
                            }
                            k[c] = true
                        }
                    }
                }
            }
            for (c in k) {
                n.push(c)
            }
            n.changed = e;
            return n
        },
        removeCls: function(a, b) {
            var h = {}, g, c, d, k = [], e = false, j = this.whitespaceRe;
            if (a) {
                if (Ext.isString(a)) {
                    a = a.replace(this.trimRe, "").split(j)
                }
                for (g = 0,
                c = a.length; g < c; g++) {
                    h[a[g]] = true
                }
            }
            if (b) {
                if (Ext.isString(b)) {
                    b = b.split(j)
                }
                for (g = 0,
                c = b.length; g < c; g++) {
                    d = b[g];
                    if (h[d]) {
                        e = true;
                        delete h[d]
                    }
                }
            }
            for (d in h) {
                k.push(d)
            }
            k.changed = e;
            return k
        },
        VISIBILITY: 1,
        DISPLAY: 2,
        OFFSETS: 3,
        ASCLASS: 4
    },
    constructor: function(a, b) {
        var c = this, d = typeof a == "string" ? document.getElementById(a) : a, e;
        c.el = c;
        if (!d) {
            return null
        }
        e = d.id;
        if (!b && e && Ext.cache[e]) {
            return Ext.cache[e].el
        }
        c.dom = d;
        c.id = e || Ext.id(d);
        c.self.addToCache(c)
    },
    set: function(e, b) {
        var c = this.dom, a, d;
        for (a in e) {
            if (e.hasOwnProperty(a)) {
                d = e[a];
                if (a == "style") {
                    this.applyStyles(d)
                } else {
                    if (a == "cls") {
                        c.className = d
                    } else {
                        if (b !== false) {
                            if (d === undefined) {
                                c.removeAttribute(a)
                            } else {
                                c.setAttribute(a, d)
                            }
                        } else {
                            c[a] = d
                        }
                    }
                }
            }
        }
        return this
    },
    defaultUnit: "px",
    is: function(a) {
        return Ext.DomQuery.is(this.dom, a)
    },
    getValue: function(a) {
        var b = this.dom.value;
        return a ? parseInt(b, 10) : b
    },
    remove: function() {
        var a = this
          , b = a.dom;
        if (a.isAnimate) {
            a.stopAnimation()
        }
        if (b) {
            Ext.removeNode(b);
            delete a.dom
        }
    },
    contains: function(a) {
        if (!a) {
            return false
        }
        var b = this
          , c = a.dom || a;
        return c === b.dom || Ext.dom.AbstractElement.isAncestor(b.dom, c)
    },
    getAttribute: function(a, b) {
        var c = this.dom;
        return c.getAttributeNS(b, a) || c.getAttribute(b + ":" + a) || c.getAttribute(a) || c[a]
    },
    update: function(a) {
        if (this.dom) {
            this.dom.innerHTML = a
        }
        return this
    },
    setHTML: function(a) {
        if (this.dom) {
            this.dom.innerHTML = a
        }
        return this
    },
    getHTML: function() {
        return this.dom ? this.dom.innerHTML : ""
    },
    hide: function() {
        this.setVisible(false);
        return this
    },
    show: function() {
        this.setVisible(true);
        return this
    },
    setVisible: function(g, a) {
        var b = this
          , e = b.self
          , d = b.getVisibilityMode()
          , c = Ext.baseCSSPrefix;
        switch (d) {
        case e.VISIBILITY:
            b.removeCls([c + "hidden-display", c + "hidden-offsets"]);
            b[g ? "removeCls" : "addCls"](c + "hidden-visibility");
            break;
        case e.DISPLAY:
            b.removeCls([c + "hidden-visibility", c + "hidden-offsets"]);
            b[g ? "removeCls" : "addCls"](c + "hidden-display");
            break;
        case e.OFFSETS:
            b.removeCls([c + "hidden-visibility", c + "hidden-display"]);
            b[g ? "removeCls" : "addCls"](c + "hidden-offsets");
            break
        }
        return b
    },
    getVisibilityMode: function() {
        var b = (this.$cache || this.getCache()).data
          , a = b.visibilityMode;
        if (a === undefined) {
            b.visibilityMode = a = this.self.DISPLAY
        }
        return a
    },
    setVisibilityMode: function(a) {
        (this.$cache || this.getCache()).data.visibilityMode = a;
        return this
    },
    getCache: function() {
        var a = this
          , b = a.dom.id || Ext.id(a.dom);
        a.$cache = Ext.cache[b] || Ext.addCacheEntry(b, null, a.dom);
        return a.$cache
    }
}, function() {
    var a = this;
    Ext.getDetachedBody = function() {
        var b = a.detachedBodyEl;
        if (!b) {
            b = document.createElement("div");
            a.detachedBodyEl = b = new a.Fly(b);
            b.isDetachedBody = true
        }
        return b
    }
    ;
    Ext.getElementById = function(d) {
        var c = document.getElementById(d), b;
        if (!c && (b = a.detachedBodyEl)) {
            c = b.dom.querySelector("#" + Ext.escapeId(d))
        }
        return c
    }
    ;
    Ext.get = function(b) {
        return Ext.dom.Element.get(b)
    }
    ;
    this.addStatics({
        Fly: new Ext.Class({
            extend: a,
            isFly: true,
            constructor: function(b) {
                this.dom = b;
                this.el = this
            },
            attach: function(b) {
                this.dom = b;
                this.$cache = b.id ? Ext.cache[b.id] : null;
                return this
            }
        }),
        _flyweights: {},
        fly: function(e, c) {
            var d = null
              , b = a._flyweights;
            c = c || "_global";
            e = Ext.getDom(e);
            if (e) {
                d = b[c] || (b[c] = new a.Fly());
                d.dom = e;
                d.$cache = e.id ? Ext.cache[e.id] : null
            }
            return d
        }
    });
    Ext.fly = function() {
        return a.fly.apply(a, arguments)
    }
    ;
    (function(b) {
        b.destroy = b.remove;
        if (document.querySelector) {
            b.getById = function(e, c) {
                var d = document.getElementById(e) || this.dom.querySelector("#" + Ext.escapeId(e));
                return c ? d : d ? Ext.get(d) : null
            }
        } else {
            b.getById = function(e, c) {
                var d = document.getElementById(e);
                return c ? d : d ? Ext.get(d) : null
            }
        }
    }
    )(this.prototype)
});
Ext.define("Ext.dom.Helper", function() {
    var b = "afterbegin"
      , i = "afterend"
      , a = "beforebegin"
      , o = "beforeend"
      , l = "<table>"
      , h = "</table>"
      , c = l + "<tbody>"
      , n = "</tbody>" + h
      , k = c + "<tr>"
      , e = "</tr>" + n
      , p = document.createElement("div")
      , m = ["BeforeBegin", "previousSibling"]
      , j = ["AfterEnd", "nextSibling"]
      , d = {
        beforebegin: m,
        afterend: j
    }
      , g = {
        beforebegin: m,
        afterend: j,
        afterbegin: ["AfterBegin", "firstChild"],
        beforeend: ["BeforeEnd", "lastChild"]
    };
    return {
        extend: Ext.dom.AbstractHelper,
        tableRe: /^(?:table|thead|tbody|tr|td)$/i,
        tableElRe: /td|tr|tbody|thead/i,
        useDom: false,
        createDom: function(q, x) {
            var s, A = document, v, y, t, z, w, u;
            if (Ext.isArray(q)) {
                s = A.createDocumentFragment();
                for (w = 0,
                u = q.length; w < u; w++) {
                    this.createDom(q[w], s)
                }
            } else {
                if (typeof q == "string") {
                    s = A.createTextNode(q)
                } else {
                    s = A.createElement(q.tag || "div");
                    v = !!s.setAttribute;
                    for (y in q) {
                        if (!this.confRe.test(y)) {
                            t = q[y];
                            if (y == "cls") {
                                s.className = t
                            } else {
                                if (v) {
                                    s.setAttribute(y, t)
                                } else {
                                    s[y] = t
                                }
                            }
                        }
                    }
                    Ext.DomHelper.applyStyles(s, q.style);
                    if (z = q.children || q.cn) {
                        this.createDom(z, s)
                    } else {
                        if (q.html) {
                            s.innerHTML = q.html
                        }
                    }
                }
            }
            if (x) {
                x.appendChild(s)
            }
            return s
        },
        ieTable: function(w, q, x, v) {
            p.innerHTML = [q, x, v].join("");
            var s = -1, u = p, t;
            while (++s < w) {
                u = u.firstChild
            }
            t = u.nextSibling;
            if (t) {
                t = u;
                u = document.createDocumentFragment();
                while (t) {
                    nx = t.nextSibling;
                    u.appendChild(t);
                    t = nx
                }
            }
            return u
        },
        insertIntoTable: function(A, t, s, u) {
            var q, x, w = t == a, z = t == b, v = t == o, y = t == i;
            if (A == "td" && (z || v) || !this.tableElRe.test(A) && (w || y)) {
                return null
            }
            x = w ? s : y ? s.nextSibling : z ? s.firstChild : null;
            if (w || y) {
                s = s.parentNode
            }
            if (A == "td" || A == "tr" && (v || z)) {
                q = this.ieTable(4, k, u, e)
            } else {
                if ((A == "tbody" || A == "thead") && (v || z) || A == "tr" && (w || y)) {
                    q = this.ieTable(3, c, u, n)
                } else {
                    q = this.ieTable(2, l, u, h)
                }
            }
            s.insertBefore(q, x);
            return q
        },
        createContextualFragment: function(s) {
            var q = document.createDocumentFragment(), t, u;
            p.innerHTML = s;
            u = p.childNodes;
            t = u.length;
            while (t--) {
                q.appendChild(u[0])
            }
            return q
        },
        applyStyles: function(q, s) {
            if (s) {
                if (typeof s == "function") {
                    s = s.call()
                }
                if (typeof s == "string") {
                    s = Ext.dom.Element.parseStyles(s)
                }
                if (typeof s == "object") {
                    Ext.fly(q, "_applyStyles").setStyle(s)
                }
            }
        },
        createHtml: function(q) {
            return this.markup(q)
        },
        doInsert: function(u, w, v, x, t, q) {
            u = u.dom || Ext.getDom(u);
            var s;
            if (this.useDom) {
                s = this.createDom(w, null);
                if (q) {
                    u.appendChild(s)
                } else {
                    (t == "firstChild" ? u : u.parentNode).insertBefore(s, u[t] || u)
                }
            } else {
                s = this.insertHtml(x, u, this.markup(w))
            }
            return v ? Ext.get(s, true) : s
        },
        overwrite: function(t, s, u) {
            var q;
            t = Ext.getDom(t);
            s = this.markup(s);
            if (Ext.isIE && this.tableRe.test(t.tagName)) {
                while (t.firstChild) {
                    t.removeChild(t.firstChild)
                }
                if (s) {
                    q = this.insertHtml("afterbegin", t, s);
                    return u ? Ext.get(q) : q
                }
                return null
            }
            t.innerHTML = s;
            return u ? Ext.get(t.firstChild) : t.firstChild
        },
        insertHtml: function(t, w, u) {
            var y, s, v, q, x;
            t = t.toLowerCase();
            if (w.nodeType === 3) {
                t = t === "afterbegin" ? "beforebegin" : t;
                t = t === "beforeend" ? "afterend" : t
            }
            s = Ext.supports.CreateContextualFragment ? w.ownerDocument.createRange() : undefined;
            q = "setStart" + (this.endRe.test(t) ? "After" : "Before");
            if (d[t]) {
                if (s) {
                    s[q](w);
                    x = s.createContextualFragment(u)
                } else {
                    x = this.createContextualFragment(u)
                }
                w.parentNode.insertBefore(x, t == a ? w : w.nextSibling);
                return w[(t == a ? "previous" : "next") + "Sibling"]
            } else {
                v = (t == b ? "first" : "last") + "Child";
                if (w.firstChild) {
                    if (s) {
                        s[q](w[v]);
                        x = s.createContextualFragment(u)
                    } else {
                        x = this.createContextualFragment(u)
                    }
                    if (t == b) {
                        w.insertBefore(x, w.firstChild)
                    } else {
                        w.appendChild(x)
                    }
                } else {
                    w.innerHTML = u
                }
                return w[v]
            }
            Ext.Error.raise({
                sourceClass: "Ext.DomHelper",
                sourceMethod: "insertHtml",
                htmlToInsert: u,
                targetElement: w,
                msg: 'Illegal insertion point reached: "' + t + '"'
            })
        },
        createTemplate: function(s) {
            var q = this.markup(s);
            return new Ext.Template(q)
        }
    }
}(), function() {
    Ext.ns("Ext.core");
    Ext.DomHelper = Ext.core.DomHelper = new this()
});
Ext.define("Ext.Template", {
    inheritableStatics: {
        from: function(b, a) {
            b = Ext.getDom(b);
            return new this(b.value || b.innerHTML,a || "")
        }
    },
    constructor: function(d) {
        var g = this, b = arguments, a = [], c = 0, e = b.length, h;
        g.initialConfig = {};
        if (e === 1 && Ext.isArray(d)) {
            b = d;
            e = b.length
        }
        if (e > 1) {
            for (; c < e; c++) {
                h = b[c];
                if (typeof h == "object") {
                    Ext.apply(g.initialConfig, h);
                    Ext.apply(g, h)
                } else {
                    a.push(h)
                }
            }
        } else {
            a.push(d)
        }
        g.html = a.join("");
        if (g.compiled) {
            g.compile()
        }
    },
    isTemplate: true,
    disableFormats: false,
    re: /\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,
    apply: function(a) {
        var h = this, d = h.disableFormats !== true, g = Ext.util.Format, c = h, b;
        if (h.compiled) {
            return h.compiled(a).join("")
        }
        function e(i, k, l, j) {
            if (l && d) {
                if (j) {
                    j = [a[k]].concat(Ext.functionFactory("return [" + j + "];")())
                } else {
                    j = [a[k]]
                }
                if (l.substr(0, 5) == "this.") {
                    return c[l.substr(5)].apply(c, j)
                } else {
                    return g[l].apply(g, j)
                }
            } else {
                return a[k] !== undefined ? a[k] : ""
            }
        }
        b = h.html.replace(h.re, e);
        return b
    },
    applyOut: function(a, b) {
        var c = this;
        if (c.compiled) {
            b.push.apply(b, c.compiled(a))
        } else {
            b.push(c.apply(a))
        }
        return b
    },
    applyTemplate: function() {
        return this.apply.apply(this, arguments)
    },
    set: function(a, c) {
        var b = this;
        b.html = a;
        b.compiled = null;
        return c ? b.compile() : b
    },
    compileARe: /\\/g,
    compileBRe: /(\r\n|\n)/g,
    compileCRe: /'/g,
    compile: function() {
        var me = this, fm = Ext.util.Format, useFormat = me.disableFormats !== true, body, bodyReturn;
        function fn(m, name, format, args) {
            if (format && useFormat) {
                args = args ? "," + args : "";
                if (format.substr(0, 5) != "this.") {
                    format = "fm." + format + "("
                } else {
                    format = "this." + format.substr(5) + "("
                }
            } else {
                args = "";
                format = "(values['" + name + "'] == undefined ? '' : "
            }
            return "'," + format + "values['" + name + "']" + args + ") ,'"
        }
        bodyReturn = me.html.replace(me.compileARe, "\\\\").replace(me.compileBRe, "\\n").replace(me.compileCRe, "\\'").replace(me.re, fn);
        body = "this.compiled = function(values){ return ['" + bodyReturn + "'];};";
        eval(body);
        return me
    },
    insertFirst: function(b, a, c) {
        return this.doInsert("afterBegin", b, a, c)
    },
    insertBefore: function(b, a, c) {
        return this.doInsert("beforeBegin", b, a, c)
    },
    insertAfter: function(b, a, c) {
        return this.doInsert("afterEnd", b, a, c)
    },
    append: function(b, a, c) {
        return this.doInsert("beforeEnd", b, a, c)
    },
    doInsert: function(b, d, a, e) {
        var c = Ext.DomHelper.insertHtml(b, Ext.getDom(d), this.apply(a));
        return e ? Ext.get(c) : c
    },
    overwrite: function(c, a, d) {
        var b = Ext.DomHelper.overwrite(Ext.getDom(c), this.apply(a));
        return d ? Ext.get(b) : b
    }
});
Ext.define("Ext.XTemplateParser", {
    constructor: function(a) {
        Ext.apply(this, a)
    },
    doTpl: Ext.emptyFn,
    parse: function(l) {
        var w = this, p = l.length, o = {
            elseif: "elif"
        }, q = w.topRe, c = w.actionsRe, e, d, j, n, h, k, i, v, u, b, g, a;
        w.level = 0;
        w.stack = d = [];
        for (e = 0; e < p; e = b) {
            q.lastIndex = e;
            n = q.exec(l);
            if (!n) {
                w.doText(l.substring(e, p));
                break
            }
            u = n.index;
            b = q.lastIndex;
            if (e < u) {
                w.doText(l.substring(e, u))
            }
            if (n[1]) {
                b = l.indexOf("%}", u + 2);
                w.doEval(l.substring(u + 2, b));
                b += 2
            } else {
                if (n[2]) {
                    b = l.indexOf("]}", u + 2);
                    w.doExpr(l.substring(u + 2, b));
                    b += 2
                } else {
                    if (n[3]) {
                        w.doTag(n[3])
                    } else {
                        if (n[4]) {
                            g = null;
                            while ((v = c.exec(n[4])) !== null) {
                                j = v[2] || v[3];
                                if (j) {
                                    j = Ext.String.htmlDecode(j);
                                    h = v[1];
                                    h = o[h] || h;
                                    g = g || {};
                                    k = g[h];
                                    if (typeof k == "string") {
                                        g[h] = [k, j]
                                    } else {
                                        if (k) {
                                            g[h].push(j)
                                        } else {
                                            g[h] = j
                                        }
                                    }
                                }
                            }
                            if (!g) {
                                if (w.elseRe.test(n[4])) {
                                    w.doElse()
                                } else {
                                    if (w.defaultRe.test(n[4])) {
                                        w.doDefault()
                                    } else {
                                        w.doTpl();
                                        d.push({
                                            type: "tpl"
                                        })
                                    }
                                }
                            } else {
                                if (g["if"]) {
                                    w.doIf(g["if"], g);
                                    d.push({
                                        type: "if"
                                    })
                                } else {
                                    if (g["switch"]) {
                                        w.doSwitch(g["switch"], g);
                                        d.push({
                                            type: "switch"
                                        })
                                    } else {
                                        if (g["case"]) {
                                            w.doCase(g["case"], g)
                                        } else {
                                            if (g.elif) {
                                                w.doElseIf(g.elif, g)
                                            } else {
                                                if (g["for"]) {
                                                    ++w.level;
                                                    if (a = w.propRe.exec(n[4])) {
                                                        g.propName = a[1] || a[2]
                                                    }
                                                    w.doFor(g["for"], g);
                                                    d.push({
                                                        type: "for",
                                                        actions: g
                                                    })
                                                } else {
                                                    if (g.foreach) {
                                                        ++w.level;
                                                        if (a = w.propRe.exec(n[4])) {
                                                            g.propName = a[1] || a[2]
                                                        }
                                                        w.doForEach(g.foreach, g);
                                                        d.push({
                                                            type: "foreach",
                                                            actions: g
                                                        })
                                                    } else {
                                                        if (g.exec) {
                                                            w.doExec(g.exec, g);
                                                            d.push({
                                                                type: "exec",
                                                                actions: g
                                                            })
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        } else {
                            if (n[0].length === 5) {
                                d.push({
                                    type: "tpl"
                                })
                            } else {
                                i = d.pop();
                                w.doEnd(i.type, i.actions);
                                if (i.type == "for" || i.type == "foreach") {
                                    --w.level
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    topRe: /(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,
    actionsRe: /\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,
    propRe: /prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,
    defaultRe: /^\s*default\s*$/,
    elseRe: /^\s*else\s*$/
});
Ext.define("Ext.XTemplateCompiler", {
    extend: Ext.XTemplateParser,
    useEval: Ext.isGecko,
    useIndex: Ext.isIE8m,
    useFormat: true,
    propNameRe: /^[\w\d\$]*$/,
    compile: function(a) {
        var c = this
          , b = c.generate(a);
        return c.useEval ? c.evalTpl(b) : new Function("Ext",b)(Ext)
    },
    generate: function(a) {
        var d = this, b = "var fm=Ext.util.Format,ts=Object.prototype.toString;", c;
        d.maxLevel = 0;
        d.body = ["var c0=values, a0=" + d.createArrayTest(0) + ", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];
        if (d.definitions) {
            if (typeof d.definitions === "string") {
                d.definitions = [d.definitions, b]
            } else {
                d.definitions.push(b)
            }
        } else {
            d.definitions = [b]
        }
        d.switches = [];
        d.parse(a);
        d.definitions.push((d.useEval ? "$=" : "return") + " function (" + d.fnArgs + ") {", d.body.join(""), "}");
        c = d.definitions.join("\n");
        d.definitions.length = d.body.length = d.switches.length = 0;
        delete d.definitions;
        delete d.body;
        delete d.switches;
        return c
    },
    doText: function(c) {
        var b = this
          , a = b.body;
        c = c.replace(b.aposRe, "\\'").replace(b.newLineRe, "\\n");
        if (b.useIndex) {
            a.push("out[out.length]='", c, "'\n")
        } else {
            a.push("out.push('", c, "')\n")
        }
    },
    doExpr: function(b) {
        var a = this.body;
        a.push("if ((v=" + b + ") != null) out");
        if (this.useIndex) {
            a.push("[out.length]=v+''\n")
        } else {
            a.push(".push(v+'')\n")
        }
    },
    doTag: function(a) {
        var b = this.parseTag(a);
        if (b) {
            this.doExpr(b)
        } else {
            this.doText("{" + a + "}")
        }
    },
    doElse: function() {
        this.body.push("} else {\n")
    },
    doEval: function(a) {
        this.body.push(a, "\n")
    },
    doIf: function(b, c) {
        var a = this;
        if (b === ".") {
            a.body.push("if (values) {\n")
        } else {
            if (a.propNameRe.test(b)) {
                a.body.push("if (", a.parseTag(b), ") {\n")
            } else {
                a.body.push("if (", a.addFn(b), a.callFn, ") {\n")
            }
        }
        if (c.exec) {
            a.doExec(c.exec)
        }
    },
    doElseIf: function(b, c) {
        var a = this;
        if (b === ".") {
            a.body.push("else if (values) {\n")
        } else {
            if (a.propNameRe.test(b)) {
                a.body.push("} else if (", a.parseTag(b), ") {\n")
            } else {
                a.body.push("} else if (", a.addFn(b), a.callFn, ") {\n")
            }
        }
        if (c.exec) {
            a.doExec(c.exec)
        }
    },
    doSwitch: function(b) {
        var a = this;
        if (b === ".") {
            a.body.push("switch (values) {\n")
        } else {
            if (a.propNameRe.test(b)) {
                a.body.push("switch (", a.parseTag(b), ") {\n")
            } else {
                a.body.push("switch (", a.addFn(b), a.callFn, ") {\n")
            }
        }
        a.switches.push(0)
    },
    doCase: function(e) {
        var d = this, c = Ext.isArray(e) ? e : [e], g = d.switches.length - 1, a, b;
        if (d.switches[g]) {
            d.body.push("break;\n")
        } else {
            d.switches[g]++
        }
        for (b = 0,
        g = c.length; b < g; ++b) {
            a = d.intRe.exec(c[b]);
            c[b] = a ? a[1] : "'" + c[b].replace(d.aposRe, "\\'") + "'"
        }
        d.body.push("case ", c.join(": case "), ":\n")
    },
    doDefault: function() {
        var a = this
          , b = a.switches.length - 1;
        if (a.switches[b]) {
            a.body.push("break;\n")
        } else {
            a.switches[b]++
        }
        a.body.push("default:\n")
    },
    doEnd: function(b, d) {
        var c = this
          , a = c.level - 1;
        if (b == "for" || b == "foreach") {
            if (d.exec) {
                c.doExec(d.exec)
            }
            c.body.push("}\n");
            c.body.push("parent=p", a, ";values=r", a + 1, ";xcount=n" + a + ";xindex=i", a, "+1;xkey=k", a, ";\n")
        } else {
            if (b == "if" || b == "switch") {
                c.body.push("}\n")
            }
        }
    },
    doFor: function(e, h) {
        var d = this, c, b = d.level, a = b - 1, g;
        if (e === ".") {
            c = "values"
        } else {
            if (d.propNameRe.test(e)) {
                c = d.parseTag(e)
            } else {
                c = d.addFn(e) + d.callFn
            }
        }
        if (d.maxLevel < b) {
            d.maxLevel = b;
            d.body.push("var ")
        }
        if (e == ".") {
            g = "c" + b
        } else {
            g = "a" + a + "?c" + a + "[i" + a + "]:c" + a
        }
        d.body.push("i", b, "=0,n", b, "=0,c", b, "=", c, ",a", b, "=", d.createArrayTest(b), ",r", b, "=values,p", b, ",k", b, ";\n", "p", b, "=parent=", g, "\n", "if (c", b, "){if(a", b, "){n", b, "=c", b, ".length;}else if (c", b, ".isMixedCollection){c", b, "=c", b, ".items;n", b, "=c", b, ".length;}else if(c", b, ".isStore){c", b, "=c", b, ".data.items;n", b, "=c", b, ".length;}else{c", b, "=[c", b, "];n", b, "=1;}}\n", "for (xcount=n", b, ";i", b, "<n" + b + ";++i", b, "){\n", "values=c", b, "[i", b, "]");
        if (h.propName) {
            d.body.push(".", h.propName)
        }
        d.body.push("\n", "xindex=i", b, "+1\n");
        if (h.between) {
            d.body.push('if(xindex>1){ out.push("', h.between, '"); } \n')
        }
    },
    doForEach: function(e, h) {
        var d = this, c, b = d.level, a = b - 1, g;
        if (e === ".") {
            c = "values"
        } else {
            if (d.propNameRe.test(e)) {
                c = d.parseTag(e)
            } else {
                c = d.addFn(e) + d.callFn
            }
        }
        if (d.maxLevel < b) {
            d.maxLevel = b;
            d.body.push("var ")
        }
        if (e == ".") {
            g = "c" + b
        } else {
            g = "a" + a + "?c" + a + "[i" + a + "]:c" + a
        }
        d.body.push("i", b, "=-1,n", b, "=0,c", b, "=", c, ",a", b, "=", d.createArrayTest(b), ",r", b, "=values,p", b, ",k", b, ";\n", "p", b, "=parent=", g, "\n", "for(k", b, " in c", b, "){\n", "xindex=++i", b, "+1;\n", "xkey=k", b, ";\n", "values=c", b, "[k", b, "];");
        if (h.propName) {
            d.body.push(".", h.propName)
        }
        if (h.between) {
            d.body.push('if(xindex>1){ out.push("', h.between, '"); } \n')
        }
    },
    createArrayTest: "isArray"in Array ? function(a) {
        return "Array.isArray(c" + a + ")"
    }
    : function(a) {
        return "ts.call(c" + a + ')==="[object Array]"'
    }
    ,
    doExec: function(c, d) {
        var b = this
          , a = "f" + b.definitions.length;
        b.definitions.push("function " + a + "(" + b.fnArgs + ") {", " try { with(values) {", "  " + c, " }} catch(e) {", 'Ext.log("XTemplate Error: " + e.message);', "}", "}");
        b.body.push(a + b.callFn + "\n")
    },
    addFn: function(a) {
        var c = this
          , b = "f" + c.definitions.length;
        if (a === ".") {
            c.definitions.push("function " + b + "(" + c.fnArgs + ") {", " return values", "}")
        } else {
            if (a === "..") {
                c.definitions.push("function " + b + "(" + c.fnArgs + ") {", " return parent", "}")
            } else {
                c.definitions.push("function " + b + "(" + c.fnArgs + ") {", " try { with(values) {", "  return(" + a + ")", " }} catch(e) {", 'Ext.log("XTemplate Error: " + e.message);', "}", "}")
            }
        }
        return b
    },
    parseTag: function(b) {
        var h = this, a = h.tagRe.exec(b), e, i, d, g, c;
        if (!a) {
            return null
        }
        e = a[1];
        i = a[2];
        d = a[3];
        g = a[4];
        if (e == ".") {
            if (!h.validTypes) {
                h.definitions.push("var validTypes={string:1,number:1,boolean:1};");
                h.validTypes = true
            }
            c = 'validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'
        } else {
            if (e == "#") {
                c = "xindex"
            } else {
                if (e == "$") {
                    c = "xkey"
                } else {
                    if (e.substr(0, 7) == "parent.") {
                        c = e
                    } else {
                        if (isNaN(e) && e.indexOf("-") == -1 && e.indexOf(".") != -1) {
                            c = "values." + e
                        } else {
                            c = "values['" + e + "']"
                        }
                    }
                }
            }
        }
        if (g) {
            c = "(" + c + g + ")"
        }
        if (i && h.useFormat) {
            d = d ? "," + d : "";
            if (i.substr(0, 5) != "this.") {
                i = "fm." + i + "("
            } else {
                i += "("
            }
        } else {
            return c
        }
        return i + c + d + ")"
    },
    evalTpl: function($) {
        eval($);
        return $
    },
    newLineRe: /\r\n|\r|\n/g,
    aposRe: /[']/g,
    intRe: /^\s*(\d+)\s*$/,
    tagRe: /^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/
}, function() {
    var a = this.prototype;
    a.fnArgs = "out,values,parent,xindex,xcount,xkey";
    a.callFn = ".call(this," + a.fnArgs + ")"
});
Ext.define("Ext.XTemplate", {
    extend: Ext.Template,
    emptyObj: {},
    apply: function(a, b) {
        return this.applyOut(a, [], b).join("")
    },
    applyOut: function(a, b, d) {
        var g = this, c;
        if (!g.fn) {
            c = new Ext.XTemplateCompiler({
                useFormat: g.disableFormats !== true,
                definitions: g.definitions
            });
            g.fn = c.compile(g.html)
        }
        try {
            g.fn(b, a, d || g.emptyObj, 1, 1)
        } catch (h) {
            Ext.log("Error: " + h.message)
        }
        return b
    },
    compile: function() {
        return this
    },
    statics: {
        getTpl: function(b, d) {
            var c = b[d], a;
            if (c && !c.isTemplate) {
                c = Ext.ClassManager.dynInstantiate("Ext.XTemplate", c);
                if (b.hasOwnProperty(d)) {
                    a = b
                } else {
                    for (a = b.self.prototype; a && !a.hasOwnProperty(d); a = a.superclass) {}
                }
                a[d] = c;
                c.owner = a
            }
            return c || null
        }
    }
});
Ext.ns("Ext.core");
Ext.dom.Query = Ext.core.DomQuery = Ext.DomQuery = function() {
    var DQ, doc = document, cache = {}, simpleCache = {}, valueCache = {}, useClassList = !!doc.documentElement.classList, useElementPointer = !!doc.documentElement.firstElementChild, useChildrenCollection = function() {
        var d = doc.createElement("div");
        d.innerHTML = "<!-- -->text<!-- -->";
        return d.children && d.children.length === 0
    }(), nonSpace = /\S/, trimRe = /^\s+|\s+$/g, tplRe = /\{(\d+)\}/g, modeRe = /^(\s?[\/>+~]\s?|\s|$)/, tagTokenRe = /^(#)?([\w\-\*\|\\]+)/, nthRe = /(\d*)n\+?(\d*)/, nthRe2 = /\D/, startIdRe = /^\s*#/, isIE = window.ActiveXObject ? true : false, key = 30803, longHex = /\\([0-9a-fA-F]{6})/g, shortHex = /\\([0-9a-fA-F]{1,6})\s{0,1}/g, nonHex = /\\([^0-9a-fA-F]{1})/g, escapes = /\\/g, num, hasEscapes, supportsColonNsSeparator = function() {
        var xmlDoc, xmlString = '<r><a:b xmlns:a="n"></a:b></r>';
        if (window.DOMParser) {
            xmlDoc = new DOMParser().parseFromString(xmlString, "application/xml")
        } else {
            xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
            xmlDoc.loadXML(xmlString)
        }
        return !!xmlDoc.getElementsByTagName("a:b").length
    }(), longHexToChar = function($0, $1) {
        return String.fromCharCode(parseInt($1, 16))
    }, shortToLongHex = function($0, $1) {
        while ($1.length < 6) {
            $1 = "0" + $1
        }
        return "\\" + $1
    }, charToLongHex = function($0, $1) {
        num = $1.charCodeAt(0).toString(16);
        if (num.length === 1) {
            num = "0" + num
        }
        return "\\0000" + num
    }, unescapeCssSelector = function(selector) {
        return hasEscapes ? selector.replace(longHex, longHexToChar) : selector
    }, setupEscapes = function(path) {
        hasEscapes = path.indexOf("\\") > -1;
        if (hasEscapes) {
            path = path.replace(shortHex, shortToLongHex).replace(nonHex, charToLongHex).replace(escapes, "\\\\")
        }
        return path
    };
    eval("var batch = 30803, child, next, prev, byClassName;");
    child = useChildrenCollection ? function child(parent, index) {
        return parent.children[index]
    }
    : function child(parent, index) {
        var i = 0
          , n = parent.firstChild;
        while (n) {
            if (n.nodeType == 1) {
                if (++i == index) {
                    return n
                }
            }
            n = n.nextSibling
        }
        return null
    }
    ;
    next = useElementPointer ? function(n) {
        return n.nextElementSibling
    }
    : function(n) {
        while ((n = n.nextSibling) && n.nodeType != 1) {}
        return n
    }
    ;
    prev = useElementPointer ? function(n) {
        return n.previousElementSibling
    }
    : function(n) {
        while ((n = n.previousSibling) && n.nodeType != 1) {}
        return n
    }
    ;
    function children(parent) {
        var n = parent.firstChild, nodeIndex = -1, nextNode;
        while (n) {
            nextNode = n.nextSibling;
            if (n.nodeType == 3 && !nonSpace.test(n.nodeValue)) {
                parent.removeChild(n)
            } else {
                n.nodeIndex = ++nodeIndex
            }
            n = nextNode
        }
        return this
    }
    byClassName = useClassList ? function(nodeSet, cls) {
        cls = unescapeCssSelector(cls);
        if (!cls) {
            return nodeSet
        }
        var result = [], ri = -1, i, ci, classList;
        for (i = 0; ci = nodeSet[i]; i++) {
            classList = ci.classList;
            if (classList) {
                if (classList.contains(cls)) {
                    result[++ri] = ci
                }
            } else {
                if ((" " + ci.className + " ").indexOf(cls) !== -1) {
                    result[++ri] = ci
                }
            }
        }
        return result
    }
    : function(nodeSet, cls) {
        cls = unescapeCssSelector(cls);
        if (!cls) {
            return nodeSet
        }
        var result = [], ri = -1, i, ci;
        for (i = 0; ci = nodeSet[i]; i++) {
            if ((" " + ci.className + " ").indexOf(cls) !== -1) {
                result[++ri] = ci
            }
        }
        return result
    }
    ;
    function attrValue(n, attr) {
        if (!n.tagName && typeof n.length != "undefined") {
            n = n[0]
        }
        if (!n) {
            return null
        }
        if (attr == "for") {
            return n.htmlFor
        }
        if (attr == "class" || attr == "className") {
            return n.className
        }
        return n.getAttribute(attr) || n[attr]
    }
    function getNodes(ns, mode, tagName) {
        var result = [], ri = -1, cs, i, ni, j, ci, cn, utag, n, cj;
        if (!ns) {
            return result
        }
        tagName = tagName.replace("|", ":") || "*";
        if (typeof ns.getElementsByTagName != "undefined") {
            ns = [ns]
        }
        if (!mode) {
            tagName = unescapeCssSelector(tagName);
            if (!supportsColonNsSeparator && DQ.isXml(ns[0]) && tagName.indexOf(":") !== -1) {
                for (i = 0; ni = ns[i]; i++) {
                    cs = ni.getElementsByTagName(tagName.split(":").pop());
                    for (j = 0; ci = cs[j]; j++) {
                        if (ci.tagName === tagName) {
                            result[++ri] = ci
                        }
                    }
                }
            } else {
                for (i = 0; ni = ns[i]; i++) {
                    cs = ni.getElementsByTagName(tagName);
                    for (j = 0; ci = cs[j]; j++) {
                        result[++ri] = ci
                    }
                }
            }
        } else {
            if (mode == "/" || mode == ">") {
                utag = tagName.toUpperCase();
                for (i = 0; ni = ns[i]; i++) {
                    cn = ni.childNodes;
                    for (j = 0; cj = cn[j]; j++) {
                        if (cj.nodeName == utag || cj.nodeName == tagName || tagName == "*") {
                            result[++ri] = cj
                        }
                    }
                }
            } else {
                if (mode == "+") {
                    utag = tagName.toUpperCase();
                    for (i = 0; n = ns[i]; i++) {
                        while ((n = n.nextSibling) && n.nodeType != 1) {}
                        if (n && (n.nodeName == utag || n.nodeName == tagName || tagName == "*")) {
                            result[++ri] = n
                        }
                    }
                } else {
                    if (mode == "~") {
                        utag = tagName.toUpperCase();
                        for (i = 0; n = ns[i]; i++) {
                            while (n = n.nextSibling) {
                                if (n.nodeName == utag || n.nodeName == tagName || tagName == "*") {
                                    result[++ri] = n
                                }
                            }
                        }
                    }
                }
            }
        }
        return result
    }
    function concat(a, b) {
        a.push.apply(a, b);
        return a
    }
    function byTag(cs, tagName) {
        if (cs.tagName || cs === doc) {
            cs = [cs]
        }
        if (!tagName) {
            return cs
        }
        var result = [], ri = -1, i, ci;
        tagName = tagName.toLowerCase();
        for (i = 0; ci = cs[i]; i++) {
            if (ci.nodeType == 1 && ci.tagName.toLowerCase() == tagName) {
                result[++ri] = ci
            }
        }
        return result
    }
    function byId(cs, id) {
        id = unescapeCssSelector(id);
        if (cs.tagName || cs === doc) {
            cs = [cs]
        }
        if (!id) {
            return cs
        }
        var result = [], ri = -1, i, ci;
        for (i = 0; ci = cs[i]; i++) {
            if (ci && ci.id == id) {
                result[++ri] = ci;
                return result
            }
        }
        return result
    }
    function byAttribute(cs, attr, value, op, custom) {
        var result = [], ri = -1, useGetStyle = custom == "{", fn = DQ.operators[op], a, xml, hasXml, i, ci;
        value = unescapeCssSelector(value);
        for (i = 0; ci = cs[i]; i++) {
            if (ci.nodeType === 1) {
                if (!hasXml) {
                    xml = DQ.isXml(ci);
                    hasXml = true
                }
                if (!xml) {
                    if (useGetStyle) {
                        a = DQ.getStyle(ci, attr)
                    } else {
                        if (attr == "class" || attr == "className") {
                            a = ci.className
                        } else {
                            if (attr == "for") {
                                a = ci.htmlFor
                            } else {
                                if (attr == "href") {
                                    a = ci.getAttribute("href", 2)
                                } else {
                                    a = ci.getAttribute(attr)
                                }
                            }
                        }
                    }
                } else {
                    a = ci.getAttribute(attr)
                }
                if (fn && fn(a, value) || !fn && a) {
                    result[++ri] = ci
                }
            }
        }
        return result
    }
    function byPseudo(cs, name, value) {
        value = unescapeCssSelector(value);
        return DQ.pseudos[name](cs, value)
    }
    function nodupIEXml(cs) {
        var d = ++key, r, i, len, c;
        cs[0].setAttribute("_nodup", d);
        r = [cs[0]];
        for (i = 1,
        len = cs.length; i < len; i++) {
            c = cs[i];
            if (!c.getAttribute("_nodup") != d) {
                c.setAttribute("_nodup", d);
                r[r.length] = c
            }
        }
        for (i = 0,
        len = cs.length; i < len; i++) {
            cs[i].removeAttribute("_nodup")
        }
        return r
    }
    function nodup(cs) {
        if (!cs) {
            return []
        }
        var len = cs.length, c, i, r = cs, cj, ri = -1, d, j;
        if (!len || typeof cs.nodeType != "undefined" || len == 1) {
            return cs
        }
        if (isIE && typeof cs[0].selectSingleNode != "undefined") {
            return nodupIEXml(cs)
        }
        d = ++key;
        cs[0]._nodup = d;
        for (i = 1; c = cs[i]; i++) {
            if (c._nodup != d) {
                c._nodup = d
            } else {
                r = [];
                for (j = 0; j < i; j++) {
                    r[++ri] = cs[j]
                }
                for (j = i + 1; cj = cs[j]; j++) {
                    if (cj._nodup != d) {
                        cj._nodup = d;
                        r[++ri] = cj
                    }
                }
                return r
            }
        }
        return r
    }
    function quickDiffIEXml(c1, c2) {
        var d = ++key, r = [], i, len;
        for (i = 0,
        len = c1.length; i < len; i++) {
            c1[i].setAttribute("_qdiff", d)
        }
        for (i = 0,
        len = c2.length; i < len; i++) {
            if (c2[i].getAttribute("_qdiff") != d) {
                r[r.length] = c2[i]
            }
        }
        for (i = 0,
        len = c1.length; i < len; i++) {
            c1[i].removeAttribute("_qdiff")
        }
        return r
    }
    function quickDiff(c1, c2) {
        var len1 = c1.length, d = ++key, r = [], i, len;
        if (!len1) {
            return c2
        }
        if (isIE && typeof c1[0].selectSingleNode != "undefined") {
            return quickDiffIEXml(c1, c2)
        }
        for (i = 0; i < len1; i++) {
            c1[i]._qdiff = d
        }
        for (i = 0,
        len = c2.length; i < len; i++) {
            if (c2[i]._qdiff != d) {
                r[r.length] = c2[i]
            }
        }
        return r
    }
    function quickId(ns, mode, root, id) {
        if (ns == root) {
            id = unescapeCssSelector(id);
            var d = root.ownerDocument || root;
            return d.getElementById(id)
        }
        ns = getNodes(ns, mode, "*");
        return byId(ns, id)
    }
    return DQ = {
        getStyle: function(el, name) {
            return Ext.fly(el, "_DomQuery").getStyle(name)
        },
        compile: function(path, type) {
            type = type || "select";
            var fn = ["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"], lastPath, matchers = DQ.matchers, matchersLn = matchers.length, modeMatch, lmode = path.match(modeRe), tokenMatch, matched, j, t, m;
            path = setupEscapes(path);
            if (lmode && lmode[1]) {
                fn[fn.length] = 'mode="' + lmode[1].replace(trimRe, "") + '";';
                path = path.replace(lmode[1], "")
            }
            while (path.substr(0, 1) == "/") {
                path = path.substr(1)
            }
            while (path && lastPath != path) {
                lastPath = path;
                tokenMatch = path.match(tagTokenRe);
                if (type == "select") {
                    if (tokenMatch) {
                        if (tokenMatch[1] == "#") {
                            fn[fn.length] = 'n = quickId(n, mode, root, "' + tokenMatch[2] + '");'
                        } else {
                            fn[fn.length] = 'n = getNodes(n, mode, "' + tokenMatch[2] + '");'
                        }
                        path = path.replace(tokenMatch[0], "")
                    } else {
                        if (path.substr(0, 1) != "@") {
                            fn[fn.length] = 'n = getNodes(n, mode, "*");'
                        }
                    }
                } else {
                    if (tokenMatch) {
                        if (tokenMatch[1] == "#") {
                            fn[fn.length] = 'n = byId(n, "' + tokenMatch[2] + '");'
                        } else {
                            fn[fn.length] = 'n = byTag(n, "' + tokenMatch[2] + '");'
                        }
                        path = path.replace(tokenMatch[0], "")
                    }
                }
                while (!(modeMatch = path.match(modeRe))) {
                    matched = false;
                    for (j = 0; j < matchersLn; j++) {
                        t = matchers[j];
                        m = path.match(t.re);
                        if (m) {
                            fn[fn.length] = t.select.replace(tplRe, function(x, i) {
                                return m[i]
                            });
                            path = path.replace(m[0], "");
                            matched = true;
                            break
                        }
                    }
                    if (!matched) {
                        Ext.Error.raise({
                            sourceClass: "Ext.DomQuery",
                            sourceMethod: "compile",
                            msg: 'Error parsing selector. Parsing failed at "' + path + '"'
                        })
                    }
                }
                if (modeMatch[1]) {
                    fn[fn.length] = 'mode="' + modeMatch[1].replace(trimRe, "") + '";';
                    path = path.replace(modeMatch[1], "")
                }
            }
            fn[fn.length] = "return nodup(n);\n}";
            eval(fn.join(""));
            return f
        },
        jsSelect: function(path, root, type) {
            root = root || doc;
            if (typeof root == "string") {
                root = doc.getElementById(root)
            }
            var paths = path.split(","), results = [], i, len, subPath, result;
            for (i = 0,
            len = paths.length; i < len; i++) {
                subPath = paths[i].replace(trimRe, "");
                if (!cache[subPath]) {
                    cache[subPath] = DQ.compile(subPath, type);
                    if (!cache[subPath]) {
                        Ext.Error.raise({
                            sourceClass: "Ext.DomQuery",
                            sourceMethod: "jsSelect",
                            msg: subPath + " is not a valid selector"
                        })
                    }
                } else {
                    setupEscapes(subPath)
                }
                result = cache[subPath](root);
                if (result && result !== doc) {
                    results = results.concat(result)
                }
            }
            if (paths.length > 1) {
                return nodup(results)
            }
            return results
        },
        isXml: function(el) {
            var docEl = (el ? el.ownerDocument || el : 0).documentElement;
            return docEl ? docEl.nodeName !== "HTML" : false
        },
        select: doc.querySelectorAll ? function(path, root, type, single) {
            root = root || doc;
            if (!DQ.isXml(root)) {
                try {
                    if (root.parentNode && root.nodeType !== 9 && path.indexOf(",") === -1 && !startIdRe.test(path)) {
                        path = "#" + Ext.escapeId(Ext.id(root)) + " " + path;
                        root = root.parentNode
                    }
                    return single ? [root.querySelector(path)] : Ext.Array.toArray(root.querySelectorAll(path))
                } catch (e) {}
            }
            return DQ.jsSelect.call(this, path, root, type)
        }
        : function(path, root, type) {
            return DQ.jsSelect.call(this, path, root, type)
        }
        ,
        selectNode: function(path, root) {
            return Ext.DomQuery.select(path, root, null, true)[0]
        },
        selectValue: function(path, root, defaultValue) {
            path = path.replace(trimRe, "");
            if (!valueCache[path]) {
                valueCache[path] = DQ.compile(path, "select")
            } else {
                setupEscapes(path)
            }
            var n = valueCache[path](root), v;
            n = n[0] ? n[0] : n;
            if (typeof n.normalize == "function") {
                n.normalize()
            }
            v = n && n.firstChild ? n.firstChild.nodeValue : null;
            return v === null || v === undefined || v === "" ? defaultValue : v
        },
        selectNumber: function(path, root, defaultValue) {
            var v = DQ.selectValue(path, root, defaultValue || 0);
            return parseFloat(v)
        },
        is: function(el, ss) {
            if (typeof el == "string") {
                el = doc.getElementById(el)
            }
            var isArray = Ext.isArray(el)
              , result = DQ.filter(isArray ? el : [el], ss);
            return isArray ? result.length == el.length : result.length > 0
        },
        filter: function(els, ss, nonMatches) {
            ss = ss.replace(trimRe, "");
            if (!simpleCache[ss]) {
                simpleCache[ss] = DQ.compile(ss, "simple")
            } else {
                setupEscapes(ss)
            }
            var result = simpleCache[ss](els);
            return nonMatches ? quickDiff(result, els) : result
        },
        matchers: [{
            re: /^\.([\w\-\\]+)/,
            select: useClassList ? 'n = byClassName(n, "{1}");' : 'n = byClassName(n, " {1} ");'
        }, {
            re: /^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,
            select: 'n = byPseudo(n, "{1}", "{2}");'
        }, {
            re: /^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,
            select: 'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'
        }, {
            re: /^#([\w\-\\]+)/,
            select: 'n = byId(n, "{1}");'
        }, {
            re: /^@([\w\-\.]+)/,
            select: 'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'
        }],
        operators: {
            "=": function(a, v) {
                return a == v
            },
            "!=": function(a, v) {
                return a != v
            },
            "^=": function(a, v) {
                return a && a.substr(0, v.length) == v
            },
            "$=": function(a, v) {
                return a && a.substr(a.length - v.length) == v
            },
            "*=": function(a, v) {
                return a && a.indexOf(v) !== -1
            },
            "%=": function(a, v) {
                return a % v == 0
            },
            "|=": function(a, v) {
                return a && (a == v || a.substr(0, v.length + 1) == v + "-")
            },
            "~=": function(a, v) {
                return a && (" " + a + " ").indexOf(" " + v + " ") != -1
            }
        },
        pseudos: {
            "first-child": function(c) {
                var r = [], ri = -1, n, i, ci;
                for (i = 0; ci = n = c[i]; i++) {
                    while ((n = n.previousSibling) && n.nodeType != 1) {}
                    if (!n) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            "last-child": function(c) {
                var r = [], ri = -1, n, i, ci;
                for (i = 0; ci = n = c[i]; i++) {
                    while ((n = n.nextSibling) && n.nodeType != 1) {}
                    if (!n) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            "nth-child": function(c, a) {
                var r = [], ri = -1, m = nthRe.exec(a == "even" && "2n" || a == "odd" && "2n+1" || !nthRe2.test(a) && "n+" + a || a), f = (m[1] || 1) - 0, l = m[2] - 0, i, n, j, cn, pn;
                for (i = 0; n = c[i]; i++) {
                    pn = n.parentNode;
                    if (batch != pn._batch) {
                        j = 0;
                        for (cn = pn.firstChild; cn; cn = cn.nextSibling) {
                            if (cn.nodeType == 1) {
                                cn.nodeIndex = ++j
                            }
                        }
                        pn._batch = batch
                    }
                    if (f == 1) {
                        if (l == 0 || n.nodeIndex == l) {
                            r[++ri] = n
                        }
                    } else {
                        if ((n.nodeIndex + l) % f == 0) {
                            r[++ri] = n
                        }
                    }
                }
                return r
            },
            "only-child": function(c) {
                var r = [], ri = -1, i, ci;
                for (i = 0; ci = c[i]; i++) {
                    if (!prev(ci) && !next(ci)) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            empty: function(c) {
                var r = [], ri = -1, i, ci, cns, j, cn, empty;
                for (i = 0; ci = c[i]; i++) {
                    cns = ci.childNodes;
                    j = 0;
                    empty = true;
                    while (cn = cns[j]) {
                        ++j;
                        if (cn.nodeType == 1 || cn.nodeType == 3) {
                            empty = false;
                            break
                        }
                    }
                    if (empty) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            contains: function(c, v) {
                var r = [], ri = -1, i, ci;
                for (i = 0; ci = c[i]; i++) {
                    if ((ci.textContent || ci.innerText || ci.text || "").indexOf(v) != -1) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            nodeValue: function(c, v) {
                var r = [], ri = -1, i, ci;
                for (i = 0; ci = c[i]; i++) {
                    if (ci.firstChild && ci.firstChild.nodeValue == v) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            checked: function(c) {
                var r = [], ri = -1, i, ci;
                for (i = 0; ci = c[i]; i++) {
                    if (ci.checked == true) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            not: function(c, ss) {
                return DQ.filter(c, ss, true)
            },
            any: function(c, selectors) {
                var ss = selectors.split("|"), r = [], ri = -1, s, i, ci, j;
                for (i = 0; ci = c[i]; i++) {
                    for (j = 0; s = ss[j]; j++) {
                        if (DQ.is(ci, s)) {
                            r[++ri] = ci;
                            break
                        }
                    }
                }
                return r
            },
            odd: function(c) {
                return this["nth-child"](c, "odd")
            },
            even: function(c) {
                return this["nth-child"](c, "even")
            },
            nth: function(c, a) {
                return c[a - 1] || []
            },
            first: function(c) {
                return c[0] || []
            },
            last: function(c) {
                return c[c.length - 1] || []
            },
            has: function(c, ss) {
                var s = DQ.select, r = [], ri = -1, i, ci;
                for (i = 0; ci = c[i]; i++) {
                    if (s(ss, ci).length > 0) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            next: function(c, ss) {
                var is = DQ.is, r = [], ri = -1, i, ci, n;
                for (i = 0; ci = c[i]; i++) {
                    n = next(ci);
                    if (n && is(n, ss)) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            prev: function(c, ss) {
                var is = DQ.is, r = [], ri = -1, i, ci, n;
                for (i = 0; ci = c[i]; i++) {
                    n = prev(ci);
                    if (n && is(n, ss)) {
                        r[++ri] = ci
                    }
                }
                return r
            },
            focusable: function(candidates) {
                var len = candidates.length, results = [], i = 0, c;
                for (; i < len; i++) {
                    c = candidates[i];
                    if (Ext.fly(c, "_DomQuery").isFocusable()) {
                        results.push(c)
                    }
                }
                return results
            },
            visible: function(candidates, deep) {
                var len = candidates.length, results = [], i = 0, c;
                for (; i < len; i++) {
                    c = candidates[i];
                    if (Ext.fly(c, "_DomQuery").isVisible(deep)) {
                        results.push(c)
                    }
                }
                return results
            }
        }
    }
}();
Ext.query = Ext.DomQuery.select;
Ext.define("Ext.dom.Element_anim", {
    override: "Ext.dom.Element",
    animate: function(b) {
        var d = this, c, e, a = d.dom.id || Ext.id(d.dom);
        if (!Ext.fx.Manager.hasFxBlock(a)) {
            if (b.listeners) {
                c = b.listeners;
                delete b.listeners
            }
            if (b.internalListeners) {
                b.listeners = b.internalListeners;
                delete b.internalListeners
            }
            e = new Ext.fx.Anim(d.anim(b));
            if (c) {
                e.on(c)
            }
            Ext.fx.Manager.queueFx(e)
        }
        return d
    },
    anim: function(a) {
        if (!Ext.isObject(a)) {
            return a ? {} : false
        }
        var b = this, c = a.duration || Ext.fx.Anim.prototype.duration, e = a.easing || "ease", d;
        if (a.stopAnimation) {
            b.stopAnimation()
        }
        Ext.applyIf(a, Ext.fx.Manager.getFxDefaults(b.id));
        Ext.fx.Manager.setFxDefaults(b.id, {
            delay: 0
        });
        d = {
            target: b.dom,
            remove: a.remove,
            alternate: a.alternate || false,
            duration: c,
            easing: e,
            callback: a.callback,
            listeners: a.listeners,
            iterations: a.iterations || 1,
            scope: a.scope,
            block: a.block,
            concurrent: a.concurrent,
            delay: a.delay || 0,
            paused: true,
            keyframes: a.keyframes,
            from: a.from || {},
            to: Ext.apply({}, a)
        };
        Ext.apply(d.to, a.to);
        delete d.to.to;
        delete d.to.from;
        delete d.to.remove;
        delete d.to.alternate;
        delete d.to.keyframes;
        delete d.to.iterations;
        delete d.to.listeners;
        delete d.to.target;
        delete d.to.paused;
        delete d.to.callback;
        delete d.to.scope;
        delete d.to.duration;
        delete d.to.easing;
        delete d.to.concurrent;
        delete d.to.block;
        delete d.to.stopAnimation;
        delete d.to.delay;
        return d
    },
    slideIn: function(d, c, e) {
        var h = this, b = h.dom, k = b.style, j, a, g, i;
        d = d || "t";
        c = c || {};
        j = function() {
            var p = this, o = c.listeners, n = Ext.fly(b, "_anim"), q, l, s, m;
            if (!e) {
                n.fixDisplay()
            }
            q = n.getBox();
            if ((d == "t" || d == "b") && q.height === 0) {
                q.height = b.scrollHeight
            } else {
                if ((d == "l" || d == "r") && q.width === 0) {
                    q.width = b.scrollWidth
                }
            }
            l = n.getStyles("width", "height", "left", "right", "top", "bottom", "position", "z-index", true);
            n.setSize(q.width, q.height);
            if (c.preserveScroll) {
                g = n.cacheScrollValues()
            }
            m = n.wrap({
                id: Ext.id() + "-anim-wrap-for-" + n.dom.id,
                style: {
                    visibility: e ? "visible" : "hidden"
                }
            });
            i = m.dom.parentNode;
            m.setPositioning(n.getPositioning(true));
            if (m.isStyle("position", "static")) {
                m.position("relative")
            }
            n.clearPositioning("auto");
            m.clip();
            if (g) {
                g()
            }
            n.setStyle({
                visibility: "",
                position: "absolute"
            });
            if (e) {
                m.setSize(q.width, q.height)
            }
            switch (d) {
            case "t":
                s = {
                    from: {
                        width: q.width + "px",
                        height: "0px"
                    },
                    to: {
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                k.bottom = "0px";
                break;
            case "l":
                s = {
                    from: {
                        width: "0px",
                        height: q.height + "px"
                    },
                    to: {
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                h.anchorAnimX(d);
                break;
            case "r":
                s = {
                    from: {
                        x: q.x + q.width,
                        width: "0px",
                        height: q.height + "px"
                    },
                    to: {
                        x: q.x,
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                h.anchorAnimX(d);
                break;
            case "b":
                s = {
                    from: {
                        y: q.y + q.height,
                        width: q.width + "px",
                        height: "0px"
                    },
                    to: {
                        y: q.y,
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                break;
            case "tl":
                s = {
                    from: {
                        x: q.x,
                        y: q.y,
                        width: "0px",
                        height: "0px"
                    },
                    to: {
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                k.bottom = "0px";
                h.anchorAnimX("l");
                break;
            case "bl":
                s = {
                    from: {
                        y: q.y + q.height,
                        width: "0px",
                        height: "0px"
                    },
                    to: {
                        y: q.y,
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                h.anchorAnimX("l");
                break;
            case "br":
                s = {
                    from: {
                        x: q.x + q.width,
                        y: q.y + q.height,
                        width: "0px",
                        height: "0px"
                    },
                    to: {
                        x: q.x,
                        y: q.y,
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                h.anchorAnimX("r");
                break;
            case "tr":
                s = {
                    from: {
                        x: q.x + q.width,
                        width: "0px",
                        height: "0px"
                    },
                    to: {
                        x: q.x,
                        width: q.width + "px",
                        height: q.height + "px"
                    }
                };
                k.bottom = "0px";
                h.anchorAnimX("r");
                break
            }
            m.show();
            a = Ext.apply({}, c);
            delete a.listeners;
            a = new Ext.fx.Anim(Ext.applyIf(a, {
                target: m,
                duration: 500,
                easing: "ease-out",
                from: e ? s.to : s.from,
                to: e ? s.from : s.to
            }));
            a.on("afteranimate", function() {
                var t = Ext.fly(b, "_anim");
                t.setStyle(l);
                if (e) {
                    if (c.useDisplay) {
                        t.setDisplayed(false)
                    } else {
                        t.hide()
                    }
                }
                if (m.dom) {
                    if (m.dom.parentNode) {
                        m.dom.parentNode.insertBefore(t.dom, m.dom)
                    } else {
                        i.appendChild(t.dom)
                    }
                    m.remove()
                }
                if (g) {
                    g()
                }
                p.end()
            });
            if (o) {
                a.on(o)
            }
        }
        ;
        h.animate({
            duration: c.duration ? Math.max(c.duration, 500) * 2 : 1000,
            listeners: {
                beforeanimate: j
            }
        });
        return h
    },
    slideOut: function(a, b) {
        return this.slideIn(a, b, true)
    },
    puff: function(e) {
        var d = this, g = d.dom, b, c = d.getBox(), a = d.getStyles("width", "height", "left", "right", "top", "bottom", "position", "z-index", "font-size", "opacity", true);
        e = Ext.applyIf(e || {}, {
            easing: "ease-out",
            duration: 500,
            useDisplay: false
        });
        b = function() {
            var h = Ext.fly(g, "_anim");
            h.clearOpacity();
            h.show();
            this.to = {
                width: c.width * 2,
                height: c.height * 2,
                x: c.x - c.width / 2,
                y: c.y - c.height / 2,
                opacity: 0,
                fontSize: "200%"
            };
            this.on("afteranimate", function() {
                var i = Ext.fly(g, "_anim");
                if (i) {
                    if (e.useDisplay) {
                        i.setDisplayed(false)
                    } else {
                        i.hide()
                    }
                    i.setStyle(a);
                    Ext.callback(e.callback, e.scope)
                }
            })
        }
        ;
        d.animate({
            duration: e.duration,
            easing: e.easing,
            listeners: {
                beforeanimate: {
                    fn: b
                }
            }
        });
        return d
    },
    switchOff: function(c) {
        var b = this, d = b.dom, a;
        c = Ext.applyIf(c || {}, {
            easing: "ease-in",
            duration: 500,
            remove: false,
            useDisplay: false
        });
        a = function() {
            var j = Ext.fly(d, "_anim"), i = this, h = j.getSize(), k = j.getXY(), g, e;
            j.clearOpacity();
            j.clip();
            e = j.getPositioning();
            g = new Ext.fx.Animator({
                target: d,
                duration: c.duration,
                easing: c.easing,
                keyframes: {
                    33: {
                        opacity: 0.3
                    },
                    66: {
                        height: 1,
                        y: k[1] + h.height / 2
                    },
                    100: {
                        width: 1,
                        x: k[0] + h.width / 2
                    }
                }
            });
            g.on("afteranimate", function() {
                var l = Ext.fly(d, "_anim");
                if (c.useDisplay) {
                    l.setDisplayed(false)
                } else {
                    l.hide()
                }
                l.clearOpacity();
                l.setPositioning(e);
                l.setSize(h);
                i.end()
            })
        }
        ;
        b.animate({
            duration: Math.max(c.duration, 500) * 2,
            listeners: {
                beforeanimate: {
                    fn: a
                }
            }
        });
        return b
    },
    frame: function(a, d, e) {
        var c = this, g = c.dom, b;
        a = a || "#C3DAF9";
        d = d || 1;
        e = e || {};
        b = function() {
            var k = Ext.fly(g, "_anim"), j = this, l, i, h;
            k.show();
            l = k.getBox();
            i = Ext.getBody().createChild({
                id: k.dom.id + "-anim-proxy",
                style: {
                    position: "absolute",
                    "pointer-events": "none",
                    "z-index": 35000,
                    border: "0px solid " + a
                }
            });
            h = new Ext.fx.Anim({
                target: i,
                duration: e.duration || 1000,
                iterations: d,
                from: {
                    top: l.y,
                    left: l.x,
                    borderWidth: 0,
                    opacity: 1,
                    height: l.height,
                    width: l.width
                },
                to: {
                    top: l.y - 20,
                    left: l.x - 20,
                    borderWidth: 10,
                    opacity: 0,
                    height: l.height + 40,
                    width: l.width + 40
                }
            });
            h.on("afteranimate", function() {
                i.remove();
                j.end()
            })
        }
        ;
        c.animate({
            duration: Math.max(e.duration, 500) * 2 || 2000,
            listeners: {
                beforeanimate: {
                    fn: b
                }
            }
        });
        return c
    },
    ghost: function(a, d) {
        var c = this, e = c.dom, b;
        a = a || "b";
        b = function() {
            var j = Ext.fly(e, "_anim")
              , i = j.getWidth()
              , h = j.getHeight()
              , k = j.getXY()
              , g = j.getPositioning()
              , l = {
                opacity: 0
            };
            switch (a) {
            case "t":
                l.y = k[1] - h;
                break;
            case "l":
                l.x = k[0] - i;
                break;
            case "r":
                l.x = k[0] + i;
                break;
            case "b":
                l.y = k[1] + h;
                break;
            case "tl":
                l.x = k[0] - i;
                l.y = k[1] - h;
                break;
            case "bl":
                l.x = k[0] - i;
                l.y = k[1] + h;
                break;
            case "br":
                l.x = k[0] + i;
                l.y = k[1] + h;
                break;
            case "tr":
                l.x = k[0] + i;
                l.y = k[1] - h;
                break
            }
            this.to = l;
            this.on("afteranimate", function() {
                var m = Ext.fly(e, "_anim");
                if (m) {
                    m.hide();
                    m.clearOpacity();
                    m.setPositioning(g)
                }
            })
        }
        ;
        c.animate(Ext.applyIf(d || {}, {
            duration: 500,
            easing: "ease-out",
            listeners: {
                beforeanimate: b
            }
        }));
        return c
    },
    highlight: function(d, b) {
        var i = this, e = i.dom, k = {}, h, l, g, c, a, j;
        if (e.tagName.match(i.tableTagRe)) {
            return i.select("div").highlight(d, b)
        }
        b = b || {};
        c = b.listeners || {};
        g = b.attr || "backgroundColor";
        k[g] = d || "ffff9c";
        if (!b.to) {
            l = {};
            l[g] = b.endColor || i.getColor(g, "ffffff", "")
        } else {
            l = b.to
        }
        b.listeners = Ext.apply(Ext.apply({}, c), {
            beforeanimate: function() {
                h = e.style[g];
                var m = Ext.fly(e, "_anim");
                m.clearOpacity();
                m.show();
                a = c.beforeanimate;
                if (a) {
                    j = a.fn || a;
                    return j.apply(a.scope || c.scope || window, arguments)
                }
            },
            afteranimate: function() {
                if (e) {
                    e.style[g] = h
                }
                a = c.afteranimate;
                if (a) {
                    j = a.fn || a;
                    j.apply(a.scope || c.scope || window, arguments)
                }
            }
        });
        i.animate(Ext.apply({}, b, {
            duration: 1000,
            easing: "ease-in",
            from: k,
            to: l
        }));
        return i
    },
    pause: function(a) {
        var b = this;
        Ext.fx.Manager.setFxDefaults(b.id, {
            delay: a
        });
        return b
    },
    fadeIn: function(c) {
        var a = this
          , b = a.dom;
        a.animate(Ext.apply({}, c, {
            opacity: 1,
            internalListeners: {
                beforeanimate: function(e) {
                    var d = Ext.fly(b, "_anim");
                    if (d.isStyle("display", "none")) {
                        d.setDisplayed("")
                    } else {
                        d.show()
                    }
                }
            }
        }));
        return this
    },
    fadeOut: function(c) {
        var a = this
          , b = a.dom;
        c = Ext.apply({
            opacity: 0,
            internalListeners: {
                afteranimate: function(e) {
                    if (b && e.to.opacity === 0) {
                        var d = Ext.fly(b, "_anim");
                        if (c.useDisplay) {
                            d.setDisplayed(false)
                        } else {
                            d.hide()
                        }
                    }
                }
            }
        }, c);
        a.animate(c);
        return a
    },
    scale: function(a, b, c) {
        this.animate(Ext.apply({}, c, {
            width: a,
            height: b
        }));
        return this
    },
    shift: function(a) {
        this.animate(a);
        return this
    },
    anchorAnimX: function(a) {
        var b = a === "l" ? "right" : "left";
        this.dom.style[b] = "0px"
    }
});
Ext.define("Ext.dom.Element_dd", {
    override: "Ext.dom.Element",
    initDD: function(c, b, d) {
        var a = new Ext.dd.DD(Ext.id(this.dom),c,b);
        return Ext.apply(a, d)
    },
    initDDProxy: function(c, b, d) {
        var a = new Ext.dd.DDProxy(Ext.id(this.dom),c,b);
        return Ext.apply(a, d)
    },
    initDDTarget: function(c, b, d) {
        var a = new Ext.dd.DDTarget(Ext.id(this.dom),c,b);
        return Ext.apply(a, d)
    }
});
Ext.define("Ext.dom.Element_fx", {
    override: "Ext.dom.Element"
}, function() {
    var b = Ext.dom.Element
      , i = "visibility"
      , g = "display"
      , n = "none"
      , e = "hidden"
      , m = "visible"
      , o = "offsets"
      , j = "asclass"
      , a = "nosize"
      , c = "originalDisplay"
      , d = "visibilityMode"
      , h = "isVisible"
      , l = Ext.baseCSSPrefix + "hide-offsets"
      , k = function(q) {
        var s = (q.$cache || q.getCache()).data
          , t = s[c];
        if (t === undefined) {
            s[c] = t = ""
        }
        return t
    }
      , p = function(s) {
        var t = (s.$cache || s.getCache()).data
          , q = t[d];
        if (q === undefined) {
            t[d] = q = b.VISIBILITY
        }
        return q
    };
    b.override({
        originalDisplay: "",
        visibilityMode: 1,
        setVisible: function(v, q) {
            var t = this
              , u = t.dom
              , s = p(t);
            if (typeof q == "string") {
                switch (q) {
                case g:
                    s = b.DISPLAY;
                    break;
                case i:
                    s = b.VISIBILITY;
                    break;
                case o:
                    s = b.OFFSETS;
                    break;
                case a:
                case j:
                    s = b.ASCLASS;
                    break
                }
                t.setVisibilityMode(s);
                q = false
            }
            if (!q || !t.anim) {
                if (s == b.DISPLAY) {
                    return t.setDisplayed(v)
                } else {
                    if (s == b.OFFSETS) {
                        t[v ? "removeCls" : "addCls"](l)
                    } else {
                        if (s == b.VISIBILITY) {
                            t.fixDisplay();
                            u.style.visibility = v ? "" : e
                        } else {
                            if (s == b.ASCLASS) {
                                t[v ? "removeCls" : "addCls"](t.visibilityCls || b.visibilityCls)
                            }
                        }
                    }
                }
            } else {
                if (v) {
                    t.setOpacity(0.01);
                    t.setVisible(true)
                }
                if (!Ext.isObject(q)) {
                    q = {
                        duration: 350,
                        easing: "ease-in"
                    }
                }
                t.animate(Ext.applyIf({
                    callback: function() {
                        if (!v) {
                            Ext.fly(u, "_internal").setVisible(false).setOpacity(1)
                        }
                    },
                    to: {
                        opacity: v ? 1 : 0
                    }
                }, q))
            }
            (t.$cache || t.getCache()).data[h] = v;
            return t
        },
        hasMetrics: function() {
            var q = p(this);
            return this.isVisible() || q == b.OFFSETS || q == b.VISIBILITY
        },
        toggle: function(q) {
            var s = this;
            s.setVisible(!s.isVisible(), s.anim(q));
            return s
        },
        setDisplayed: function(q) {
            if (typeof q == "boolean") {
                q = q ? k(this) : n
            }
            this.setStyle(g, q);
            return this
        },
        fixDisplay: function() {
            var q = this;
            if (q.isStyle(g, n)) {
                q.setStyle(i, e);
                q.setStyle(g, k(q));
                if (q.isStyle(g, n)) {
                    q.setStyle(g, "block")
                }
            }
        },
        hide: function(q) {
            if (typeof q == "string") {
                this.setVisible(false, q);
                return this
            }
            this.setVisible(false, this.anim(q));
            return this
        },
        show: function(q) {
            if (typeof q == "string") {
                this.setVisible(true, q);
                return this
            }
            this.setVisible(true, this.anim(q));
            return this
        }
    })
});
Ext.define("Ext.dom.Element_position", {
    override: "Ext.dom.Element"
}, function() {
    var y, q = this, m = "left", j = "right", p = "top", h = "bottom", n = "position", i = "static", z = "relative", v = "z-index", u = "BODY", c = "padding", t = "border", s = "-left", l = "-right", a = "-top", k = "-bottom", g = "-width", e = {
        l: t + s + g,
        r: t + l + g,
        t: t + a + g,
        b: t + k + g
    }, d = {
        l: c + s,
        r: c + l,
        t: c + a,
        b: c + k
    }, w = [d.l, d.r, d.t, d.b], b = [e.l, e.r, e.t, e.b], x = Math.round, A = document, o = function(B) {
        if (!y) {
            y = new Ext.Element.Fly()
        }
        y.attach(B);
        return y
    };
    q.override({
        pxRe: /^\d+(?:\.\d*)?px$/i,
        inheritableStatics: {
            getX: function(B) {
                return q.getXY(B)[0]
            },
            getXY: function(D) {
                var G = A.body, C = A.documentElement, B = 0, E = 0, H = [0, 0], F, J;
                D = Ext.getDom(D);
                if (D != A && D != G) {
                    if (Ext.isIE) {
                        try {
                            F = D.getBoundingClientRect();
                            E = C.clientTop || G.clientTop;
                            B = C.clientLeft || G.clientLeft
                        } catch (I) {
                            F = {
                                left: 0,
                                top: 0
                            }
                        }
                    } else {
                        F = D.getBoundingClientRect()
                    }
                    J = o(A).getScroll();
                    H = [x(F.left + J.left - B), x(F.top + J.top - E)]
                }
                return H
            },
            getY: function(B) {
                return q.getXY(B)[1]
            },
            setX: function(C, B) {
                q.setXY(C, [B, false])
            },
            setXY: function(C, D) {
                (C = Ext.fly(C, "_setXY")).position();
                var E = C.translatePoints(D), B = C.dom.style, F;
                B.right = "auto";
                for (F in E) {
                    if (!isNaN(E[F])) {
                        B[F] = E[F] + "px"
                    }
                }
            },
            setY: function(B, C) {
                q.setXY(B, [false, C])
            }
        },
        center: function(B) {
            return this.alignTo(B || A, "c-c")
        },
        clearPositioning: function(B) {
            B = B || "";
            return this.setStyle({
                left: B,
                right: B,
                top: B,
                bottom: B,
                "z-index": "",
                position: i
            })
        },
        getAnchorToXY: function(E, B, D, C) {
            return E.getAnchorXY(B, D, C)
        },
        getBottom: function(B) {
            return (B ? this.getLocalY() : this.getY()) + this.getHeight()
        },
        getBorderPadding: function() {
            var B = this.getStyle(w)
              , C = this.getStyle(b);
            return {
                beforeX: (parseFloat(C[e.l]) || 0) + (parseFloat(B[d.l]) || 0),
                afterX: (parseFloat(C[e.r]) || 0) + (parseFloat(B[d.r]) || 0),
                beforeY: (parseFloat(C[e.t]) || 0) + (parseFloat(B[d.t]) || 0),
                afterY: (parseFloat(C[e.b]) || 0) + (parseFloat(B[d.b]) || 0)
            }
        },
        getCenterXY: function() {
            return this.getAlignToXY(A, "c-c")
        },
        getLeft: function(B) {
            return B ? this.getLocalX() : this.getX()
        },
        getLocalX: function() {
            var D = this
              , C = D.dom.offsetParent
              , B = D.getStyle("left");
            if (!B || B === "auto") {
                B = 0
            } else {
                if (D.pxRe.test(B)) {
                    B = parseFloat(B)
                } else {
                    B = D.getX();
                    if (C) {
                        B -= q.getX(C)
                    }
                }
            }
            return B
        },
        getLocalXY: function() {
            var E = this
              , D = E.dom.offsetParent
              , C = E.getStyle(["left", "top"])
              , B = C.left
              , F = C.top;
            if (!B || B === "auto") {
                B = 0
            } else {
                if (E.pxRe.test(B)) {
                    B = parseFloat(B)
                } else {
                    B = E.getX();
                    if (D) {
                        B -= q.getX(D)
                    }
                }
            }
            if (!F || F === "auto") {
                F = 0
            } else {
                if (E.pxRe.test(F)) {
                    F = parseFloat(F)
                } else {
                    F = E.getY();
                    if (D) {
                        F -= q.getY(D)
                    }
                }
            }
            return [B, F]
        },
        getLocalY: function() {
            var C = this
              , B = C.dom.offsetParent
              , D = C.getStyle("top");
            if (!D || D === "auto") {
                D = 0
            } else {
                if (C.pxRe.test(D)) {
                    D = parseFloat(D)
                } else {
                    D = C.getY();
                    if (B) {
                        D -= q.getY(B)
                    }
                }
            }
            return D
        },
        getPageBox: function(D) {
            var G = this
              , E = G.dom
              , I = E.nodeName == u
              , J = I ? Ext.Element.getViewWidth() : E.offsetWidth
              , F = I ? Ext.Element.getViewHeight() : E.offsetHeight
              , L = G.getXY()
              , K = L[1]
              , B = L[0] + J
              , H = L[1] + F
              , C = L[0];
            if (D) {
                return new Ext.util.Region(K,B,H,C)
            } else {
                return {
                    left: C,
                    top: K,
                    width: J,
                    height: F,
                    right: B,
                    bottom: H
                }
            }
        },
        getPositioning: function(C) {
            var B = this.getStyle(["left", "top", "position", "z-index"])
              , D = this.dom;
            if (C) {
                if (B.left === "auto") {
                    B.left = D.offsetLeft + "px"
                }
                if (B.top === "auto") {
                    B.top = D.offsetTop + "px"
                }
            }
            return B
        },
        getRight: function(B) {
            return (B ? this.getLocalX() : this.getX()) + this.getWidth()
        },
        getTop: function(B) {
            return B ? this.getLocalY() : this.getY()
        },
        getX: function() {
            return q.getX(this.dom)
        },
        getXY: function() {
            return q.getXY(this.dom)
        },
        getY: function() {
            return q.getY(this.dom)
        },
        moveTo: function(B, D, C) {
            return this.setXY([B, D], C)
        },
        position: function(F, E, B, D) {
            var C = this;
            if (!F && C.isStyle(n, i)) {
                C.setStyle(n, z)
            } else {
                if (F) {
                    C.setStyle(n, F)
                }
            }
            if (E) {
                C.setStyle(v, E)
            }
            if (B || D) {
                C.setXY([B || false, D || false])
            }
        },
        setBottom: function(B) {
            this.dom.style[h] = this.addUnits(B);
            return this
        },
        setBounds: function(C, F, E, B, D) {
            return this.setBox({
                x: C,
                y: F,
                width: E,
                height: B
            }, D)
        },
        setLeft: function(B) {
            this.dom.style[m] = this.addUnits(B);
            return this
        },
        setLeftTop: function(E, D) {
            var C = this
              , B = C.dom.style;
            B.left = C.addUnits(E);
            B.top = C.addUnits(D);
            return C
        },
        setLocalX: function(B) {
            var C = this.dom.style;
            C.right = "auto";
            C.left = B === null ? "auto" : B + "px"
        },
        setLocalXY: function(B, D) {
            var C = this.dom.style;
            C.right = "auto";
            if (B && B.length) {
                D = B[1];
                B = B[0]
            }
            if (B === null) {
                C.left = "auto"
            } else {
                if (B !== undefined) {
                    C.left = B + "px"
                }
            }
            if (D === null) {
                C.top = "auto"
            } else {
                if (D !== undefined) {
                    C.top = D + "px"
                }
            }
        },
        setLocalY: function(B) {
            this.dom.style.top = B === null ? "auto" : B + "px"
        },
        setLocation: function(B, D, C) {
            return this.setXY([B, D], C)
        },
        setPositioning: function(B) {
            return this.setStyle(B)
        },
        setRight: function(B) {
            this.dom.style[j] = this.addUnits(B);
            return this
        },
        setTop: function(B) {
            this.dom.style[p] = this.addUnits(B);
            return this
        },
        setX: function(B, C) {
            return this.setXY([B, this.getY()], C)
        },
        setXY: function(D, B) {
            var C = this;
            if (!B || !C.anim) {
                q.setXY(C.dom, D)
            } else {
                if (!Ext.isObject(B)) {
                    B = {}
                }
                C.animate(Ext.applyIf({
                    to: {
                        x: D[0],
                        y: D[1]
                    }
                }, B))
            }
            return this
        },
        setY: function(C, B) {
            return this.setXY([this.getX(), C], B)
        }
    });
    q.getTrueXY = q.getXY
});
Ext.define("Ext.dom.Element_scroll", {
    override: "Ext.dom.Element",
    isScrollable: function() {
        var a = this.dom;
        return a.scrollHeight > a.clientHeight || a.scrollWidth > a.clientWidth
    },
    getScroll: function() {
        var c = this, h = c.dom, g = document, a = g.body, b = g.documentElement, e, d;
        if (h === g || h === a) {
            e = b.scrollLeft || (a ? a.scrollLeft : 0);
            d = b.scrollTop || (a ? a.scrollTop : 0)
        } else {
            e = h.scrollLeft;
            d = h.scrollTop
        }
        return {
            left: e,
            top: d
        }
    },
    getScrollLeft: function() {
        var b = this.dom
          , a = document;
        if (b === a || b === a.body) {
            return this.getScroll().left
        } else {
            return b.scrollLeft
        }
    },
    getScrollTop: function() {
        var b = this.dom
          , a = document;
        if (b === a || b === a.body) {
            return this.getScroll().top
        } else {
            return b.scrollTop
        }
    },
    setScrollLeft: function(a) {
        this.dom.scrollLeft = this.normalizeScrollLeft(a);
        return this
    },
    normalizeScrollLeft: Ext.identityFn,
    setScrollTop: function(a) {
        this.dom.scrollTop = a;
        return this
    },
    scrollBy: function(b, a, c) {
        var d = this
          , e = d.dom;
        if (b.length) {
            c = a;
            a = b[1];
            b = b[0]
        } else {
            if (typeof b != "number") {
                c = a;
                a = b.y;
                b = b.x
            }
        }
        if (b) {
            d.scrollTo("left", Math.max(Math.min(d.getScrollLeft() + b, e.scrollWidth - e.clientWidth), 0), c)
        }
        if (a) {
            d.scrollTo("top", Math.max(Math.min(e.scrollTop + a, e.scrollHeight - e.clientHeight), 0), c)
        }
        return d
    },
    scrollTo: function(c, e, a) {
        var g = /top/i.test(c), i = "scroll" + (g ? "Top" : "Left"), d = this, h = d.dom, b, i;
        if (!g) {
            e = d.normalizeScrollLeft(e)
        }
        if (!a || !d.anim) {
            h[i] = e;
            h[i] = e
        } else {
            b = {
                to: {}
            };
            b.to[i] = e;
            if (Ext.isObject(a)) {
                Ext.applyIf(b, a)
            }
            d.animate(b)
        }
        return d
    },
    scrollIntoView: function(b, e, c) {
        var l = this, j = l.dom, h = l.getOffsetsTo(b = Ext.getDom(b) || Ext.getBody().dom), g = h[0] + b.scrollLeft, m = h[1] + b.scrollTop, a = m + j.offsetHeight, n = g + j.offsetWidth, q = b.clientHeight, p = parseInt(b.scrollTop, 10), d = parseInt(b.scrollLeft, 10), i = p + q, o = d + b.clientWidth, k;
        if (c) {
            c = Ext.apply({
                listeners: {
                    afteranimate: function() {
                        l.scrollChildFly.attach(j).highlight()
                    }
                }
            }, c)
        }
        if (j.offsetHeight > q || m < p) {
            k = m
        } else {
            if (a > i) {
                k = a - q
            }
        }
        if (k != null) {
            l.scrollChildFly.attach(b).scrollTo("top", k, c)
        }
        if (e !== false) {
            k = null;
            if (j.offsetWidth > b.clientWidth || g < d) {
                k = g
            } else {
                if (n > o) {
                    k = n - b.clientWidth
                }
            }
            if (k != null) {
                l.scrollChildFly.attach(b).scrollTo("left", k, c)
            }
        }
        return l
    },
    scrollChildIntoView: function(b, a) {
        this.scrollChildFly.attach(Ext.getDom(b)).scrollIntoView(this, a)
    },
    scroll: function(m, b, d) {
        if (!this.isScrollable()) {
            return false
        }
        var e = this.dom, g = e.scrollLeft, p = e.scrollTop, n = e.scrollWidth, k = e.scrollHeight, i = e.clientWidth, a = e.clientHeight, c = false, o, j = {
            l: Math.min(g + b, n - i),
            r: o = Math.max(g - b, 0),
            t: Math.max(p - b, 0),
            b: Math.min(p + b, k - a)
        };
        j.d = j.b;
        j.u = j.t;
        m = m.substr(0, 1);
        if ((o = j[m]) > -1) {
            c = true;
            this.scrollTo(m == "l" || m == "r" ? "left" : "top", o, this.anim(d))
        }
        return c
    }
}, function() {
    this.prototype.scrollChildFly = new this.Fly();
    this.prototype.scrolltoFly = new this.Fly()
});
Ext.define("Ext.dom.Element_style", {
    override: "Ext.dom.Element"
}, function() {
    var s = this, n = document.defaultView, p = /table-row|table-.*-group/, a = "_internal", u = "hidden", q = "height", h = "width", e = "isClipped", j = "overflow", m = "overflow-x", l = "overflow-y", v = "originalClip", b = /#document|body/i, w, g, o, d, t, i, x;
    if (!n || !n.getComputedStyle) {
        s.prototype.getStyle = function(C, B) {
            var O = this, J = O.dom, M = typeof C != "string", k = O.styleHooks, z = C, A = z, I = 1, E = B, N, F, y, D, H, K, G;
            if (M) {
                y = {};
                z = A[0];
                G = 0;
                if (!(I = A.length)) {
                    return y
                }
            }
            if (!J || J.documentElement) {
                return y || ""
            }
            F = J.style;
            if (B) {
                K = F
            } else {
                K = J.currentStyle;
                if (!K) {
                    E = true;
                    K = F
                }
            }
            do {
                D = k[z];
                if (!D) {
                    k[z] = D = {
                        name: s.normalize(z)
                    }
                }
                if (D.get) {
                    H = D.get(J, O, E, K)
                } else {
                    N = D.name;
                    if (D.canThrow) {
                        try {
                            H = K[N]
                        } catch (L) {
                            H = ""
                        }
                    } else {
                        H = K ? K[N] : ""
                    }
                }
                if (!M) {
                    return H
                }
                y[z] = H;
                z = A[++G]
            } while (G < I);return y
        }
    }
    s.override({
        getHeight: function(A, y) {
            var z = this, B = z.isStyle("display", "none"), k, C;
            if (B) {
                return 0
            }
            k = z.dom.offsetHeight;
            if (Ext.supports.Direct2DBug) {
                C = z.adjustDirect2DDimension(q);
                if (y) {
                    k += C
                } else {
                    if (C > 0 && C < 0.5) {
                        k++
                    }
                }
            }
            if (A) {
                k -= z.getBorderWidth("tb") + z.getPadding("tb")
            }
            return k < 0 ? 0 : k
        },
        getWidth: function(k, C) {
            var A = this, D = A.dom, B = A.isStyle("display", "none"), z, y, E;
            if (B) {
                return 0
            }
            if (C && Ext.supports.BoundingClientRect) {
                z = D.getBoundingClientRect();
                y = A.vertical && !Ext.isIE9 && !Ext.supports.RotatedBoundingClientRect ? z.bottom - z.top : z.right - z.left
            } else {
                y = D.offsetWidth
            }
            if (Ext.supports.Direct2DBug && !A.vertical) {
                E = A.adjustDirect2DDimension(h);
                if (C) {
                    y += E
                } else {
                    if (E > 0 && E < 0.5) {
                        y++
                    }
                }
            }
            if (k) {
                y -= A.getBorderWidth("lr") + A.getPadding("lr")
            }
            return y < 0 ? 0 : y
        },
        setWidth: function(y, k) {
            var z = this;
            y = z.adjustWidth(y);
            if (!k || !z.anim) {
                z.dom.style.width = z.addUnits(y)
            } else {
                if (!Ext.isObject(k)) {
                    k = {}
                }
                z.animate(Ext.applyIf({
                    to: {
                        width: y
                    }
                }, k))
            }
            return z
        },
        setHeight: function(k, y) {
            var z = this;
            k = z.adjustHeight(k);
            if (!y || !z.anim) {
                z.dom.style.height = z.addUnits(k)
            } else {
                if (!Ext.isObject(y)) {
                    y = {}
                }
                z.animate(Ext.applyIf({
                    to: {
                        height: k
                    }
                }, y))
            }
            return z
        },
        applyStyles: function(k) {
            Ext.DomHelper.applyStyles(this.dom, k);
            return this
        },
        setSize: function(z, k, y) {
            var A = this;
            if (Ext.isObject(z)) {
                y = k;
                k = z.height;
                z = z.width
            }
            z = A.adjustWidth(z);
            k = A.adjustHeight(k);
            if (!y || !A.anim) {
                A.dom.style.width = A.addUnits(z);
                A.dom.style.height = A.addUnits(k)
            } else {
                if (y === true) {
                    y = {}
                }
                A.animate(Ext.applyIf({
                    to: {
                        width: z,
                        height: k
                    }
                }, y))
            }
            return A
        },
        getViewSize: function() {
            var z = this, A = z.dom, y = b.test(A.nodeName), k;
            if (y) {
                k = {
                    width: s.getViewWidth(),
                    height: s.getViewHeight()
                }
            } else {
                k = {
                    width: A.clientWidth,
                    height: A.clientHeight
                }
            }
            return k
        },
        getSize: function(k) {
            return {
                width: this.getWidth(k),
                height: this.getHeight(k)
            }
        },
        adjustWidth: function(k) {
            var y = this
              , z = typeof k == "number";
            if (z && y.autoBoxAdjust && !y.isBorderBox()) {
                k -= y.getBorderWidth("lr") + y.getPadding("lr")
            }
            return z && k < 0 ? 0 : k
        },
        adjustHeight: function(k) {
            var y = this
              , z = typeof k == "number";
            if (z && y.autoBoxAdjust && !y.isBorderBox()) {
                k -= y.getBorderWidth("tb") + y.getPadding("tb")
            }
            return z && k < 0 ? 0 : k
        },
        getColor: function(y, z, E) {
            var B = this.getStyle(y), A = E || E === "" ? E : "#", D, k, C = 0;
            if (!B || /transparent|inherit/.test(B)) {
                return z
            }
            if (/^r/.test(B)) {
                B = B.slice(4, B.length - 1).split(",");
                k = B.length;
                for (; C < k; C++) {
                    D = parseInt(B[C], 10);
                    A += (D < 16 ? "0" : "") + D.toString(16)
                }
            } else {
                B = B.replace("#", "");
                A += B.length == 3 ? B.replace(/^(\w)(\w)(\w)$/, "$1$1$2$2$3$3") : B
            }
            return A.length > 5 ? A.toLowerCase() : z
        },
        setOpacity: function(y, k) {
            var z = this;
            if (!z.dom) {
                return z
            }
            if (!k || !z.anim) {
                z.setStyle("opacity", y)
            } else {
                if (typeof k != "object") {
                    k = {
                        duration: 350,
                        easing: "ease-in"
                    }
                }
                z.animate(Ext.applyIf({
                    to: {
                        opacity: y
                    }
                }, k))
            }
            return z
        },
        clearOpacity: function() {
            return this.setOpacity("")
        },
        adjustDirect2DDimension: function(z) {
            var E = this, y = E.dom, C = E.getStyle("display"), B = y.style.display, F = y.style.position, D = z === h ? 0 : 1, k = y.currentStyle, A;
            if (C === "inline") {
                y.style.display = "inline-block"
            }
            y.style.position = C.match(p) ? "absolute" : "static";
            A = (parseFloat(k[z]) || parseFloat(k.msTransformOrigin.split(" ")[D]) * 2) % 1;
            y.style.position = F;
            if (C === "inline") {
                y.style.display = B
            }
            return A
        },
        clip: function() {
            var y = this, z = (y.$cache || y.getCache()).data, k;
            if (!z[e]) {
                z[e] = true;
                k = y.getStyle([j, m, l]);
                z[v] = {
                    o: k[j],
                    x: k[m],
                    y: k[l]
                };
                y.setStyle(j, u);
                y.setStyle(m, u);
                y.setStyle(l, u)
            }
            return y
        },
        unclip: function() {
            var y = this, z = (y.$cache || y.getCache()).data, k;
            if (z[e]) {
                z[e] = false;
                k = z[v];
                if (k.o) {
                    y.setStyle(j, k.o)
                }
                if (k.x) {
                    y.setStyle(m, k.x)
                }
                if (k.y) {
                    y.setStyle(l, k.y)
                }
            }
            return y
        },
        boxWrap: function(k) {
            k = k || Ext.baseCSSPrefix + "box";
            var y = Ext.get(this.insertHtml("beforeBegin", "<div class='" + k + "'>" + Ext.String.format(s.boxMarkup, k) + "</div>"));
            Ext.DomQuery.selectNode("." + k + "-mc", y.dom).appendChild(this.dom);
            return y
        },
        getComputedHeight: function() {
            var y = this
              , k = Math.max(y.dom.offsetHeight, y.dom.clientHeight);
            if (!k) {
                k = parseFloat(y.getStyle(q)) || 0;
                if (!y.isBorderBox()) {
                    k += y.getFrameWidth("tb")
                }
            }
            return k
        },
        getComputedWidth: function() {
            var y = this
              , k = Math.max(y.dom.offsetWidth, y.dom.clientWidth);
            if (!k) {
                k = parseFloat(y.getStyle(h)) || 0;
                if (!y.isBorderBox()) {
                    k += y.getFrameWidth("lr")
                }
            }
            return k
        },
        getFrameWidth: function(y, k) {
            return k && this.isBorderBox() ? 0 : this.getPadding(y) + this.getBorderWidth(y)
        },
        addClsOnOver: function(z, C, y) {
            var A = this
              , B = A.dom
              , k = Ext.isFunction(C);
            A.hover(function() {
                if (k && C.call(y || A, A) === false) {
                    return
                }
                Ext.fly(B, a).addCls(z)
            }, function() {
                Ext.fly(B, a).removeCls(z)
            });
            return A
        },
        addClsOnFocus: function(z, C, y) {
            var A = this
              , B = A.dom
              , k = Ext.isFunction(C);
            A.on("focus", function() {
                if (k && C.call(y || A, A) === false) {
                    return false
                }
                Ext.fly(B, a).addCls(z)
            });
            A.on("blur", function() {
                Ext.fly(B, a).removeCls(z)
            });
            return A
        },
        addClsOnClick: function(z, C, y) {
            var A = this
              , B = A.dom
              , k = Ext.isFunction(C);
            A.on("mousedown", function() {
                if (k && C.call(y || A, A) === false) {
                    return false
                }
                Ext.fly(B, a).addCls(z);
                var E = Ext.getDoc()
                  , D = function() {
                    Ext.fly(B, a).removeCls(z);
                    E.removeListener("mouseup", D)
                };
                E.on("mouseup", D)
            });
            return A
        },
        getStyleSize: function() {
            var B = this, C = this.dom, y = b.test(C.nodeName), A, k, z;
            if (y) {
                return {
                    width: s.getViewWidth(),
                    height: s.getViewHeight()
                }
            }
            A = B.getStyle([q, h], true);
            if (A.width && A.width != "auto") {
                k = parseFloat(A.width);
                if (B.isBorderBox()) {
                    k -= B.getFrameWidth("lr")
                }
            }
            if (A.height && A.height != "auto") {
                z = parseFloat(A.height);
                if (B.isBorderBox()) {
                    z -= B.getFrameWidth("tb")
                }
            }
            return {
                width: k || B.getWidth(true),
                height: z || B.getHeight(true)
            }
        },
        statics: {
            selectableCls: Ext.baseCSSPrefix + "selectable",
            unselectableCls: Ext.baseCSSPrefix + "unselectable"
        },
        selectable: function() {
            var k = this;
            k.dom.unselectable = "";
            k.removeCls(s.unselectableCls);
            k.addCls(s.selectableCls);
            return k
        },
        unselectable: function() {
            var k = this;
            if (Ext.isOpera) {
                k.dom.unselectable = "on"
            }
            k.removeCls(s.selectableCls);
            k.addCls(s.unselectableCls);
            return k
        },
        setVertical: function(B, y) {
            var A = this, z = s.prototype, k;
            A.vertical = true;
            if (y) {
                A.addCls(A.verticalCls = y)
            }
            A.setWidth = z.setHeight;
            A.setHeight = z.setWidth;
            if (!Ext.isIE9m) {
                A.getWidth = z.getHeight;
                A.getHeight = z.getWidth
            }
            A.styleHooks = B === 270 ? s.prototype.verticalStyleHooks270 : s.prototype.verticalStyleHooks90
        },
        setHorizontal: function() {
            var y = this
              , k = y.verticalCls;
            delete y.vertical;
            if (k) {
                delete y.verticalCls;
                y.removeCls(k)
            }
            delete y.setWidth;
            delete y.setHeight;
            if (!Ext.isIE9m) {
                delete y.getWidth;
                delete y.getHeight
            }
            delete y.styleHooks
        }
    });
    s.prototype.styleHooks = w = Ext.dom.AbstractElement.prototype.styleHooks;
    s.prototype.verticalStyleHooks90 = g = Ext.Object.chain(s.prototype.styleHooks);
    s.prototype.verticalStyleHooks270 = o = Ext.Object.chain(s.prototype.styleHooks);
    g.width = {
        name: "height"
    };
    g.height = {
        name: "width"
    };
    g["margin-top"] = {
        name: "marginLeft"
    };
    g["margin-right"] = {
        name: "marginTop"
    };
    g["margin-bottom"] = {
        name: "marginRight"
    };
    g["margin-left"] = {
        name: "marginBottom"
    };
    g["padding-top"] = {
        name: "paddingLeft"
    };
    g["padding-right"] = {
        name: "paddingTop"
    };
    g["padding-bottom"] = {
        name: "paddingRight"
    };
    g["padding-left"] = {
        name: "paddingBottom"
    };
    g["border-top"] = {
        name: "borderLeft"
    };
    g["border-right"] = {
        name: "borderTop"
    };
    g["border-bottom"] = {
        name: "borderRight"
    };
    g["border-left"] = {
        name: "borderBottom"
    };
    o.width = {
        name: "height"
    };
    o.height = {
        name: "width"
    };
    o["margin-top"] = {
        name: "marginRight"
    };
    o["margin-right"] = {
        name: "marginBottom"
    };
    o["margin-bottom"] = {
        name: "marginLeft"
    };
    o["margin-left"] = {
        name: "marginTop"
    };
    o["padding-top"] = {
        name: "paddingRight"
    };
    o["padding-right"] = {
        name: "paddingBottom"
    };
    o["padding-bottom"] = {
        name: "paddingLeft"
    };
    o["padding-left"] = {
        name: "paddingTop"
    };
    o["border-top"] = {
        name: "borderRight"
    };
    o["border-right"] = {
        name: "borderBottom"
    };
    o["border-bottom"] = {
        name: "borderLeft"
    };
    o["border-left"] = {
        name: "borderTop"
    };
    if (Ext.isIE7m) {
        w.fontSize = w["font-size"] = {
            name: "fontSize",
            canThrow: true
        };
        w.fontStyle = w["font-style"] = {
            name: "fontStyle",
            canThrow: true
        };
        w.fontFamily = w["font-family"] = {
            name: "fontFamily",
            canThrow: true
        }
    }
    if (Ext.isIEQuirks || Ext.isIE && Ext.ieVersion <= 8) {
        function c(A, y, z, k) {
            if (k[this.styleName] == "none") {
                return "0px"
            }
            return k[this.name]
        }
        d = ["Top", "Right", "Bottom", "Left"];
        t = d.length;
        while (t--) {
            i = d[t];
            x = "border" + i + "Width";
            w["border-" + i.toLowerCase() + "-width"] = w[x] = {
                name: x,
                styleName: "border" + i + "Style",
                get: c
            }
        }
    }
    Ext.getDoc().on("selectstart", function(B, D) {
        var C = document.documentElement
          , A = s.selectableCls
          , z = s.unselectableCls
          , k = D && D.tagName;
        k = k && k.toLowerCase();
        if (k === "input" || k === "textarea") {
            return
        }
        while (D && D.nodeType === 1 && D !== C) {
            var y = Ext.fly(D);
            if (y.hasCls(A)) {
                return
            }
            if (y.hasCls(z)) {
                B.stopEvent();
                return
            }
            D = D.parentNode
        }
    })
});
Ext.onReady(function() {
    var c = /alpha\(opacity=(.*)\)/i
      , b = /^\s+|\s+$/g
      , a = Ext.dom.Element.prototype.styleHooks;
    a.opacity = {
        name: "opacity",
        afterSet: function(g, e, d) {
            if (d.isLayer) {
                d.onOpacitySet(e)
            }
        }
    };
    if (!Ext.supports.Opacity && Ext.isIE) {
        Ext.apply(a.opacity, {
            get: function(h) {
                var g = h.style.filter, e, d;
                if (g.match) {
                    e = g.match(c);
                    if (e) {
                        d = parseFloat(e[1]);
                        if (!isNaN(d)) {
                            return d ? d / 100 : 0
                        }
                    }
                }
                return 1
            },
            set: function(h, e) {
                var d = h.style
                  , g = d.filter.replace(c, "").replace(b, "");
                d.zoom = 1;
                if (typeof e == "number" && e >= 0 && e < 1) {
                    e *= 100;
                    d.filter = g + (g.length ? " " : "") + "alpha(opacity=" + e + ")"
                } else {
                    d.filter = g
                }
            }
        })
    }
});
Ext.define("Ext.util.Positionable", {
    _positionTopLeft: ["position", "top", "left"],
    _alignRe: /^([a-z]+)-([a-z]+)(\?)?$/,
    afterSetPosition: Ext.emptyFn,
    getAnchorToXY: function() {
        Ext.Error.raise("getAnchorToXY is not implemented in " + this.$className)
    },
    getBorderPadding: function() {
        Ext.Error.raise("getBorderPadding is not implemented in " + this.$className)
    },
    getLocalX: function() {
        Ext.Error.raise("getLocalX is not implemented in " + this.$className)
    },
    getLocalXY: function() {
        Ext.Error.raise("getLocalXY is not implemented in " + this.$className)
    },
    getLocalY: function() {
        Ext.Error.raise("getLocalY is not implemented in " + this.$className)
    },
    getX: function() {
        Ext.Error.raise("getX is not implemented in " + this.$className)
    },
    getXY: function() {
        Ext.Error.raise("getXY is not implemented in " + this.$className)
    },
    getY: function() {
        Ext.Error.raise("getY is not implemented in " + this.$className)
    },
    setLocalX: function() {
        Ext.Error.raise("setLocalX is not implemented in " + this.$className)
    },
    setLocalXY: function() {
        Ext.Error.raise("setLocalXY is not implemented in " + this.$className)
    },
    setLocalY: function() {
        Ext.Error.raise("setLocalY is not implemented in " + this.$className)
    },
    setX: function() {
        Ext.Error.raise("setX is not implemented in " + this.$className)
    },
    setXY: function() {
        Ext.Error.raise("setXY is not implemented in " + this.$className)
    },
    setY: function() {
        Ext.Error.raise("setY is not implemented in " + this.$className)
    },
    adjustForConstraints: function(c, b) {
        var a = this.getConstrainVector(b, c);
        if (a) {
            c[0] += a[0];
            c[1] += a[1]
        }
        return c
    },
    alignTo: function(c, a, g, b) {
        var e = this
          , d = e.el;
        return e.setXY(e.getAlignToXY(c, a, g), d.anim && !!b ? d.anim(b) : false)
    },
    anchorTo: function(h, e, b, a, j, k) {
        var g = this
          , i = !Ext.isEmpty(j)
          , c = function() {
            g.alignTo(h, e, b, a);
            Ext.callback(k, g)
        }
          , d = g.getAnchor();
        g.removeAnchor();
        Ext.apply(d, {
            fn: c,
            scroll: i
        });
        Ext.EventManager.onWindowResize(c, null);
        if (i) {
            Ext.EventManager.on(window, "scroll", c, null, {
                buffer: !isNaN(j) ? j : 50
            })
        }
        c();
        return g
    },
    calculateAnchorXY: function(g, i, h, d) {
        var j = this, c = j.el, k = document, e = c.dom == k.body || c.dom == k, l = Math.round, m, b, a;
        g = (g || "tl").toLowerCase();
        d = d || {};
        b = d.width || e ? Ext.Element.getViewWidth() : j.getWidth();
        a = d.height || e ? Ext.Element.getViewHeight() : j.getHeight();
        switch (g) {
        case "tl":
            m = [0, 0];
            break;
        case "bl":
            m = [0, a];
            break;
        case "tr":
            m = [b, 0];
            break;
        case "c":
            m = [l(b * 0.5), l(a * 0.5)];
            break;
        case "t":
            m = [l(b * 0.5), 0];
            break;
        case "l":
            m = [0, l(a * 0.5)];
            break;
        case "r":
            m = [b, l(a * 0.5)];
            break;
        case "b":
            m = [l(b * 0.5), a];
            break;
        case "tc":
            m = [l(b * 0.5), 0];
            break;
        case "bc":
            m = [l(b * 0.5), a];
            break;
        case "br":
            m = [b, a]
        }
        return [m[0] + i, m[1] + h]
    },
    convertPositionSpec: function(a) {
        return a
    },
    getAlignToXY: function(j, D, e) {
        var E = this, B = Ext.Element.getViewWidth() - 10, d = Ext.Element.getViewHeight() - 10, F = document, C = F.documentElement, o = F.body, A = C.scrollLeft || o.scrollLeft || 0, w = C.scrollTop || o.scrollTop || 0, a, h, t, g, u, v, q, s, z, p, n, b, c, i, l, m, k;
        j = Ext.get(j.el || j);
        if (!j || !j.dom) {
            Ext.Error.raise({
                sourceClass: "Ext.util.Positionable",
                sourceMethod: "getAlignToXY",
                msg: "Attempted to align an element that doesn't exist"
            })
        }
        e = e || [0, 0];
        D = (!D || D == "?" ? "tl-bl?" : !/-/.test(D) && D !== "" ? "tl-" + D : D || "tl-bl").toLowerCase();
        D = E.convertPositionSpec(D);
        a = D.match(E._alignRe);
        if (!a) {
            Ext.Error.raise({
                sourceClass: "Ext.util.Positionable",
                sourceMethod: "getAlignToXY",
                el: j,
                position: D,
                offset: e,
                msg: 'Attemmpted to align an element with an invalid position: "' + D + '"'
            })
        }
        p = a[1];
        n = a[2];
        z = !!a[3];
        h = E.getAnchorXY(p, true);
        t = E.getAnchorToXY(j, n, false);
        m = t[0] - h[0] + e[0];
        k = t[1] - h[1] + e[1];
        if (z) {
            g = E.getWidth();
            u = E.getHeight();
            v = j.getRegion();
            b = p.charAt(0);
            c = p.charAt(p.length - 1);
            i = n.charAt(0);
            l = n.charAt(n.length - 1);
            q = b == "t" && i == "b" || b == "b" && i == "t";
            s = c == "r" && l == "l" || c == "l" && l == "r";
            if (m + g > B + A) {
                m = s ? v.left - g : B + A - g
            }
            if (m < A) {
                m = s ? v.right : A
            }
            if (k + u > d + w) {
                k = q ? v.top - u : d + w - u
            }
            if (k < w) {
                k = q ? v.bottom : w
            }
        }
        return [m, k]
    },
    getAnchor: function() {
        var b = this.el, c = (b.$cache || b.getCache()).data, a;
        if (!b.dom) {
            return
        }
        a = c._anchor;
        if (!a) {
            a = c._anchor = {}
        }
        return a
    },
    getAnchorXY: function(d, i, b) {
        var h = this
          , j = h.getXY()
          , a = h.el
          , l = document
          , c = a.dom == l.body || a.dom == l
          , k = a.getScroll()
          , g = c ? k.left : i ? 0 : j[0]
          , e = c ? k.top : i ? 0 : j[1];
        return h.calculateAnchorXY(d, g, e, b)
    },
    getBox: function(d, i) {
        var e = this, m = i ? e.getLocalXY() : e.getXY(), j = m[0], g = m[1], k = e.getWidth(), b = e.getHeight(), c, a, l;
        if (d) {
            c = e.getBorderPadding();
            a = c.beforeX;
            l = c.beforeY;
            j += a;
            g += l;
            k -= a + c.afterX;
            b -= l + c.afterY
        }
        return {
            x: j,
            left: j,
            0: j,
            y: g,
            top: g,
            1: g,
            width: k,
            height: b,
            right: j + k,
            bottom: g + b
        }
    },
    calculateConstrainedPosition: function(h, b, l, d) {
        var k = this, c, i = k.floatParent, e = i ? i.getTargetEl() : null, a, g, j, m = false;
        if (l && i) {
            a = e.getXY();
            g = e.getBorderPadding();
            a[0] += g.beforeX;
            a[1] += g.beforeY;
            if (b) {
                j = [b[0] + a[0], b[1] + a[1]]
            }
        } else {
            j = b
        }
        h = h || k.constrainTo || e || k.container || k.el.parent();
        c = (k.constrainHeader ? k.header.el : k.el).getConstrainVector(h, j, d);
        if (c) {
            m = b || k.getPosition(l);
            m[0] += c[0];
            m[1] += c[1]
        }
        return m
    },
    getConstrainVector: function(e, c, a) {
        var h = this.getRegion()
          , b = [0, 0]
          , g = this.shadow && this.constrainShadow && !this.shadowDisabled ? this.shadow.getShadowSize() : undefined
          , d = false;
        if (!(e instanceof Ext.util.Region)) {
            e = Ext.get(e.el || e).getViewRegion()
        }
        if (c) {
            h.translateBy(c[0] - h.x, c[1] - h.y)
        }
        if (a) {
            h.right = h.left + a[0];
            h.bottom = h.top + a[1]
        }
        if (g) {
            e.adjust(g[0], -g[1], -g[2], g[3])
        }
        if (h.right > e.right) {
            d = true;
            b[0] = e.right - h.right
        }
        if (h.left + b[0] < e.left) {
            d = true;
            b[0] = e.left - h.left
        }
        if (h.bottom > e.bottom) {
            d = true;
            b[1] = e.bottom - h.bottom
        }
        if (h.top + b[1] < e.top) {
            d = true;
            b[1] = e.top - h.top
        }
        return d ? b : false
    },
    getOffsetsTo: function(a) {
        var c = this.getXY()
          , b = Ext.fly(a.el || a, "_internal").getXY();
        return [c[0] - b[0], c[1] - b[1]]
    },
    getRegion: function() {
        var a = this.getBox();
        return new Ext.util.Region(a.top,a.right,a.bottom,a.left)
    },
    getViewRegion: function() {
        var g = this, c = g.el, a = c.dom.nodeName === "BODY", e, j, h, i, d, b, k;
        if (a) {
            j = c.getScroll();
            d = j.left;
            i = j.top;
            b = Ext.dom.AbstractElement.getViewportWidth();
            k = Ext.dom.AbstractElement.getViewportHeight()
        } else {
            e = g.getBorderPadding();
            h = g.getXY();
            d = h[0] + e.beforeX;
            i = h[1] + e.beforeY;
            b = g.getWidth(true);
            k = g.getHeight(true)
        }
        return new Ext.util.Region(i,d + b,i + k,d)
    },
    move: function(j, b, c) {
        var g = this
          , m = g.getXY()
          , k = m[0]
          , i = m[1]
          , d = [k - b, i]
          , l = [k + b, i]
          , h = [k, i - b]
          , a = [k, i + b]
          , e = {
            l: d,
            left: d,
            r: l,
            right: l,
            t: h,
            top: h,
            up: h,
            b: a,
            bottom: a,
            down: a
        };
        j = j.toLowerCase();
        g.setXY([e[j][0], e[j][1]], c)
    },
    removeAnchor: function() {
        var a = this.getAnchor();
        if (a && a.fn) {
            Ext.EventManager.removeResizeListener(a.fn);
            if (a.scroll) {
                Ext.EventManager.un(window, "scroll", a.fn)
            }
            delete a.fn
        }
        return this
    },
    setBox: function(d, a) {
        var e = this
          , b = e.el
          , i = d.x
          , g = d.y
          , l = [i, g]
          , j = d.width
          , c = d.height
          , k = e.constrain && e.calculateConstrainedPosition(null, [i, g], false, [j, c]);
        if (k) {
            i = k[0];
            g = k[1]
        }
        if (!a || !b.anim) {
            e.setSize(j, c);
            e.setXY([i, g]);
            e.afterSetPosition(i, g)
        } else {
            e.animate(Ext.applyIf({
                to: {
                    x: i,
                    y: g,
                    width: b.adjustWidth(j),
                    height: b.adjustHeight(c)
                },
                listeners: {
                    afteranimate: Ext.Function.bind(e.afterSetPosition, e, [i, g])
                }
            }, a))
        }
        return e
    },
    setRegion: function(b, a) {
        return this.setBox({
            x: b.left,
            y: b.top,
            width: b.right - b.left,
            height: b.bottom - b.top
        }, a)
    },
    translatePoints: function(a, c) {
        var b = this.translateXY(a, c);
        return {
            left: b.x,
            top: b.y
        }
    },
    translateXY: function(h, e) {
        var d = this
          , b = d.el
          , i = b.getStyle(d._positionTopLeft)
          , a = i.position == "relative"
          , c = parseFloat(i.left)
          , g = parseFloat(i.top)
          , j = d.getXY();
        if (Ext.isArray(h)) {
            e = h[1];
            h = h[0]
        }
        if (isNaN(c)) {
            c = a ? 0 : b.dom.offsetLeft
        }
        if (isNaN(g)) {
            g = a ? 0 : b.dom.offsetTop
        }
        c = typeof h == "number" ? h - j[0] + c : undefined;
        g = typeof e == "number" ? e - j[1] + g : undefined;
        return {
            x: c,
            y: g
        }
    }
});
Ext.define("Ext.dom.Element", function(a) {
    var b = "hidden", g = document, j = "visibility", c = "display", k = "none", e = Ext.baseCSSPrefix + "masked", l = Ext.baseCSSPrefix + "masked-relative", i = Ext.baseCSSPrefix + "mask-msg", m = /^body/i, h, d = Ext.isStrict ? {
        select: 1
    } : {
        input: 1,
        select: 1,
        textarea: 1
    }, n = function(t) {
        var s = [], o = -1, q, p;
        for (q = 0; p = t[q]; q++) {
            if (p.scrollTop > 0 || p.scrollLeft > 0) {
                s[++o] = p
            }
        }
        return s
    };
    return {
        extend: Ext.dom.AbstractElement,
        alternateClassName: ["Ext.Element", "Ext.core.Element"],
        tableTagRe: /^(?:tr|td|table|tbody)$/i,
        mixins: [Ext.util.Positionable],
        addUnits: function() {
            return a.addUnits.apply(a, arguments)
        },
        focus: function(s, q) {
            var o = this;
            q = q || o.dom;
            try {
                if (Number(s)) {
                    Ext.defer(o.focus, s, o, [null, q])
                } else {
                    q.focus()
                }
            } catch (p) {}
            return o
        },
        blur: function() {
            var o = this
              , q = o.dom;
            if (q !== document.body) {
                try {
                    q.blur()
                } catch (p) {}
                return o
            } else {
                return o.focus(undefined, q)
            }
        },
        isBorderBox: function() {
            var o = Ext.isBorderBox;
            if (o && Ext.isIE7m) {
                o = !((this.dom.tagName || "").toLowerCase()in d)
            }
            return o
        },
        hover: function(p, o, s, q) {
            var t = this;
            t.on("mouseenter", p, s || t.dom, q);
            t.on("mouseleave", o, s || t.dom, q);
            return t
        },
        getAttributeNS: function(p, o) {
            return this.getAttribute(o, p)
        },
        getAttribute: Ext.isIE && !(Ext.isIE9p && g.documentMode >= 9) ? function(o, q) {
            var s = this.dom, p;
            if (q) {
                p = typeof s[q + ":" + o];
                if (p != "undefined" && p != "unknown") {
                    return s[q + ":" + o] || null
                }
                return null
            }
            if (o === "for") {
                o = "htmlFor"
            }
            return s[o] || null
        }
        : function(o, p) {
            var q = this.dom;
            if (p) {
                return q.getAttributeNS(p, o) || q.getAttribute(p + ":" + o)
            }
            return q.getAttribute(o) || q[o] || null
        }
        ,
        cacheScrollValues: function() {
            var t = this, s, q, p, u = [], o = function() {
                for (p = 0; p < s.length; p++) {
                    q = s[p];
                    q.scrollLeft = u[p][0];
                    q.scrollTop = u[p][1]
                }
            };
            if (!Ext.DomQuery.pseudos.isScrolled) {
                Ext.DomQuery.pseudos.isScrolled = n
            }
            s = t.query(":isScrolled");
            for (p = 0; p < s.length; p++) {
                q = s[p];
                u[p] = [q.scrollLeft, q.scrollTop]
            }
            return o
        },
        autoBoxAdjust: true,
        isVisible: function(o) {
            var q = this
              , s = q.dom
              , p = s.ownerDocument.documentElement;
            if (!h) {
                h = new a.Fly()
            }
            while (s !== p) {
                if (!s || s.nodeType === 11 || h.attach(s).isStyle(j, b) || h.isStyle(c, k)) {
                    return false
                }
                if (!o) {
                    break
                }
                s = s.parentNode
            }
            return true
        },
        isDisplayed: function() {
            return !this.isStyle(c, k)
        },
        enableDisplayMode: function(p) {
            var o = this;
            o.setVisibilityMode(a.DISPLAY);
            if (!Ext.isEmpty(p)) {
                (o.$cache || o.getCache()).data.originalDisplay = p
            }
            return o
        },
        mask: function(o, z, w) {
            var B = this, s = B.dom, t = s.style.setExpression, v = (B.$cache || B.getCache()).data, q = v.maskShimEl, y = v.maskEl, p = v.maskMsg, u, x;
            if (!(m.test(s.tagName) && B.getStyle("position") == "static")) {
                B.addCls(l)
            }
            if (y) {
                y.remove()
            }
            if (p) {
                p.remove()
            }
            if (q) {
                q.remove()
            }
            if (Ext.isIE6) {
                q = Ext.DomHelper.append(s, {
                    tag: "iframe",
                    cls: Ext.baseCSSPrefix + "shim " + Ext.baseCSSPrefix + "mask-shim"
                }, true);
                v.maskShimEl = q;
                q.setDisplayed(true)
            }
            Ext.DomHelper.append(s, [{
                cls: Ext.baseCSSPrefix + "mask",
                style: "top:0;left:0;"
            }, {
                cls: z ? i + " " + z : i,
                cn: {
                    tag: "div",
                    cls: Ext.baseCSSPrefix + "mask-msg-inner",
                    cn: {
                        tag: "div",
                        cls: Ext.baseCSSPrefix + "mask-msg-text",
                        html: o || ""
                    }
                }
            }]);
            p = Ext.get(s.lastChild);
            y = Ext.get(p.dom.previousSibling);
            v.maskMsg = p;
            v.maskEl = y;
            B.addCls(e);
            y.setDisplayed(true);
            if (typeof o == "string") {
                p.setDisplayed(true);
                p.center(B)
            } else {
                p.setDisplayed(false)
            }
            if (!Ext.supports.IncludePaddingInWidthCalculation && t) {
                try {
                    y.dom.style.setExpression("width", 'this.parentNode.clientWidth + "px"');
                    u = 'this.parentNode.clientWidth + "px"';
                    if (q) {
                        q.dom.style.setExpression("width", u)
                    }
                    y.dom.style.setExpression("width", u)
                } catch (A) {}
            }
            if (!Ext.supports.IncludePaddingInHeightCalculation && t) {
                try {
                    x = "this.parentNode." + (s == g.body ? "scrollHeight" : "offsetHeight") + ' + "px"';
                    if (q) {
                        q.dom.style.setExpression("height", x)
                    }
                    y.dom.style.setExpression("height", x)
                } catch (A) {}
            } else {
                if (Ext.isIE9m && !(Ext.isIE7 && Ext.isStrict) && B.getStyle("height") == "auto") {
                    if (q) {
                        q.setSize(undefined, w || B.getHeight())
                    }
                    y.setSize(undefined, w || B.getHeight())
                }
            }
            return y
        },
        unmask: function() {
            var t = this, u = (t.$cache || t.getCache()).data, s = u.maskEl, p = u.maskShimEl, o = u.maskMsg, q;
            if (s) {
                q = s.dom.style;
                if (q.clearExpression) {
                    q.clearExpression("width");
                    q.clearExpression("height")
                }
                if (s) {
                    s.remove();
                    delete u.maskEl
                }
                if (o) {
                    o.remove();
                    delete u.maskMsg
                }
                t.removeCls([e, l]);
                if (p) {
                    q = p.dom.style;
                    if (q.clearExpression) {
                        q.clearExpression("width");
                        q.clearExpression("height")
                    }
                    p.remove();
                    delete u.maskShimEl
                }
            }
        },
        isMasked: function() {
            var q = this
              , t = (q.$cache || q.getCache()).data
              , p = t.maskEl
              , o = t.maskMsg
              , s = false;
            if (p && p.isVisible()) {
                if (o) {
                    o.center(q)
                }
                s = true
            }
            return s
        },
        createShim: function() {
            var o = g.createElement("iframe"), p;
            o.frameBorder = "0";
            o.className = Ext.baseCSSPrefix + "shim";
            o.src = Ext.SSL_SECURE_URL;
            p = Ext.get(this.dom.parentNode.insertBefore(o, this.dom));
            p.autoBoxAdjust = false;
            return p
        },
        addKeyListener: function(p, s, q) {
            var o;
            if (typeof p != "object" || Ext.isArray(p)) {
                o = {
                    target: this,
                    key: p,
                    fn: s,
                    scope: q
                }
            } else {
                o = {
                    target: this,
                    key: p.key,
                    shift: p.shift,
                    ctrl: p.ctrl,
                    alt: p.alt,
                    fn: s,
                    scope: q
                }
            }
            return new Ext.util.KeyMap(o)
        },
        addKeyMap: function(o) {
            return new Ext.util.KeyMap(Ext.apply({
                target: this
            }, o))
        },
        on: function(o, s, q, p) {
            Ext.EventManager.on(this, o, s, q || this, p);
            return this
        },
        un: function(o, q, p) {
            Ext.EventManager.un(this, o, q, p || this);
            return this
        },
        removeAllListeners: function() {
            Ext.EventManager.removeAll(this);
            return this
        },
        purgeAllListeners: function() {
            Ext.EventManager.purgeElement(this);
            return this
        },
        select: function(o) {
            return a.select(o, false, this.dom)
        }
    }
}, function() {
    var DOC = document, EC = Ext.cache, Element = this, AbstractElement = Ext.dom.AbstractElement, focusRe = /^a|button|embed|iframe|input|object|select|textarea$/i, nonSpaceRe = /\S/, scriptTagRe = /(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi, replaceScriptTagRe = /(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi, srcRe = /\ssrc=([\'\"])(.*?)\1/i, typeRe = /\stype=([\'\"])(.*?)\1/i, useDocForId = !Ext.isIE8m, internalFly;
    Element.boxMarkup = '<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';
    function garbageCollect() {
        if (!Ext.enableGarbageCollector) {
            clearInterval(Element.collectorThreadId)
        } else {
            var eid, d, o, t;
            for (eid in EC) {
                if (!EC.hasOwnProperty(eid)) {
                    continue
                }
                o = EC[eid];
                if (o.skipGarbageCollection) {
                    continue
                }
                d = o.dom;
                if (!d) {
                    Ext.Error.raise("Missing DOM node in element garbage collection: " + eid)
                }
                if (d && (d.getElementById || d.navigator)) {
                    Ext.Error.raise("Unexpected document or window element in element garbage collection")
                }
                if (!d.parentNode || !d.offsetParent && !Ext.getElementById(eid)) {
                    if (d && Ext.enableListenerCollection) {
                        Ext.EventManager.removeAll(d)
                    }
                    delete EC[eid]
                }
            }
            if (Ext.isIE) {
                t = {};
                for (eid in EC) {
                    if (!EC.hasOwnProperty(eid)) {
                        continue
                    }
                    t[eid] = EC[eid]
                }
                EC = Ext.cache = t
            }
        }
    }
    Element.collectorThreadId = setInterval(garbageCollect, 30000);
    Element.addMethods({
        monitorMouseLeave: function(delay, handler, scope) {
            var me = this, timer, listeners = {
                mouseleave: function(e) {
                    timer = setTimeout(Ext.Function.bind(handler, scope || me, [e]), delay)
                },
                mouseenter: function() {
                    clearTimeout(timer)
                },
                freezeEvent: true
            };
            me.on(listeners);
            return listeners
        },
        swallowEvent: function(eventName, preventDefault) {
            var me = this, e, eLen, fn = function(e) {
                e.stopPropagation();
                if (preventDefault) {
                    e.preventDefault()
                }
            };
            if (Ext.isArray(eventName)) {
                eLen = eventName.length;
                for (e = 0; e < eLen; e++) {
                    me.on(eventName[e], fn)
                }
                return me
            }
            me.on(eventName, fn);
            return me
        },
        relayEvent: function(eventName, observable) {
            this.on(eventName, function(e) {
                observable.fireEvent(eventName, e)
            })
        },
        clean: function(forceReclean) {
            var me = this, dom = me.dom, data = (me.$cache || me.getCache()).data, n = dom.firstChild, ni = -1, nx;
            if (data.isCleaned && forceReclean !== true) {
                return me
            }
            while (n) {
                nx = n.nextSibling;
                if (n.nodeType == 3) {
                    if (!nonSpaceRe.test(n.nodeValue)) {
                        dom.removeChild(n)
                    } else {
                        if (nx && nx.nodeType == 3) {
                            n.appendData(Ext.String.trim(nx.data));
                            dom.removeChild(nx);
                            nx = n.nextSibling;
                            n.nodeIndex = ++ni
                        }
                    }
                } else {
                    internalFly.attach(n).clean();
                    n.nodeIndex = ++ni
                }
                n = nx
            }
            data.isCleaned = true;
            return me
        },
        load: function(options) {
            this.getLoader().load(options);
            return this
        },
        getLoader: function() {
            var me = this
              , data = (me.$cache || me.getCache()).data
              , loader = data.loader;
            if (!loader) {
                data.loader = loader = new Ext.ElementLoader({
                    target: me
                })
            }
            return loader
        },
        syncContent: function(source) {
            source = Ext.getDom(source);
            var sourceNodes = source.childNodes, sourceLen = sourceNodes.length, dest = this.dom, destNodes = dest.childNodes, destLen = destNodes.length, i, destNode, sourceNode, nodeType, newAttrs, attLen, attName;
            if (dest.mergeAttributes) {
                dest.mergeAttributes(source, true);
                dest.src = source.src
            } else {
                newAttrs = source.attributes;
                attLen = newAttrs.length;
                for (i = 0; i < attLen; i++) {
                    attName = newAttrs[i].name;
                    if (attName !== "id") {
                        dest.setAttribute(attName, newAttrs[i].value)
                    }
                }
            }
            if (sourceLen !== destLen) {
                dest.innerHTML = source.innerHTML;
                return
            }
            for (i = 0; i < sourceLen; i++) {
                sourceNode = sourceNodes[i];
                destNode = destNodes[i];
                nodeType = sourceNode.nodeType;
                if (nodeType !== destNode.nodeType || nodeType === 1 && sourceNode.tagName !== destNode.tagName) {
                    dest.innerHTML = source.innerHTML;
                    return
                }
                if (nodeType === 3) {
                    destNode.data = sourceNode.data
                } else {
                    if (sourceNode.id && destNode.id !== sourceNode.id) {
                        destNode.id = sourceNode.id
                    }
                    destNode.style.cssText = sourceNode.style.cssText;
                    destNode.className = sourceNode.className;
                    internalFly.attach(destNode).syncContent(sourceNode)
                }
            }
        },
        update: function(html, loadScripts, callback) {
            var me = this, id, dom, interval;
            if (!me.dom) {
                return me
            }
            html = html || "";
            dom = me.dom;
            if (loadScripts !== true) {
                dom.innerHTML = html;
                Ext.callback(callback, me);
                return me
            }
            id = Ext.id();
            html += '<span id="' + id + '"></span>';
            interval = setInterval(function() {
                var hd, match, attrs, srcMatch, typeMatch, el, s;
                if (!(el = DOC.getElementById(id))) {
                    return false
                }
                clearInterval(interval);
                Ext.removeNode(el);
                hd = Ext.getHead().dom;
                while (match = scriptTagRe.exec(html)) {
                    attrs = match[1];
                    srcMatch = attrs ? attrs.match(srcRe) : false;
                    if (srcMatch && srcMatch[2]) {
                        s = DOC.createElement("script");
                        s.src = srcMatch[2];
                        typeMatch = attrs.match(typeRe);
                        if (typeMatch && typeMatch[2]) {
                            s.type = typeMatch[2]
                        }
                        hd.appendChild(s)
                    } else {
                        if (match[2] && match[2].length > 0) {
                            if (window.execScript) {
                                window.execScript(match[2])
                            } else {
                                window.eval(match[2])
                            }
                        }
                    }
                }
                Ext.callback(callback, me)
            }, 20);
            dom.innerHTML = html.replace(replaceScriptTagRe, "");
            return me
        },
        removeAllListeners: function() {
            this.removeAnchor();
            Ext.EventManager.removeAll(this.dom);
            return this
        },
        createProxy: function(config, renderTo, matchBox) {
            config = typeof config == "object" ? config : {
                tag: "div",
                cls: config
            };
            var me = this
              , proxy = renderTo ? Ext.DomHelper.append(renderTo, config, true) : Ext.DomHelper.insertBefore(me.dom, config, true);
            proxy.setVisibilityMode(Element.DISPLAY);
            proxy.hide();
            if (matchBox && me.setBox && me.getBox) {
                proxy.setBox(me.getBox())
            }
            return proxy
        },
        needsTabIndex: function() {
            if (this.dom) {
                if (this.dom.nodeName === "a" && !this.dom.href) {
                    return true
                }
                return !focusRe.test(this.dom.nodeName)
            }
        },
        isFocusable: function(asFocusEl) {
            var dom = this.dom, tabIndexAttr = dom.getAttributeNode("tabIndex"), tabIndex, nodeName = dom.nodeName, canFocus = false;
            if (tabIndexAttr && tabIndexAttr.specified) {
                tabIndex = tabIndexAttr.value
            }
            if (dom && !dom.disabled) {
                if (tabIndex == -1) {
                    canFocus = Ext.FocusManager && Ext.FocusManager.enabled && asFocusEl
                } else {
                    if (focusRe.test(nodeName)) {
                        if (nodeName !== "a" || dom.href) {
                            canFocus = true
                        }
                    } else {
                        canFocus = tabIndex != null && tabIndex >= 0
                    }
                }
                canFocus = canFocus && this.isVisible(true)
            }
            return canFocus
        }
    });
    if (Ext.isIE) {
        Element.prototype.getById = function(id, asDom) {
            var dom = this.dom, cacheItem, el, ret;
            if (dom) {
                el = useDocForId && DOC.getElementById(id) || dom.all[id];
                if (el) {
                    if (asDom) {
                        ret = el
                    } else {
                        cacheItem = EC[id];
                        if (cacheItem && cacheItem.el) {
                            ret = Ext.updateCacheEntry(cacheItem, el).el
                        } else {
                            ret = new Element(el)
                        }
                    }
                    return ret
                }
            }
            return asDom ? Ext.getDom(id) : Element.get(id)
        }
    }
    Element.createAlias({
        addListener: "on",
        removeListener: "un",
        clearListeners: "removeAllListeners",
        focusable: "isFocusable"
    });
    Element.Fly = AbstractElement.Fly = new Ext.Class({
        extend: Element,
        isFly: true,
        constructor: function(dom) {
            this.dom = dom;
            this.el = this
        },
        attach: AbstractElement.Fly.prototype.attach
    });
    internalFly = new Element.Fly();
    if (Ext.isIE) {
        Ext.getElementById = function(id) {
            var el = DOC.getElementById(id), detachedBodyEl;
            if (!el && (detachedBodyEl = AbstractElement.detachedBodyEl)) {
                el = detachedBodyEl.dom.all[id]
            }
            return el
        }
    } else {
        if (!DOC.querySelector) {
            Ext.getDetachedBody = Ext.getBody;
            Ext.getElementById = function(id) {
                return DOC.getElementById(id)
            }
        }
    }
});
Ext.define("Ext.dom.CompositeElementLite", {
    alternateClassName: "Ext.CompositeElementLite",
    statics: {
        importElementMethods: function() {
            var b, c = Ext.dom.Element.prototype, a = this.prototype;
            for (b in c) {
                if (typeof c[b] == "function") {
                    (function(d) {
                        a[d] = a[d] || function() {
                            return this.invoke(d, arguments)
                        }
                    }
                    ).call(a, b)
                }
            }
        }
    },
    constructor: function(b, a) {
        this.elements = [];
        this.add(b, a);
        this.el = new Ext.dom.AbstractElement.Fly()
    },
    isComposite: true,
    getElement: function(a) {
        return this.el.attach(a)
    },
    transformElement: function(a) {
        return Ext.getDom(a)
    },
    getCount: function() {
        return this.elements.length
    },
    add: function(c, a) {
        var e = this.elements, b, d;
        if (!c) {
            return this
        }
        if (typeof c == "string") {
            c = Ext.dom.Element.selectorFunction(c, a)
        } else {
            if (c.isComposite) {
                c = c.elements
            } else {
                if (!Ext.isIterable(c)) {
                    c = [c]
                }
            }
        }
        for (b = 0,
        d = c.length; b < d; ++b) {
            e.push(this.transformElement(c[b]))
        }
        return this
    },
    invoke: function(d, a) {
        var g = this.elements, e = g.length, c, b;
        d = Ext.dom.Element.prototype[d];
        for (b = 0; b < e; b++) {
            c = g[b];
            if (c) {
                d.apply(this.getElement(c), a)
            }
        }
        return this
    },
    item: function(b) {
        var c = this.elements[b]
          , a = null;
        if (c) {
            a = this.getElement(c)
        }
        return a
    },
    slice: function() {
        return this.elements.slice.apply(this.elements, arguments)
    },
    addListener: function(b, j, h, g) {
        var d = this.elements, a = d.length, c, k;
        for (c = 0; c < a; c++) {
            k = d[c];
            if (k) {
                Ext.EventManager.on(k, b, j, h || k, g)
            }
        }
        return this
    },
    each: function(g, d) {
        var h = this, c = h.elements, a = c.length, b, j;
        for (b = 0; b < a; b++) {
            j = c[b];
            if (j) {
                j = this.getElement(j);
                if (g.call(d || j, j, h, b) === false) {
                    break
                }
            }
        }
        return h
    },
    fill: function(a) {
        var b = this;
        b.elements = [];
        b.add(a);
        return b
    },
    insert: function(b, a) {
        Ext.Array.insert(this.elements, b, a)
    },
    filter: function(b) {
        var h = this, c = h.elements, g = c.length, d = [], e = 0, j = typeof b == "function", k, a;
        for (; e < g; e++) {
            a = c[e];
            k = false;
            if (a) {
                a = h.getElement(a);
                if (j) {
                    k = b.call(a, a, h, e) !== false
                } else {
                    k = a.is(b)
                }
                if (k) {
                    d.push(h.transformElement(a))
                }
            }
        }
        h.elements = d;
        return h
    },
    indexOf: function(a) {
        return Ext.Array.indexOf(this.elements, this.transformElement(a))
    },
    replaceElement: function(e, c, a) {
        var b = !isNaN(e) ? e : this.indexOf(e), g;
        if (b > -1) {
            c = Ext.getDom(c);
            if (a) {
                g = this.elements[b];
                g.parentNode.insertBefore(c, g);
                Ext.removeNode(g)
            }
            Ext.Array.splice(this.elements, b, 1, c)
        }
        return this
    },
    clear: function(d) {
        var c = this
          , b = c.elements
          , a = b.length - 1;
        if (d) {
            for (; a >= 0; a--) {
                Ext.removeNode(b[a])
            }
        }
        this.elements = []
    },
    addElements: function(d, b) {
        if (!d) {
            return this
        }
        if (typeof d == "string") {
            d = Ext.dom.Element.selectorFunction(d, b)
        }
        var c = this.elements, a = d.length, g;
        for (g = 0; g < a; g++) {
            c.push(Ext.get(d[g]))
        }
        return this
    },
    first: function() {
        return this.item(0)
    },
    last: function() {
        return this.item(this.getCount() - 1)
    },
    contains: function(a) {
        return this.indexOf(a) != -1
    },
    removeElement: function(e, i) {
        e = [].concat(e);
        var d = this, g = d.elements, c = e.length, h, b, a;
        for (a = 0; a < c; a++) {
            h = e[a];
            if (b = g[h] || g[h = d.indexOf(h)]) {
                if (i) {
                    if (b.dom) {
                        b.remove()
                    } else {
                        Ext.removeNode(b)
                    }
                }
                Ext.Array.erase(g, h, 1)
            }
        }
        return d
    }
}, function() {
    this.importElementMethods();
    this.prototype.on = this.prototype.addListener;
    if (Ext.DomQuery) {
        Ext.dom.Element.selectorFunction = Ext.DomQuery.select
    }
    Ext.dom.Element.select = function(a, b) {
        var c;
        if (typeof a == "string") {
            c = Ext.dom.Element.selectorFunction(a, b)
        } else {
            if (a.length !== undefined) {
                c = a
            } else {
                throw new Error("[Ext.select] Invalid selector specified: " + a)
            }
        }
        return new Ext.CompositeElementLite(c)
    }
    ;
    Ext.select = function() {
        return Ext.dom.Element.select.apply(Ext.dom.Element, arguments)
    }
});
Ext.define("Ext.dom.CompositeElement", {
    alternateClassName: "Ext.CompositeElement",
    extend: Ext.dom.CompositeElementLite,
    getElement: function(a) {
        return a
    },
    transformElement: function(a) {
        return Ext.get(a)
    }
}, function() {
    Ext.dom.Element.select = function(a, d, b) {
        var c;
        if (typeof a == "string") {
            c = Ext.dom.Element.selectorFunction(a, b)
        } else {
            if (a.length !== undefined) {
                c = a
            } else {
                throw new Error("[Ext.select] Invalid selector specified: " + a)
            }
        }
        return d === true ? new Ext.CompositeElement(c) : new Ext.CompositeElementLite(c)
    }
});
Ext.select = Ext.Element.select;
Ext.define("Ext.util.HashMap", {
    mixins: {
        observable: Ext.util.Observable
    },
    constructor: function(a) {
        a = a || {};
        var c = this
          , b = a.keyFn;
        c.initialConfig = a;
        c.addEvents("add", "clear", "remove", "replace");
        c.mixins.observable.constructor.call(c, a);
        c.clear(true);
        if (b) {
            c.getKey = b
        }
    },
    getCount: function() {
        return this.length
    },
    getData: function(a, b) {
        if (b === undefined) {
            b = a;
            a = this.getKey(b)
        }
        return [a, b]
    },
    getKey: function(a) {
        return a.id
    },
    add: function(a, c) {
        var b = this;
        if (arguments.length === 1) {
            c = a;
            a = b.getKey(c)
        }
        if (b.containsKey(a)) {
            return b.replace(a, c)
        }
        b.map[a] = c;
        ++b.length;
        if (b.hasListeners.add) {
            b.fireEvent("add", b, a, c)
        }
        return c
    },
    replace: function(b, d) {
        var c = this, e = c.map, a;
        if (arguments.length === 1) {
            d = b;
            b = c.getKey(d)
        }
        if (!c.containsKey(b)) {
            c.add(b, d)
        }
        a = e[b];
        e[b] = d;
        if (c.hasListeners.replace) {
            c.fireEvent("replace", c, b, d, a)
        }
        return d
    },
    remove: function(b) {
        var a = this.findKey(b);
        if (a !== undefined) {
            return this.removeAtKey(a)
        }
        return false
    },
    removeAtKey: function(a) {
        var b = this, c;
        if (b.containsKey(a)) {
            c = b.map[a];
            delete b.map[a];
            --b.length;
            if (b.hasListeners.remove) {
                b.fireEvent("remove", b, a, c)
            }
            return true
        }
        return false
    },
    get: function(a) {
        return this.map[a]
    },
    clear: function(a) {
        var b = this;
        b.map = {};
        b.length = 0;
        if (a !== true && b.hasListeners.clear) {
            b.fireEvent("clear", b)
        }
        return b
    },
    containsKey: function(a) {
        return this.map[a] !== undefined
    },
    contains: function(a) {
        return this.containsKey(this.findKey(a))
    },
    getKeys: function() {
        return this.getArray(true)
    },
    getValues: function() {
        return this.getArray(false)
    },
    getArray: function(d) {
        var a = [], b, c = this.map;
        for (b in c) {
            if (c.hasOwnProperty(b)) {
                a.push(d ? b : c[b])
            }
        }
        return a
    },
    each: function(d, c) {
        var a = Ext.apply({}, this.map), b, e = this.length;
        c = c || this;
        for (b in a) {
            if (a.hasOwnProperty(b)) {
                if (d.call(c, b, a[b], e) === false) {
                    break
                }
            }
        }
        return this
    },
    clone: function() {
        var c = new this.self(this.initialConfig), b = this.map, a;
        c.suspendEvents();
        for (a in b) {
            if (b.hasOwnProperty(a)) {
                c.add(a, b[a])
            }
        }
        c.resumeEvents();
        return c
    },
    findKey: function(b) {
        var a, c = this.map;
        for (a in c) {
            if (c.hasOwnProperty(a) && c[a] === b) {
                return a
            }
        }
        return undefined
    }
});
Ext.define("Ext.AbstractManager", {
    typeName: "type",
    constructor: function(a) {
        Ext.apply(this, a || {});
        this.all = new Ext.util.HashMap();
        this.types = {}
    },
    get: function(a) {
        return this.all.get(a)
    },
    register: function(c) {
        var b = this.all
          , a = b.getKey(c);
        if (b.containsKey(a)) {
            Ext.Error.raise('Registering duplicate id "' + a + '" with this manager')
        }
        this.all.add(c)
    },
    unregister: function(a) {
        this.all.remove(a)
    },
    registerType: function(b, a) {
        this.types[b] = a;
        a[this.typeName] = b
    },
    isRegistered: function(a) {
        return this.types[a] !== undefined
    },
    create: function(a, d) {
        var b = a[this.typeName] || a.type || d
          , c = this.types[b];
        if (c === undefined) {
            Ext.Error.raise("The '" + b + "' type has not been registered with this manager")
        }
        return new c(a)
    },
    onAvailable: function(g, c, b) {
        var a = this.all, d, e;
        if (a.containsKey(g)) {
            d = a.get(g);
            c.call(b || d, d)
        } else {
            e = function(j, h, i) {
                if (h == g) {
                    c.call(b || i, i);
                    a.un("add", e)
                }
            }
            ;
            a.on("add", e)
        }
    },
    each: function(b, a) {
        this.all.each(b, a || this)
    },
    getCount: function() {
        return this.all.getCount()
    }
});
Ext.define("Ext.ComponentManager", {
    extend: Ext.AbstractManager,
    alternateClassName: "Ext.ComponentMgr",
    singleton: true,
    typeName: "xtype",
    create: function(a, b) {
        if (typeof a == "string") {
            return Ext.widget(a)
        }
        if (a.isComponent) {
            return a
        }
        return Ext.widget(a.xtype || b, a)
    },
    registerType: function(b, a) {
        this.types[b] = a;
        a[this.typeName] = b;
        a.prototype[this.typeName] = b
    }
}, function() {
    Ext.getCmp = function(a) {
        return Ext.ComponentManager.get(a)
    }
});
Ext.define("Ext.ComponentQuery", {
    singleton: true
}, function() {
    var i = this
      , l = Ext.dom.Query.operators
      , o = /(\d*)n\+?(\d*)/
      , a = /\D/
      , m = ["var r = [],", "i = 0,", "it = items,", "l = it.length,", "c;", "for (; i < l; i++) {", "c = it[i];", "if (c.{0}) {", "r.push(c);", "}", "}", "return r;"].join("")
      , g = function(t, s) {
        return s.method.apply(this, [t].concat(s.args))
    }
      , b = function(u, y) {
        var s = [], v = 0, x = u.length, w, t = y !== ">";
        for (; v < x; v++) {
            w = u[v];
            if (w.getRefItems) {
                s = s.concat(w.getRefItems(t))
            }
        }
        return s
    }
      , h = function(t) {
        var s = [], u = 0, w = t.length, v;
        for (; u < w; u++) {
            v = t[u];
            while (!!(v = v.getRefOwner())) {
                s.push(v)
            }
        }
        return s
    }
      , p = function(t, y, x) {
        if (y === "*") {
            return t.slice()
        } else {
            var s = [], u = 0, w = t.length, v;
            for (; u < w; u++) {
                v = t[u];
                if (v.isXType(y, x)) {
                    s.push(v)
                }
            }
            return s
        }
    }
      , k = function(t, w) {
        var s = [], u = 0, x = t.length, v;
        for (; u < x; u++) {
            v = t[u];
            if (v.hasCls(w)) {
                s.push(v)
            }
        }
        return s
    }
      , q = function(A, B, v, u) {
        var E = [], z = 0, t = A.length, D, w, C, s, y, x;
        if (B.charAt(0) === "@") {
            D = true;
            B = B.substr(1)
        }
        if (B.charAt(0) === "?") {
            D = true;
            w = true;
            B = B.substr(1)
        }
        for (; z < t; z++) {
            C = A[z];
            if (!D || C.hasOwnProperty(B)) {
                s = C[B];
                if (w) {
                    E.push(C)
                } else {
                    if (v === "~=") {
                        if (s) {
                            if (!Ext.isArray(s)) {
                                s = s.split(" ")
                            }
                            for (y = 0,
                            x = s.length; y < x; y++) {
                                if (l[v](Ext.coerce(s[y], u), u)) {
                                    E.push(C);
                                    break
                                }
                            }
                        }
                    } else {
                        if (!u ? !!C[B] : l[v](Ext.coerce(s, u), u)) {
                            E.push(C)
                        }
                    }
                }
            }
        }
        return E
    }
      , e = function(t, x) {
        var s = [], u = 0, w = t.length, v;
        for (; u < w; u++) {
            v = t[u];
            if (v.getItemId() === x) {
                s.push(v)
            }
        }
        return s
    }
      , n = function(s, t, u) {
        return i.pseudos[t](s, u)
    }
      , j = /^(\s?([>\^])\s?|\s|$)/
      , d = /^(#)?([\w\-]+|\*)(?:\((true|false)\))?/
      , c = [{
        re: /^\.([\w\-]+)(?:\((true|false)\))?/,
        method: p
    }, {
        re: /^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,
        method: q
    }, {
        re: /^#([\w\-]+)/,
        method: e
    }, {
        re: /^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,
        method: n
    }, {
        re: /^(?:\{([^\}]+)\})/,
        method: m
    }];
    i.Query = Ext.extend(Object, {
        constructor: function(s) {
            s = s || {};
            Ext.apply(this, s)
        },
        execute: function(t) {
            var v = this.operations, w = 0, x = v.length, u, s;
            if (!t) {
                s = Ext.ComponentManager.all.getArray()
            } else {
                if (Ext.isIterable(t)) {
                    s = t
                } else {
                    if (t.isMixedCollection) {
                        s = t.items
                    }
                }
            }
            for (; w < x; w++) {
                u = v[w];
                if (u.mode === "^") {
                    s = h(s || [t])
                } else {
                    if (u.mode) {
                        s = b(s || [t], u.mode)
                    } else {
                        s = g(s || b([t]), u)
                    }
                }
                if (w === x - 1) {
                    return s
                }
            }
            return []
        },
        is: function(u) {
            var t = this.operations, x = Ext.isArray(u) ? u : [u], s = x.length, y = t[t.length - 1], w, v;
            x = g(x, y);
            if (x.length === s) {
                if (t.length > 1) {
                    for (v = 0,
                    w = x.length; v < w; v++) {
                        if (Ext.Array.indexOf(this.execute(), x[v]) === -1) {
                            return false
                        }
                    }
                }
                return true
            }
            return false
        }
    });
    Ext.apply(this, {
        cache: {},
        pseudos: {
            not: function(y, s) {
                var z = Ext.ComponentQuery, w = 0, x = y.length, v = [], u = -1, t;
                for (; w < x; ++w) {
                    t = y[w];
                    if (!z.is(t, s)) {
                        v[++u] = t
                    }
                }
                return v
            },
            first: function(t) {
                var s = [];
                if (t.length > 0) {
                    s.push(t[0])
                }
                return s
            },
            last: function(u) {
                var s = u.length
                  , t = [];
                if (s > 0) {
                    t.push(u[s - 1])
                }
                return t
            },
            focusable: function(t) {
                var s = t.length, v = [], u = 0, w;
                for (; u < s; u++) {
                    w = t[u];
                    if (w.isFocusable()) {
                        v.push(w)
                    }
                }
                return v
            },
            "nth-child": function(y, z) {
                var A = [], t = o.exec(z == "even" && "2n" || z == "odd" && "2n+1" || !a.test(z) && "n+" + z || z), x = (t[1] || 1) - 0, v = t[2] - 0, w, s, u;
                for (w = 0; s = y[w]; w++) {
                    u = w + 1;
                    if (x == 1) {
                        if (v == 0 || u == v) {
                            A.push(s)
                        }
                    } else {
                        if ((u + v) % x == 0) {
                            A.push(s)
                        }
                    }
                }
                return A
            }
        },
        query: function(t, A) {
            var B = t.split(","), s = B.length, u = 0, v = [], C = [], z = {}, x, w, y;
            for (; u < s; u++) {
                t = Ext.String.trim(B[u]);
                x = this.cache[t] || (this.cache[t] = this.parse(t));
                v = v.concat(x.execute(A))
            }
            if (s > 1) {
                w = v.length;
                for (u = 0; u < w; u++) {
                    y = v[u];
                    if (!z[y.id]) {
                        C.push(y);
                        z[y.id] = true
                    }
                }
                v = C
            }
            return v
        },
        is: function(t, s) {
            if (!s) {
                return true
            }
            var v = s.split(","), w = v.length, u = 0, x;
            for (; u < w; u++) {
                s = Ext.String.trim(v[u]);
                x = this.cache[s] || (this.cache[s] = this.parse(s));
                if (x.is(t)) {
                    return true
                }
            }
            return false
        },
        parse: function(v) {
            var t = [], u = c.length, z, w, A, B, C, x, y, s;
            while (v && z !== v) {
                z = v;
                w = v.match(d);
                if (w) {
                    A = w[1];
                    if (A === "#") {
                        t.push({
                            method: e,
                            args: [Ext.String.trim(w[2])]
                        })
                    } else {
                        if (A === ".") {
                            t.push({
                                method: k,
                                args: [Ext.String.trim(w[2])]
                            })
                        } else {
                            t.push({
                                method: p,
                                args: [Ext.String.trim(w[2]), Boolean(w[3])]
                            })
                        }
                    }
                    v = v.replace(w[0], "")
                }
                while (!(B = v.match(j))) {
                    for (x = 0; v && x < u; x++) {
                        y = c[x];
                        C = v.match(y.re);
                        s = y.method;
                        if (C) {
                            t.push({
                                method: Ext.isString(y.method) ? Ext.functionFactory("items", Ext.String.format.apply(Ext.String, [s].concat(C.slice(1)))) : y.method,
                                args: C.slice(1)
                            });
                            v = v.replace(C[0], "");
                            break
                        }
                        if (x === u - 1) {
                            Ext.Error.raise('Invalid ComponentQuery selector: "' + arguments[0] + '"')
                        }
                    }
                }
                if (B[1]) {
                    t.push({
                        mode: B[2] || B[1]
                    });
                    v = v.replace(B[0], "")
                }
            }
            return new i.Query({
                operations: t
            })
        }
    })
});
Ext.define("Ext.util.ProtoElement", function() {
    var b = Ext.String.splitWords
      , a = Ext.Array.toMap;
    return {
        isProtoEl: true,
        clsProp: "cls",
        styleProp: "style",
        removedProp: "removed",
        styleIsText: false,
        constructor: function(c) {
            var d = this;
            Ext.apply(d, c);
            d.classList = b(d.cls);
            d.classMap = a(d.classList);
            delete d.cls;
            if (Ext.isFunction(d.style)) {
                d.styleFn = d.style;
                delete d.style
            } else {
                if (typeof d.style == "string") {
                    d.style = Ext.Element.parseStyles(d.style)
                } else {
                    if (d.style) {
                        d.style = Ext.apply({}, d.style)
                    }
                }
            }
        },
        flush: function() {
            this.flushClassList = [];
            this.removedClasses = {};
            delete this.style;
            delete this.unselectableAttr
        },
        addCls: function(n) {
            var l = this, m = typeof n === "string" ? b(n) : n, e = m.length, j = l.classList, d = l.classMap, g = l.flushClassList, h = 0, k;
            for (; h < e; ++h) {
                k = m[h];
                if (!d[k]) {
                    d[k] = true;
                    j.push(k);
                    if (g) {
                        g.push(k);
                        delete l.removedClasses[k]
                    }
                }
            }
            return l
        },
        hasCls: function(c) {
            return c in this.classMap
        },
        removeCls: function(o) {
            var n = this, l = n.classList, g = n.classList = [], j = a(b(o)), e = l.length, d = n.classMap, k = n.removedClasses, h, m;
            for (h = 0; h < e; ++h) {
                m = l[h];
                if (j[m]) {
                    if (k) {
                        if (d[m]) {
                            k[m] = true;
                            Ext.Array.remove(n.flushClassList, m)
                        }
                    }
                    delete d[m]
                } else {
                    g.push(m)
                }
            }
            return n
        },
        setStyle: function(g, e) {
            var d = this
              , c = d.style || (d.style = {});
            if (typeof g == "string") {
                if (arguments.length === 1) {
                    d.setStyle(Ext.Element.parseStyles(g))
                } else {
                    c[g] = e
                }
            } else {
                Ext.apply(c, g)
            }
            return d
        },
        unselectable: function() {
            this.addCls(Ext.dom.Element.unselectableCls);
            if (Ext.isOpera) {
                this.unselectableAttr = true
            }
        },
        writeTo: function(h) {
            var e = this, g = e.flushClassList || e.classList, d = e.removedClasses, c;
            if (e.styleFn) {
                c = Ext.apply({}, e.styleFn());
                Ext.apply(c, e.style)
            } else {
                c = e.style
            }
            h[e.clsProp] = g.join(" ");
            if (c) {
                h[e.styleProp] = e.styleIsText ? Ext.DomHelper.generateStyles(c) : c
            }
            if (d) {
                d = Ext.Object.getKeys(d);
                if (d.length) {
                    h[e.removedProp] = d.join(" ")
                }
            }
            if (e.unselectableAttr) {
                h.unselectable = "on"
            }
            return h
        }
    }
}());
Ext.define("Ext.PluginManager", {
    extend: Ext.AbstractManager,
    alternateClassName: "Ext.PluginMgr",
    singleton: true,
    typeName: "ptype",
    create: function(b, d, c) {
        var a;
        if (b.init) {
            a = b
        } else {
            if (c) {
                b = Ext.apply({}, b);
                b.cmp = c
            } else {
                c = b.cmp
            }
            if (b.xclass) {
                a = Ext.create(b)
            } else {
                a = Ext.ClassManager.getByAlias("plugin." + (b.ptype || d));
                if (typeof a === "function") {
                    a = new a(b)
                }
            }
        }
        if (a && c && a.setCmp && !a.setCmpCalled) {
            a.setCmp(c);
            a.setCmpCalled = true
        }
        return a
    },
    findByType: function(c, g) {
        var e = [], b = this.types, a, d;
        for (a in b) {
            if (!b.hasOwnProperty(a)) {
                continue
            }
            d = b[a];
            if (d.type == c && (!g || g === true && d.isDefault)) {
                e.push(d)
            }
        }
        return e
    }
}, function() {
    Ext.preg = function() {
        return Ext.PluginManager.registerType.apply(Ext.PluginManager, arguments)
    }
});
Ext.define("Ext.util.Filter", {
    id: null,
    anyMatch: false,
    exactMatch: false,
    caseSensitive: false,
    disabled: false,
    operator: null,
    statics: {
        createFilterFn: function(a) {
            return a && a.length ? function(e) {
                var d = true, g = a.length, b, c;
                for (b = 0; d && b < g; b++) {
                    c = a[b];
                    if (!c.disabled) {
                        d = d && c.filterFn.call(c.scope || c, e)
                    }
                }
                return d
            }
            : function() {
                return true
            }
        }
    },
    operatorFns: {
        "<": function(a) {
            return Ext.coerce(this.getRoot(a)[this.property], this.value) < this.value
        },
        "<=": function(a) {
            return Ext.coerce(this.getRoot(a)[this.property], this.value) <= this.value
        },
        "=": function(a) {
            return Ext.coerce(this.getRoot(a)[this.property], this.value) == this.value
        },
        ">=": function(a) {
            return Ext.coerce(this.getRoot(a)[this.property], this.value) >= this.value
        },
        ">": function(a) {
            return Ext.coerce(this.getRoot(a)[this.property], this.value) > this.value
        },
        "!=": function(a) {
            return Ext.coerce(this.getRoot(a)[this.property], this.value) != this.value
        }
    },
    constructor: function(a) {
        var b = this;
        b.initialConfig = a;
        Ext.apply(b, a);
        b.filter = b.filter || b.filterFn;
        if (b.filter === undefined) {
            b.setValue(a.value)
        }
    },
    setValue: function(b) {
        var a = this;
        a.value = b;
        if (a.property === undefined || a.value === undefined) {} else {
            a.filter = a.createFilterFn()
        }
        a.filterFn = a.filter
    },
    setFilterFn: function(a) {
        this.filterFn = this.filter = a
    },
    createFilterFn: function() {
        var a = this
          , c = a.createValueMatcher()
          , b = a.property;
        if (a.operator) {
            return a.operatorFns[a.operator]
        } else {
            return function(d) {
                var e = a.getRoot(d)[b];
                return c === null ? e === null : c.test(e)
            }
        }
    },
    getRoot: function(b) {
        var a = this.root;
        return a === undefined ? b : b[a]
    },
    createValueMatcher: function() {
        var d = this
          , e = d.value
          , g = d.anyMatch
          , c = d.exactMatch
          , a = d.caseSensitive
          , b = Ext.String.escapeRegex;
        if (e === null) {
            return e
        }
        if (!e.exec) {
            e = String(e);
            if (g === true) {
                e = b(e)
            } else {
                e = "^" + b(e);
                if (c === true) {
                    e += "$"
                }
            }
            e = new RegExp(e,a ? "" : "i")
        }
        return e
    },
    serialize: function() {
        var b = this
          , a = Ext.apply({}, b.initialConfig);
        a.value = b.value;
        return a
    }
}, function() {
    this.prototype.operatorFns["=="] = this.prototype.operatorFns["="]
});
Ext.define("Ext.util.AbstractMixedCollection", {
    mixins: {
        observable: Ext.util.Observable
    },
    isMixedCollection: true,
    generation: 0,
    indexGeneration: 0,
    constructor: function(b, a) {
        var c = this;
        if (arguments.length === 1 && Ext.isObject(b)) {
            c.initialConfig = b;
            Ext.apply(c, b)
        } else {
            c.allowFunctions = b === true;
            if (a) {
                c.getKey = a
            }
            c.initialConfig = {
                allowFunctions: c.allowFunctions,
                getKey: c.getKey
            }
        }
        c.items = [];
        c.map = {};
        c.keys = [];
        c.indexMap = {};
        c.length = 0;
        c.mixins.observable.constructor.call(c)
    },
    allowFunctions: false,
    add: function(a, b) {
        return this.insert(this.length, a, b)
    },
    getKey: function(a) {
        return a.id
    },
    replace: function(c, e) {
        var d = this, a, b;
        if (arguments.length == 1) {
            e = arguments[0];
            c = d.getKey(e)
        }
        a = d.map[c];
        if (typeof c == "undefined" || c === null || typeof a == "undefined") {
            return d.add(c, e)
        }
        d.generation++;
        b = d.indexOfKey(c);
        d.items[b] = e;
        d.map[c] = e;
        if (d.hasListeners.replace) {
            d.fireEvent("replace", c, a, e)
        }
        return e
    },
    updateKey: function(g, h) {
        var d = this, e = d.map, c = d.indexMap, a = d.indexOfKey(g), b;
        if (a > -1) {
            b = e[g];
            delete e[g];
            delete c[g];
            e[h] = b;
            c[h] = a;
            d.keys[a] = h;
            d.generation++
        }
    },
    addAll: function(c) {
        var b = this, a;
        if (arguments.length > 1 || Ext.isArray(c)) {
            b.insert(b.length, arguments.length > 1 ? arguments : c)
        } else {
            for (a in c) {
                if (c.hasOwnProperty(a)) {
                    if (b.allowFunctions || typeof c[a] != "function") {
                        b.add(a, c[a])
                    }
                }
            }
        }
    },
    each: function(e, d) {
        var b = Ext.Array.push([], this.items), c = 0, a = b.length, g;
        for (; c < a; c++) {
            g = b[c];
            if (e.call(d || g, g, c, a) === false) {
                break
            }
        }
    },
    eachKey: function(e, d) {
        var g = this.keys
          , b = this.items
          , c = 0
          , a = g.length;
        for (; c < a; c++) {
            e.call(d || window, g[c], b[c], c, a)
        }
    },
    findBy: function(e, d) {
        var g = this.keys
          , b = this.items
          , c = 0
          , a = b.length;
        for (; c < a; c++) {
            if (e.call(d || window, b[c], g[c])) {
                return b[c]
            }
        }
        return null
    },
    find: function() {
        if (Ext.isDefined(Ext.global.console)) {
            Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")
        }
        return this.findBy.apply(this, arguments)
    },
    insert: function(a, b, c) {
        if (Ext.isIterable(b)) {
            return this.doInsert(a, b, c)
        }
        return (c ? this.doInsert(a, [b], [c]) : this.doInsert(a, [b]))[0]
    },
    doInsert: function(g, l, k) {
        var j = this, a, b, e, h = l.length, d = j.hasListeners.add, c;
        if (k != null) {
            j.useLinearSearch = true
        } else {
            k = l;
            l = new Array(h);
            for (e = 0; e < h; e++) {
                l[e] = this.getKey(k[e])
            }
        }
        j.suspendEvents();
        for (e = 0; e < h; e++) {
            b = j.indexOfKey(l[e]);
            if (b !== -1) {
                if (b < g) {
                    g--
                }
                j.removeAt(b)
            }
        }
        j.resumeEvents();
        c = g === j.length && j.indexGeneration === j.generation;
        Ext.Array.insert(j.items, g, k);
        Ext.Array.insert(j.keys, g, l);
        j.length += h;
        j.generation++;
        if (c) {
            j.indexGeneration = j.generation
        }
        for (e = 0; e < h; e++,
        g++) {
            a = l[e];
            if (a != null) {
                j.map[a] = k[e];
                if (c) {
                    j.indexMap[a] = g
                }
            }
            if (d) {
                j.fireEvent("add", g, k[e], a)
            }
        }
        return k
    },
    remove: function(d) {
        var c = this, b, a;
        if (!c.useLinearSearch && (b = c.getKey(d))) {
            a = c.indexOfKey(b)
        } else {
            a = Ext.Array.indexOf(c.items, d)
        }
        return a === -1 ? false : c.removeAt(a)
    },
    removeAll: function(a) {
        var c = this, b;
        if (a || c.hasListeners.remove) {
            if (a) {
                for (b = a.length - 1; b >= 0; --b) {
                    c.remove(a[b])
                }
            } else {
                while (c.length) {
                    c.removeAt(0)
                }
            }
        } else {
            c.length = c.items.length = c.keys.length = 0;
            c.map = {};
            c.indexMap = {};
            c.generation++;
            c.indexGeneration = c.generation
        }
    },
    removeAt: function(a) {
        var c = this, d, b;
        if (a < c.length && a >= 0) {
            c.length--;
            d = c.items[a];
            Ext.Array.erase(c.items, a, 1);
            b = c.keys[a];
            if (typeof b != "undefined") {
                delete c.map[b]
            }
            Ext.Array.erase(c.keys, a, 1);
            if (c.hasListeners.remove) {
                c.fireEvent("remove", d, b)
            }
            c.generation++;
            return d
        }
        return false
    },
    removeRange: function(h, a) {
        var j = this, b, k, g, e, c, d;
        if (h < j.length && h >= 0) {
            if (!a) {
                a = 1
            }
            e = Math.min(h + a, j.length);
            a = e - h;
            d = e === j.length;
            c = d && j.indexGeneration === j.generation;
            for (g = h; g < e; g++) {
                k = j.keys[g];
                if (k != null) {
                    delete j.map[k];
                    if (c) {
                        delete j.indexMap[k]
                    }
                }
            }
            b = j.items[g - 1];
            j.length -= a;
            j.generation++;
            if (c) {
                j.indexGeneration = j.generation
            }
            if (d) {
                j.items.length = j.keys.length = j.length
            } else {
                j.items.splice(h, a);
                j.keys.splice(h, a)
            }
            return b
        }
        return false
    },
    removeAtKey: function(b) {
        var d = this, c = d.keys, a;
        if (b == null) {
            for (a = c.length - 1; a >= 0; a--) {
                if (c[a] == null) {
                    d.removeAt(a)
                }
            }
        } else {
            return d.removeAt(d.indexOfKey(b))
        }
    },
    getCount: function() {
        return this.length
    },
    indexOf: function(c) {
        var b = this, a;
        if (c != null) {
            if (!b.useLinearSearch && (a = b.getKey(c))) {
                return this.indexOfKey(a)
            }
            return Ext.Array.indexOf(b.items, c)
        }
        return -1
    },
    indexOfKey: function(a) {
        if (this.map[a] == null) {
            return -1
        }
        if (this.indexGeneration !== this.generation) {
            this.rebuildIndexMap()
        }
        return this.indexMap[a]
    },
    rebuildIndexMap: function() {
        var e = this, d = e.indexMap = {}, c = this.keys, a = c.length, b;
        for (b = 0; b < a; b++) {
            d[c[b]] = b
        }
        e.indexGeneration = e.generation
    },
    get: function(b) {
        var d = this
          , a = d.map[b]
          , c = a !== undefined ? a : typeof b == "number" ? d.items[b] : undefined;
        return typeof c != "function" || d.allowFunctions ? c : null
    },
    getAt: function(a) {
        return this.items[a]
    },
    getByKey: function(a) {
        return this.map[a]
    },
    contains: function(c) {
        var b = this, a;
        if (c != null) {
            if (!b.useLinearSearch && (a = b.getKey(c))) {
                return this.map[a] != null
            }
            return Ext.Array.indexOf(this.items, c) !== -1
        }
        return false
    },
    containsKey: function(a) {
        return this.map[a] != null
    },
    clear: function() {
        var a = this;
        a.length = 0;
        a.items = [];
        a.keys = [];
        a.map = {};
        a.indexMap = {};
        a.generation++;
        a.indexGeneration = a.generation;
        if (a.hasListeners.clear) {
            a.fireEvent("clear")
        }
    },
    first: function() {
        return this.items[0]
    },
    last: function() {
        return this.items[this.length - 1]
    },
    sum: function(h, b, j, a) {
        var c = this.extractValues(h, b), g = c.length, e = 0, d;
        j = j || 0;
        a = a || a === 0 ? a : g - 1;
        for (d = j; d <= a; d++) {
            e += c[d]
        }
        return e
    },
    collect: function(k, e, h) {
        var l = this.extractValues(k, e), a = l.length, b = {}, c = [], j, g, d;
        for (d = 0; d < a; d++) {
            j = l[d];
            g = String(j);
            if ((h || !Ext.isEmpty(j)) && !b[g]) {
                b[g] = true;
                c.push(j)
            }
        }
        return c
    },
    extractValues: function(c, a) {
        var b = this.items;
        if (a) {
            b = Ext.Array.pluck(b, a)
        }
        return Ext.Array.pluck(b, c)
    },
    hasRange: function(b, a) {
        return a < this.length
    },
    getRange: function(g, a) {
        var e = this, c = e.items, b = [], d;
        if (c.length < 1) {
            return b
        }
        g = g || 0;
        a = Math.min(a == null ? e.length - 1 : a, e.length - 1);
        if (g <= a) {
            return c.slice(g, a + 1)
        } else {
            for (d = g; d >= a; d--) {
                b[b.length] = c[d]
            }
        }
        return b
    },
    filter: function(d, c, e, a) {
        var b = [];
        if (Ext.isString(d)) {
            b.push(new Ext.util.Filter({
                property: d,
                value: c,
                anyMatch: e,
                caseSensitive: a
            }))
        } else {
            if (Ext.isArray(d) || d instanceof Ext.util.Filter) {
                b = b.concat(d)
            }
        }
        return this.filterBy(Ext.util.Filter.createFilterFn(b))
    },
    filterBy: function(e, d) {
        var j = this, a = new j.self(j.initialConfig), h = j.keys, b = j.items, g = b.length, c;
        a.getKey = j.getKey;
        for (c = 0; c < g; c++) {
            if (e.call(d || j, b[c], h[c])) {
                a.add(h[c], b[c])
            }
        }
        return a
    },
    findIndex: function(c, b, e, d, a) {
        if (Ext.isEmpty(b, false)) {
            return -1
        }
        b = this.createValueMatcher(b, d, a);
        return this.findIndexBy(function(g) {
            return g && b.test(g[c])
        }, null, e)
    },
    findIndexBy: function(e, d, j) {
        var h = this
          , g = h.keys
          , b = h.items
          , c = j || 0
          , a = b.length;
        for (; c < a; c++) {
            if (e.call(d || h, b[c], g[c])) {
                return c
            }
        }
        return -1
    },
    createValueMatcher: function(c, e, a, b) {
        if (!c.exec) {
            var d = Ext.String.escapeRegex;
            c = String(c);
            if (e === true) {
                c = d(c)
            } else {
                c = "^" + d(c);
                if (b === true) {
                    c += "$"
                }
            }
            c = new RegExp(c,a ? "" : "i")
        }
        return c
    },
    clone: function() {
        var a = this
          , b = new this.self(a.initialConfig);
        b.add(a.keys, a.items);
        return b
    }
});
Ext.define("Ext.util.Sorter", {
    direction: "ASC",
    constructor: function(a) {
        var b = this;
        Ext.apply(b, a);
        if (b.property === undefined && b.sorterFn === undefined) {
            Ext.Error.raise("A Sorter requires either a property or a sorter function")
        }
        b.updateSortFunction()
    },
    createSortFunction: function(b) {
        var c = this
          , d = c.direction || "ASC"
          , a = d.toUpperCase() == "DESC" ? -1 : 1;
        return function(g, e) {
            return a * b.call(c, g, e)
        }
    },
    defaultSorterFn: function(d, c) {
        var b = this
          , a = b.transform
          , g = b.getRoot(d)[b.property]
          , e = b.getRoot(c)[b.property];
        if (a) {
            g = a(g);
            e = a(e)
        }
        return g > e ? 1 : g < e ? -1 : 0
    },
    getRoot: function(a) {
        return this.root === undefined ? a : a[this.root]
    },
    setDirection: function(b) {
        var a = this;
        a.direction = b ? b.toUpperCase() : b;
        a.updateSortFunction()
    },
    toggle: function() {
        var a = this;
        a.direction = Ext.String.toggle(a.direction, "ASC", "DESC");
        a.updateSortFunction()
    },
    updateSortFunction: function(a) {
        var b = this;
        a = a || b.sorterFn || b.defaultSorterFn;
        b.sort = b.createSortFunction(a)
    },
    serialize: function() {
        return {
            root: this.root,
            property: this.property,
            direction: this.direction
        }
    }
});
Ext.define("Ext.util.Sortable", {
    isSortable: true,
    defaultSortDirection: "ASC",
    statics: {
        createComparator: function(a) {
            return a && a.length ? function(d, c) {
                var b = a[0].sort(d, c)
                  , g = a.length
                  , e = 1;
                for (; e < g; e++) {
                    b = b || a[e].sort.call(this, d, c)
                }
                return b
            }
            : function() {
                return 0
            }
        }
    },
    initSortable: function() {
        var a = this
          , b = a.sorters;
        a.sorters = new Ext.util.AbstractMixedCollection(false,function(c) {
            return c.id || c.property
        }
        );
        if (b) {
            a.sorters.addAll(a.decodeSorters(b))
        }
    },
    sort: function(g, e, b, d) {
        var c = this, h, a;
        if (Ext.isArray(g)) {
            d = b;
            b = e;
            a = g
        } else {
            if (Ext.isObject(g)) {
                d = b;
                b = e;
                a = [g]
            } else {
                if (Ext.isString(g)) {
                    h = c.sorters.get(g);
                    if (!h) {
                        h = {
                            property: g,
                            direction: e
                        };
                        a = [h]
                    } else {
                        if (e === undefined) {
                            h.toggle()
                        } else {
                            h.setDirection(e)
                        }
                    }
                }
            }
        }
        if (a && a.length) {
            a = c.decodeSorters(a);
            if (Ext.isString(b)) {
                if (b === "prepend") {
                    c.sorters.insert(0, a)
                } else {
                    c.sorters.addAll(a)
                }
            } else {
                c.sorters.clear();
                c.sorters.addAll(a)
            }
        }
        if (d !== false) {
            c.fireEvent("beforesort", c, a);
            c.onBeforeSort(a);
            g = c.sorters.items;
            if (g.length) {
                c.doSort(c.generateComparator())
            }
        }
        return g
    },
    generateComparator: function() {
        var a = this.sorters.getRange();
        return a.length ? this.createComparator(a) : this.emptyComparator
    },
    emptyComparator: function() {
        return 0
    },
    onBeforeSort: Ext.emptyFn,
    decodeSorters: function(g) {
        if (!Ext.isArray(g)) {
            if (g === undefined) {
                g = []
            } else {
                g = [g]
            }
        }
        var d = g.length, h = Ext.util.Sorter, a = this.model ? this.model.prototype.fields : null, e, b, c;
        for (c = 0; c < d; c++) {
            b = g[c];
            if (!(b instanceof h)) {
                if (Ext.isString(b)) {
                    b = {
                        property: b
                    }
                }
                Ext.applyIf(b, {
                    root: this.sortRoot,
                    direction: "ASC"
                });
                if (b.fn) {
                    b.sorterFn = b.fn
                }
                if (typeof b == "function") {
                    b = {
                        sorterFn: b
                    }
                }
                if (a && !b.transform) {
                    e = a.get(b.property);
                    b.transform = e && e.sortType !== Ext.identityFn ? e.sortType : undefined
                }
                g[c] = new Ext.util.Sorter(b)
            }
        }
        return g
    },
    getSorters: function() {
        return this.sorters.items
    },
    getFirstSorter: function() {
        var c = this.sorters.items, a = c.length, b = 0, d;
        for (; b < a; ++b) {
            d = c[b];
            if (!d.isGrouper) {
                return d
            }
        }
        return null
    }
}, function() {
    this.prototype.createComparator = this.createComparator
});
Ext.define("Ext.util.MixedCollection", {
    extend: Ext.util.AbstractMixedCollection,
    mixins: {
        sortable: Ext.util.Sortable
    },
    constructor: function() {
        var a = this;
        a.callParent(arguments);
        a.addEvents("sort");
        a.mixins.sortable.initSortable.call(a)
    },
    doSort: function(a) {
        this.sortBy(a)
    },
    _sort: function(m, b, l) {
        var k = this, e, g, d = String(b).toUpperCase() == "DESC" ? -1 : 1, j = [], n = k.keys, h = k.items, a;
        l = l || function(i, c) {
            return i - c
        }
        ;
        for (e = 0,
        g = h.length; e < g; e++) {
            j[j.length] = {
                key: n[e],
                value: h[e],
                index: e
            }
        }
        Ext.Array.sort(h, function(i, c) {
            return l(i[m], c[m]) * d || (i.index < c.index ? -1 : 1)
        });
        for (e = 0,
        g = j.length; e < g; e++) {
            a = j[e];
            h[e] = a.value;
            n[e] = a.key;
            k.indexMap[a.key] = e
        }
        k.generation++;
        k.indexGeneration = k.generation;
        k.fireEvent("sort", k)
    },
    sortBy: function(b) {
        var j = this, a = j.items, h, g = j.keys, d, e = a.length, c;
        for (c = 0; c < e; c++) {
            a[c].$extCollectionIndex = c
        }
        Ext.Array.sort(a, function(k, i) {
            return b(k, i) || (k.$extCollectionIndex < i.$extCollectionIndex ? -1 : 1)
        });
        for (c = 0; c < e; c++) {
            h = a[c];
            d = j.getKey(h);
            g[c] = d;
            j.indexMap[d] = c;
            delete a.$extCollectionIndex
        }
        j.generation++;
        j.indexGeneration = j.generation;
        j.fireEvent("sort", j, a, g)
    },
    findInsertionIndex: function(e, d) {
        var g = this, b = g.items, i = 0, a = b.length - 1, c, h;
        if (!d) {
            d = g.generateComparator()
        }
        while (i <= a) {
            c = i + a >> 1;
            h = d(e, b[c]);
            if (h >= 0) {
                i = c + 1
            } else {
                if (h < 0) {
                    a = c - 1
                }
            }
        }
        return i
    },
    reorder: function(d) {
        var h = this, b = h.items, c = 0, g = b.length, a = [], e = [], i;
        h.suspendEvents();
        for (i in d) {
            a[d[i]] = b[i]
        }
        for (c = 0; c < g; c++) {
            if (d[c] == undefined) {
                e.push(b[c])
            }
        }
        for (c = 0; c < g; c++) {
            if (a[c] == undefined) {
                a[c] = e.shift()
            }
        }
        h.clear();
        h.addAll(a);
        h.resumeEvents();
        h.fireEvent("sort", h)
    },
    sortByKey: function(a, b) {
        this._sort("key", a, b || function(d, c) {
            var g = String(d).toUpperCase()
              , e = String(c).toUpperCase();
            return g > e ? 1 : g < e ? -1 : 0
        }
        )
    }
});
Ext.define("Ext.fx.target.Target", {
    isAnimTarget: true,
    constructor: function(a) {
        this.target = a;
        this.id = this.getId()
    },
    getId: function() {
        return this.target.id
    }
});
Ext.define("Ext.fx.target.Element", {
    extend: Ext.fx.target.Target,
    type: "element",
    getElVal: function(b, a, c) {
        if (c == undefined) {
            if (a === "x") {
                c = b.getX()
            } else {
                if (a === "y") {
                    c = b.getY()
                } else {
                    if (a === "scrollTop") {
                        c = b.getScroll().top
                    } else {
                        if (a === "scrollLeft") {
                            c = b.getScroll().left
                        } else {
                            if (a === "height") {
                                c = b.getHeight()
                            } else {
                                if (a === "width") {
                                    c = b.getWidth()
                                } else {
                                    c = b.getStyle(a)
                                }
                            }
                        }
                    }
                }
            }
        }
        return c
    },
    getAttr: function(a, c) {
        var b = this.target;
        return [[b, this.getElVal(b, a, c)]]
    },
    setAttr: function(k) {
        var e = this.target, h = k.length, l, g, b, d, c, a;
        for (d = 0; d < h; d++) {
            l = k[d].attrs;
            for (g in l) {
                if (l.hasOwnProperty(g)) {
                    a = l[g].length;
                    for (c = 0; c < a; c++) {
                        b = l[g][c];
                        this.setElVal(b[0], g, b[1])
                    }
                }
            }
        }
    },
    setElVal: function(b, a, c) {
        if (a === "x") {
            b.setX(c)
        } else {
            if (a === "y") {
                b.setY(c)
            } else {
                if (a === "scrollTop") {
                    b.scrollTo("top", c)
                } else {
                    if (a === "scrollLeft") {
                        b.scrollTo("left", c)
                    } else {
                        if (a === "width") {
                            b.setWidth(c)
                        } else {
                            if (a === "height") {
                                b.setHeight(c)
                            } else {
                                b.setStyle(a, c)
                            }
                        }
                    }
                }
            }
        }
    }
});
Ext.define("Ext.fx.target.ElementCSS", {
    extend: Ext.fx.target.Element,
    setAttr: function(n, e) {
        var q = {
            attrs: [],
            duration: [],
            easing: []
        }, m = n.length, g, p, k, l, c, b, h, d, a;
        for (h = 0; h < m; h++) {
            p = n[h];
            c = p.duration;
            l = p.easing;
            p = p.attrs;
            for (k in p) {
                if (Ext.Array.indexOf(q.attrs, k) == -1) {
                    q.attrs.push(k.replace(/[A-Z]/g, function(i) {
                        return "-" + i.toLowerCase()
                    }));
                    q.duration.push(c + "ms");
                    q.easing.push(l)
                }
            }
        }
        g = q.attrs.join(",");
        c = q.duration.join(",");
        l = q.easing.join(", ");
        for (h = 0; h < m; h++) {
            p = n[h].attrs;
            for (k in p) {
                a = p[k].length;
                for (d = 0; d < a; d++) {
                    b = p[k][d];
                    b[0].setStyle(Ext.supports.CSS3Prefix + "TransitionProperty", e ? "" : g);
                    b[0].setStyle(Ext.supports.CSS3Prefix + "TransitionDuration", e ? "" : c);
                    b[0].setStyle(Ext.supports.CSS3Prefix + "TransitionTimingFunction", e ? "" : l);
                    b[0].setStyle(k, b[1]);
                    if (e) {
                        b = b[0].dom.offsetWidth
                    } else {
                        b[0].on(Ext.supports.CSS3TransitionEnd, function() {
                            this.setStyle(Ext.supports.CSS3Prefix + "TransitionProperty", null);
                            this.setStyle(Ext.supports.CSS3Prefix + "TransitionDuration", null);
                            this.setStyle(Ext.supports.CSS3Prefix + "TransitionTimingFunction", null)
                        }, b[0], {
                            single: true
                        })
                    }
                }
            }
        }
    }
});
Ext.define("Ext.fx.target.CompositeElement", {
    extend: Ext.fx.target.Element,
    isComposite: true,
    constructor: function(a) {
        a.id = a.id || Ext.id(null, "ext-composite-");
        this.callParent([a])
    },
    getAttr: function(a, j) {
        var b = [], h = this.target, g = h.elements, e = g.length, c, d;
        for (c = 0; c < e; c++) {
            d = g[c];
            if (d) {
                d = h.getElement(d);
                b.push([d, this.getElVal(d, a, j)])
            }
        }
        return b
    },
    setAttr: function(n) {
        var l = this.target, m = n.length, b = l.elements, s = b.length, p, d, q, h, c, g, e, a;
        for (g = 0; g < m; g++) {
            q = n[g].attrs;
            for (h in q) {
                if (q.hasOwnProperty(h)) {
                    a = q[h].length;
                    for (e = 0; e < a; e++) {
                        p = q[h][e][1];
                        for (d = 0; d < s; ++d) {
                            el = b[d];
                            if (el) {
                                el = l.getElement(el);
                                this.setElVal(el, h, p)
                            }
                        }
                    }
                }
            }
        }
    }
});
Ext.define("Ext.fx.target.CompositeElementCSS", {
    extend: Ext.fx.target.CompositeElement,
    setAttr: function() {
        return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this, arguments)
    }
});
Ext.define("Ext.fx.target.Sprite", {
    extend: Ext.fx.target.Target,
    type: "draw",
    getFromPrim: function(b, a) {
        var c;
        switch (a) {
        case "rotate":
        case "rotation":
            c = b.attr.rotation;
            return {
                x: c.x || 0,
                y: c.y || 0,
                degrees: c.degrees || 0
            };
        case "scale":
        case "scaling":
            c = b.attr.scaling;
            return {
                x: c.x || 1,
                y: c.y || 1,
                cx: c.cx || 0,
                cy: c.cy || 0
            };
        case "translate":
        case "translation":
            c = b.attr.translation;
            return {
                x: c.x || 0,
                y: c.y || 0
            };
        default:
            return b.attr[a]
        }
    },
    getAttr: function(a, b) {
        return [[this.target, b != undefined ? b : this.getFromPrim(this.target, a)]]
    },
    setAttr: function(m) {
        var g = m.length, k = [], b, e, p, s, q, o, n, d, c, l, h, a;
        for (d = 0; d < g; d++) {
            b = m[d].attrs;
            for (e in b) {
                p = b[e];
                a = p.length;
                for (c = 0; c < a; c++) {
                    q = p[c][0];
                    s = p[c][1];
                    if (e === "translate" || e === "translation") {
                        n = {
                            x: s.x,
                            y: s.y
                        }
                    } else {
                        if (e === "rotate" || e === "rotation") {
                            l = s.x;
                            if (isNaN(l)) {
                                l = null
                            }
                            h = s.y;
                            if (isNaN(h)) {
                                h = null
                            }
                            n = {
                                degrees: s.degrees,
                                x: l,
                                y: h
                            }
                        } else {
                            if (e === "scale" || e === "scaling") {
                                l = s.x;
                                if (isNaN(l)) {
                                    l = null
                                }
                                h = s.y;
                                if (isNaN(h)) {
                                    h = null
                                }
                                n = {
                                    x: l,
                                    y: h,
                                    cx: s.cx,
                                    cy: s.cy
                                }
                            } else {
                                if (e === "width" || e === "height" || e === "x" || e === "y") {
                                    n = parseFloat(s)
                                } else {
                                    n = s
                                }
                            }
                        }
                    }
                    o = Ext.Array.indexOf(k, q);
                    if (o == -1) {
                        k.push([q, {}]);
                        o = k.length - 1
                    }
                    k[o][1][e] = n
                }
            }
        }
        g = k.length;
        for (d = 0; d < g; d++) {
            k[d][0].setAttributes(k[d][1])
        }
        this.target.redraw()
    }
});
Ext.define("Ext.fx.target.CompositeSprite", {
    extend: Ext.fx.target.Sprite,
    getAttr: function(a, h) {
        var b = [], g = [].concat(this.target.items), e = g.length, d, c;
        for (d = 0; d < e; d++) {
            c = g[d];
            b.push([c, h != undefined ? h : this.getFromPrim(c, a)])
        }
        return b
    }
});
Ext.define("Ext.fx.target.Component", {
    extend: Ext.fx.target.Target,
    type: "component",
    getPropMethod: {
        top: function() {
            return this.getPosition(true)[1]
        },
        left: function() {
            return this.getPosition(true)[0]
        },
        x: function() {
            return this.getPosition()[0]
        },
        y: function() {
            return this.getPosition()[1]
        },
        height: function() {
            return this.getHeight()
        },
        width: function() {
            return this.getWidth()
        },
        opacity: function() {
            return this.el.getStyle("opacity")
        }
    },
    setMethods: {
        top: "setPosition",
        left: "setPosition",
        x: "setPagePosition",
        y: "setPagePosition",
        height: "setSize",
        width: "setSize",
        opacity: "setOpacity"
    },
    getAttr: function(a, b) {
        return [[this.target, b !== undefined ? b : this.getPropMethod[a].call(this.target)]]
    },
    setAttr: function(t, g, b) {
        var q = this, p = t.length, x, n, c, k, e, m, d, s, v, l, a = {}, u;
        for (k = 0; k < p; k++) {
            x = t[k].attrs;
            for (n in x) {
                m = x[n].length;
                for (e = 0; e < m; e++) {
                    c = x[n][e];
                    u = a[q.setMethods[n]] || (a[q.setMethods[n]] = {});
                    u.target = c[0];
                    u[n] = c[1]
                }
            }
            if (a.setPosition) {
                c = a.setPosition;
                d = c.left === undefined ? undefined : parseFloat(c.left);
                s = c.top === undefined ? undefined : parseFloat(c.top);
                c.target.setPosition(d, s)
            }
            if (a.setPagePosition) {
                c = a.setPagePosition;
                c.target.setPagePosition(c.x, c.y)
            }
            if (a.setSize) {
                c = a.setSize;
                v = c.width === undefined ? c.target.getWidth() : parseFloat(c.width);
                l = c.height === undefined ? c.target.getHeight() : parseFloat(c.height);
                c.target.el.setSize(v, l);
                if (b || q.dynamic) {
                    Ext.globalEvents.on({
                        idle: Ext.Function.bind(c.target.setSize, c.target, [v, l]),
                        single: true
                    })
                }
            }
            if (a.setOpacity) {
                c = a.setOpacity;
                c.target.el.setStyle("opacity", c.opacity)
            }
        }
    }
});
Ext.define("Ext.fx.Queue", {
    constructor: function() {
        this.targets = new Ext.util.HashMap();
        this.fxQueue = {}
    },
    getFxDefaults: function(a) {
        var b = this.targets.get(a);
        if (b) {
            return b.fxDefaults
        }
        return {}
    },
    setFxDefaults: function(a, c) {
        var b = this.targets.get(a);
        if (b) {
            b.fxDefaults = Ext.apply(b.fxDefaults || {}, c)
        }
    },
    stopAnimation: function(b) {
        var d = this
          , a = d.getFxQueue(b)
          , c = a.length;
        while (c) {
            a[c - 1].end();
            c--
        }
    },
    getActiveAnimation: function(b) {
        var a = this.getFxQueue(b);
        return a && !!a.length ? a[0] : false
    },
    hasFxBlock: function(b) {
        var a = this.getFxQueue(b);
        return a && a[0] && a[0].block
    },
    getFxQueue: function(b) {
        if (!b) {
            return false
        }
        var c = this
          , a = c.fxQueue[b]
          , d = c.targets.get(b);
        if (!d) {
            return false
        }
        if (!a) {
            c.fxQueue[b] = [];
            if (d.type != "element") {
                d.target.on("destroy", function() {
                    c.fxQueue[b] = []
                })
            }
        }
        return c.fxQueue[b]
    },
    queueFx: function(d) {
        var c = this, e = d.target, a, b;
        if (!e) {
            return
        }
        a = c.getFxQueue(e.getId());
        b = a.length;
        if (b) {
            if (d.concurrent) {
                d.paused = false
            } else {
                a[b - 1].on("afteranimate", function() {
                    d.paused = false
                })
            }
        } else {
            d.paused = false
        }
        d.on("afteranimate", function() {
            Ext.Array.remove(a, d);
            if (d.remove) {
                if (e.type == "element") {
                    var g = Ext.get(e.id);
                    if (g) {
                        g.remove()
                    }
                }
            }
        }, this);
        a.push(d)
    }
});
Ext.define("Ext.fx.Manager", {
    singleton: true,
    mixins: {
        queue: Ext.fx.Queue
    },
    constructor: function() {
        var a = this;
        a.items = new Ext.util.MixedCollection();
        a.mixins.queue.constructor.call(a);
        a.taskRunner = new Ext.util.TaskRunner()
    },
    interval: 16,
    forceJS: true,
    createTarget: function(d) {
        var b = this, c = !b.forceJS && Ext.supports.Transitions, a;
        b.useCSS3 = c;
        if (d) {
            if (d.tagName || Ext.isString(d) || d.isFly) {
                d = Ext.get(d);
                a = new Ext.fx.target["Element" + (c ? "CSS" : "")](d)
            } else {
                if (d.dom) {
                    a = new Ext.fx.target["Element" + (c ? "CSS" : "")](d)
                } else {
                    if (d.isComposite) {
                        a = new Ext.fx.target["CompositeElement" + (c ? "CSS" : "")](d)
                    } else {
                        if (d.isSprite) {
                            a = new Ext.fx.target.Sprite(d)
                        } else {
                            if (d.isCompositeSprite) {
                                a = new Ext.fx.target.CompositeSprite(d)
                            } else {
                                if (d.isComponent) {
                                    a = new Ext.fx.target.Component(d)
                                } else {
                                    if (d.isAnimTarget) {
                                        return d
                                    } else {
                                        return null
                                    }
                                }
                            }
                        }
                    }
                }
            }
            b.targets.add(a);
            return a
        } else {
            return null
        }
    },
    addAnim: function(d) {
        var c = this
          , b = c.items
          , a = c.task;
        b.add(d.id, d);
        if (!a && b.length) {
            a = c.task = {
                run: c.runner,
                interval: c.interval,
                scope: c
            };
            c.taskRunner.start(a)
        }
    },
    removeAnim: function(d) {
        var c = this
          , b = c.items
          , a = c.task;
        b.removeAtKey(d.id);
        if (a && !b.length) {
            c.taskRunner.stop(a);
            delete c.task
        }
    },
    runner: function() {
        var d = this, b = d.items.getRange(), c = 0, a = b.length, e;
        d.targetArr = {};
        d.timestamp = new Date();
        for (; c < a; c++) {
            e = b[c];
            if (e.isReady()) {
                d.startAnim(e)
            }
        }
        for (c = 0; c < a; c++) {
            e = b[c];
            if (e.isRunning()) {
                d.runAnim(e)
            } else {
                if (!d.useCSS3) {}
            }
        }
        d.applyPendingAttrs()
    },
    startAnim: function(a) {
        a.start(this.timestamp)
    },
    runAnim: function(d) {
        if (!d) {
            return
        }
        var c = this, g = c.useCSS3 && d.target.type == "element", a = c.timestamp - d.startTime, b = a >= d.duration, e, h;
        e = this.collectTargetData(d, a, g, b);
        if (g) {
            d.target.setAttr(e.anims[d.id].attributes, true);
            c.collectTargetData(d, d.duration, g, b);
            d.paused = true;
            e = d.target.target;
            if (d.target.isComposite) {
                e = d.target.target.last()
            }
            h = {};
            h[Ext.supports.CSS3TransitionEnd] = d.lastFrame;
            h.scope = d;
            h.single = true;
            e.on(h)
        }
    },
    collectTargetData: function(c, a, e, g) {
        var b = c.target.getId()
          , d = this.targetArr[b];
        if (!d) {
            d = this.targetArr[b] = {
                id: b,
                el: c.target,
                anims: {}
            }
        }
        d.anims[c.id] = {
            id: c.id,
            anim: c,
            elapsed: a,
            isLastFrame: g,
            attributes: [{
                duration: c.duration,
                easing: e && c.reverse ? c.easingFn.reverse().toCSS3() : c.easing,
                attrs: c.runAnim(a)
            }]
        };
        return d
    },
    applyPendingAttrs: function() {
        var e = this.targetArr, g, c, b, d, a;
        for (c in e) {
            if (e.hasOwnProperty(c)) {
                g = e[c];
                for (a in g.anims) {
                    if (g.anims.hasOwnProperty(a)) {
                        b = g.anims[a];
                        d = b.anim;
                        if (b.attributes && d.isRunning()) {
                            g.el.setAttr(b.attributes, false, b.isLastFrame);
                            if (b.isLastFrame) {
                                d.lastFrame()
                            }
                        }
                    }
                }
            }
        }
    }
});
Ext.define("Ext.fx.Animator", {
    mixins: {
        observable: Ext.util.Observable
    },
    isAnimator: true,
    duration: 250,
    delay: 0,
    delayStart: 0,
    dynamic: false,
    easing: "ease",
    running: false,
    paused: false,
    damper: 1,
    iterations: 1,
    currentIteration: 0,
    keyframeStep: 0,
    animKeyFramesRE: /^(from|to|\d+%?)$/,
    constructor: function(a) {
        var b = this;
        a = Ext.apply(b, a || {});
        b.config = a;
        b.id = Ext.id(null, "ext-animator-");
        b.addEvents("beforeanimate", "keyframe", "afteranimate");
        b.mixins.observable.constructor.call(b, a);
        b.timeline = [];
        b.createTimeline(b.keyframes);
        if (b.target) {
            b.applyAnimator(b.target);
            Ext.fx.Manager.addAnim(b)
        }
    },
    sorter: function(d, c) {
        return d.pct - c.pct
    },
    createTimeline: function(d) {
        var h = this, l = [], j = h.to || {}, b = h.duration, m, a, c, g, k, e;
        for (k in d) {
            if (d.hasOwnProperty(k) && h.animKeyFramesRE.test(k)) {
                e = {
                    attrs: Ext.apply(d[k], j)
                };
                if (k == "from") {
                    k = 0
                } else {
                    if (k == "to") {
                        k = 100
                    }
                }
                e.pct = parseInt(k, 10);
                l.push(e)
            }
        }
        Ext.Array.sort(l, h.sorter);
        g = l.length;
        for (c = 0; c < g; c++) {
            m = l[c - 1] ? b * (l[c - 1].pct / 100) : 0;
            a = b * (l[c].pct / 100);
            h.timeline.push({
                duration: a - m,
                attrs: l[c].attrs
            })
        }
    },
    applyAnimator: function(d) {
        var h = this, j = [], l = h.timeline, g = l.length, b, e, a, k, c;
        if (h.fireEvent("beforeanimate", h) !== false) {
            for (c = 0; c < g; c++) {
                b = l[c];
                k = b.attrs;
                e = k.easing || h.easing;
                a = k.damper || h.damper;
                delete k.easing;
                delete k.damper;
                b = new Ext.fx.Anim({
                    target: d,
                    easing: e,
                    damper: a,
                    duration: b.duration,
                    paused: true,
                    to: k
                });
                j.push(b)
            }
            h.animations = j;
            h.target = b.target;
            for (c = 0; c < g - 1; c++) {
                b = j[c];
                b.nextAnim = j[c + 1];
                b.on("afteranimate", function() {
                    this.nextAnim.paused = false
                });
                b.on("afteranimate", function() {
                    this.fireEvent("keyframe", this, ++this.keyframeStep)
                }, h)
            }
            j[g - 1].on("afteranimate", function() {
                this.lastFrame()
            }, h)
        }
    },
    start: function(d) {
        var e = this, c = e.delay, b = e.delayStart, a;
        if (c) {
            if (!b) {
                e.delayStart = d;
                return
            } else {
                a = d - b;
                if (a < c) {
                    return
                } else {
                    d = new Date(b.getTime() + c)
                }
            }
        }
        if (e.fireEvent("beforeanimate", e) !== false) {
            e.startTime = d;
            e.running = true;
            e.animations[e.keyframeStep].paused = false
        }
    },
    lastFrame: function() {
        var c = this
          , a = c.iterations
          , b = c.currentIteration;
        b++;
        if (b < a) {
            c.startTime = new Date();
            c.currentIteration = b;
            c.keyframeStep = 0;
            c.applyAnimator(c.target);
            c.animations[c.keyframeStep].paused = false
        } else {
            c.currentIteration = 0;
            c.end()
        }
    },
    end: function() {
        var a = this;
        a.fireEvent("afteranimate", a, a.startTime, new Date() - a.startTime)
    },
    isReady: function() {
        return this.paused === false && this.running === false && this.iterations > 0
    },
    isRunning: function() {
        return false
    }
});
Ext.define("Ext.fx.CubicBezier", {
    singleton: true,
    cubicBezierAtTime: function(o, d, b, n, m, i) {
        var j = 3 * d
          , l = 3 * (n - d) - j
          , a = 1 - j - l
          , h = 3 * b
          , k = 3 * (m - b) - h
          , p = 1 - h - k;
        function g(q) {
            return ((a * q + l) * q + j) * q
        }
        function c(q, u) {
            var s = e(q, u);
            return ((p * s + k) * s + h) * s
        }
        function e(q, z) {
            var y, w, u, s, v, t;
            for (u = q,
            t = 0; t < 8; t++) {
                s = g(u) - q;
                if (Math.abs(s) < z) {
                    return u
                }
                v = (3 * a * u + 2 * l) * u + j;
                if (Math.abs(v) < 0.000001) {
                    break
                }
                u = u - s / v
            }
            y = 0;
            w = 1;
            u = q;
            if (u < y) {
                return y
            }
            if (u > w) {
                return w
            }
            while (y < w) {
                s = g(u);
                if (Math.abs(s - q) < z) {
                    return u
                }
                if (q > s) {
                    y = u
                } else {
                    w = u
                }
                u = (w - y) / 2 + y
            }
            return u
        }
        return c(o, 1 / (200 * i))
    },
    cubicBezier: function(b, e, a, c) {
        var d = function(g) {
            return Ext.fx.CubicBezier.cubicBezierAtTime(g, b, e, a, c, 1)
        };
        d.toCSS3 = function() {
            return "cubic-bezier(" + [b, e, a, c].join(",") + ")"
        }
        ;
        d.reverse = function() {
            return Ext.fx.CubicBezier.cubicBezier(1 - a, 1 - c, 1 - b, 1 - e)
        }
        ;
        return d
    }
});
Ext.require("Ext.fx.CubicBezier", function() {
    var e = Math
      , h = e.PI
      , d = e.pow
      , b = e.sin
      , g = e.sqrt
      , a = e.abs
      , c = 1.70158;
    Ext.define("Ext.fx.Easing", {
        singleton: true,
        linear: Ext.identityFn,
        ease: function(l) {
            var i = 0.07813 - l / 2
              , m = -0.25
              , o = g(0.0066 + i * i)
              , s = o - i
              , k = d(a(s), 1 / 3) * (s < 0 ? -1 : 1)
              , p = -o - i
              , j = d(a(p), 1 / 3) * (p < 0 ? -1 : 1)
              , u = k + j + 0.25;
            return d(1 - u, 2) * 3 * u * 0.1 + (1 - u) * 3 * u * u + u * u * u
        },
        easeIn: function(i) {
            return d(i, 1.7)
        },
        easeOut: function(i) {
            return d(i, 0.48)
        },
        easeInOut: function(s) {
            var l = 0.48 - s / 1.04
              , k = g(0.1734 + l * l)
              , i = k - l
              , p = d(a(i), 1 / 3) * (i < 0 ? -1 : 1)
              , o = -k - l
              , m = d(a(o), 1 / 3) * (o < 0 ? -1 : 1)
              , j = p + m + 0.5;
            return (1 - j) * 3 * j * j + j * j * j
        },
        backIn: function(i) {
            return i * i * ((c + 1) * i - c)
        },
        backOut: function(i) {
            i = i - 1;
            return i * i * ((c + 1) * i + c) + 1
        },
        elasticIn: function(k) {
            if (k === 0 || k === 1) {
                return k
            }
            var j = 0.3
              , i = j / 4;
            return d(2, -10 * k) * b((k - i) * 2 * h / j) + 1
        },
        elasticOut: function(i) {
            return 1 - Ext.fx.Easing.elasticIn(1 - i)
        },
        bounceIn: function(i) {
            return 1 - Ext.fx.Easing.bounceOut(1 - i)
        },
        bounceOut: function(m) {
            var j = 7.5625, k = 2.75, i;
            if (m < 1 / k) {
                i = j * m * m
            } else {
                if (m < 2 / k) {
                    m -= 1.5 / k;
                    i = j * m * m + 0.75
                } else {
                    if (m < 2.5 / k) {
                        m -= 2.25 / k;
                        i = j * m * m + 0.9375
                    } else {
                        m -= 2.625 / k;
                        i = j * m * m + 0.984375
                    }
                }
            }
            return i
        }
    }, function() {
        var j = Ext.fx.Easing.self
          , i = j.prototype;
        j.implement({
            "back-in": i.backIn,
            "back-out": i.backOut,
            "ease-in": i.easeIn,
            "ease-out": i.easeOut,
            "elastic-in": i.elasticIn,
            "elastic-out": i.elasticOut,
            "bounce-in": i.bounceIn,
            "bounce-out": i.bounceOut,
            "ease-in-out": i.easeInOut
        })
    })
});
Ext.define("Ext.draw.Color", {
    colorToHexRe: /(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,
    rgbRe: /\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,
    hexRe: /\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,
    lightnessFactor: 0.2,
    constructor: function(d, c, a) {
        var b = this
          , e = Ext.Number.constrain;
        b.r = e(d, 0, 255);
        b.g = e(c, 0, 255);
        b.b = e(a, 0, 255)
    },
    getRed: function() {
        return this.r
    },
    getGreen: function() {
        return this.g
    },
    getBlue: function() {
        return this.b
    },
    getRGB: function() {
        var a = this;
        return [a.r, a.g, a.b]
    },
    getHSL: function() {
        var j = this, a = j.r / 255, i = j.g / 255, k = j.b / 255, m = Math.max(a, i, k), d = Math.min(a, i, k), n = m - d, e, o = 0, c = 0.5 * (m + d);
        if (d != m) {
            o = c < 0.5 ? n / (m + d) : n / (2 - m - d);
            if (a == m) {
                e = 60 * (i - k) / n
            } else {
                if (i == m) {
                    e = 120 + 60 * (k - a) / n
                } else {
                    e = 240 + 60 * (a - i) / n
                }
            }
            if (e < 0) {
                e += 360
            }
            if (e >= 360) {
                e -= 360
            }
        }
        return [e, o, c]
    },
    getLighter: function(b) {
        var a = this.getHSL();
        b = b || this.lightnessFactor;
        a[2] = Ext.Number.constrain(a[2] + b, 0, 1);
        return this.fromHSL(a[0], a[1], a[2])
    },
    getDarker: function(a) {
        a = a || this.lightnessFactor;
        return this.getLighter(-a)
    },
    toString: function() {
        var h = this
          , c = Math.round
          , e = c(h.r).toString(16)
          , d = c(h.g).toString(16)
          , a = c(h.b).toString(16);
        e = e.length == 1 ? "0" + e : e;
        d = d.length == 1 ? "0" + d : d;
        a = a.length == 1 ? "0" + a : a;
        return ["#", e, d, a].join("")
    },
    toHex: function(b) {
        if (Ext.isArray(b)) {
            b = b[0]
        }
        if (!Ext.isString(b)) {
            return ""
        }
        if (b.substr(0, 1) === "#") {
            return b
        }
        var e = this.colorToHexRe.exec(b), g, d, a, c;
        if (Ext.isArray(e)) {
            g = parseInt(e[2], 10);
            d = parseInt(e[3], 10);
            a = parseInt(e[4], 10);
            c = a | d << 8 | g << 16;
            return e[1] + "#" + ("000000" + c.toString(16)).slice(-6)
        } else {
            return b
        }
    },
    fromString: function(i) {
        var c, e, d, a, h = parseInt;
        if ((i.length == 4 || i.length == 7) && i.substr(0, 1) === "#") {
            c = i.match(this.hexRe);
            if (c) {
                e = h(c[1], 16) >> 0;
                d = h(c[2], 16) >> 0;
                a = h(c[3], 16) >> 0;
                if (i.length == 4) {
                    e += e * 16;
                    d += d * 16;
                    a += a * 16
                }
            }
        } else {
            c = i.match(this.rgbRe);
            if (c) {
                e = c[1];
                d = c[2];
                a = c[3]
            }
        }
        return typeof e == "undefined" ? undefined : new Ext.draw.Color(e,d,a)
    },
    getGrayscale: function() {
        return this.r * 0.3 + this.g * 0.59 + this.b * 0.11
    },
    fromHSL: function(g, o, d) {
        var a, b, c, e, k = [], n = Math.abs, j = Math.floor;
        if (o == 0 || g == null) {
            k = [d, d, d]
        } else {
            g /= 60;
            a = o * (1 - n(2 * d - 1));
            b = a * (1 - n(g - 2 * j(g / 2) - 1));
            c = d - a / 2;
            switch (j(g)) {
            case 0:
                k = [a, b, 0];
                break;
            case 1:
                k = [b, a, 0];
                break;
            case 2:
                k = [0, a, b];
                break;
            case 3:
                k = [0, b, a];
                break;
            case 4:
                k = [b, 0, a];
                break;
            case 5:
                k = [a, 0, b];
                break
            }
            k = [k[0] + c, k[1] + c, k[2] + c]
        }
        return new Ext.draw.Color(k[0] * 255,k[1] * 255,k[2] * 255)
    }
}, function() {
    var a = this.prototype;
    this.addStatics({
        fromHSL: function() {
            return a.fromHSL.apply(a, arguments)
        },
        fromString: function() {
            return a.fromString.apply(a, arguments)
        },
        toHex: function() {
            return a.toHex.apply(a, arguments)
        }
    })
});
Ext.define("Ext.draw.Draw", {
    singleton: true,
    pathToStringRE: /,?([achlmqrstvxz]),?/gi,
    pathCommandRE: /([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,
    pathValuesRE: /(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,
    stopsRE: /^(\d+%?)$/,
    radian: Math.PI / 180,
    availableAnimAttrs: {
        along: "along",
        blur: null,
        "clip-rect": "csv",
        cx: null,
        cy: null,
        fill: "color",
        "fill-opacity": null,
        "font-size": null,
        height: null,
        opacity: null,
        path: "path",
        r: null,
        rotation: "csv",
        rx: null,
        ry: null,
        scale: "csv",
        stroke: "color",
        "stroke-opacity": null,
        "stroke-width": null,
        translation: "csv",
        width: null,
        x: null,
        y: null
    },
    is: function(b, a) {
        a = String(a).toLowerCase();
        return a == "object" && b === Object(b) || a == "undefined" && typeof b == a || a == "null" && b === null || a == "array" && Array.isArray && Array.isArray(b) || Object.prototype.toString.call(b).toLowerCase().slice(8, -1) == a
    },
    ellipsePath: function(b) {
        var a = b.attr;
        return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z", a.x, a.y - a.ry, a.rx, a.ry, a.y + a.ry)
    },
    rectPath: function(b) {
        var a = b.attr;
        if (a.radius) {
            return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z", a.x + a.radius, a.y, a.width - a.radius * 2, a.radius, -a.radius, a.height - a.radius * 2, a.radius * 2 - a.width, a.radius * 2 - a.height)
        } else {
            return Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z", a.x, a.y, a.width + a.x, a.height + a.y)
        }
    },
    path2string: function() {
        return this.join(",").replace(Ext.draw.Draw.pathToStringRE, "$1")
    },
    pathToString: function(a) {
        return a.join(",").replace(Ext.draw.Draw.pathToStringRE, "$1")
    },
    parsePathString: function(a) {
        if (!a) {
            return null
        }
        var d = {
            a: 7,
            c: 6,
            h: 1,
            l: 2,
            m: 2,
            q: 4,
            s: 4,
            t: 2,
            v: 1,
            z: 0
        }
          , c = []
          , b = this;
        if (b.is(a, "array") && b.is(a[0], "array")) {
            c = b.pathClone(a)
        }
        if (!c.length) {
            String(a).replace(b.pathCommandRE, function(g, e, j) {
                var i = []
                  , h = e.toLowerCase();
                j.replace(b.pathValuesRE, function(l, k) {
                    k && i.push(+k)
                });
                if (h == "m" && i.length > 2) {
                    c.push([e].concat(Ext.Array.splice(i, 0, 2)));
                    h = "l";
                    e = e == "m" ? "l" : "L"
                }
                while (i.length >= d[h]) {
                    c.push([e].concat(Ext.Array.splice(i, 0, d[h])));
                    if (!d[h]) {
                        break
                    }
                }
            })
        }
        c.toString = b.path2string;
        return c
    },
    mapPath: function(l, g) {
        if (!g) {
            return l
        }
        var h, e, c, k, a, d, b;
        l = this.path2curve(l);
        for (c = 0,
        k = l.length; c < k; c++) {
            b = l[c];
            for (a = 1,
            d = b.length; a < d - 1; a += 2) {
                h = g.x(b[a], b[a + 1]);
                e = g.y(b[a], b[a + 1]);
                b[a] = h;
                b[a + 1] = e
            }
        }
        return l
    },
    pathClone: function(g) {
        var c = [], a, e, b, d;
        if (!this.is(g, "array") || !this.is(g && g[0], "array")) {
            g = this.parsePathString(g)
        }
        for (b = 0,
        d = g.length; b < d; b++) {
            c[b] = [];
            for (a = 0,
            e = g[b].length; a < e; a++) {
                c[b][a] = g[b][a]
            }
        }
        c.toString = this.path2string;
        return c
    },
    pathToAbsolute: function(c) {
        if (!this.is(c, "array") || !this.is(c && c[0], "array")) {
            c = this.parsePathString(c)
        }
        var k = [], m = 0, l = 0, o = 0, n = 0, g = 0, h = c.length, b, d, e, a;
        if (h && c[0][0] == "M") {
            m = +c[0][1];
            l = +c[0][2];
            o = m;
            n = l;
            g++;
            k[0] = ["M", m, l]
        }
        for (; g < h; g++) {
            b = k[g] = [];
            d = c[g];
            if (d[0] != d[0].toUpperCase()) {
                b[0] = d[0].toUpperCase();
                switch (b[0]) {
                case "A":
                    b[1] = d[1];
                    b[2] = d[2];
                    b[3] = d[3];
                    b[4] = d[4];
                    b[5] = d[5];
                    b[6] = +(d[6] + m);
                    b[7] = +(d[7] + l);
                    break;
                case "V":
                    b[1] = +d[1] + l;
                    break;
                case "H":
                    b[1] = +d[1] + m;
                    break;
                case "M":
                    o = +d[1] + m;
                    n = +d[2] + l;
                default:
                    e = 1;
                    a = d.length;
                    for (; e < a; e++) {
                        b[e] = +d[e] + (e % 2 ? m : l)
                    }
                }
            } else {
                e = 0;
                a = d.length;
                for (; e < a; e++) {
                    k[g][e] = d[e]
                }
            }
            switch (b[0]) {
            case "Z":
                m = o;
                l = n;
                break;
            case "H":
                m = b[1];
                break;
            case "V":
                l = b[1];
                break;
            case "M":
                d = k[g];
                a = d.length;
                o = d[a - 2];
                n = d[a - 1];
            default:
                d = k[g];
                a = d.length;
                m = d[a - 2];
                l = d[a - 1]
            }
        }
        k.toString = this.path2string;
        return k
    },
    pathToRelative: function(d) {
        if (!this.is(d, "array") || !this.is(d && d[0], "array")) {
            d = this.parsePathString(d)
        }
        var n = [], p = 0, o = 0, t = 0, s = 0, c = 0, a, q, h, g, e, m, u, l, b;
        if (d[0][0] == "M") {
            p = d[0][1];
            o = d[0][2];
            t = p;
            s = o;
            c++;
            n.push(["M", p, o])
        }
        for (h = c,
        u = d.length; h < u; h++) {
            a = n[h] = [];
            q = d[h];
            if (q[0] != q[0].toLowerCase()) {
                a[0] = q[0].toLowerCase();
                switch (a[0]) {
                case "a":
                    a[1] = q[1];
                    a[2] = q[2];
                    a[3] = q[3];
                    a[4] = q[4];
                    a[5] = q[5];
                    a[6] = +(q[6] - p).toFixed(3);
                    a[7] = +(q[7] - o).toFixed(3);
                    break;
                case "v":
                    a[1] = +(q[1] - o).toFixed(3);
                    break;
                case "m":
                    t = q[1];
                    s = q[2];
                default:
                    for (g = 1,
                    l = q.length; g < l; g++) {
                        a[g] = +(q[g] - (g % 2 ? p : o)).toFixed(3)
                    }
                }
            } else {
                a = n[h] = [];
                if (q[0] == "m") {
                    t = q[1] + p;
                    s = q[2] + o
                }
                for (e = 0,
                b = q.length; e < b; e++) {
                    n[h][e] = q[e]
                }
            }
            m = n[h].length;
            switch (n[h][0]) {
            case "z":
                p = t;
                o = s;
                break;
            case "h":
                p += +n[h][m - 1];
                break;
            case "v":
                o += +n[h][m - 1];
                break;
            default:
                p += +n[h][m - 2];
                o += +n[h][m - 1]
            }
        }
        n.toString = this.path2string;
        return n
    },
    path2curve: function(k) {
        var d = this, h = d.pathToAbsolute(k), c = h.length, j = {
            x: 0,
            y: 0,
            bx: 0,
            by: 0,
            X: 0,
            Y: 0,
            qx: null,
            qy: null
        }, b, a, g, e;
        for (b = 0; b < c; b++) {
            h[b] = d.command2curve(h[b], j);
            if (h[b].length > 7) {
                h[b].shift();
                e = h[b];
                while (e.length) {
                    Ext.Array.splice(h, b++, 0, ["C"].concat(Ext.Array.splice(e, 0, 6)))
                }
                Ext.Array.erase(h, b, 1);
                c = h.length;
                b--
            }
            a = h[b];
            g = a.length;
            j.x = a[g - 2];
            j.y = a[g - 1];
            j.bx = parseFloat(a[g - 4]) || j.x;
            j.by = parseFloat(a[g - 3]) || j.y
        }
        return h
    },
    interpolatePaths: function(s, l) {
        var j = this, d = j.pathToAbsolute(s), m = j.pathToAbsolute(l), n = {
            x: 0,
            y: 0,
            bx: 0,
            by: 0,
            X: 0,
            Y: 0,
            qx: null,
            qy: null
        }, a = {
            x: 0,
            y: 0,
            bx: 0,
            by: 0,
            X: 0,
            Y: 0,
            qx: null,
            qy: null
        }, b = function(p, t) {
            if (p[t].length > 7) {
                p[t].shift();
                var u = p[t];
                while (u.length) {
                    Ext.Array.splice(p, t++, 0, ["C"].concat(Ext.Array.splice(u, 0, 6)))
                }
                Ext.Array.erase(p, t, 1);
                o = Math.max(d.length, m.length || 0)
            }
        }, c = function(w, v, t, p, u) {
            if (w && v && w[u][0] == "M" && v[u][0] != "M") {
                Ext.Array.splice(v, u, 0, ["M", p.x, p.y]);
                t.bx = 0;
                t.by = 0;
                t.x = w[u][1];
                t.y = w[u][2];
                o = Math.max(d.length, m.length || 0)
            }
        }, h, o, g, q, e, k;
        for (h = 0,
        o = Math.max(d.length, m.length || 0); h < o; h++) {
            d[h] = j.command2curve(d[h], n);
            b(d, h);
            m[h] = j.command2curve(m[h], a);
            b(m, h);
            c(d, m, n, a, h);
            c(m, d, a, n, h);
            g = d[h];
            q = m[h];
            e = g.length;
            k = q.length;
            n.x = g[e - 2];
            n.y = g[e - 1];
            n.bx = parseFloat(g[e - 4]) || n.x;
            n.by = parseFloat(g[e - 3]) || n.y;
            a.bx = parseFloat(q[k - 4]) || a.x;
            a.by = parseFloat(q[k - 3]) || a.y;
            a.x = q[k - 2];
            a.y = q[k - 1]
        }
        return [d, m]
    },
    command2curve: function(c, b) {
        var a = this;
        if (!c) {
            return ["C", b.x, b.y, b.x, b.y, b.x, b.y]
        }
        if (c[0] != "T" && c[0] != "Q") {
            b.qx = b.qy = null
        }
        switch (c[0]) {
        case "M":
            b.X = c[1];
            b.Y = c[2];
            break;
        case "A":
            c = ["C"].concat(a.arc2curve.apply(a, [b.x, b.y].concat(c.slice(1))));
            break;
        case "S":
            c = ["C", b.x + (b.x - (b.bx || b.x)), b.y + (b.y - (b.by || b.y))].concat(c.slice(1));
            break;
        case "T":
            b.qx = b.x + (b.x - (b.qx || b.x));
            b.qy = b.y + (b.y - (b.qy || b.y));
            c = ["C"].concat(a.quadratic2curve(b.x, b.y, b.qx, b.qy, c[1], c[2]));
            break;
        case "Q":
            b.qx = c[1];
            b.qy = c[2];
            c = ["C"].concat(a.quadratic2curve(b.x, b.y, c[1], c[2], c[3], c[4]));
            break;
        case "L":
            c = ["C"].concat(b.x, b.y, c[1], c[2], c[1], c[2]);
            break;
        case "H":
            c = ["C"].concat(b.x, b.y, c[1], b.y, c[1], b.y);
            break;
        case "V":
            c = ["C"].concat(b.x, b.y, b.x, c[1], b.x, c[1]);
            break;
        case "Z":
            c = ["C"].concat(b.x, b.y, b.X, b.Y, b.X, b.Y);
            break
        }
        return c
    },
    quadratic2curve: function(b, d, h, e, a, c) {
        var g = 1 / 3
          , i = 2 / 3;
        return [g * b + i * h, g * d + i * e, g * a + i * h, g * c + i * e, a, c]
    },
    rotate: function(b, h, a) {
        var d = Math.cos(a)
          , c = Math.sin(a)
          , g = b * d - h * c
          , e = b * c + h * d;
        return {
            x: g,
            y: e
        }
    },
    arc2curve: function(u, ag, I, G, A, n, g, s, af, B) {
        var w = this, d = Math.PI, z = w.radian, F = d * 120 / 180, b = z * (+A || 0), N = [], K = Math, U = K.cos, a = K.sin, W = K.sqrt, v = K.abs, o = K.asin, J, P, O, ab, c, S, V, D, C, m, l, q, j, ae, e, ad, Q, T, R, ac, aa, Z, X, M, Y, L, E, H, p;
        if (!B) {
            J = w.rotate(u, ag, -b);
            u = J.x;
            ag = J.y;
            J = w.rotate(s, af, -b);
            s = J.x;
            af = J.y;
            P = (u - s) / 2;
            O = (ag - af) / 2;
            ab = P * P / (I * I) + O * O / (G * G);
            if (ab > 1) {
                ab = W(ab);
                I = ab * I;
                G = ab * G
            }
            c = I * I;
            S = G * G;
            V = (n == g ? -1 : 1) * W(v((c * S - c * O * O - S * P * P) / (c * O * O + S * P * P)));
            D = V * I * O / G + (u + s) / 2;
            C = V * -G * P / I + (ag + af) / 2;
            m = o(((ag - C) / G).toFixed(7));
            l = o(((af - C) / G).toFixed(7));
            m = u < D ? d - m : m;
            l = s < D ? d - l : l;
            if (m < 0) {
                m = d * 2 + m
            }
            if (l < 0) {
                l = d * 2 + l
            }
            if (g && m > l) {
                m = m - d * 2
            }
            if (!g && l > m) {
                l = l - d * 2
            }
        } else {
            m = B[0];
            l = B[1];
            D = B[2];
            C = B[3]
        }
        q = l - m;
        if (v(q) > F) {
            E = l;
            H = s;
            p = af;
            l = m + F * (g && l > m ? 1 : -1);
            s = D + I * U(l);
            af = C + G * a(l);
            N = w.arc2curve(s, af, I, G, A, 0, g, H, p, [l, E, D, C])
        }
        q = l - m;
        j = U(m);
        ae = a(m);
        e = U(l);
        ad = a(l);
        Q = K.tan(q / 4);
        T = 4 / 3 * I * Q;
        R = 4 / 3 * G * Q;
        ac = [u, ag];
        aa = [u + T * ae, ag - R * j];
        Z = [s + T * ad, af - R * e];
        X = [s, af];
        aa[0] = 2 * ac[0] - aa[0];
        aa[1] = 2 * ac[1] - aa[1];
        if (B) {
            return [aa, Z, X].concat(N)
        } else {
            N = [aa, Z, X].concat(N).join().split(",");
            M = [];
            L = N.length;
            for (Y = 0; Y < L; Y++) {
                M[Y] = Y % 2 ? w.rotate(N[Y - 1], N[Y], b).y : w.rotate(N[Y], N[Y + 1], b).x
            }
            return M
        }
    },
    rotateAndTranslatePath: function(k) {
        var c = k.rotation.degrees, d = k.rotation.x, b = k.rotation.y, o = k.translation.x, l = k.translation.y, n, g, a, m, e, h = [];
        if (!c && !o && !l) {
            return this.pathToAbsolute(k.attr.path)
        }
        o = o || 0;
        l = l || 0;
        n = this.pathToAbsolute(k.attr.path);
        for (g = n.length; g--; ) {
            a = h[g] = n[g].slice();
            if (a[0] == "A") {
                m = this.rotatePoint(a[6], a[7], c, d, b);
                a[6] = m.x + o;
                a[7] = m.y + l
            } else {
                e = 1;
                while (a[e + 1] != null) {
                    m = this.rotatePoint(a[e], a[e + 1], c, d, b);
                    a[e] = m.x + o;
                    a[e + 1] = m.y + l;
                    e += 2
                }
            }
        }
        return h
    },
    rotatePoint: function(b, h, e, a, g) {
        if (!e) {
            return {
                x: b,
                y: h
            }
        }
        a = a || 0;
        g = g || 0;
        b = b - a;
        h = h - g;
        e = e * this.radian;
        var d = Math.cos(e)
          , c = Math.sin(e);
        return {
            x: b * d - h * c + a,
            y: b * c + h * d + g
        }
    },
    pathDimensions: function(o) {
        if (!o || !(o + "")) {
            return {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            }
        }
        o = this.path2curve(o);
        var m = 0, l = 0, e = [], b = [], h = 0, k = o.length, c, a, n, g, d, j;
        for (; h < k; h++) {
            c = o[h];
            if (c[0] == "M") {
                m = c[1];
                l = c[2];
                e.push(m);
                b.push(l)
            } else {
                j = this.curveDim(m, l, c[1], c[2], c[3], c[4], c[5], c[6]);
                e = e.concat(j.min.x, j.max.x);
                b = b.concat(j.min.y, j.max.y);
                m = c[5];
                l = c[6]
            }
        }
        a = Math.min.apply(0, e);
        n = Math.min.apply(0, b);
        g = Math.max.apply(0, e);
        d = Math.max.apply(0, b);
        return {
            x: Math.round(a),
            y: Math.round(n),
            path: o,
            width: Math.round(g - a),
            height: Math.round(d - n)
        }
    },
    intersectInside: function(b, c, a) {
        return (a[0] - c[0]) * (b[1] - c[1]) > (a[1] - c[1]) * (b[0] - c[0])
    },
    intersectIntersection: function(n, m, g, d) {
        var c = []
          , b = g[0] - d[0]
          , a = g[1] - d[1]
          , k = n[0] - m[0]
          , i = n[1] - m[1]
          , l = g[0] * d[1] - g[1] * d[0]
          , j = n[0] * m[1] - n[1] * m[0]
          , h = 1 / (b * i - a * k);
        c[0] = (l * k - j * b) * h;
        c[1] = (l * i - j * a) * h;
        return c
    },
    intersect: function(o, c) {
        var n = this, k = 0, m = c.length, h = c[m - 1], p = o, g, q, l, a, b, d;
        for (; k < m; ++k) {
            g = c[k];
            b = p;
            p = [];
            q = b[b.length - 1];
            d = 0;
            a = b.length;
            for (; d < a; d++) {
                l = b[d];
                if (n.intersectInside(l, h, g)) {
                    if (!n.intersectInside(q, h, g)) {
                        p.push(n.intersectIntersection(q, l, h, g))
                    }
                    p.push(l)
                } else {
                    if (n.intersectInside(q, h, g)) {
                        p.push(n.intersectIntersection(q, l, h, g))
                    }
                }
                q = l
            }
            h = g
        }
        return p
    },
    bezier: function(h, g, m, l, e) {
        if (e === 0) {
            return h
        } else {
            if (e === 1) {
                return l
            }
        }
        var j = 1 - e
          , i = j * j * j
          , k = e / j;
        return i * (h + k * (3 * g + k * (3 * m + l * k)))
    },
    bezierDim: function(t, q, n, m) {
        var v = [], g, j, p, h, u, e, w, k, o, l;
        if (t + 3 * n == m + 3 * q) {
            g = t - q;
            g /= 2 * (t - q - q + n);
            if (g < 1 && g > 0) {
                v.push(g)
            }
        } else {
            j = t - 3 * q + 3 * n - m;
            p = 2 * (t - q - q + n);
            h = t - q;
            u = p * p - 4 * j * h;
            e = j + j;
            if (u === 0) {
                g = p / e;
                if (g < 1 && g > 0) {
                    v.push(g)
                }
            } else {
                if (u > 0) {
                    w = Math.sqrt(u);
                    g = (w + p) / e;
                    if (g < 1 && g > 0) {
                        v.push(g)
                    }
                    g = (p - w) / e;
                    if (g < 1 && g > 0) {
                        v.push(g)
                    }
                }
            }
        }
        k = Math.min(t, m);
        o = Math.max(t, m);
        for (l = 0; l < v.length; l++) {
            k = Math.min(k, this.bezier(t, q, n, m, v[l]));
            o = Math.max(o, this.bezier(t, q, n, m, v[l]))
        }
        return [k, o]
    },
    curveDim: function(b, a, d, c, k, j, h, e) {
        var i = this.bezierDim(b, d, k, h)
          , g = this.bezierDim(a, c, j, e);
        return {
            min: {
                x: i[0],
                y: g[0]
            },
            max: {
                x: i[1],
                y: g[1]
            }
        }
    },
    getAnchors: function(e, d, k, j, w, v, q) {
        q = q || 4;
        var i = Math, p = i.PI, s = p / 2, m = i.abs, a = i.sin, b = i.cos, g = i.atan, u, t, h, l, o, n, y, x, c;
        u = (k - e) / q;
        t = (w - k) / q;
        if (j >= d && j >= v || j <= d && j <= v) {
            h = l = s
        } else {
            h = g((k - e) / m(j - d));
            if (d < j) {
                h = p - h
            }
            l = g((w - k) / m(j - v));
            if (v < j) {
                l = p - l
            }
        }
        c = s - (h + l) % (p * 2) / 2;
        if (c > s) {
            c -= p
        }
        h += c;
        l += c;
        o = k - u * a(h);
        n = j + u * b(h);
        y = k + t * a(l);
        x = j + t * b(l);
        if (j > d && n < d || j < d && n > d) {
            o += m(d - n) * (o - k) / (n - j);
            n = d
        }
        if (j > v && x < v || j < v && x > v) {
            y -= m(v - x) * (y - k) / (x - j);
            x = v
        }
        return {
            x1: o,
            y1: n,
            x2: y,
            y2: x
        }
    },
    smooth: function(a, p) {
        var o = this.path2curve(a), c = [o[0]], g = o[0][1], e = o[0][2], q, t, u = 1, h = o.length, d = 1, l = g, k = e, z, w, v, m, s, n, b;
        for (; u < h; u++) {
            z = o[u];
            w = z.length;
            v = o[u - 1];
            m = v.length;
            s = o[u + 1];
            n = s && s.length;
            if (z[0] == "M") {
                l = z[1];
                k = z[2];
                q = u + 1;
                while (o[q][0] != "C") {
                    q++
                }
                c.push(["M", l, k]);
                d = c.length;
                g = l;
                e = k;
                continue
            }
            if (z[w - 2] == l && z[w - 1] == k && (!s || s[0] == "M")) {
                b = c[d].length;
                t = this.getAnchors(v[m - 2], v[m - 1], l, k, c[d][b - 2], c[d][b - 1], p);
                c[d][1] = t.x2;
                c[d][2] = t.y2
            } else {
                if (!s || s[0] == "M") {
                    t = {
                        x1: z[w - 2],
                        y1: z[w - 1]
                    }
                } else {
                    t = this.getAnchors(v[m - 2], v[m - 1], z[w - 2], z[w - 1], s[n - 2], s[n - 1], p)
                }
            }
            c.push(["C", g, e, t.x1, t.y1, z[w - 2], z[w - 1]]);
            g = t.x2;
            e = t.y2
        }
        return c
    },
    findDotAtSegment: function(b, a, d, c, j, i, h, g, k) {
        var e = 1 - k;
        return {
            x: Math.pow(e, 3) * b + Math.pow(e, 2) * 3 * k * d + e * 3 * k * k * j + Math.pow(k, 3) * h,
            y: Math.pow(e, 3) * a + Math.pow(e, 2) * 3 * k * c + e * 3 * k * k * i + Math.pow(k, 3) * g
        }
    },
    snapEnds: function(o, c, k, v) {
        if (Ext.isDate(o)) {
            return this.snapEndsByDate(o, c, k)
        }
        var e = (c - o) / k, b = Math.floor(Math.log(e) / Math.LN10) + 1, n = Math.pow(10, b), d, q, s = Math.round(e % n * Math.pow(10, 2 - b)), t = [[0, 15], [10, 1], [20, 4], [25, 2], [50, 9], [100, 15]], a = 0, l, j, p, h, u = 1000000000, g = t.length;
        q = Math.floor(o / n) * n;
        if (o == q && q > 0) {
            q = Math.floor((o - n / 10) / n) * n
        }
        if (v) {
            for (p = 0; p < g; p++) {
                l = t[p][0];
                j = l - s < 0 ? 1000000 : (l - s) / t[p][1];
                if (j < u) {
                    h = l;
                    u = j
                }
            }
            e = Math.floor(e * Math.pow(10, -b)) * Math.pow(10, b) + h * Math.pow(10, b - 2);
            if (o < 0 && c >= 0) {
                d = 0;
                while (d > o) {
                    d -= e;
                    a++
                }
                o = +d.toFixed(10);
                d = 0;
                while (d < c) {
                    d += e;
                    a++
                }
                c = +d.toFixed(10)
            } else {
                d = o = q;
                while (d < c) {
                    d += e;
                    a++
                }
            }
            c = +d.toFixed(10)
        } else {
            o = q;
            a = k
        }
        return {
            from: o,
            to: c,
            power: b,
            step: e,
            steps: a
        }
    },
    snapEndsByDate: function(k, l, b, m) {
        var e = false, h = [[Ext.Date.MILLI, [1, 2, 5, 10, 20, 50, 100, 200, 250, 500]], [Ext.Date.SECOND, [1, 2, 5, 10, 15, 30]], [Ext.Date.MINUTE, [1, 2, 5, 10, 15, 30]], [Ext.Date.HOUR, [1, 2, 3, 4, 6, 12]], [Ext.Date.DAY, [1, 2, 7, 14]], [Ext.Date.MONTH, [1, 2, 3, 6]]], g = h.length, i = false, c, d, a, n;
        for (n = 0; n < g; n++) {
            c = h[n];
            if (!i) {
                for (d = 0; d < c[1].length; d++) {
                    if (l < Ext.Date.add(k, c[0], c[1][d] * b)) {
                        e = [c[0], c[1][d]];
                        i = true;
                        break
                    }
                }
            }
        }
        if (!e) {
            a = this.snapEnds(k.getFullYear(), l.getFullYear() + 1, b, m);
            e = [Date.YEAR, Math.round(a.step)]
        }
        return this.snapEndsByDateAndStep(k, l, e, m)
    },
    snapEndsByDateAndStep: function(l, m, a, o) {
        var n = [l.getFullYear(), l.getMonth(), l.getDate(), l.getHours(), l.getMinutes(), l.getSeconds(), l.getMilliseconds()], k, c, p, b, i, e, j, d, h = a[0], g = a[1];
        if (o) {
            c = l
        } else {
            switch (h) {
            case Ext.Date.MILLI:
                c = new Date(n[0],n[1],n[2],n[3],n[4],n[5],Math.floor(n[6] / g) * g);
                break;
            case Ext.Date.SECOND:
                c = new Date(n[0],n[1],n[2],n[3],n[4],Math.floor(n[5] / g) * g,0);
                break;
            case Ext.Date.MINUTE:
                c = new Date(n[0],n[1],n[2],n[3],Math.floor(n[4] / g) * g,0,0);
                break;
            case Ext.Date.HOUR:
                c = new Date(n[0],n[1],n[2],Math.floor(n[3] / g) * g,0,0,0);
                break;
            case Ext.Date.DAY:
                c = new Date(n[0],n[1],Math.floor((n[2] - 1) / g) * g + 1,0,0,0,0);
                break;
            case Ext.Date.MONTH:
                c = new Date(n[0],Math.floor(n[1] / g) * g,1,0,0,0,0);
                break;
            default:
                c = new Date(Math.floor(n[0] / g) * g,0,1,0,0,0,0);
                break
            }
        }
        d = h === Ext.Date.MONTH && (g == 1 / 2 || g == 1 / 3 || g == 1 / 4);
        k = d ? [] : 0;
        p = new Date(c);
        while (p < m) {
            if (d) {
                b = new Date(p);
                i = b.getFullYear();
                e = b.getMonth();
                j = b.getDate();
                switch (g) {
                case 1 / 2:
                    if (j >= 15) {
                        j = 1;
                        if (++e > 11) {
                            i++
                        }
                    } else {
                        j = 15
                    }
                    break;
                case 1 / 3:
                    if (j >= 20) {
                        j = 1;
                        if (++e > 11) {
                            i++
                        }
                    } else {
                        if (j >= 10) {
                            j = 20
                        } else {
                            j = 10
                        }
                    }
                    break;
                case 1 / 4:
                    if (j >= 22) {
                        j = 1;
                        if (++e > 11) {
                            i++
                        }
                    } else {
                        if (j >= 15) {
                            j = 22
                        } else {
                            if (j >= 8) {
                                j = 15
                            } else {
                                j = 8
                            }
                        }
                    }
                    break
                }
                p.setYear(i);
                p.setMonth(e);
                p.setDate(j);
                k.push(new Date(p))
            } else {
                p = Ext.Date.add(p, h, g);
                k++
            }
        }
        if (o) {
            p = m
        }
        if (d) {
            return {
                from: +c,
                to: +p,
                steps: k
            }
        } else {
            return {
                from: +c,
                to: +p,
                step: (p - c) / k,
                steps: k
            }
        }
    },
    sorter: function(d, c) {
        return d.offset - c.offset
    },
    rad: function(a) {
        return a % 360 * Math.PI / 180
    },
    degrees: function(a) {
        return a * 180 / Math.PI % 360
    },
    withinBox: function(a, c, b) {
        b = b || {};
        return a >= b.x && a <= b.x + b.width && c >= b.y && c <= b.y + b.height
    },
    parseGradient: function(k) {
        var e = this, g = k.type || "linear", c = k.angle || 0, i = e.radian, l = k.stops, a = [], j, b, h, d;
        if (g == "linear") {
            b = [0, 0, Math.cos(c * i), Math.sin(c * i)];
            h = 1 / (Math.max(Math.abs(b[2]), Math.abs(b[3])) || 1);
            b[2] *= h;
            b[3] *= h;
            if (b[2] < 0) {
                b[0] = -b[2];
                b[2] = 0
            }
            if (b[3] < 0) {
                b[1] = -b[3];
                b[3] = 0
            }
        }
        for (j in l) {
            if (l.hasOwnProperty(j) && e.stopsRE.test(j)) {
                d = {
                    offset: parseInt(j, 10),
                    color: Ext.draw.Color.toHex(l[j].color) || "#ffffff",
                    opacity: l[j].opacity || 1
                };
                a.push(d)
            }
        }
        Ext.Array.sort(a, e.sorter);
        if (g == "linear") {
            return {
                id: k.id,
                type: g,
                vector: b,
                stops: a
            }
        } else {
            return {
                id: k.id,
                type: g,
                centerX: k.centerX,
                centerY: k.centerY,
                focalX: k.focalX,
                focalY: k.focalY,
                radius: k.radius,
                vector: b,
                stops: a
            }
        }
    }
});
Ext.define("Ext.fx.PropertyHandler", {
    statics: {
        defaultHandler: {
            pixelDefaultsRE: /width|height|top$|bottom$|left$|right$/i,
            unitRE: /^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,
            scrollRE: /^scroll/i,
            computeDelta: function(j, c, a, g, i) {
                a = typeof a == "number" ? a : 1;
                var h = this.unitRE, d = h.exec(j), b, e;
                if (d) {
                    j = d[1];
                    e = d[2];
                    if (!this.scrollRE.test(i) && !e && this.pixelDefaultsRE.test(i)) {
                        e = "px"
                    }
                }
                j = +j || 0;
                d = h.exec(c);
                if (d) {
                    c = d[1];
                    e = d[2] || e
                }
                c = +c || 0;
                b = g != null ? g : j;
                return {
                    from: j,
                    delta: (c - b) * a,
                    units: e
                }
            },
            get: function(o, b, a, n, k) {
                var m = o.length, d = [], e, h, l, c, g;
                for (e = 0; e < m; e++) {
                    if (n) {
                        h = n[e][1].from
                    }
                    if (Ext.isArray(o[e][1]) && Ext.isArray(b)) {
                        l = [];
                        c = 0;
                        g = o[e][1].length;
                        for (; c < g; c++) {
                            l.push(this.computeDelta(o[e][1][c], b[c], a, h, k))
                        }
                        d.push([o[e][0], l])
                    } else {
                        d.push([o[e][0], this.computeDelta(o[e][1], b, a, h, k)])
                    }
                }
                return d
            },
            set: function(l, g) {
                var h = l.length, c = [], d, a, k, e, b;
                for (d = 0; d < h; d++) {
                    a = l[d][1];
                    if (Ext.isArray(a)) {
                        k = [];
                        b = 0;
                        e = a.length;
                        for (; b < e; b++) {
                            k.push(a[b].from + a[b].delta * g + (a[b].units || 0))
                        }
                        c.push([l[d][0], k])
                    } else {
                        c.push([l[d][0], a.from + a.delta * g + (a.units || 0)])
                    }
                }
                return c
            }
        },
        stringHandler: {
            computeDelta: function(e, b, d, c, a) {
                return {
                    from: e,
                    delta: b
                }
            },
            get: function(o, b, a, n, k) {
                var m = o.length, d = [], e, h, l, c, g;
                for (e = 0; e < m; e++) {
                    d.push([o[e][0], this.computeDelta(o[e][1], b, a, h, k)])
                }
                return d
            },
            set: function(l, g) {
                var h = l.length, c = [], d, a, k, e, b;
                for (d = 0; d < h; d++) {
                    a = l[d][1];
                    c.push([l[d][0], a.delta])
                }
                return c
            }
        },
        color: {
            rgbRE: /^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,
            hexRE: /^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,
            hex3RE: /^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,
            parseColor: function(e, a) {
                a = typeof a == "number" ? a : 1;
                var g = false, c = [this.hexRE, this.rgbRE, this.hex3RE], d = c.length, j, b, k, h;
                for (h = 0; h < d; h++) {
                    k = c[h];
                    b = h % 2 === 0 ? 16 : 10;
                    j = k.exec(e);
                    if (j && j.length === 4) {
                        if (h === 2) {
                            j[1] += j[1];
                            j[2] += j[2];
                            j[3] += j[3]
                        }
                        g = {
                            red: parseInt(j[1], b),
                            green: parseInt(j[2], b),
                            blue: parseInt(j[3], b)
                        };
                        break
                    }
                }
                return g || e
            },
            computeDelta: function(h, a, e, c) {
                h = this.parseColor(h);
                a = this.parseColor(a, e);
                var g = c ? c : h
                  , b = typeof g
                  , d = typeof a;
                if (b == "string" || b == "undefined" || d == "string" || d == "undefined") {
                    return a || g
                }
                return {
                    from: h,
                    delta: {
                        red: Math.round((a.red - g.red) * e),
                        green: Math.round((a.green - g.green) * e),
                        blue: Math.round((a.blue - g.blue) * e)
                    }
                }
            },
            get: function(j, a, g, d) {
                var h = j.length, c = [], e, b;
                for (e = 0; e < h; e++) {
                    if (d) {
                        b = d[e][1].from
                    }
                    c.push([j[e][0], this.computeDelta(j[e][1], a, g, b)])
                }
                return c
            },
            set: function(k, e) {
                var g = k.length, c = [], d, b, a, h, j;
                for (d = 0; d < g; d++) {
                    b = k[d][1];
                    if (b) {
                        h = b.from;
                        j = b.delta;
                        b = typeof b == "object" && "red"in b ? "rgb(" + b.red + ", " + b.green + ", " + b.blue + ")" : b;
                        b = typeof b == "object" && b.length ? b[0] : b;
                        if (typeof b == "undefined") {
                            return []
                        }
                        a = typeof b == "string" ? b : "rgb(" + [(h.red + Math.round(j.red * e)) % 256, (h.green + Math.round(j.green * e)) % 256, (h.blue + Math.round(j.blue * e)) % 256].join(",") + ")";
                        c.push([k[d][0], a])
                    }
                }
                return c
            }
        },
        object: {
            interpolate: function(d, b) {
                b = typeof b == "number" ? b : 1;
                var a = {}, c;
                for (c in d) {
                    a[c] = parseFloat(d[c]) * b
                }
                return a
            },
            computeDelta: function(h, a, c, b) {
                h = this.interpolate(h);
                a = this.interpolate(a, c);
                var g = b ? b : h, e = {}, d;
                for (d in a) {
                    e[d] = a[d] - g[d]
                }
                return {
                    from: h,
                    delta: e
                }
            },
            get: function(j, a, g, d) {
                var h = j.length, c = [], e, b;
                for (e = 0; e < h; e++) {
                    if (d) {
                        b = d[e][1].from
                    }
                    c.push([j[e][0], this.computeDelta(j[e][1], a, g, b)])
                }
                return c
            },
            set: function(l, g) {
                var h = l.length, c = [], e = {}, d, j, k, b, a;
                for (d = 0; d < h; d++) {
                    b = l[d][1];
                    j = b.from;
                    k = b.delta;
                    for (a in j) {
                        e[a] = j[a] + k[a] * g
                    }
                    c.push([l[d][0], e])
                }
                return c
            }
        },
        path: {
            computeDelta: function(e, a, c, b) {
                c = typeof c == "number" ? c : 1;
                var d;
                e = +e || 0;
                a = +a || 0;
                d = b != null ? b : e;
                return {
                    from: e,
                    delta: (a - d) * c
                }
            },
            forcePath: function(a) {
                if (!Ext.isArray(a) && !Ext.isArray(a[0])) {
                    a = Ext.draw.Draw.parsePathString(a)
                }
                return a
            },
            get: function(b, l, a, q) {
                var c = this.forcePath(l), n = [], t = b.length, d, h, o, g, p, m, e, u, s;
                for (o = 0; o < t; o++) {
                    s = this.forcePath(b[o][1]);
                    g = Ext.draw.Draw.interpolatePaths(s, c);
                    s = g[0];
                    c = g[1];
                    d = s.length;
                    u = [];
                    for (m = 0; m < d; m++) {
                        g = [s[m][0]];
                        h = s[m].length;
                        for (e = 1; e < h; e++) {
                            p = q && q[0][1][m][e].from;
                            g.push(this.computeDelta(s[m][e], c[m][e], a, p))
                        }
                        u.push(g)
                    }
                    n.push([b[o][0], u])
                }
                return n
            },
            set: function(p, n) {
                var o = p.length, e = [], h, g, d, l, m, c, a, b;
                for (h = 0; h < o; h++) {
                    c = p[h][1];
                    l = [];
                    a = c.length;
                    for (g = 0; g < a; g++) {
                        m = [c[g][0]];
                        b = c[g].length;
                        for (d = 1; d < b; d++) {
                            m.push(c[g][d].from + c[g][d].delta * n)
                        }
                        l.push(m.join(","))
                    }
                    e.push([p[h][0], l.join(",")])
                }
                return e
            }
        }
    }
}, function() {
    var b = ["outlineColor", "backgroundColor", "borderColor", "borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor", "fill", "stroke"], c = b.length, a = 0, d;
    for (; a < c; a++) {
        d = b[a];
        this[d] = this.color
    }
    b = ["cursor"];
    c = b.length;
    a = 0;
    for (; a < c; a++) {
        d = b[a];
        this[d] = this.stringHandler
    }
});
Ext.define("Ext.fx.Anim", {
    mixins: {
        observable: Ext.util.Observable
    },
    isAnimation: true,
    duration: 250,
    delay: 0,
    delayStart: 0,
    dynamic: false,
    easing: "ease",
    damper: 1,
    bezierRE: /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,
    reverse: false,
    running: false,
    paused: false,
    iterations: 1,
    alternate: false,
    currentIteration: 0,
    startTime: 0,
    frameCount: 0,
    constructor: function(a) {
        var b = this, c;
        a = a || {};
        if (a.keyframes) {
            return new Ext.fx.Animator(a)
        }
        Ext.apply(b, a);
        if (b.from === undefined) {
            b.from = {}
        }
        b.propHandlers = {};
        b.config = a;
        b.target = Ext.fx.Manager.createTarget(b.target);
        b.easingFn = Ext.fx.Easing[b.easing];
        b.target.dynamic = b.dynamic;
        if (!b.easingFn) {
            b.easingFn = String(b.easing).match(b.bezierRE);
            if (b.easingFn && b.easingFn.length == 5) {
                c = b.easingFn;
                b.easingFn = Ext.fx.CubicBezier.cubicBezier(+c[1], +c[2], +c[3], +c[4])
            }
        }
        b.id = Ext.id(null, "ext-anim-");
        b.addEvents("beforeanimate", "afteranimate", "lastframe");
        b.mixins.observable.constructor.call(b);
        Ext.fx.Manager.addAnim(b)
    },
    setAttr: function(a, b) {
        return Ext.fx.Manager.items.get(this.id).setAttr(this.target, a, b)
    },
    initAttrs: function() {
        var e = this, h = e.from, i = e.to, g = e.initialFrom || {}, c = {}, a, b, j, d;
        for (d in i) {
            if (i.hasOwnProperty(d)) {
                a = e.target.getAttr(d, h[d]);
                b = i[d];
                if (!Ext.fx.PropertyHandler[d]) {
                    if (Ext.isObject(b)) {
                        j = e.propHandlers[d] = Ext.fx.PropertyHandler.object
                    } else {
                        j = e.propHandlers[d] = Ext.fx.PropertyHandler.defaultHandler
                    }
                } else {
                    j = e.propHandlers[d] = Ext.fx.PropertyHandler[d]
                }
                c[d] = j.get(a, b, e.damper, g[d], d)
            }
        }
        e.currentAttrs = c
    },
    start: function(d) {
        var e = this, c = e.delay, b = e.delayStart, a;
        if (c) {
            if (!b) {
                e.delayStart = d;
                return
            } else {
                a = d - b;
                if (a < c) {
                    return
                } else {
                    d = new Date(b.getTime() + c)
                }
            }
        }
        if (e.fireEvent("beforeanimate", e) !== false) {
            e.startTime = d;
            if (!e.paused && !e.currentAttrs) {
                e.initAttrs()
            }
            e.running = true;
            e.frameCount = 0
        }
    },
    runAnim: function(l) {
        var i = this, k = i.currentAttrs, d = i.duration, c = i.easingFn, b = i.propHandlers, g = {}, h, j, e, a;
        if (l >= d) {
            l = d;
            a = true
        }
        if (i.reverse) {
            l = d - l
        }
        for (e in k) {
            if (k.hasOwnProperty(e)) {
                j = k[e];
                h = a ? 1 : c(l / d);
                g[e] = b[e].set(j, h)
            }
        }
        i.frameCount++;
        return g
    },
    lastFrame: function() {
        var c = this
          , a = c.iterations
          , b = c.currentIteration;
        b++;
        if (b < a) {
            if (c.alternate) {
                c.reverse = !c.reverse
            }
            c.startTime = new Date();
            c.currentIteration = b;
            c.paused = false
        } else {
            c.currentIteration = 0;
            c.end();
            c.fireEvent("lastframe", c, c.startTime)
        }
    },
    endWasCalled: 0,
    end: function() {
        if (this.endWasCalled++) {
            return
        }
        var a = this;
        a.startTime = 0;
        a.paused = false;
        a.running = false;
        Ext.fx.Manager.removeAnim(a);
        a.fireEvent("afteranimate", a, a.startTime);
        Ext.callback(a.callback, a.scope, [a, a.startTime])
    },
    isReady: function() {
        return this.paused === false && this.running === false && this.iterations > 0
    },
    isRunning: function() {
        return this.paused === false && this.running === true && this.isAnimator !== true
    }
});
Ext.enableFx = true;
Ext.define("Ext.util.Animate", {
    isAnimate: true,
    animate: function(a) {
        var b = this;
        if (Ext.fx.Manager.hasFxBlock(b.id)) {
            return b
        }
        Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a)));
        return this
    },
    anim: function(a) {
        if (!Ext.isObject(a)) {
            return a ? {} : false
        }
        var b = this;
        if (a.stopAnimation) {
            b.stopAnimation()
        }
        Ext.applyIf(a, Ext.fx.Manager.getFxDefaults(b.id));
        return Ext.apply({
            target: b,
            paused: true
        }, a)
    },
    stopFx: Ext.Function.alias(Ext.util.Animate, "stopAnimation"),
    stopAnimation: function() {
        Ext.fx.Manager.stopAnimation(this.id);
        return this
    },
    syncFx: function() {
        Ext.fx.Manager.setFxDefaults(this.id, {
            concurrent: true
        });
        return this
    },
    sequenceFx: function() {
        Ext.fx.Manager.setFxDefaults(this.id, {
            concurrent: false
        });
        return this
    },
    hasActiveFx: Ext.Function.alias(Ext.util.Animate, "getActiveAnimation"),
    getActiveAnimation: function() {
        return Ext.fx.Manager.getActiveAnimation(this.id)
    }
}, function() {
    Ext.applyIf(Ext.Element.prototype, this.prototype);
    Ext.CompositeElementLite.importElementMethods()
});
Ext.define("Ext.util.ElementContainer", {
    childEls: [],
    constructor: function() {
        var b = this, a;
        if (b.hasOwnProperty("childEls")) {
            a = b.childEls;
            delete b.childEls;
            b.addChildEls.apply(b, a)
        }
    },
    destroy: function() {
        var e = this, d = e.getChildEls(), g, a, c, b;
        for (c = d.length; c--; ) {
            a = d[c];
            if (typeof a != "string") {
                a = a.name
            }
            g = e[a];
            if (g) {
                e[a] = null;
                g.remove()
            }
        }
    },
    addChildEls: function() {
        var b = this
          , a = arguments;
        if (b.hasOwnProperty("childEls")) {
            b.childEls.push.apply(b.childEls, a)
        } else {
            b.childEls = b.getChildEls().concat(Array.prototype.slice.call(a))
        }
        b.prune(b.childEls, false)
    },
    applyChildEls: function(b, a) {
        var e = this, g = e.getChildEls(), j, k, d, c, h;
        j = (a || e.id) + "-";
        for (d = g.length; d--; ) {
            k = g[d];
            if (typeof k == "string") {
                h = b.getById(j + k)
            } else {
                if (c = k.select) {
                    h = Ext.select(c, true, b.dom)
                } else {
                    if (c = k.selectNode) {
                        h = Ext.get(Ext.DomQuery.selectNode(c, b.dom))
                    } else {
                        h = b.getById(k.id || j + k.itemId)
                    }
                }
                k = k.name
            }
            e[k] = h
        }
    },
    getChildEls: function() {
        var b = this, a;
        if (b.hasOwnProperty("childEls")) {
            return b.childEls
        }
        a = b.self;
        return a.$childEls || b.getClassChildEls(a)
    },
    getClassChildEls: function(o) {
        var k = this, p = o.$childEls, m, d, b, j, n, h, a, c, e, g, l;
        if (!p) {
            g = o.superclass;
            if (g) {
                g = g.self;
                c = [g.$childEls || k.getClassChildEls(g)];
                l = g.prototype.mixins || {}
            } else {
                c = [];
                l = {}
            }
            e = o.prototype;
            h = e.mixins;
            for (a in h) {
                if (h.hasOwnProperty(a) && !l.hasOwnProperty(a)) {
                    n = h[a].self;
                    c.push(n.$childEls || k.getClassChildEls(n))
                }
            }
            c.push(e.hasOwnProperty("childEls") && e.childEls);
            for (d = 0,
            b = c.length; d < b; ++d) {
                m = c[d];
                if (m && m.length) {
                    if (!p) {
                        p = m
                    } else {
                        if (!j) {
                            j = true;
                            p = p.slice(0)
                        }
                        p.push.apply(p, m)
                    }
                }
            }
            o.$childEls = p = p ? k.prune(p, !j) : []
        }
        return p
    },
    prune: function(c, e) {
        var b = c.length, d = {}, a;
        while (b--) {
            a = c[b];
            if (typeof a != "string") {
                a = a.name
            }
            if (!d[a]) {
                d[a] = 1
            } else {
                if (e) {
                    e = false;
                    c = c.slice(0)
                }
                Ext.Array.erase(c, b, 1)
            }
        }
        return c
    },
    removeChildEls: function(g) {
        var e = this, a = e.getChildEls(), d = e.childEls = [], h, b, c;
        for (b = 0,
        h = a.length; b < h; ++b) {
            c = a[b];
            if (!g(c)) {
                d.push(c)
            }
        }
    }
});
Ext.define("Ext.util.Renderable", {
    frameCls: Ext.baseCSSPrefix + "frame",
    frameIdRegex: /[\-]frame\d+[TMB][LCR]$/,
    frameElNames: ["TL", "TC", "TR", "ML", "MC", "MR", "BL", "BC", "BR"],
    frameTpl: ["{%this.renderDockedItems(out,values,0);%}", '<tpl if="top">', '<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>', '<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>', '<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>', '<tpl if="right"></div></tpl>', '<tpl if="left"></div></tpl>', "</tpl>", '<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>', '<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>', '<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">', "{%this.applyRenderTpl(out, values)%}", "</div>", '<tpl if="right"></div></tpl>', '<tpl if="left"></div></tpl>', '<tpl if="bottom">', '<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>', '<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>', '<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>', '<tpl if="right"></div></tpl>', '<tpl if="left"></div></tpl>', "</tpl>", "{%this.renderDockedItems(out,values,1);%}"],
    frameTableTpl: ["{%this.renderDockedItems(out,values,0);%}", '<table class="', Ext.baseCSSPrefix, "table-plain", '" cellpadding="0"><tbody>', '<tpl if="top">', "<tr>", '<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>', '<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>', '<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>', "</tr>", "</tpl>", "<tr>", '<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>', '<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">', "{%this.applyRenderTpl(out, values)%}", "</td>", '<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>', "</tr>", '<tpl if="bottom">', "<tr>", '<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>', '<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>', '<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>', "</tr>", "</tpl>", "</tbody></table>", "{%this.renderDockedItems(out,values,1);%}"],
    afterRender: function() {
        var d = this, e = {}, i = d.protoEl, h = d.el, c, g, a, b;
        d.finishRenderChildren();
        if (d.contentEl) {
            g = Ext.baseCSSPrefix;
            a = g + "hide-";
            b = Ext.get(d.contentEl);
            b.removeCls([g + "hidden", a + "display", a + "offsets", a + "nosize"]);
            d.getContentTarget().appendChild(b.dom)
        }
        i.writeTo(e);
        c = e.removed;
        if (c) {
            h.removeCls(c)
        }
        c = e.cls;
        if (c.length) {
            h.addCls(c)
        }
        c = e.style;
        if (e.style) {
            h.setStyle(c)
        }
        d.protoEl = null;
        if (!d.ownerCt) {
            d.updateLayout()
        }
    },
    afterFirstLayout: function(b, i) {
        var d = this, h = d.x, e = d.y, c, a, g, j;
        if (!d.ownerLayout) {
            c = Ext.isDefined(h);
            a = Ext.isDefined(e)
        }
        if (d.floating && (!c || !a)) {
            if (d.floatParent) {
                g = d.floatParent.getTargetEl().getViewRegion();
                j = d.el.getAlignToXY(d.floatParent.getTargetEl(), "c-c");
                g.x = j[0] - g.x;
                g.y = j[1] - g.y
            } else {
                j = d.el.getAlignToXY(d.container, "c-c");
                g = d.container.translateXY(j[0], j[1])
            }
            h = c ? h : g.x;
            e = a ? e : g.y;
            c = a = true
        }
        if (c || a) {
            d.setPosition(h, e)
        }
        d.onBoxReady(b, i)
    },
    applyRenderSelectors: function() {
        var d = this, b = d.renderSelectors, c = d.el, e = c.dom, a;
        d.applyChildEls(c);
        if (b) {
            for (a in b) {
                if (b.hasOwnProperty(a) && b[a]) {
                    d[a] = Ext.get(Ext.DomQuery.selectNode(b[a], e))
                }
            }
        }
    },
    beforeRender: function() {
        var c = this
          , e = c.getTargetEl()
          , d = c.getOverflowEl()
          , b = c.getComponentLayout()
          , a = c.getOverflowStyle();
        c.frame = c.frame || c.alwaysFramed;
        if (!b.initialized) {
            b.initLayout()
        }
        if (d) {
            d.setStyle(a);
            c.overflowStyleSet = true
        }
        c.setUI(c.ui);
        if (c.disabled) {
            c.disable(true)
        }
    },
    doApplyRenderTpl: function(c, a) {
        var d = a.$comp, b;
        if (!d.rendered) {
            b = d.initRenderTpl();
            b.applyOut(a.renderData, c)
        }
    },
    doAutoRender: function() {
        var a = this;
        if (!a.rendered) {
            if (a.floating) {
                a.render(document.body)
            } else {
                a.render(Ext.isBoolean(a.autoRender) ? Ext.getBody() : a.autoRender)
            }
        }
    },
    doRenderContent: function(a, c) {
        var b = c.$comp;
        if (b.html) {
            Ext.DomHelper.generateMarkup(b.html, a);
            delete b.html
        }
        if (b.tpl) {
            if (!b.tpl.isTemplate) {
                b.tpl = new Ext.XTemplate(b.tpl)
            }
            if (b.data) {
                b.tpl.applyOut(b.data, a);
                delete b.data
            }
        }
    },
    doRenderFramingDockedItems: function(a, c, d) {
        var b = c.$comp;
        if (!b.rendered && b.doRenderDockedItems) {
            c.renderData.$skipDockedItems = true;
            b.doRenderDockedItems.call(this, a, c, d)
        }
    },
    finishRender: function(a) {
        var d = this, b, e, c;
        if (!d.el || d.$pid) {
            if (d.container) {
                c = d.container.getById(d.id, true)
            } else {
                c = Ext.getDom(d.id)
            }
            if (!d.el) {
                d.wrapPrimaryEl(c)
            } else {
                delete d.$pid;
                if (!d.el.dom) {
                    d.wrapPrimaryEl(d.el)
                }
                c.parentNode.insertBefore(d.el.dom, c);
                Ext.removeNode(c)
            }
        } else {
            if (!d.rendering) {
                b = d.initRenderTpl();
                if (b) {
                    e = d.initRenderData();
                    b.insertFirst(d.getTargetEl(), e)
                }
            }
        }
        if (!d.container) {
            d.container = Ext.get(d.el.dom.parentNode)
        }
        if (d.ctCls) {
            d.container.addCls(d.ctCls)
        }
        d.onRender(d.container, a);
        if (!d.overflowStyleSet) {
            d.getOverflowEl().setStyle(d.getOverflowStyle())
        }
        d.el.setVisibilityMode(Ext.Element[d.hideMode.toUpperCase()]);
        if (d.overCls) {
            d.el.hover(d.addOverCls, d.removeOverCls, d)
        }
        if (d.hasListeners.render) {
            d.fireEvent("render", d)
        }
        d.afterRender();
        if (d.hasListeners.afterrender) {
            d.fireEvent("afterrender", d)
        }
        d.initEvents();
        if (d.hidden) {
            d.el.hide()
        }
    },
    finishRenderChildren: function() {
        var a = this.getComponentLayout();
        a.finishRender()
    },
    getElConfig: function() {
        var j = this, l = j.autoEl, g = j.getFrameInfo(), b = {
            tag: "div",
            tpl: g ? j.initFramingTpl(g.table) : j.initRenderTpl()
        }, a = j.protoEl, c, e, h, m, d, k;
        j.initStyles(a);
        if (g) {
            a.setStyle("background-image", "none")
        }
        a.writeTo(b);
        a.flush();
        if (Ext.isString(l)) {
            b.tag = l
        } else {
            Ext.apply(b, l)
        }
        b.id = j.id;
        if (b.tpl) {
            if (g) {
                e = j.frameElNames;
                h = e.length;
                b.tplData = k = j.getFrameRenderData();
                k.renderData = j.initRenderData();
                d = k.fgid;
                for (c = 0; c < h; c++) {
                    m = e[c];
                    j.addChildEls({
                        name: "frame" + m,
                        id: d + m
                    })
                }
                j.addChildEls({
                    name: "frameBody",
                    id: d + "MC"
                })
            } else {
                b.tplData = j.initRenderData()
            }
        }
        return b
    },
    initFramingTpl: function(b) {
        var a = this.getFrameTpl(b);
        if (a && !a.applyRenderTpl) {
            this.setupFramingTpl(a)
        }
        return a
    },
    setupFramingTpl: function(a) {
        a.applyRenderTpl = this.doApplyRenderTpl;
        a.renderDockedItems = this.doRenderFramingDockedItems
    },
    getInsertPosition: function(a) {
        if (a !== undefined) {
            if (Ext.isNumber(a)) {
                a = this.container.dom.childNodes[a]
            } else {
                a = Ext.getDom(a)
            }
        }
        return a
    },
    getRenderTree: function() {
        var a = this;
        if (!a.hasListeners.beforerender || a.fireEvent("beforerender", a) !== false) {
            a.beforeRender();
            a.rendering = true;
            if (a.el) {
                return {
                    tag: "div",
                    id: a.$pid = Ext.id()
                }
            }
            return a.getElConfig()
        }
        return null
    },
    initContainer: function(a) {
        var b = this;
        if (!a && b.el) {
            a = b.el.dom.parentNode;
            b.allowDomMove = false
        }
        b.container = a.dom ? a : Ext.get(a);
        return b.container
    },
    initRenderData: function() {
        var a = this;
        return Ext.apply({
            $comp: a,
            id: a.id,
            ui: a.ui,
            uiCls: a.uiCls,
            baseCls: a.baseCls,
            componentCls: a.componentCls,
            frame: a.frame,
            childElCls: ""
        }, a.renderData)
    },
    initRenderTpl: function() {
        var a = this.getTpl("renderTpl");
        if (a && !a.renderContent) {
            this.setupRenderTpl(a)
        }
        return a
    },
    onRender: function(d, e) {
        var h = this, j = h.x, i = h.y, c = null, a, k, b = h.el, g;
        h.applyRenderSelectors();
        h.rendering = null;
        h.rendered = true;
        if (j != null) {
            c = {
                x: j
            }
        }
        if (i != null) {
            (c = c || {}).y = i
        }
        if (!h.getFrameInfo() && Ext.isBorderBox) {
            a = h.width;
            k = h.height;
            if (typeof a === "number") {
                c = c || {};
                c.width = a
            }
            if (typeof k === "number") {
                c = c || {};
                c.height = k
            }
        }
        h.lastBox = b.lastBox = c
    },
    render: function(c, b) {
        var e = this, d = e.el && (e.el = Ext.get(e.el)), h, a, g;
        Ext.suspendLayouts();
        c = e.initContainer(c);
        g = e.getInsertPosition(b);
        if (!d) {
            a = e.getRenderTree();
            if (e.ownerLayout && e.ownerLayout.transformItemRenderTree) {
                a = e.ownerLayout.transformItemRenderTree(a)
            }
            if (a) {
                if (g) {
                    d = Ext.DomHelper.insertBefore(g, a)
                } else {
                    d = Ext.DomHelper.append(c, a)
                }
                e.wrapPrimaryEl(d)
            }
        } else {
            if (!e.hasListeners.beforerender || e.fireEvent("beforerender", e) !== false) {
                e.beforeRender();
                e.initStyles(d);
                if (e.allowDomMove !== false) {
                    if (g) {
                        c.dom.insertBefore(d.dom, g)
                    } else {
                        c.dom.appendChild(d.dom)
                    }
                }
            } else {
                h = true
            }
        }
        if (d && !h) {
            e.finishRender(b)
        }
        Ext.resumeLayouts(!c.isDetachedBody)
    },
    ensureAttachedToBody: function(c) {
        var b = this, a;
        while (b.ownerCt) {
            b = b.ownerCt
        }
        if (b.container.isDetachedBody) {
            b.container = a = Ext.getBody();
            a.appendChild(b.el.dom);
            if (c) {
                b.updateLayout()
            }
            if (typeof b.x == "number" || typeof b.y == "number") {
                b.setPosition(b.x, b.y)
            }
        }
    },
    setupRenderTpl: function(a) {
        a.renderBody = a.renderContent = this.doRenderContent
    },
    wrapPrimaryEl: function(a) {
        this.el = Ext.get(a, true)
    },
    initFrame: function() {
        if (Ext.supports.CSS3BorderRadius || !this.frame) {
            return
        }
        var h = this, e = h.getFrameInfo(), a, c, d = h.frameElNames, g = d.length, b, j, k;
        if (e) {
            a = h.getFrameTpl(e.table);
            j = h.getFrameRenderData();
            c = j.fgid;
            a.insertFirst(h.el, j);
            h.frameBody = h.el.down("." + h.frameCls + "-mc");
            h.removeChildEls(function(i) {
                return i.id && h.frameIdRegex.test(i.id)
            });
            for (b = 0; b < g; b++) {
                k = d[b];
                h["frame" + k] = h.el.getById(c + k)
            }
        }
    },
    getFrameRenderData: function() {
        var c = this
          , b = c.frameSize
          , a = (c.frameGenId || 0) + 1;
        c.frameGenId = a;
        return {
            $comp: c,
            fgid: c.id + "-frame" + a,
            ui: c.ui,
            uiCls: c.uiCls,
            frameCls: c.frameCls,
            baseCls: c.baseCls,
            top: !!b.top,
            left: !!b.left,
            right: !!b.right,
            bottom: !!b.bottom,
            frameElCls: ""
        }
    },
    updateFrame: function() {
        if (Ext.supports.CSS3BorderRadius || !this.frame) {
            return
        }
        var e = this, h = e.frameSize && e.frameSize.table, g = e.frameTL, d = e.frameBL, c = e.frameML, a = e.frameMC, b;
        e.initFrame();
        if (a) {
            if (e.frame) {
                b = e.frameMC.dom.className;
                a.insertAfter(e.frameMC);
                e.frameMC.remove();
                e.frameBody = e.frameMC = a;
                a.dom.className = b;
                if (h) {
                    e.el.query("> table")[1].remove()
                } else {
                    if (g) {
                        g.remove()
                    }
                    if (d) {
                        d.remove()
                    }
                    if (c) {
                        c.remove()
                    }
                }
            }
        } else {
            if (e.frame) {
                e.applyRenderSelectors()
            }
        }
    },
    getFrameInfo: function() {
        if (Ext.supports.CSS3BorderRadius || !this.frame) {
            return false
        }
        var y = this, p = y.frameInfoCache, g = y.el || y.protoEl, e = g.dom ? g.dom.className : g.classList.join(" "), z = p[e], q = Math.max, o, k, u, n, A, h, l, b, c, m, i, t, v, j, a, d, x, s, w;
        if (z == null) {
            o = Ext.fly(y.getStyleProxy(e), "frame-style-el");
            u = o.getStyle("background-image");
            k = u.indexOf("about:blank#");
            if (k < 0) {
                z = false
            } else {
                u = u.substring(k + 12).split("-");
                d = parseInt(u[1], 10);
                x = parseInt(u[2], 10);
                s = parseInt(u[3], 10);
                w = parseInt(u[4], 10);
                b = parseInt(u[5], 10);
                c = parseInt(u[6], 10);
                m = parseInt(u[7], 10);
                i = parseInt(u[8], 10);
                t = parseInt(u[9], 10);
                v = parseInt(u[10], 10);
                j = parseInt(u[11], 10);
                a = parseInt(u[12], 10);
                n = q(b, q(d, x));
                A = q(c, q(x, s));
                h = q(m, q(w, s));
                l = q(i, q(d, w));
                z = {
                    table: u[0].charAt(0) === "t",
                    vertical: u[0].charAt(1) === "v",
                    top: n,
                    right: A,
                    bottom: h,
                    left: l,
                    width: l + A,
                    height: n + h,
                    maxWidth: q(n, A, h, l),
                    border: {
                        top: b,
                        right: c,
                        bottom: m,
                        left: i,
                        width: i + c,
                        height: b + m
                    },
                    padding: {
                        top: t,
                        right: v,
                        bottom: j,
                        left: a,
                        width: a + v,
                        height: t + j
                    },
                    radius: {
                        tl: d,
                        tr: x,
                        br: s,
                        bl: w
                    }
                }
            }
            if (y.frame === true && !z) {
                Ext.log.error("You have set frame: true explicity on this component (" + y.getXType() + ") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled.")
            }
            p[e] = z
        }
        y.frame = !!z;
        y.frameSize = z;
        return z
    },
    getStyleProxy: function(b) {
        var a = this.styleProxyEl || (Ext.AbstractComponent.prototype.styleProxyEl = Ext.getBody().createChild({
            style: {
                position: "absolute",
                top: "-10000px"
            }
        }, null, true));
        a.className = b;
        return a
    },
    getFrameTpl: function(a) {
        return this.getTpl(a ? "frameTableTpl" : "frameTpl")
    },
    frameInfoCache: {}
});
Ext.define("Ext.state.Provider", {
    mixins: {
        observable: Ext.util.Observable
    },
    prefix: "ext-",
    constructor: function(a) {
        a = a || {};
        var b = this;
        Ext.apply(b, a);
        b.addEvents("statechange");
        b.state = {};
        b.mixins.observable.constructor.call(b)
    },
    get: function(b, a) {
        return typeof this.state[b] == "undefined" ? a : this.state[b]
    },
    clear: function(a) {
        var b = this;
        delete b.state[a];
        b.fireEvent("statechange", b, a, null)
    },
    set: function(a, c) {
        var b = this;
        b.state[a] = c;
        b.fireEvent("statechange", b, a, c)
    },
    decodeValue: function(g) {
        var c = this, k = /^(a|n|d|b|s|o|e)\:(.*)$/, b = k.exec(unescape(g)), h, d, a, j, e, i;
        if (!b || !b[1]) {
            return
        }
        d = b[1];
        g = b[2];
        switch (d) {
        case "e":
            return null;
        case "n":
            return parseFloat(g);
        case "d":
            return new Date(Date.parse(g));
        case "b":
            return g == "1";
        case "a":
            h = [];
            if (g != "") {
                j = g.split("^");
                e = j.length;
                for (i = 0; i < e; i++) {
                    g = j[i];
                    h.push(c.decodeValue(g))
                }
            }
            return h;
        case "o":
            h = {};
            if (g != "") {
                j = g.split("^");
                e = j.length;
                for (i = 0; i < e; i++) {
                    g = j[i];
                    a = g.split("=");
                    h[a[0]] = c.decodeValue(a[1])
                }
            }
            return h;
        default:
            return g
        }
    },
    encodeValue: function(e) {
        var g = "", d = 0, b, a, c;
        if (e == null) {
            return "e:1"
        } else {
            if (typeof e == "number") {
                b = "n:" + e
            } else {
                if (typeof e == "boolean") {
                    b = "b:" + (e ? "1" : "0")
                } else {
                    if (Ext.isDate(e)) {
                        b = "d:" + e.toGMTString()
                    } else {
                        if (Ext.isArray(e)) {
                            for (a = e.length; d < a; d++) {
                                g += this.encodeValue(e[d]);
                                if (d != a - 1) {
                                    g += "^"
                                }
                            }
                            b = "a:" + g
                        } else {
                            if (typeof e == "object") {
                                for (c in e) {
                                    if (typeof e[c] != "function" && e[c] !== undefined) {
                                        g += c + "=" + this.encodeValue(e[c]) + "^"
                                    }
                                }
                                b = "o:" + g.substring(0, g.length - 1)
                            } else {
                                b = "s:" + e
                            }
                        }
                    }
                }
            }
        }
        return escape(b)
    }
});
Ext.define("Ext.state.Manager", {
    singleton: true,
    constructor: function() {
        this.provider = new Ext.state.Provider()
    },
    setProvider: function(a) {
        this.provider = a
    },
    get: function(b, a) {
        return this.provider.get(b, a)
    },
    set: function(a, b) {
        this.provider.set(a, b)
    },
    clear: function(a) {
        this.provider.clear(a)
    },
    getProvider: function() {
        return this.provider
    }
});
Ext.define("Ext.state.Stateful", {
    mixins: {
        observable: Ext.util.Observable
    },
    stateful: false,
    saveDelay: 100,
    constructor: function(a) {
        var b = this;
        a = a || {};
        if (a.stateful !== undefined) {
            b.stateful = a.stateful
        }
        if (a.saveDelay !== undefined) {
            b.saveDelay = a.saveDelay
        }
        b.stateId = b.stateId || a.stateId;
        if (!b.stateEvents) {
            b.stateEvents = []
        }
        if (a.stateEvents) {
            b.stateEvents.concat(a.stateEvents)
        }
        this.addEvents("beforestaterestore", "staterestore", "beforestatesave", "statesave");
        b.mixins.observable.constructor.call(b);
        if (b.stateful !== false) {
            b.addStateEvents(b.stateEvents);
            b.initState()
        }
    },
    addStateEvents: function(c) {
        var e = this, b, d, a;
        if (e.stateful && e.getStateId()) {
            if (typeof c == "string") {
                c = Array.prototype.slice.call(arguments, 0)
            }
            a = e.stateEventsByName || (e.stateEventsByName = {});
            for (b = c.length; b--; ) {
                d = c[b];
                if (!a[d]) {
                    a[d] = 1;
                    e.on(d, e.onStateChange, e)
                }
            }
        }
    },
    onStateChange: function() {
        var c = this, a = c.saveDelay, d, b;
        if (!c.stateful) {
            return
        }
        if (a) {
            if (!c.stateTask) {
                d = Ext.state.Stateful;
                b = d.runner || (d.runner = new Ext.util.TaskRunner());
                c.stateTask = b.newTask({
                    run: c.saveState,
                    scope: c,
                    interval: a,
                    repeat: 1
                })
            }
            c.stateTask.start()
        } else {
            c.saveState()
        }
    },
    saveState: function() {
        var b = this, d = b.stateful && b.getStateId(), a = b.hasListeners, c;
        if (d) {
            c = b.getState() || {};
            if (!a.beforestatesave || b.fireEvent("beforestatesave", b, c) !== false) {
                Ext.state.Manager.set(d, c);
                if (a.statesave) {
                    b.fireEvent("statesave", b, c)
                }
            }
        }
    },
    getState: function() {
        return null
    },
    applyState: function(a) {
        if (a) {
            Ext.apply(this, a)
        }
    },
    getStateId: function() {
        var a = this;
        return a.stateId || (a.autoGenId ? null : a.id)
    },
    initState: function() {
        var b = this, d = b.stateful && b.getStateId(), a = b.hasListeners, c;
        if (d) {
            c = Ext.state.Manager.get(d);
            if (c) {
                c = Ext.apply({}, c);
                if (!a.beforestaterestore || b.fireEvent("beforestaterestore", b, c) !== false) {
                    b.applyState(c);
                    if (a.staterestore) {
                        b.fireEvent("staterestore", b, c)
                    }
                }
            }
        }
    },
    savePropToState: function(g, e, d) {
        var b = this
          , c = b[g]
          , a = b.initialConfig;
        if (b.hasOwnProperty(g)) {
            if (!a || a[g] !== c) {
                if (e) {
                    e[d || g] = c
                }
                return true
            }
        }
        return false
    },
    savePropsToState: function(e, c) {
        var b = this, a, d;
        if (typeof e == "string") {
            b.savePropToState(e, c)
        } else {
            for (a = 0,
            d = e.length; a < d; ++a) {
                b.savePropToState(e[a], c)
            }
        }
        return c
    },
    destroy: function() {
        var b = this
          , a = b.stateTask;
        if (a) {
            a.destroy();
            b.stateTask = null
        }
        b.clearListeners()
    }
});
Ext.define("Ext.AbstractComponent", {
    mixins: {
        positionable: Ext.util.Positionable,
        observable: Ext.util.Observable,
        animate: Ext.util.Animate,
        elementCt: Ext.util.ElementContainer,
        renderable: Ext.util.Renderable,
        state: Ext.state.Stateful
    },
    statics: {
        AUTO_ID: 1000,
        pendingLayouts: null,
        layoutSuspendCount: 0,
        cancelLayout: function(a, c) {
            var b = this.runningLayoutContext || this.pendingLayouts;
            if (b) {
                b.cancelComponent(a, false, c)
            }
        },
        flushLayouts: function() {
            var b = this
              , a = b.pendingLayouts;
            if (a && a.invalidQueue.length) {
                b.pendingLayouts = null;
                b.runningLayoutContext = a;
                Ext.override(a, {
                    runComplete: function() {
                        b.runningLayoutContext = null;
                        var c = this.callParent();
                        if (Ext.globalEvents.hasListeners.afterlayout) {
                            Ext.globalEvents.fireEvent("afterlayout")
                        }
                        return c
                    }
                });
                a.run()
            }
        },
        resumeLayouts: function(a) {
            if (this.layoutSuspendCount && !--this.layoutSuspendCount) {
                if (a) {
                    this.flushLayouts()
                }
                if (Ext.globalEvents.hasListeners.resumelayouts) {
                    Ext.globalEvents.fireEvent("resumelayouts")
                }
            }
        },
        suspendLayouts: function() {
            ++this.layoutSuspendCount
        },
        updateLayout: function(b, e) {
            var c = this, a = c.runningLayoutContext, d;
            if (a) {
                a.queueInvalidate(b)
            } else {
                d = c.pendingLayouts || (c.pendingLayouts = new Ext.layout.Context());
                d.queueInvalidate(b);
                if (!e && !c.layoutSuspendCount && !b.isLayoutSuspended()) {
                    c.flushLayouts()
                }
            }
        }
    },
    isComponent: true,
    getAutoId: function() {
        this.autoGenId = true;
        return ++Ext.AbstractComponent.AUTO_ID
    },
    deferLayouts: false,
    autoGenId: false,
    renderTpl: "{%this.renderContent(out,values)%}",
    frameSize: null,
    tplWriteMode: "overwrite",
    baseCls: Ext.baseCSSPrefix + "component",
    disabledCls: Ext.baseCSSPrefix + "item-disabled",
    ui: "default",
    uiCls: [],
    hidden: false,
    disabled: false,
    draggable: false,
    floating: false,
    hideMode: "display",
    autoShow: false,
    autoRender: false,
    allowDomMove: true,
    rendered: false,
    componentLayoutCounter: 0,
    shrinkWrap: 2,
    weight: 0,
    maskOnDisable: true,
    _isLayoutRoot: false,
    contentPaddingProperty: "padding",
    horizontalPosProp: "left",
    constructor: function(c) {
        var e = this, d, a, b;
        if (c) {
            Ext.apply(e, c);
            b = e.xhooks;
            if (b) {
                delete e.xhooks;
                Ext.override(e, b)
            }
        } else {
            c = {}
        }
        e.initialConfig = c;
        e.mixins.elementCt.constructor.call(e);
        e.addEvents("beforeactivate", "activate", "beforedeactivate", "deactivate", "added", "disable", "enable", "beforeshow", "show", "beforehide", "hide", "removed", "beforerender", "render", "afterrender", "boxready", "beforedestroy", "destroy", "resize", "move", "focus", "blur");
        e.getId();
        e.setupProtoEl();
        if (e.cls) {
            e.initialCls = e.cls;
            e.protoEl.addCls(e.cls)
        }
        if (e.style) {
            e.initialStyle = e.style;
            e.protoEl.setStyle(e.style)
        }
        e.renderData = e.renderData || {};
        e.renderSelectors = e.renderSelectors || {};
        if (e.plugins) {
            e.plugins = e.constructPlugins()
        }
        if (!e.hasListeners) {
            e.hasListeners = new e.HasListeners()
        }
        e.initComponent();
        Ext.ComponentManager.register(e);
        e.mixins.observable.constructor.call(e);
        e.mixins.state.constructor.call(e, c);
        this.addStateEvents("resize");
        if (e.plugins) {
            for (d = 0,
            a = e.plugins.length; d < a; d++) {
                e.plugins[d] = e.initPlugin(e.plugins[d])
            }
        }
        e.loader = e.getLoader();
        if (e.renderTo) {
            e.render(e.renderTo)
        }
        if (e.autoShow && !e.isContained) {
            e.show()
        }
        if (Ext.isDefined(e.disabledClass)) {
            if (Ext.isDefined(Ext.global.console)) {
                Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls.")
            }
            e.disabledCls = e.disabledClass;
            delete e.disabledClass
        }
    },
    initComponent: function() {
        this.plugins = this.constructPlugins();
        this.setSize(this.width, this.height)
    },
    getState: function() {
        var b = this
          , c = null
          , a = b.getSizeModel();
        if (a.width.configured) {
            c = b.addPropertyToState(c, "width")
        }
        if (a.height.configured) {
            c = b.addPropertyToState(c, "height")
        }
        return c
    },
    addPropertyToState: function(e, d, c) {
        var b = this
          , a = arguments.length;
        if (a == 3 || b.hasOwnProperty(d)) {
            if (a < 3) {
                c = b[d]
            }
            if (c !== b.initialConfig[d]) {
                (e || (e = {}))[d] = c
            }
        }
        return e
    },
    show: Ext.emptyFn,
    animate: function(c) {
        var u = this, g, l, k, a, d, b, t, p, m, e, q, n, i, o, s, j;
        c = c || {};
        d = c.to || {};
        if (Ext.fx.Manager.hasFxBlock(u.id)) {
            return u
        }
        g = Ext.isDefined(d.width);
        if (g) {
            a = Ext.Number.constrain(d.width, u.minWidth, u.maxWidth)
        }
        l = Ext.isDefined(d.height);
        if (l) {
            k = Ext.Number.constrain(d.height, u.minHeight, u.maxHeight)
        }
        if (!c.dynamic && (g || l)) {
            p = (c.from ? c.from.width : undefined) || u.getWidth();
            m = p;
            e = (c.from ? c.from.height : undefined) || u.getHeight();
            q = e;
            n = false;
            if (l && k > e) {
                q = k;
                n = true
            }
            if (g && a > p) {
                m = a;
                n = true
            }
            if (l || g) {
                j = u.el.getStyle("overtflow");
                if (j !== "hidden") {
                    u.el.setStyle("overflow", "hidden")
                }
            }
            if (n) {
                b = !Ext.isNumber(u.width);
                t = !Ext.isNumber(u.height);
                u.setSize(m, q);
                u.el.setSize(p, e);
                if (b) {
                    delete u.width
                }
                if (t) {
                    delete u.height
                }
            }
            if (g) {
                d.width = a
            }
            if (l) {
                d.height = k
            }
        }
        i = u.constrain;
        o = u.constrainHeader;
        if (i || o) {
            u.constrain = u.constrainHeader = false;
            s = c.callback;
            c.callback = function() {
                u.constrain = i;
                u.constrainHeader = o;
                if (s) {
                    s.call(c.scope || u, arguments)
                }
                if (j !== "hidden") {
                    u.el.setStyle("overflow", j)
                }
            }
        }
        return u.mixins.animate.animate.apply(u, arguments)
    },
    onHide: function() {
        if (this.ownerLayout) {
            this.updateLayout({
                isRoot: false
            })
        }
    },
    onShow: function() {
        this.updateLayout({
            isRoot: false
        })
    },
    constructPlugin: function(b) {
        var a = this;
        if (typeof b == "string") {
            b = Ext.PluginManager.create({}, b, a)
        } else {
            b = Ext.PluginManager.create(b, null, a)
        }
        return b
    },
    constructPlugins: function() {
        var e = this, c = e.plugins, b, d, a;
        if (c) {
            b = [];
            if (!Ext.isArray(c)) {
                c = [c]
            }
            for (d = 0,
            a = c.length; d < a; d++) {
                b[d] = e.constructPlugin(c[d])
            }
        }
        e.pluginsInitialized = true;
        return b
    },
    initPlugin: function(a) {
        a.init(this);
        return a
    },
    addPlugin: function(b) {
        var a = this;
        b = a.constructPlugin(b);
        if (a.plugins) {
            a.plugins.push(b)
        } else {
            a.plugins = [b]
        }
        if (a.pluginsInitialized) {
            a.initPlugin(b)
        }
        return b
    },
    removePlugin: function(a) {
        Ext.Array.remove(this.plugins, a);
        a.destroy()
    },
    findPlugin: function(a) {
        if (this.plugins) {
            return Ext.Array.findBy(this.plugins, function(b) {
                if (b.ptype === a) {
                    return true
                }
            })
        }
    },
    beforeLayout: Ext.emptyFn,
    updateAria: Ext.emptyFn,
    registerFloatingItem: function(b) {
        var a = this;
        if (!a.floatingDescendants) {
            a.floatingDescendants = new Ext.ZIndexManager(a)
        }
        a.floatingDescendants.register(b)
    },
    unregisterFloatingItem: function(b) {
        var a = this;
        if (a.floatingDescendants) {
            a.floatingDescendants.unregister(b)
        }
    },
    layoutSuspendCount: 0,
    suspendLayouts: function() {
        var a = this;
        if (!a.rendered) {
            return
        }
        if (++a.layoutSuspendCount == 1) {
            a.suspendLayout = true
        }
    },
    resumeLayouts: function(b) {
        var a = this;
        if (!a.rendered) {
            return
        }
        if (!--a.layoutSuspendCount) {
            a.suspendLayout = false;
            if (b && !a.isLayoutSuspended()) {
                a.updateLayout(b)
            }
        }
    },
    setupProtoEl: function() {
        var a = this.initCls();
        this.protoEl = new Ext.util.ProtoElement({
            cls: a.join(" ")
        })
    },
    initCls: function() {
        var b = this
          , a = [b.baseCls, b.getComponentLayout().targetCls];
        if (Ext.isDefined(b.cmpCls)) {
            if (Ext.isDefined(Ext.global.console)) {
                Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")
            }
            b.componentCls = b.cmpCls;
            delete b.cmpCls
        }
        if (b.componentCls) {
            a.push(b.componentCls)
        } else {
            b.componentCls = b.baseCls
        }
        return a
    },
    setUI: function(c) {
        var b = this, e = b.uiCls, d = b.activeUI, a;
        if (c === d) {
            return
        }
        if (d) {
            a = b.removeClsWithUI(e, true);
            if (a.length) {
                b.removeCls(a)
            }
            b.removeUIFromElement()
        } else {
            b.uiCls = []
        }
        b.ui = c;
        b.activeUI = c;
        b.addUIToElement();
        a = b.addClsWithUI(e, true);
        if (a.length) {
            b.addCls(a)
        }
        if (b.rendered) {
            b.updateLayout()
        }
    },
    addClsWithUI: function(c, j) {
        var h = this, g = [], e = 0, d = h.uiCls = Ext.Array.clone(h.uiCls), b = h.activeUI, a, k;
        if (typeof c === "string") {
            c = c.indexOf(" ") < 0 ? [c] : Ext.String.splitWords(c)
        }
        a = c.length;
        for (; e < a; e++) {
            k = c[e];
            if (k && !h.hasUICls(k)) {
                d.push(k);
                if (b) {
                    g = g.concat(h.addUIClsToElement(k))
                }
            }
        }
        if (j !== true && b) {
            h.addCls(g)
        }
        return g
    },
    removeClsWithUI: function(d, l) {
        var k = this, j = [], g = 0, a = Ext.Array, h = a.remove, e = k.uiCls = a.clone(k.uiCls), c = k.activeUI, b, m;
        if (typeof d === "string") {
            d = d.indexOf(" ") < 0 ? [d] : Ext.String.splitWords(d)
        }
        b = d.length;
        for (g = 0; g < b; g++) {
            m = d[g];
            if (m && k.hasUICls(m)) {
                h(e, m);
                if (c) {
                    j = j.concat(k.removeUIClsFromElement(m))
                }
            }
        }
        if (l !== true && c) {
            k.removeCls(j)
        }
        return j
    },
    hasUICls: function(a) {
        var b = this
          , c = b.uiCls || [];
        return Ext.Array.contains(c, a)
    },
    frameElementsArray: ["tl", "tc", "tr", "ml", "mc", "mr", "bl", "bc", "br"],
    addUIClsToElement: function(j) {
        var h = this, b = h.baseCls + "-" + h.ui + "-" + j, k = [Ext.baseCSSPrefix + j, h.baseCls + "-" + j, b], g, e, d, a, c;
        if (h.rendered && h.frame && !Ext.supports.CSS3BorderRadius) {
            g = h.frameElementsArray;
            e = g.length;
            for (d = 0; d < e; d++) {
                c = g[d];
                a = h["frame" + c.toUpperCase()];
                if (a) {
                    a.addCls(b + "-" + c)
                }
            }
        }
        return k
    },
    removeUIClsFromElement: function(j) {
        var h = this, b = h.baseCls + "-" + h.ui + "-" + j, k = [Ext.baseCSSPrefix + j, h.baseCls + "-" + j, b], g, e, d, a, c;
        if (h.rendered && h.frame && !Ext.supports.CSS3BorderRadius) {
            g = h.frameElementsArray;
            e = g.length;
            for (d = 0; d < e; d++) {
                c = g[d];
                a = h["frame" + c.toUpperCase()];
                if (a) {
                    a.addCls(b + "-" + c)
                }
            }
        }
        return k
    },
    addUIToElement: function() {
        var g = this, b = g.baseCls + "-" + g.ui, a, e, c, d, h;
        g.addCls(b);
        if (g.rendered && g.frame && !Ext.supports.CSS3BorderRadius) {
            a = g.frameElementsArray;
            e = a.length;
            for (c = 0; c < e; c++) {
                h = a[c];
                d = g["frame" + h.toUpperCase()];
                if (d) {
                    d.addCls(b + "-" + h)
                }
            }
        }
    },
    removeUIFromElement: function() {
        var g = this, b = g.baseCls + "-" + g.ui, a, e, c, d, h;
        g.removeCls(b);
        if (g.rendered && g.frame && !Ext.supports.CSS3BorderRadius) {
            a = g.frameElementsArray;
            e = a.length;
            for (c = 0; c < e; c++) {
                h = a[c];
                d = g["frame" + h.toUpperCase()];
                if (d) {
                    d.removeCls(b + "-" + h)
                }
            }
        }
    },
    getTpl: function(a) {
        return Ext.XTemplate.getTpl(this, a)
    },
    initStyles: function(k) {
        var g = this, c = Ext.Element, d = g.margin, e = g.border, l = g.cls, a = g.style, i = g.x, h = g.y, b, j;
        g.initPadding(k);
        if (d != null) {
            k.setStyle("margin", this.unitizeBox(d === true ? 5 : d))
        }
        if (e != null) {
            g.setBorder(e, k)
        }
        if (l && l != g.initialCls) {
            k.addCls(l);
            g.cls = g.initialCls = null
        }
        if (a && a != g.initialStyle) {
            k.setStyle(a);
            g.style = g.initialStyle = null
        }
        if (i != null) {
            k.setStyle(g.horizontalPosProp, typeof i == "number" ? i + "px" : i)
        }
        if (h != null) {
            k.setStyle("top", typeof h == "number" ? h + "px" : h)
        }
        if (!g.getFrameInfo()) {
            b = g.width;
            j = g.height;
            if (b != null) {
                if (typeof b === "number") {
                    if (Ext.isBorderBox) {
                        k.setStyle("width", b + "px")
                    }
                } else {
                    k.setStyle("width", b)
                }
            }
            if (j != null) {
                if (typeof j === "number") {
                    if (Ext.isBorderBox) {
                        k.setStyle("height", j + "px")
                    }
                } else {
                    k.setStyle("height", j)
                }
            }
        }
    },
    initPadding: function(c) {
        var a = this
          , b = a.padding;
        if (b != null) {
            if (a.layout && a.layout.managePadding && a.contentPaddingProperty === "padding") {
                c.setStyle("padding", 0)
            } else {
                c.setStyle("padding", this.unitizeBox(b === true ? 5 : b))
            }
        }
    },
    parseBox: function(a) {
        return Ext.dom.Element.parseBox(a)
    },
    unitizeBox: function(a) {
        return Ext.dom.Element.unitizeBox(a)
    },
    setMargin: function(c, b) {
        var a = this;
        if (a.rendered) {
            if (!c && c !== 0) {
                c = ""
            } else {
                if (c === true) {
                    c = 5
                }
                c = this.unitizeBox(c)
            }
            a.getTargetEl().setStyle("margin", c);
            if (!b) {
                a.updateLayout()
            }
        } else {
            a.margin = c
        }
    },
    initEvents: function() {
        var e = this, h = e.afterRenderEvents, b, d, g, c, a;
        if (h) {
            for (g in h) {
                d = e[g];
                if (d && d.on) {
                    b = h[g];
                    for (c = 0,
                    a = b.length; c < a; ++c) {
                        e.mon(d, b[c])
                    }
                }
            }
        }
        e.addFocusListener()
    },
    addFocusListener: function() {
        var c = this, b = c.getFocusEl(), a;
        if (b) {
            if (b.isComponent) {
                return b.addFocusListener()
            }
            a = b.needsTabIndex();
            if (!c.focusListenerAdded && (!a || Ext.FocusManager.enabled)) {
                if (a) {
                    b.dom.tabIndex = -1
                }
                b.on({
                    focus: c.onFocus,
                    blur: c.onBlur,
                    scope: c
                });
                c.focusListenerAdded = true
            }
        }
    },
    getFocusEl: Ext.emptyFn,
    isFocusable: function() {
        var b = this, a;
        if (b.focusable !== false && (a = b.getFocusEl()) && b.rendered && !b.destroying && !b.isDestroyed && !b.disabled && b.isVisible(true)) {
            return a.isFocusable(true)
        }
    },
    beforeFocus: Ext.emptyFn,
    onFocus: function(d) {
        var c = this
          , b = c.focusCls
          , a = c.getFocusEl();
        if (!c.disabled) {
            c.beforeFocus(d);
            if (b && a) {
                a.addCls(c.addClsWithUI(b, true))
            }
            if (!c.hasFocus) {
                c.hasFocus = true;
                c.fireEvent("focus", c, d)
            }
        }
    },
    beforeBlur: Ext.emptyFn,
    onBlur: function(d) {
        var c = this
          , b = c.focusCls
          , a = c.getFocusEl();
        if (c.destroying) {
            return
        }
        c.beforeBlur(d);
        if (b && a) {
            a.removeCls(c.removeClsWithUI(b, true))
        }
        if (c.validateOnBlur) {
            c.validate()
        }
        c.hasFocus = false;
        c.fireEvent("blur", c, d);
        c.postBlur(d)
    },
    postBlur: Ext.emptyFn,
    is: function(a) {
        return Ext.ComponentQuery.is(this, a)
    },
    up: function(b) {
        var a = this.getRefOwner();
        if (b) {
            for (; a; a = a.getRefOwner()) {
                if (b.isComponent) {
                    if (a === b) {
                        return a
                    }
                } else {
                    if (Ext.ComponentQuery.is(a, b)) {
                        return a
                    }
                }
            }
        }
        return a
    },
    nextSibling: function(b) {
        var g = this.ownerCt, d, e, a, h;
        if (g) {
            d = g.items;
            a = d.indexOf(this) + 1;
            if (a) {
                if (b) {
                    for (e = d.getCount(); a < e; a++) {
                        if ((h = d.getAt(a)).is(b)) {
                            return h
                        }
                    }
                } else {
                    if (a < d.getCount()) {
                        return d.getAt(a)
                    }
                }
            }
        }
        return null
    },
    previousSibling: function(b) {
        var e = this.ownerCt, d, a, g;
        if (e) {
            d = e.items;
            a = d.indexOf(this);
            if (a != -1) {
                if (b) {
                    for (--a; a >= 0; a--) {
                        if ((g = d.getAt(a)).is(b)) {
                            return g
                        }
                    }
                } else {
                    if (a) {
                        return d.getAt(--a)
                    }
                }
            }
        }
        return null
    },
    previousNode: function(b, d) {
        var j = this, h = j.ownerCt, a, g, e, c;
        if (d && j.is(b)) {
            return j
        }
        if (h) {
            for (g = h.items.items,
            e = Ext.Array.indexOf(g, j) - 1; e > -1; e--) {
                c = g[e];
                if (c.query) {
                    a = c.query(b);
                    a = a[a.length - 1];
                    if (a) {
                        return a
                    }
                }
                if (c.is(b)) {
                    return c
                }
            }
            return h.previousNode(b, true)
        }
        return null
    },
    nextNode: function(d, j) {
        var b = this, c = b.ownerCt, k, e, h, g, a;
        if (j && b.is(d)) {
            return b
        }
        if (c) {
            for (e = c.items.items,
            g = Ext.Array.indexOf(e, b) + 1,
            h = e.length; g < h; g++) {
                a = e[g];
                if (a.is(d)) {
                    return a
                }
                if (a.down) {
                    k = a.down(d);
                    if (k) {
                        return k
                    }
                }
            }
            return c.nextNode(d)
        }
        return null
    },
    getId: function() {
        return this.id || (this.id = "ext-comp-" + this.getAutoId())
    },
    getItemId: function() {
        return this.itemId || this.id
    },
    getEl: function() {
        return this.el
    },
    getTargetEl: function() {
        return this.frameBody || this.el
    },
    getOverflowEl: function() {
        return this.getTargetEl()
    },
    getOverflowStyle: function() {
        var e = this, b = null, d, c, a;
        if (typeof e.autoScroll === "boolean") {
            b = {
                overflow: a = e.autoScroll ? "auto" : ""
            };
            e.scrollFlags = {
                overflowX: a,
                overflowY: a,
                x: true,
                y: true,
                both: true
            }
        } else {
            d = e.overflowX;
            c = e.overflowY;
            if (d !== undefined || c !== undefined) {
                b = {
                    overflowX: d = d || "",
                    overflowY: c = c || ""
                };
                e.scrollFlags = {
                    overflowX: d,
                    overflowY: c,
                    x: d = d === "auto" || d === "scroll",
                    y: c = c === "auto" || c === "scroll",
                    both: d && c
                }
            } else {
                e.scrollFlags = {
                    overflowX: "",
                    overflowY: "",
                    x: false,
                    y: false,
                    both: false
                }
            }
        }
        if (b && Ext.isIE7m) {
            b.position = "relative"
        }
        return b
    },
    isXType: function(b, a) {
        if (a) {
            return this.xtype === b
        } else {
            return this.xtypesMap[b]
        }
    },
    getXTypes: function() {
        var c = this.self, d, b, a;
        if (!c.xtypes) {
            d = [];
            b = this;
            while (b) {
                a = b.xtypes;
                if (a !== undefined) {
                    d.unshift.apply(d, a)
                }
                b = b.superclass
            }
            c.xtypeChain = d;
            c.xtypes = d.join("/")
        }
        return c.xtypes
    },
    update: function(b, c, a) {
        var e = this, g = e.tpl && !Ext.isString(b), d;
        if (g) {
            e.data = b
        } else {
            e.html = Ext.isObject(b) ? Ext.DomHelper.markup(b) : b
        }
        if (e.rendered) {
            d = e.isContainer ? e.layout.getRenderTarget() : e.getTargetEl();
            if (g) {
                e.tpl[e.tplWriteMode](d, b || {})
            } else {
                d.update(e.html, c, a)
            }
            e.updateLayout()
        }
    },
    setVisible: function(a) {
        return this[a ? "show" : "hide"]()
    },
    isVisible: function(a) {
        var b = this, c;
        if (b.hidden || !b.rendered || b.isDestroyed) {
            c = true
        } else {
            if (a) {
                c = b.isHierarchicallyHidden()
            }
        }
        return !c
    },
    isHierarchicallyHidden: function() {
        var d = this, c = false, b, a;
        for (; b = d.ownerCt || d.floatParent; d = b) {
            a = b.getHierarchyState();
            if (a.hidden) {
                c = true;
                break
            }
            if (d.getHierarchyState().collapseImmune) {
                if (b.collapsed && !d.collapseImmune) {
                    c = true;
                    break
                }
            } else {
                c = !!a.collapsed;
                break
            }
        }
        return c
    },
    onBoxReady: function(b, a) {
        var c = this;
        if (c.disableOnBoxReady) {
            c.onDisable()
        } else {
            if (c.enableOnBoxReady) {
                c.onEnable()
            }
        }
        if (c.resizable) {
            c.initResizable(c.resizable)
        }
        if (c.draggable) {
            c.initDraggable()
        }
        if (c.hasListeners.boxready) {
            c.fireEvent("boxready", c, b, a)
        }
    },
    enable: function(a) {
        var b = this;
        delete b.disableOnBoxReady;
        b.removeCls(b.disabledCls);
        if (b.rendered) {
            b.onEnable()
        } else {
            b.enableOnBoxReady = true
        }
        b.disabled = false;
        delete b.resetDisable;
        if (a !== true) {
            b.fireEvent("enable", b)
        }
        return b
    },
    disable: function(a) {
        var b = this;
        delete b.enableOnBoxReady;
        b.addCls(b.disabledCls);
        if (b.rendered) {
            b.onDisable()
        } else {
            b.disableOnBoxReady = true
        }
        b.disabled = true;
        if (a !== true) {
            delete b.resetDisable;
            b.fireEvent("disable", b)
        }
        return b
    },
    onEnable: function() {
        if (this.maskOnDisable) {
            this.el.dom.disabled = false;
            this.unmask()
        }
    },
    onDisable: function() {
        var c = this
          , b = c.focusCls
          , a = c.getFocusEl();
        if (b && a) {
            a.removeCls(c.removeClsWithUI(b, true))
        }
        if (c.maskOnDisable) {
            c.el.dom.disabled = true;
            c.mask()
        }
    },
    mask: function() {
        var b = this.lastBox
          , c = this.getMaskTarget()
          , a = [];
        if (b) {
            a[2] = b.height
        }
        c.mask.apply(c, a)
    },
    unmask: function() {
        this.getMaskTarget().unmask()
    },
    getMaskTarget: function() {
        return this.el
    },
    isDisabled: function() {
        return this.disabled
    },
    setDisabled: function(a) {
        return this[a ? "disable" : "enable"]()
    },
    isHidden: function() {
        return this.hidden
    },
    addCls: function(a) {
        var c = this
          , b = c.rendered ? c.el : c.protoEl;
        b.addCls.apply(b, arguments);
        return c
    },
    addClass: function() {
        return this.addCls.apply(this, arguments)
    },
    hasCls: function(a) {
        var c = this
          , b = c.rendered ? c.el : c.protoEl;
        return b.hasCls.apply(b, arguments)
    },
    removeCls: function(a) {
        var c = this
          , b = c.rendered ? c.el : c.protoEl;
        b.removeCls.apply(b, arguments);
        return c
    },
    removeClass: function() {
        if (Ext.isDefined(Ext.global.console)) {
            Ext.global.console.warn("Ext.Component: removeClass has been deprecated. Please use removeCls.")
        }
        return this.removeCls.apply(this, arguments)
    },
    addOverCls: function() {
        var a = this;
        if (!a.disabled) {
            a.el.addCls(a.overCls)
        }
    },
    removeOverCls: function() {
        this.el.removeCls(this.overCls)
    },
    addListener: function(b, g, e, a) {
        var h = this, d, c;
        if (Ext.isString(b) && (Ext.isObject(g) || a && a.element)) {
            if (a.element) {
                d = g;
                g = {};
                g[b] = d;
                b = a.element;
                if (e) {
                    g.scope = e
                }
                for (c in a) {
                    if (a.hasOwnProperty(c)) {
                        if (h.eventOptionsRe.test(c)) {
                            g[c] = a[c]
                        }
                    }
                }
            }
            if (h[b] && h[b].on) {
                h.mon(h[b], g)
            } else {
                h.afterRenderEvents = h.afterRenderEvents || {};
                if (!h.afterRenderEvents[b]) {
                    h.afterRenderEvents[b] = []
                }
                h.afterRenderEvents[b].push(g)
            }
            return
        }
        return h.mixins.observable.addListener.apply(h, arguments)
    },
    removeManagedListenerItem: function(b, a, i, d, g, e) {
        var h = this
          , c = a.options ? a.options.element : null;
        if (c) {
            c = h[c];
            if (c && c.un) {
                if (b || a.item === i && a.ename === d && (!g || a.fn === g) && (!e || a.scope === e)) {
                    c.un(a.ename, a.fn, a.scope);
                    if (!b) {
                        Ext.Array.remove(h.managedListeners, a)
                    }
                }
            }
        } else {
            return h.mixins.observable.removeManagedListenerItem.apply(h, arguments)
        }
    },
    getBubbleTarget: function() {
        return this.ownerCt
    },
    isFloating: function() {
        return this.floating
    },
    isDraggable: function() {
        return !!this.draggable
    },
    isDroppable: function() {
        return !!this.droppable
    },
    onAdded: function(a, c) {
        var b = this;
        b.ownerCt = a;
        if (b.hierarchyState) {
            b.hierarchyState.invalid = true;
            delete b.hierarchyState
        }
        if (b.hasListeners.added) {
            b.fireEvent("added", b, a, c)
        }
    },
    onRemoved: function(b) {
        var a = this;
        if (a.hasListeners.removed) {
            a.fireEvent("removed", a, a.ownerCt)
        }
        delete a.ownerCt;
        delete a.ownerLayout
    },
    beforeDestroy: Ext.emptyFn,
    onResize: function(c, a, b, e) {
        var d = this;
        if (d.floating && d.constrain) {
            d.doConstrain()
        }
        if (d.hasListeners.resize) {
            d.fireEvent("resize", d, c, a, b, e)
        }
    },
    setSize: function(b, a) {
        var c = this;
        if (b && typeof b == "object") {
            a = b.height;
            b = b.width
        }
        if (typeof b == "number") {
            c.width = Ext.Number.constrain(b, c.minWidth, c.maxWidth)
        } else {
            if (b === null) {
                delete c.width
            }
        }
        if (typeof a == "number") {
            c.height = Ext.Number.constrain(a, c.minHeight, c.maxHeight)
        } else {
            if (a === null) {
                delete c.height
            }
        }
        if (c.rendered && c.isVisible()) {
            c.updateLayout({
                isRoot: false
            })
        }
        return c
    },
    isLayoutRoot: function() {
        var a = this
          , b = a.ownerLayout;
        if (!b || a._isLayoutRoot || a.floating) {
            return true
        }
        return b.isItemLayoutRoot(a)
    },
    isLayoutSuspended: function() {
        var a = this, b;
        while (a) {
            if (a.layoutSuspendCount || a.suspendLayout) {
                return true
            }
            b = a.ownerLayout;
            if (!b) {
                break
            }
            a = b.owner
        }
        return false
    },
    updateLayout: function(c) {
        var d = this, e, b = d.lastBox, a = c && c.isRoot;
        if (b) {
            b.invalid = true
        }
        if (!d.rendered || d.layoutSuspendCount || d.suspendLayout) {
            return
        }
        if (d.hidden) {
            Ext.AbstractComponent.cancelLayout(d)
        } else {
            if (typeof a != "boolean") {
                a = d.isLayoutRoot()
            }
        }
        if (a || !d.ownerLayout || !d.ownerLayout.onContentChange(d)) {
            if (!d.isLayoutSuspended()) {
                e = c && c.hasOwnProperty("defer") ? c.defer : d.deferLayouts;
                Ext.AbstractComponent.updateLayout(d, e)
            }
        }
    },
    getSizeModel: function(j) {
        var n = this, a = Ext.layout.SizeModel, d = n.componentLayout.ownerContext, b = n.width, p = n.height, q, c, g, e, h, o, l, m, k, i;
        if (d) {
            i = d.widthModel;
            h = d.heightModel
        }
        if (!i || !h) {
            g = (q = typeof b) == "number";
            e = (c = typeof p) == "number";
            k = n.floating || !(o = n.ownerLayout);
            if (k) {
                l = Ext.layout.Layout.prototype.autoSizePolicy;
                m = n.floating ? 3 : n.shrinkWrap;
                if (g) {
                    i = a.configured
                }
                if (e) {
                    h = a.configured
                }
            } else {
                l = o.getItemSizePolicy(n, j);
                m = o.isItemShrinkWrap(n)
            }
            if (d) {
                d.ownerSizePolicy = l
            }
            m = m === true ? 3 : m || 0;
            if (k && m) {
                if (b && q == "string") {
                    m &= 2
                }
                if (p && c == "string") {
                    m &= 1
                }
            }
            if (m !== 3) {
                if (!j) {
                    j = n.ownerCt && n.ownerCt.getSizeModel()
                }
                if (j) {
                    m |= (j.width.shrinkWrap ? 1 : 0) | (j.height.shrinkWrap ? 2 : 0)
                }
            }
            if (!i) {
                if (!l.setsWidth) {
                    if (g) {
                        i = a.configured
                    } else {
                        i = m & 1 ? a.shrinkWrap : a.natural
                    }
                } else {
                    if (l.readsWidth) {
                        if (g) {
                            i = a.calculatedFromConfigured
                        } else {
                            i = m & 1 ? a.calculatedFromShrinkWrap : a.calculatedFromNatural
                        }
                    } else {
                        i = a.calculated
                    }
                }
            }
            if (!h) {
                if (!l.setsHeight) {
                    if (e) {
                        h = a.configured
                    } else {
                        h = m & 2 ? a.shrinkWrap : a.natural
                    }
                } else {
                    if (l.readsHeight) {
                        if (e) {
                            h = a.calculatedFromConfigured
                        } else {
                            h = m & 2 ? a.calculatedFromShrinkWrap : a.calculatedFromNatural
                        }
                    } else {
                        h = a.calculated
                    }
                }
            }
        }
        return i.pairsByHeightOrdinal[h.ordinal]
    },
    isDescendant: function(a) {
        if (a.isContainer) {
            for (var b = this.ownerCt; b; b = b.ownerCt) {
                if (b === a) {
                    return true
                }
            }
        }
        return false
    },
    doComponentLayout: function() {
        this.updateLayout();
        return this
    },
    forceComponentLayout: function() {
        this.updateLayout()
    },
    setComponentLayout: function(b) {
        var a = this.componentLayout;
        if (a && a.isLayout && a != b) {
            a.setOwner(null)
        }
        this.componentLayout = b;
        b.setOwner(this)
    },
    getComponentLayout: function() {
        var a = this;
        if (!a.componentLayout || !a.componentLayout.isLayout) {
            a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout, "autocomponent"))
        }
        return a.componentLayout
    },
    afterComponentLayout: function(c, a, b, e) {
        var d = this;
        if (++d.componentLayoutCounter === 1) {
            d.afterFirstLayout(c, a)
        }
        if (c !== b || a !== e) {
            d.onResize(c, a, b, e)
        }
    },
    beforeComponentLayout: function(b, a) {
        return true
    },
    setPosition: function(a, e, b) {
        var c = this
          , d = c.beforeSetPosition.apply(c, arguments);
        if (d && c.rendered) {
            a = d.x;
            e = d.y;
            if (b) {
                if (a !== c.getLocalX() || e !== c.getLocalY()) {
                    c.stopAnimation();
                    c.animate(Ext.apply({
                        duration: 1000,
                        listeners: {
                            afteranimate: Ext.Function.bind(c.afterSetPosition, c, [a, e])
                        },
                        to: {
                            x: a,
                            y: e
                        }
                    }, b))
                }
            } else {
                c.setLocalXY(a, e);
                c.afterSetPosition(a, e)
            }
        }
        return c
    },
    beforeSetPosition: function(a, e, b) {
        var d, c;
        if (a) {
            if (Ext.isNumber(c = a[0])) {
                b = e;
                e = a[1];
                a = c
            } else {
                if ((c = a.x) !== undefined) {
                    b = e;
                    e = a.y;
                    a = c
                }
            }
        }
        if (this.constrain || this.constrainHeader) {
            d = this.calculateConstrainedPosition(null, [a, e], true);
            if (d) {
                a = d[0];
                e = d[1]
            }
        }
        d = {
            x: this.x = a,
            y: this.y = e,
            anim: b,
            hasX: a !== undefined,
            hasY: e !== undefined
        };
        return d.hasX || d.hasY ? d : null
    },
    afterSetPosition: function(a, c) {
        var b = this;
        b.onPosition(a, c);
        if (b.hasListeners.move) {
            b.fireEvent("move", b, a, c)
        }
    },
    onPosition: Ext.emptyFn,
    setWidth: function(a) {
        return this.setSize(a)
    },
    setHeight: function(a) {
        return this.setSize(undefined, a)
    },
    getSize: function() {
        return this.el.getSize()
    },
    getWidth: function() {
        return this.el.getWidth()
    },
    getHeight: function() {
        return this.el.getHeight()
    },
    getLoader: function() {
        var c = this
          , b = c.autoLoad ? Ext.isObject(c.autoLoad) ? c.autoLoad : {
            url: c.autoLoad
        } : null
          , a = c.loader || b;
        if (a) {
            if (!a.isLoader) {
                c.loader = new Ext.ComponentLoader(Ext.apply({
                    target: c,
                    autoLoad: b
                }, a))
            } else {
                a.setTarget(c)
            }
            return c.loader
        }
        return null
    },
    setDocked: function(b, c) {
        var a = this;
        a.dock = b;
        if (c && a.ownerCt && a.rendered) {
            a.ownerCt.updateLayout()
        }
        return a
    },
    setBorder: function(b, d) {
        var c = this
          , a = !!d;
        if (c.rendered || a) {
            if (!a) {
                d = c.el
            }
            if (!b) {
                b = 0
            } else {
                if (b === true) {
                    b = "1px"
                } else {
                    b = this.unitizeBox(b)
                }
            }
            d.setStyle("border-width", b);
            if (!a) {
                c.updateLayout()
            }
        }
        c.border = b
    },
    onDestroy: function() {
        var a = this;
        if (a.monitorResize && Ext.EventManager.resizeEvent) {
            Ext.EventManager.resizeEvent.removeListener(a.setSize, a)
        }
        Ext.destroy(a.componentLayout, a.loadMask, a.floatingDescendants)
    },
    destroy: function() {
        var d = this, b = d.renderSelectors, a, c;
        if (!d.isDestroyed) {
            if (!d.hasListeners.beforedestroy || d.fireEvent("beforedestroy", d) !== false) {
                d.destroying = true;
                d.beforeDestroy();
                if (d.floating) {
                    delete d.floatParent;
                    if (d.zIndexManager) {
                        d.zIndexManager.unregister(d)
                    }
                } else {
                    if (d.ownerCt && d.ownerCt.remove) {
                        d.ownerCt.remove(d, false)
                    }
                }
                d.stopAnimation();
                d.onDestroy();
                Ext.destroy(d.plugins);
                if (d.hasListeners.destroy) {
                    d.fireEvent("destroy", d)
                }
                Ext.ComponentManager.unregister(d);
                d.mixins.state.destroy.call(d);
                d.clearListeners();
                if (d.rendered) {
                    if (!d.preserveElOnDestroy) {
                        d.el.remove()
                    }
                    d.mixins.elementCt.destroy.call(d);
                    if (b) {
                        for (a in b) {
                            if (b.hasOwnProperty(a)) {
                                c = d[a];
                                if (c) {
                                    delete d[a];
                                    c.remove()
                                }
                            }
                        }
                    }
                    delete d.el;
                    delete d.frameBody;
                    delete d.rendered
                }
                d.destroying = false;
                d.isDestroyed = true
            }
        }
    },
    getPlugin: function(b) {
        var c = 0
          , a = this.plugins
          , d = a.length;
        for (; c < d; c++) {
            if (a[c].pluginId === b) {
                return a[c]
            }
        }
    },
    isDescendantOf: function(a) {
        return !!this.findParentBy(function(b) {
            return b === a
        })
    },
    getHierarchyState: function(a) {
        var e = this, i = a && e.hierarchyStateInner || e.hierarchyState, c = e.ownerCt, b, d, g, h;
        if (!i || i.invalid) {
            b = e.getRefOwner();
            if (c) {
                h = e.ownerLayout === c.layout
            }
            e.hierarchyState = i = Ext.Object.chain(b ? b.getHierarchyState(h) : Ext.rootHierarchyState);
            e.initHierarchyState(i);
            if ((d = e.componentLayout).initHierarchyState) {
                d.initHierarchyState(i)
            }
            if (e.isContainer) {
                e.hierarchyStateInner = g = Ext.Object.chain(i);
                d = e.layout;
                if (d && d.initHierarchyState) {
                    d.initHierarchyState(g, i)
                }
                if (a) {
                    i = g
                }
            }
        }
        return i
    },
    initHierarchyState: function(b) {
        var a = this;
        if (a.collapsed) {
            b.collapsed = true
        }
        if (a.hidden) {
            b.hidden = true
        }
        if (a.collapseImmune) {
            b.collapseImmune = true
        }
    },
    getAnchorToXY: function(d, a, c, b) {
        return d.getAnchorXY(a, c, b)
    },
    getBorderPadding: function() {
        return this.el.getBorderPadding()
    },
    getLocalX: function() {
        return this.el.getLocalX()
    },
    getLocalXY: function() {
        return this.el.getLocalXY()
    },
    getLocalY: function() {
        return this.el.getLocalY()
    },
    getX: function() {
        return this.el.getX()
    },
    getXY: function() {
        return this.el.getXY()
    },
    getY: function() {
        return this.el.getY()
    },
    setLocalX: function(a) {
        this.el.setLocalX(a)
    },
    setLocalXY: function(a, b) {
        this.el.setLocalXY(a, b)
    },
    setLocalY: function(a) {
        this.el.setLocalY(a)
    },
    setX: function(a, b) {
        this.el.setX(a, b)
    },
    setXY: function(b, a) {
        this.el.setXY(b, a)
    },
    setY: function(b, a) {
        this.el.setY(b, a)
    }
}, function() {
    var a = this;
    a.createAlias({
        on: "addListener",
        prev: "previousSibling",
        next: "nextSibling"
    });
    Ext.resumeLayouts = function(b) {
        a.resumeLayouts(b)
    }
    ;
    Ext.suspendLayouts = function() {
        a.suspendLayouts()
    }
    ;
    Ext.batchLayouts = function(c, b) {
        a.suspendLayouts();
        c.call(b);
        a.resumeLayouts(true)
    }
});
Ext.define("Ext.data.flash.BinaryXhr", {
    statics: {
        flashPluginActivated: function() {
            Ext.data.flash.BinaryXhr.flashPluginActive = true;
            Ext.data.flash.BinaryXhr.flashPlugin = document.getElementById("ext-flash-polyfill");
            Ext.globalEvents.fireEvent("flashready")
        },
        flashPluginActive: false,
        flashPluginInjected: false,
        connectionIndex: 1,
        liveConnections: {},
        flashPlugin: null,
        onFlashStateChange: function(d, c, b) {
            var a;
            a = this.liveConnections[Number(d)];
            if (a) {
                a.onFlashStateChange(c, b)
            } else {
                Ext.warn.log("onFlashStateChange for unknown connection ID: " + d)
            }
        },
        registerConnection: function(b) {
            var a = this.connectionIndex;
            this.conectionIndex = this.connectionIndex + 1;
            this.liveConnections[a] = b;
            return a
        },
        injectFlashPlugin: function() {
            var g, b, c, a, e = this, d, h;
            a = document.createElement("img");
            a.setAttribute("src", window.location.protocol + "//www.adobe.com/images/shared/download_buttons/get_flash_player.gif");
            a.setAttribute("alt", "Get Adobe Flash player");
            c = document.createElement("a");
            c.setAttribute("href", "http://www.adobe.com/go/getflashplayer");
            c.appendChild(a);
            b = document.createElement("p");
            b.innerHTML = "To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.";
            g = document.createElement("div");
            g.setAttribute("id", "ext-flash-polyfill");
            g.appendChild(b);
            g.appendChild(a);
            Ext.getBody().dom.appendChild(g);
            d = [Ext.Loader.getPath("Ext.data.Connection"), "../../../plugins/flash/swfobject.js"].join("/");
            h = "/plugins/flash/FlashPlugin.swf";
            h = [Ext.Loader.getPath("Ext.data.Connection"), "../../plugins/flash/FlashPlugin.swf"].join("/");
            if (Ext.flashPluginPath) {
                h = Ext.flashPluginPath
            }
            Ext.Loader.loadScript({
                url: d,
                onLoad: function() {
                    var j = "11.4.0";
                    var l = "playerProductInstall.swf";
                    var i = {};
                    var m = {};
                    m.quality = "high";
                    m.bgcolor = "#ffffff";
                    m.allowscriptaccess = "sameDomain";
                    m.allowfullscreen = "true";
                    var k = {};
                    k.id = "ext-flash-polyfill";
                    k.name = "polyfill";
                    k.align = "middle";
                    swfobject.embedSWF(h, "ext-flash-polyfill", "0", "0", j, l, i, m, k)
                },
                onError: function() {
                    Ext.Error.raise("Could not load flash-loader file swfobject.js from " + flashLoader)
                },
                scope: e
            });
            Ext.globalEvents.addEvents("flashready");
            Ext.data.flash.BinaryXhr.flashPluginInjected = true
        }
    },
    readyState: 0,
    status: 0,
    statusText: "",
    responseBytes: null,
    javascriptId: null,
    constructor: function(a) {
        if (!Ext.data.flash.BinaryXhr.flashPluginInjected) {
            Ext.data.flash.BinaryXhr.injectFlashPlugin()
        }
        var b = this;
        Ext.apply(b, a);
        b.requestHeaders = {}
    },
    abort: function() {
        var a = this;
        if (a.readyState == 4) {
            Ext.warn.log("Aborting a connection that's completed its transfer: " + this.url);
            return
        }
        a.aborted = true;
        if (!Ext.data.flash.BinaryXhr.flashPluginActive) {
            Ext.globalEvents.removeListener("flashready", a.onFlashReady, a);
            return
        }
        Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);
        delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]
    },
    getAllResponseHeaders: function() {
        var a = [];
        Ext.Object.each(this.responseHeaders, function(b, c) {
            a.push(b + ": " + c)
        });
        return a.join("\r\n")
    },
    getResponseHeader: function(b) {
        var a = this.responseHeaders;
        return a && a[b] || null
    },
    open: function(g, c, d, a, b) {
        var e = this;
        e.method = g;
        e.url = c;
        e.async = d !== false;
        e.user = a;
        e.password = b;
        if (!e.async) {
            Ext.Error.raise("Binary posts are only supported in async mode: " + c)
        }
        if (e.method != "POST") {
            Ext.log.warn("Binary data can only be sent as a POST request: " + c)
        }
    },
    overrideMimeType: function(a) {
        this.mimeType = a
    },
    send: function(a) {
        var b = this;
        b.body = a;
        if (!Ext.data.flash.BinaryXhr.flashPluginActive) {
            Ext.globalEvents.addListener("flashready", b.onFlashReady, b)
        } else {
            this.onFlashReady()
        }
    },
    onFlashReady: function() {
        var c = this, b, a;
        c.javascriptId = Ext.data.flash.BinaryXhr.registerConnection(c);
        b = {
            method: c.method,
            url: c.url,
            user: c.user,
            password: c.password,
            mimeType: c.mimeType,
            requestHeaders: c.requestHeaders,
            body: c.body,
            javascriptId: c.javascriptId
        };
        a = Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)
    },
    setReadyState: function(b) {
        var a = this;
        if (a.readyState != b) {
            a.readyState = b;
            a.onreadystatechange()
        }
    },
    setRequestHeader: function(b, a) {
        this.requestHeaders[b] = a
    },
    onreadystatechange: Ext.emptyFn,
    parseData: function(b) {
        var a = this;
        this.status = b.status || 0;
        a.responseHeaders = {};
        if (a.mimeType) {
            a.responseHeaders["content-type"] = a.mimeType
        }
        if (b.reason == "complete") {
            this.responseBytes = b.data;
            a.responseHeaders["content-length"] = b.data.length
        } else {
            if (b.reason == "error" || b.reason == "securityError") {
                this.statusText = b.text;
                a.responseHeaders["content-length"] = 0
            } else {
                Ext.Error.raise("Unkown reason code in data: " + b.reason)
            }
        }
    },
    onFlashStateChange: function(c, b) {
        var a = this;
        if (c == 4) {
            a.parseData(b);
            delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]
        }
        a.setReadyState(c)
    }
});
Ext.define("Ext.data.Connection", {
    mixins: {
        observable: Ext.util.Observable
    },
    statics: {
        requestId: 0
    },
    url: null,
    async: true,
    method: null,
    username: "",
    password: "",
    disableCaching: true,
    withCredentials: false,
    binary: false,
    cors: false,
    isXdr: false,
    defaultXdrContentType: "text/plain",
    disableCachingParam: "_dc",
    timeout: 30000,
    useDefaultHeader: true,
    defaultPostHeader: "application/x-www-form-urlencoded; charset=UTF-8",
    useDefaultXhrHeader: true,
    defaultXhrHeader: "XMLHttpRequest",
    constructor: function(a) {
        a = a || {};
        Ext.apply(this, a);
        this.requests = {};
        this.mixins.observable.constructor.call(this)
    },
    request: function(k) {
        k = k || {};
        var g = this, j = k.scope || window, e = k.username || g.username, h = k.password || g.password || "", b, c, d, a, i;
        if (g.fireEvent("beforerequest", g, k) !== false) {
            c = g.setOptions(k, j);
            if (g.isFormUpload(k)) {
                g.upload(k.form, c.url, c.data, k);
                return null
            }
            if (k.autoAbort || g.autoAbort) {
                g.abort()
            }
            b = k.async !== false ? k.async || g.async : false;
            i = g.openRequest(k, c, b, e, h);
            if (!g.isXdr) {
                a = g.setupHeaders(i, k, c.data, c.params)
            }
            d = {
                id: ++Ext.data.Connection.requestId,
                xhr: i,
                headers: a,
                options: k,
                async: b,
                binary: k.binary || g.binary,
                timeout: setTimeout(function() {
                    d.timedout = true;
                    g.abort(d)
                }, k.timeout || g.timeout)
            };
            g.requests[d.id] = d;
            g.latestId = d.id;
            if (b) {
                if (!g.isXdr) {
                    i.onreadystatechange = Ext.Function.bind(g.onStateChange, g, [d])
                }
            }
            if (g.isXdr) {
                g.processXdrRequest(d, i)
            }
            i.send(c.data);
            if (!b) {
                return g.onComplete(d)
            }
            return d
        } else {
            Ext.callback(k.callback, k.scope, [k, undefined, undefined]);
            return null
        }
    },
    processXdrRequest: function(b, c) {
        var a = this;
        delete b.headers;
        b.contentType = b.options.contentType || a.defaultXdrContentType;
        c.onload = Ext.Function.bind(a.onStateChange, a, [b, true]);
        c.onerror = c.ontimeout = Ext.Function.bind(a.onStateChange, a, [b, false])
    },
    processXdrResponse: function(a, b) {
        a.getAllResponseHeaders = function() {
            return []
        }
        ;
        a.getResponseHeader = function() {
            return ""
        }
        ;
        a.contentType = b.contentType || this.defaultXdrContentType
    },
    upload: function(b, g, t, e) {
        b = Ext.getDom(b);
        e = e || {};
        var n = Ext.id(), l = document.createElement("iframe"), c = [], d = "multipart/form-data", s = {
            target: b.target,
            method: b.method,
            encoding: b.encoding,
            enctype: b.enctype,
            action: b.action
        }, a = function(h, v) {
            i = document.createElement("input");
            Ext.fly(i).set({
                type: "hidden",
                value: v,
                name: h
            });
            b.appendChild(i);
            c.push(i)
        }, i, k, p, u, o, j, m, q;
        Ext.fly(l).set({
            id: n,
            name: n,
            cls: Ext.baseCSSPrefix + "hide-display",
            src: Ext.SSL_SECURE_URL
        });
        document.body.appendChild(l);
        if (document.frames) {
            document.frames[n].name = n
        }
        Ext.fly(b).set({
            target: n,
            method: "POST",
            enctype: d,
            encoding: d,
            action: g || s.action
        });
        if (t) {
            k = Ext.Object.fromQueryString(t) || {};
            for (u in k) {
                if (k.hasOwnProperty(u)) {
                    p = k[u];
                    if (Ext.isArray(p)) {
                        o = p.length;
                        for (j = 0; j < o; j++) {
                            a(u, p[j])
                        }
                    } else {
                        a(u, p)
                    }
                }
            }
        }
        Ext.fly(l).on("load", Ext.Function.bind(this.onUploadComplete, this, [l, e]), null, {
            single: !Ext.isOpera
        });
        b.submit();
        Ext.fly(b).set(s);
        m = c.length;
        for (q = 0; q < m; q++) {
            Ext.removeNode(c[q])
        }
    },
    onUploadComplete: function(a, k) {
        var g = this, b = {
            responseText: "",
            responseXML: null
        }, i, j, h, c;
        try {
            h = a.contentWindow.document || a.contentDocument || window.frames[a.id].document;
            if (h) {
                if (Ext.isOpera && h.location == "about:blank") {
                    return
                }
                if (h.body) {
                    if ((c = h.body.firstChild) && /pre/i.test(c.tagName)) {
                        b.responseText = c.textContent
                    } else {
                        if (c = h.getElementsByTagName("textarea")[0]) {
                            b.responseText = c.value
                        } else {
                            b.responseText = h.body.textContent || h.body.innerText
                        }
                    }
                }
                b.responseXML = h.XMLDocument || h;
                i = k.success;
                j = true
            }
        } catch (d) {
            b.responseText = '{success:false,message:"' + Ext.String.trim(d.message || d.description) + '"}';
            i = k.failure;
            j = false
        }
        g.fireEvent("requestcomplete", g, b, k);
        Ext.callback(i, k.scope, [b, k]);
        Ext.callback(k.callback, k.scope, [k, j, b]);
        setTimeout(function() {
            Ext.removeNode(a)
        }, 100)
    },
    isFormUpload: function(a) {
        var b = this.getForm(a);
        if (b) {
            return a.isUpload || /multipart\/form-data/i.test(b.getAttribute("enctype"))
        }
        return false
    },
    getForm: function(a) {
        return Ext.getDom(a.form) || null
    },
    setOptions: function(l, k) {
        var i = this, e = l.params || {}, h = i.extraParams, d = l.urlParams, c = l.url || i.url, j = l.jsonData, b, a, g;
        if (Ext.isFunction(e)) {
            e = e.call(k, l)
        }
        if (Ext.isFunction(c)) {
            c = c.call(k, l)
        }
        c = this.setupUrl(l, c);
        if (!c) {
            Ext.Error.raise({
                options: l,
                msg: "No URL specified"
            })
        }
        g = l.rawData || l.binaryData || l.xmlData || j || null;
        if (j && !Ext.isPrimitive(j)) {
            g = Ext.encode(g)
        }
        if (l.binaryData) {
            if (!Ext.isArray(l.binaryData)) {
                Ext.log.warn("Binary submission data must be an array of byte values! Instead got " + typeof l.binaryData)
            }
            if (i.nativeBinaryPostSupport()) {
                g = new Uint8Array(l.binaryData);
                if (Ext.isChrome && Ext.chromeVersion < 22 || Ext.isSafari || Ext.isGecko) {
                    g = g.buffer
                }
            }
        }
        if (Ext.isObject(e)) {
            e = Ext.Object.toQueryString(e)
        }
        if (Ext.isObject(h)) {
            h = Ext.Object.toQueryString(h)
        }
        e = e + (h ? (e ? "&" : "") + h : "");
        d = Ext.isObject(d) ? Ext.Object.toQueryString(d) : d;
        e = this.setupParams(l, e);
        b = (l.method || i.method || (e || g ? "POST" : "GET")).toUpperCase();
        this.setupMethod(l, b);
        a = l.disableCaching !== false ? l.disableCaching || i.disableCaching : false;
        if (b === "GET" && a) {
            c = Ext.urlAppend(c, (l.disableCachingParam || i.disableCachingParam) + "=" + new Date().getTime())
        }
        if ((b == "GET" || g) && e) {
            c = Ext.urlAppend(c, e);
            e = null
        }
        if (d) {
            c = Ext.urlAppend(c, d)
        }
        return {
            url: c,
            method: b,
            data: g || e || null
        }
    },
    setupUrl: function(b, a) {
        var c = this.getForm(b);
        if (c) {
            a = a || c.action
        }
        return a
    },
    setupParams: function(a, d) {
        var c = this.getForm(a), b;
        if (c && !this.isFormUpload(a)) {
            b = Ext.Element.serializeForm(c);
            d = d ? d + "&" + b : b
        }
        return d
    },
    setupMethod: function(a, b) {
        if (this.isFormUpload(a)) {
            return "POST"
        }
        return b
    },
    setupHeaders: function(m, n, d, c) {
        var i = this, b = Ext.apply({}, n.headers || {}, i.defaultHeaders || {}), l = i.defaultPostHeader, j = n.jsonData, a = n.xmlData, k, g;
        if (!b["Content-Type"] && (d || c)) {
            if (d) {
                if (n.rawData) {
                    l = "text/plain"
                } else {
                    if (a && Ext.isDefined(a)) {
                        l = "text/xml"
                    } else {
                        if (j && Ext.isDefined(j)) {
                            l = "application/json"
                        }
                    }
                }
            }
            b["Content-Type"] = l
        }
        if (i.useDefaultXhrHeader && !b["X-Requested-With"]) {
            b["X-Requested-With"] = i.defaultXhrHeader
        }
        try {
            for (k in b) {
                if (b.hasOwnProperty(k)) {
                    g = b[k];
                    m.setRequestHeader(k, g)
                }
            }
        } catch (h) {
            i.fireEvent("exception", k, g)
        }
        return b
    },
    newRequest: function(a) {
        var b = this, c;
        if (a.binaryData) {
            if (b.nativeBinaryPostSupport()) {
                c = this.getXhrInstance()
            } else {
                c = new Ext.data.flash.BinaryXhr()
            }
        } else {
            if ((a.cors || b.cors) && Ext.isIE && Ext.ieVersion <= 9) {
                c = b.getXdrInstance();
                b.isXdr = true
            } else {
                c = b.getXhrInstance()
            }
        }
        return c
    },
    openRequest: function(c, a, d, h, b) {
        var e = this
          , g = e.newRequest(c);
        if (h) {
            g.open(a.method, a.url, d, h, b)
        } else {
            if (e.isXdr) {
                g.open(a.method, a.url)
            } else {
                g.open(a.method, a.url, d)
            }
        }
        if (c.binary || e.binary) {
            if (window.Uint8Array) {
                g.responseType = "arraybuffer"
            } else {
                if (g.overrideMimeType) {
                    g.overrideMimeType("text/plain; charset=x-user-defined")
                } else {
                    if (!Ext.isIE) {
                        Ext.log.warn("Your does not support loading binary data using Ajax.")
                    }
                }
            }
        }
        if (c.withCredentials || e.withCredentials) {
            g.withCredentials = true
        }
        return g
    },
    getXdrInstance: function() {
        var a;
        if (Ext.ieVersion >= 8) {
            a = new XDomainRequest()
        } else {
            Ext.Error.raise({
                msg: "Your browser does not support CORS"
            })
        }
        return a
    },
    getXhrInstance: function() {
        var b = [function() {
            return new XMLHttpRequest()
        }
        , function() {
            return new ActiveXObject("MSXML2.XMLHTTP.3.0")
        }
        , function() {
            return new ActiveXObject("MSXML2.XMLHTTP")
        }
        , function() {
            return new ActiveXObject("Microsoft.XMLHTTP")
        }
        ], c = 0, a = b.length, g;
        for (; c < a; ++c) {
            try {
                g = b[c];
                g();
                break
            } catch (d) {}
        }
        return g
    }(),
    isLoading: function(a) {
        if (!a) {
            a = this.getLatest()
        }
        if (!(a && a.xhr)) {
            return false
        }
        var b = a.xhr.readyState;
        return a.xhr instanceof Ext.data.flash.BinaryXhr && b != 4 || !(b === 0 || b == 4)
    },
    abort: function(b) {
        var a = this, d;
        if (!b) {
            b = a.getLatest()
        }
        if (b && a.isLoading(b)) {
            d = b.xhr;
            try {
                d.onreadystatechange = null
            } catch (c) {
                d.onreadystatechange = Ext.emptyFn
            }
            d.abort();
            a.clearTimeout(b);
            if (!b.timedout) {
                b.aborted = true
            }
            a.onComplete(b);
            a.cleanup(b)
        }
    },
    abortAll: function() {
        var b = this.requests, a;
        for (a in b) {
            if (b.hasOwnProperty(a)) {
                this.abort(b[a])
            }
        }
    },
    getLatest: function() {
        var b = this.latestId, a;
        if (b) {
            a = this.requests[b]
        }
        return a || null
    },
    onStateChange: function(c, a) {
        var b = this;
        if (c.xhr && c.xhr.readyState == 4 || b.isXdr) {
            b.clearTimeout(c);
            b.onComplete(c, a);
            b.cleanup(c);
            Ext.EventManager.idleEvent.fire()
        }
    },
    clearTimeout: function(a) {
        clearTimeout(a.timeout);
        delete a.timeout
    },
    cleanup: function(a) {
        a.xhr = null;
        delete a.xhr
    },
    onComplete: function(h, d) {
        var g = this, c = h.options, a, j, b;
        try {
            a = g.parseStatus(h.xhr.status)
        } catch (i) {
            a = {
                success: false,
                isException: false
            }
        }
        j = g.isXdr ? d : a.success;
        if (j) {
            b = g.createResponse(h);
            g.fireEvent("requestcomplete", g, b, c);
            Ext.callback(c.success, c.scope, [b, c])
        } else {
            if (a.isException || h.aborted || h.timedout) {
                b = g.createException(h)
            } else {
                b = g.createResponse(h)
            }
            g.fireEvent("requestexception", g, b, c);
            Ext.callback(c.failure, c.scope, [b, c])
        }
        Ext.callback(c.callback, c.scope, [c, j, b]);
        delete g.requests[h.id];
        return b
    },
    parseStatus: function(a) {
        a = a == 1223 ? 204 : a;
        var c = a >= 200 && a < 300 || a == 304
          , b = false;
        if (!c) {
            switch (a) {
            case 12002:
            case 12029:
            case 12030:
            case 12031:
            case 12152:
            case 13030:
                b = true;
                break
            }
        }
        return {
            success: c,
            isException: b
        }
    },
    createResponse: function(e) {
        var i = this, k = e.xhr, c = i.isXdr, b = {}, l = c ? [] : k.getAllResponseHeaders().replace(/\r\n/g, "\n").split("\n"), h = l.length, m, g, j, d, a;
        while (h--) {
            m = l[h];
            g = m.indexOf(":");
            if (g >= 0) {
                j = m.substr(0, g).toLowerCase();
                if (m.charAt(g + 1) == " ") {
                    ++g
                }
                b[j] = m.substr(g + 1)
            }
        }
        e.xhr = null;
        delete e.xhr;
        d = {
            request: e,
            requestId: e.id,
            status: k.status,
            statusText: k.statusText,
            getResponseHeader: function(n) {
                return b[n.toLowerCase()]
            },
            getAllResponseHeaders: function() {
                return b
            }
        };
        if (c) {
            i.processXdrResponse(d, k)
        }
        if (e.binary) {
            d.responseBytes = i.getByteArray(k)
        } else {
            d.responseText = k.responseText;
            d.responseXML = k.responseXML
        }
        k = null;
        return d
    },
    createException: function(a) {
        return {
            request: a,
            requestId: a.id,
            status: a.aborted ? -1 : 0,
            statusText: a.aborted ? "transaction aborted" : "communication failure",
            aborted: a.aborted,
            timedout: a.timedout
        }
    },
    getByteArray: function(k) {
        var c = k.response, j = k.responseBody, b, g, a, d;
        if (k instanceof Ext.data.flash.BinaryXhr) {
            b = k.responseBytes
        } else {
            if (window.Uint8Array) {
                b = c ? new Uint8Array(c) : []
            } else {
                if (Ext.isIE9p) {
                    try {
                        b = new VBArray(j).toArray()
                    } catch (h) {
                        b = []
                    }
                } else {
                    if (Ext.isIE) {
                        if (!this.self.vbScriptInjected) {
                            this.injectVBScript()
                        }
                        getIEByteArray(k.responseBody, b = [])
                    } else {
                        b = [];
                        g = k.responseText;
                        a = g.length;
                        for (d = 0; d < a; d++) {
                            b.push(g.charCodeAt(d) & 255)
                        }
                    }
                }
            }
        }
        return b
    },
    injectVBScript: function() {
        var a = document.createElement("script");
        a.type = "text/vbscript";
        a.text = ["Function getIEByteArray(byteArray, out)", "Dim len, i", "len = LenB(byteArray)", "For i = 1 to len", "out.push(AscB(MidB(byteArray, i, 1)))", "Next", "End Function"].join("\n");
        Ext.getHead().dom.appendChild(a);
        this.self.vbScriptInjected = true
    },
    nativeBinaryPostSupport: function() {
        return Ext.isChrome || Ext.isSafari && Ext.isDefined(window.Uint8Array) || Ext.isGecko && Ext.isDefined(window.Uint8Array)
    }
});
Ext.define("Ext.Ajax", {
    extend: Ext.data.Connection,
    singleton: true,
    autoAbort: false
});
Ext.define("Ext.util.Floating", {
    focusOnToFront: true,
    shadow: "sides",
    constrain: false,
    constructor: function(b) {
        var a = this;
        a.fixed = a.fixed && !(Ext.isIE6 || Ext.isIEQuirks);
        a.el = new Ext.dom.Layer(Ext.apply({
            hideMode: a.hideMode,
            hidden: a.hidden,
            shadow: typeof a.shadow != "undefined" ? a.shadow : "sides",
            shadowOffset: a.shadowOffset,
            constrain: false,
            fixed: a.fixed,
            shim: a.shim === false ? false : undefined
        }, a.floating),b);
        if (a.modal && !(Ext.FocusManager && Ext.FocusManager.enabled)) {
            a.mon(a.el, {
                keydown: a.onKeyDown,
                scope: a
            })
        }
        a.mon(a.el, {
            mousedown: a.onMouseDown,
            scope: a
        });
        a.floating = true;
        a.registerWithOwnerCt();
        a.initHierarchyEvents()
    },
    initHierarchyEvents: function() {
        var b = this
          , a = this.syncHidden;
        if (!b.hasHierarchyEventListeners) {
            b.mon(b.hierarchyEventSource, {
                hide: a,
                collapse: a,
                show: a,
                expand: a,
                added: a,
                scope: b
            });
            b.hasHierarchyEventListeners = true
        }
    },
    registerWithOwnerCt: function() {
        var c = this
          , b = c.ownerCt
          , a = c.zIndexParent;
        if (a) {
            a.unregisterFloatingItem(c)
        }
        a = c.zIndexParent = c.up("[floating]");
        c.setFloatParent(b || a);
        delete c.ownerCt;
        if (a) {
            a.registerFloatingItem(c)
        } else {
            Ext.WindowManager.register(c)
        }
    },
    onKeyDown: function(d) {
        var c = this, a, h, g, b;
        if (d.getKey() == Ext.EventObject.TAB) {
            a = d.shiftKey;
            h = c.el.query(":focusable");
            g = h[0];
            b = h[h.length - 1];
            if (g && b && d.target === (a ? g : b)) {
                d.stopEvent();
                (a ? b : g).focus(false, true)
            }
        }
    },
    onMouseDown: function(a) {
        if (this.floating) {
            this.toFront(!!a.getTarget(":focusable"))
        }
    },
    setFloatParent: function(b) {
        var a = this;
        a.floatParent = b;
        if ((a.constrain || a.constrainHeader) && !a.constrainTo) {
            a.constrainTo = b ? b.getTargetEl() : a.container
        }
    },
    onAfterFloatLayout: function() {
        this.syncShadow()
    },
    syncHidden: function() {
        var c = this
          , d = c.hidden || !c.rendered
          , a = c.hierarchicallyHidden = c.isHierarchicallyHidden()
          , b = c.pendingShow;
        if (d !== a) {
            if (a) {
                c.hide();
                c.pendingShow = true
            } else {
                if (b) {
                    delete c.pendingShow;
                    if (b.length) {
                        c.show.apply(c, b)
                    } else {
                        c.show()
                    }
                }
            }
        }
    },
    setZIndex: function(a) {
        var b = this;
        b.el.setZIndex(a);
        a += 10;
        if (b.floatingDescendants) {
            a = Math.floor(b.floatingDescendants.setBase(a) / 100) * 100 + 10000
        }
        return a
    },
    doConstrain: function(a) {
        var b = this
          , c = b.calculateConstrainedPosition(a, null, true);
        if (c) {
            b.setPosition(c)
        }
    },
    toFront: function(c) {
        var b = this
          , a = b.zIndexParent
          , d = b.preventFocusOnActivate;
        if (a && b.bringParentToFront !== false) {
            a.toFront(true)
        }
        if (!Ext.isDefined(c)) {
            c = !b.focusOnToFront
        }
        if (c) {
            b.preventFocusOnActivate = true
        }
        if (b.zIndexManager.bringToFront(b, c)) {
            if (!c) {
                b.focus(false, true)
            }
        }
        b.preventFocusOnActivate = d;
        return b
    },
    setActive: function(b, c) {
        var a = this;
        if (b) {
            if (a.el.shadow && !a.maximized) {
                a.el.enableShadow(true)
            }
            if (!a.preventFocusOnActivate) {
                a.focus(false, true)
            }
            a.fireEvent("activate", a)
        } else {
            if (a.isWindow && c && c.isWindow && a.hideShadowOnDeactivate) {
                a.el.disableShadow()
            }
            a.fireEvent("deactivate", a)
        }
    },
    toBack: function() {
        this.zIndexManager.sendToBack(this);
        return this
    },
    center: function() {
        var a = this, b;
        if (a.isVisible()) {
            b = a.getAlignToXY(a.container, "c-c");
            a.setPagePosition(b)
        } else {
            a.needsCenter = true
        }
        return a
    },
    onFloatShow: function() {
        if (this.needsCenter) {
            this.center()
        }
        delete this.needsCenter
    },
    syncShadow: function() {
        if (this.floating) {
            this.el.sync(true)
        }
    },
    fitContainer: function(c) {
        var g = this
          , e = g.floatParent
          , b = e ? e.getTargetEl() : g.container
          , a = b.getViewSize(false)
          , d = e || b.dom !== document.body ? [0, 0] : b.getXY();
        a.x = d[0];
        a.y = d[1];
        g.setBox(a, c)
    }
});
Ext.define("Ext.Component", {
    alias: ["widget.component", "widget.box"],
    extend: Ext.AbstractComponent,
    mixins: {
        floating: Ext.util.Floating
    },
    statics: {
        DIRECTION_TOP: "top",
        DIRECTION_RIGHT: "right",
        DIRECTION_BOTTOM: "bottom",
        DIRECTION_LEFT: "left",
        VERTICAL_DIRECTION_Re: /^(?:top|bottom)$/,
        INVALID_ID_CHARS_Re: /[\.,\s]/g
    },
    resizeHandles: "all",
    floating: false,
    defaultAlign: "tl-bl?",
    toFrontOnShow: true,
    hideMode: "display",
    offsetsCls: Ext.baseCSSPrefix + "hide-offsets",
    bubbleEvents: [],
    defaultComponentLayoutType: "autocomponent",
    constructor: function(a) {
        var b = this;
        a = a || {};
        if (a.initialConfig) {
            if (a.isAction) {
                b.baseAction = a
            }
            a = a.initialConfig
        } else {
            if (a.tagName || a.dom || Ext.isString(a)) {
                a = {
                    applyTo: a,
                    id: a.id || a
                }
            }
        }
        b.callParent([a]);
        if (b.baseAction) {
            b.baseAction.addComponent(b)
        }
    },
    initComponent: function() {
        var a = this;
        a.callParent();
        if (a.listeners) {
            a.on(a.listeners);
            a.listeners = null
        }
        a.enableBubble(a.bubbleEvents)
    },
    afterRender: function() {
        var a = this;
        a.callParent();
        if (!(a.x && a.y) && (a.pageX || a.pageY)) {
            a.setPagePosition(a.pageX, a.pageY)
        }
    },
    setAutoScroll: function(a) {
        var b = this;
        b.autoScroll = !!a;
        if (b.rendered) {
            b.getOverflowEl().setStyle(b.getOverflowStyle())
        }
        b.updateLayout();
        return b
    },
    setOverflowXY: function(b, a) {
        var c = this
          , d = arguments.length;
        if (d) {
            c.overflowX = b || "";
            if (d > 1) {
                c.overflowY = a || ""
            }
        }
        if (c.rendered) {
            c.getOverflowEl().setStyle(c.getOverflowStyle())
        }
        c.updateLayout();
        return c
    },
    beforeRender: function() {
        var b = this, c = b.floating, a;
        if (c) {
            b.addCls(Ext.baseCSSPrefix + "layer");
            a = c.cls;
            if (a) {
                b.addCls(a)
            }
        }
        return b.callParent()
    },
    afterComponentLayout: function() {
        this.callParent(arguments);
        if (this.floating) {
            this.onAfterFloatLayout()
        }
    },
    makeFloating: function(a) {
        this.mixins.floating.constructor.call(this, a)
    },
    wrapPrimaryEl: function(a) {
        if (this.floating) {
            this.makeFloating(a)
        } else {
            this.callParent(arguments)
        }
    },
    initResizable: function(a) {
        var b = this;
        a = Ext.apply({
            target: b,
            dynamic: false,
            constrainTo: b.constrainTo || (b.floatParent ? b.floatParent.getTargetEl() : null),
            handles: b.resizeHandles
        }, a);
        a.target = b;
        b.resizer = new Ext.resizer.Resizer(a)
    },
    getDragEl: function() {
        return this.el
    },
    initDraggable: function() {
        var c = this
          , a = c.resizer && c.resizer.el !== c.el ? c.resizerComponent = new Ext.Component({
            el: c.resizer.el,
            rendered: true,
            container: c.container
        }) : c
          , b = Ext.applyIf({
            el: a.getDragEl(),
            constrainTo: c.constrain || c.draggable.constrain ? c.constrainTo || (c.floatParent ? c.floatParent.getTargetEl() : c.container) : undefined
        }, c.draggable);
        if (c.constrain || c.constrainDelegate) {
            b.constrain = c.constrain;
            b.constrainDelegate = c.constrainDelegate
        }
        c.dd = new Ext.util.ComponentDragger(a,b)
    },
    scrollBy: function(b, a, c) {
        var d;
        if ((d = this.getTargetEl()) && d.dom) {
            d.scrollBy.apply(d, arguments)
        }
    },
    setLoading: function(c, d) {
        var b = this
          , a = {
            target: b
        };
        if (b.rendered) {
            Ext.destroy(b.loadMask);
            b.loadMask = null;
            if (c !== false && !b.collapsed) {
                if (Ext.isObject(c)) {
                    Ext.apply(a, c)
                } else {
                    if (Ext.isString(c)) {
                        a.msg = c
                    }
                }
                if (d) {
                    Ext.applyIf(a, {
                        useTargetEl: true
                    })
                }
                b.loadMask = new Ext.LoadMask(a);
                b.loadMask.show()
            }
        }
        return b.loadMask
    },
    beforeSetPosition: function() {
        var b = this, c = b.callParent(arguments), a;
        if (c) {
            a = b.adjustPosition(c.x, c.y);
            c.x = a.x;
            c.y = a.y
        }
        return c || null
    },
    afterSetPosition: function(b, a) {
        this.onPosition(b, a);
        this.fireEvent("move", this, b, a)
    },
    showAt: function(a, d, b) {
        var c = this;
        if (!c.rendered && (c.autoRender || c.floating)) {
            c.x = a;
            c.y = d;
            return c.show()
        }
        if (c.floating) {
            c.setPosition(a, d, b)
        } else {
            c.setPagePosition(a, d, b)
        }
        c.show()
    },
    showBy: function(b, d, c) {
        var a = this;
        if (!a.floating) {
            Ext.log.warn("Using showBy on a non-floating component");
            return a
        }
        if (a.floating && b) {
            a.show();
            if (a.rendered && !a.hidden) {
                a.alignTo(b, d || a.defaultAlign, c)
            }
        }
        return a
    },
    setPagePosition: function(a, g, b) {
        var c = this, d, e;
        if (Ext.isArray(a)) {
            g = a[1];
            a = a[0]
        }
        c.pageX = a;
        c.pageY = g;
        if (c.floating) {
            if (c.isContainedFloater()) {
                e = c.floatParent.getTargetEl().getViewRegion();
                if (Ext.isNumber(a) && Ext.isNumber(e.left)) {
                    a -= e.left
                }
                if (Ext.isNumber(g) && Ext.isNumber(e.top)) {
                    g -= e.top
                }
            } else {
                d = c.el.translateXY(a, g);
                a = d.x;
                g = d.y
            }
            c.setPosition(a, g, b)
        } else {
            d = c.el.translateXY(a, g);
            c.setPosition(d.x, d.y, b)
        }
        return c
    },
    isContainedFloater: function() {
        return this.floating && this.floatParent
    },
    updateBox: function(a) {
        this.setSize(a.width, a.height);
        this.setPagePosition(a.x, a.y);
        return this
    },
    getOuterSize: function() {
        var a = this.el;
        return {
            width: a.getWidth() + a.getMargin("lr"),
            height: a.getHeight() + a.getMargin("tb")
        }
    },
    adjustPosition: function(a, d) {
        var b = this, c;
        if (b.isContainedFloater()) {
            c = b.floatParent.getTargetEl().getViewRegion();
            a += c.left;
            d += c.top
        }
        return {
            x: a,
            y: d
        }
    },
    getPosition: function(a) {
        var b = this, d, c = b.isContainedFloater(), e;
        if (a === true && !c) {
            return [b.getLocalX(), b.getLocalY()]
        }
        d = b.getXY();
        if (a === true && c) {
            e = b.floatParent.getTargetEl().getViewRegion();
            d[0] -= e.left;
            d[1] -= e.top
        }
        return d
    },
    getId: function() {
        var a = this, b;
        if (!a.id) {
            b = a.getXType();
            if (b) {
                b = b.replace(Ext.Component.INVALID_ID_CHARS_Re, "-")
            } else {
                b = Ext.name.toLowerCase() + "-comp"
            }
            a.id = b + "-" + a.getAutoId()
        }
        return a.id
    },
    show: function(d, a, b) {
        var c = this
          , e = c.rendered;
        if (c.hierarchicallyHidden || c.floating && !e && c.isHierarchicallyHidden()) {
            if (!e) {
                c.initHierarchyEvents()
            }
            if (arguments.length > 1) {
                arguments[0] = null;
                c.pendingShow = arguments
            } else {
                c.pendingShow = true
            }
        } else {
            if (e && c.isVisible()) {
                if (c.toFrontOnShow && c.floating) {
                    c.toFront()
                }
            } else {
                if (c.fireEvent("beforeshow", c) !== false) {
                    c.hidden = false;
                    delete this.getHierarchyState().hidden;
                    if (!e && (c.autoRender || c.floating)) {
                        c.doAutoRender();
                        e = c.rendered
                    }
                    if (e) {
                        c.beforeShow();
                        c.onShow.apply(c, arguments);
                        c.afterShow.apply(c, arguments)
                    }
                } else {
                    c.onShowVeto()
                }
            }
        }
        return c
    },
    onShowVeto: Ext.emptyFn,
    beforeShow: Ext.emptyFn,
    onShow: function() {
        var a = this;
        a.el.show();
        a.callParent(arguments);
        if (a.floating) {
            if (a.maximized) {
                a.fitContainer()
            } else {
                if (a.constrain) {
                    a.doConstrain()
                }
            }
        }
    },
    getAnimateTarget: function(a) {
        a = a || this.animateTarget;
        if (a) {
            a = a.isComponent ? a.getEl() : Ext.get(a)
        }
        return a || null
    },
    afterShow: function(h, b, e) {
        var g = this, i = g.el, a, c, d;
        h = g.getAnimateTarget(h);
        if (!g.ghost) {
            h = null
        }
        if (h) {
            c = {
                x: i.getX(),
                y: i.getY(),
                width: i.dom.offsetWidth,
                height: i.dom.offsetHeight
            };
            a = {
                x: h.getX(),
                y: h.getY(),
                width: h.dom.offsetWidth,
                height: h.dom.offsetHeight
            };
            i.addCls(g.offsetsCls);
            d = g.ghost();
            d.el.stopAnimation();
            d.setX(-10000);
            g.ghostBox = c;
            d.el.animate({
                from: a,
                to: c,
                listeners: {
                    afteranimate: function() {
                        delete d.componentLayout.lastComponentSize;
                        g.unghost();
                        delete g.ghostBox;
                        i.removeCls(g.offsetsCls);
                        g.onShowComplete(b, e)
                    }
                }
            })
        } else {
            g.onShowComplete(b, e)
        }
        g.fireHierarchyEvent("show")
    },
    onShowComplete: function(a, b) {
        var c = this;
        if (c.floating) {
            c.toFront();
            c.onFloatShow()
        }
        Ext.callback(a, b || c);
        c.fireEvent("show", c);
        delete c.hiddenByLayout
    },
    hide: function(e, b, c) {
        var d = this, a;
        if (d.pendingShow) {
            delete d.pendingShow
        }
        if (!(d.rendered && !d.isVisible())) {
            a = d.fireEvent("beforehide", d) !== false;
            if (d.hierarchicallyHidden || a) {
                d.hidden = true;
                d.getHierarchyState().hidden = true;
                if (d.rendered) {
                    d.onHide.apply(d, arguments)
                }
            }
        }
        return d
    },
    onHide: function(i, a, e) {
        var g = this, c, d, b, h = Ext.Element.getActiveElement();
        if (h === g.el || g.el.contains(h)) {
            Ext.fly(h).blur()
        }
        i = g.getAnimateTarget(i);
        if (!g.ghost) {
            i = null
        }
        if (i) {
            b = {
                x: i.getX(),
                y: i.getY(),
                width: i.dom.offsetWidth,
                height: i.dom.offsetHeight
            };
            c = g.ghost();
            c.el.stopAnimation();
            d = g.getSize();
            c.el.animate({
                to: b,
                listeners: {
                    afteranimate: function() {
                        delete c.componentLayout.lastComponentSize;
                        c.el.hide();
                        c.el.setSize(d);
                        g.afterHide(a, e)
                    }
                }
            })
        }
        g.el.hide();
        if (!i) {
            g.afterHide(a, e)
        }
    },
    afterHide: function(a, b) {
        var c = this;
        delete c.hiddenByLayout;
        Ext.AbstractComponent.prototype.onHide.call(c);
        Ext.callback(a, b || c);
        c.fireEvent("hide", c);
        c.fireHierarchyEvent("hide")
    },
    onDestroy: function() {
        var a = this;
        if (a.rendered) {
            Ext.destroy(a.dd, a.resizer, a.proxy, a.proxyWrap, a.resizerComponent)
        }
        delete a.focusTask;
        a.callParent()
    },
    deleteMembers: function() {
        var b = arguments
          , a = b.length
          , c = 0;
        for (; c < a; ++c) {
            delete this[b[c]]
        }
    },
    focus: function(e, c) {
        var d = this, a, g, b;
        if (c) {
            if (!d.focusTask) {
                d.self.prototype.focusTask = new Ext.util.DelayedTask(d.focus)
            }
            d.focusTask.delay(Ext.isNumber(c) ? c : 10, null, d, [e, false]);
            return d
        }
        if (d.focusTask) {
            d.focusTask.cancel()
        }
        if (d.rendered && !d.isDestroyed && d.isVisible(true) && (a = d.getFocusEl())) {
            if (a.isComponent) {
                return a.focus(e, c)
            }
            if (g = a.dom) {
                if (a.needsTabIndex()) {
                    g.tabIndex = -1
                }
                if (d.floating) {
                    b = d.container.dom.scrollTop
                }
                a.focus();
                if (e === true) {
                    g.select()
                }
            }
            if (d.floating) {
                d.toFront(true);
                if (b !== undefined) {
                    d.container.dom.scrollTop = b
                }
            }
        }
        return d
    },
    cancelFocus: function() {
        var a = this.focusTask;
        if (a) {
            a.cancel()
        }
    },
    blur: function() {
        var a;
        if (this.rendered && (a = this.getFocusEl())) {
            a.blur()
        }
        return this
    },
    getEl: function() {
        return this.el
    },
    getResizeEl: function() {
        return this.el
    },
    getPositionEl: function() {
        return this.el
    },
    getActionEl: function() {
        return this.el
    },
    getVisibilityEl: function() {
        return this.el
    },
    getRefOwner: function() {
        return this.ownerCt || this.floatParent
    },
    getBubbleTarget: function() {
        return this.getRefOwner()
    },
    getContentTarget: function() {
        return this.el
    },
    cloneConfig: function(c) {
        c = c || {};
        var d = c.id || Ext.id(), a = Ext.applyIf(c, this.initialConfig), b;
        a.id = d;
        b = Ext.getClass(this);
        return new b(a)
    },
    getXType: function() {
        return this.self.xtype
    },
    findParentBy: function(a) {
        var b;
        for (b = this.getBubbleTarget(); b && !a(b, this); b = b.getBubbleTarget()) {}
        return b || null
    },
    findParentByType: function(a) {
        return Ext.isFunction(a) ? this.findParentBy(function(b) {
            return b.constructor === a
        }) : this.up(a)
    },
    bubble: function(c, b, a) {
        var d = this;
        while (d) {
            if (c.apply(b || d, a || [d]) === false) {
                break
            }
            d = d.getBubbleTarget()
        }
        return this
    },
    getProxy: function() {
        var a = this, b;
        if (!a.proxy) {
            b = Ext.getBody();
            a.proxy = a.el.createProxy(Ext.baseCSSPrefix + "proxy-el", b, true)
        }
        return a.proxy
    },
    fireHierarchyEvent: function(a) {
        this.hierarchyEventSource.fireEvent(a, this)
    },
    onAdded: function() {
        this.callParent(arguments);
        if (this.hierarchyEventSource.hasListeners.added) {
            this.fireHierarchyEvent("added")
        }
    }
}, function() {
    this.hierarchyEventSource = this.prototype.hierarchyEventSource = new Ext.util.Observable({
        events: {
            hide: true,
            show: true,
            collapse: true,
            expand: true,
            added: true
        }
    })
});
Ext.define("Ext.ElementLoader", {
    mixins: {
        observable: Ext.util.Observable
    },
    statics: {
        Renderer: {
            Html: function(a, b, c) {
                a.getTarget().update(b.responseText, c.scripts === true);
                return true
            }
        }
    },
    url: null,
    params: null,
    baseParams: null,
    autoLoad: false,
    target: null,
    loadMask: false,
    ajaxOptions: null,
    scripts: false,
    isLoader: true,
    constructor: function(b) {
        var c = this, a;
        b = b || {};
        Ext.apply(c, b);
        c.setTarget(c.target);
        c.addEvents("beforeload", "exception", "load");
        c.mixins.observable.constructor.call(c);
        if (c.autoLoad) {
            a = c.autoLoad;
            if (a === true) {
                a = {}
            }
            c.load(a)
        }
    },
    setTarget: function(b) {
        var a = this;
        b = Ext.get(b);
        if (a.target && a.target != b) {
            a.abort()
        }
        a.target = b
    },
    getTarget: function() {
        return this.target || null
    },
    abort: function() {
        var a = this.active;
        if (a !== undefined) {
            Ext.Ajax.abort(a.request);
            if (a.mask) {
                this.removeMask()
            }
            delete this.active
        }
    },
    removeMask: function() {
        this.target.unmask()
    },
    addMask: function(a) {
        this.target.mask(a === true ? null : a)
    },
    load: function(c) {
        if (!this.target) {
            Ext.Error.raise("A valid target is required when loading content")
        }
        c = Ext.apply({}, c);
        var e = this
          , a = Ext.isDefined(c.loadMask) ? c.loadMask : e.loadMask
          , g = Ext.apply({}, c.params)
          , b = Ext.apply({}, c.ajaxOptions)
          , h = c.callback || e.callback
          , d = c.scope || e.scope || e;
        Ext.applyIf(b, e.ajaxOptions);
        Ext.applyIf(c, b);
        Ext.applyIf(g, e.params);
        Ext.apply(g, e.baseParams);
        Ext.applyIf(c, {
            url: e.url
        });
        if (!c.url) {
            Ext.Error.raise("You must specify the URL from which content should be loaded")
        }
        Ext.apply(c, {
            scope: e,
            params: g,
            callback: e.onComplete
        });
        if (e.fireEvent("beforeload", e, c) === false) {
            return
        }
        if (a) {
            e.addMask(a)
        }
        e.active = {
            options: c,
            mask: a,
            scope: d,
            callback: h,
            success: c.success || e.success,
            failure: c.failure || e.failure,
            renderer: c.renderer || e.renderer,
            scripts: Ext.isDefined(c.scripts) ? c.scripts : e.scripts
        };
        e.active.request = Ext.Ajax.request(c);
        e.setOptions(e.active, c)
    },
    setOptions: Ext.emptyFn,
    onComplete: function(b, g, a) {
        var d = this, e = d.active, c;
        if (e) {
            c = e.scope;
            if (g) {
                g = d.getRenderer(e.renderer).call(d, d, a, e) !== false
            }
            if (g) {
                Ext.callback(e.success, c, [d, a, b]);
                d.fireEvent("load", d, a, b)
            } else {
                Ext.callback(e.failure, c, [d, a, b]);
                d.fireEvent("exception", d, a, b)
            }
            Ext.callback(e.callback, c, [d, g, a, b]);
            if (e.mask) {
                d.removeMask()
            }
        }
        delete d.active
    },
    getRenderer: function(a) {
        if (Ext.isFunction(a)) {
            return a
        }
        return this.statics().Renderer.Html
    },
    startAutoRefresh: function(a, b) {
        var c = this;
        c.stopAutoRefresh();
        c.autoRefresh = setInterval(function() {
            c.load(b)
        }, a)
    },
    stopAutoRefresh: function() {
        clearInterval(this.autoRefresh);
        delete this.autoRefresh
    },
    isAutoRefreshing: function() {
        return Ext.isDefined(this.autoRefresh)
    },
    destroy: function() {
        var a = this;
        a.stopAutoRefresh();
        delete a.target;
        a.abort();
        a.clearListeners()
    }
});
Ext.define("Ext.ComponentLoader", {
    extend: Ext.ElementLoader,
    statics: {
        Renderer: {
            Data: function(a, b, d) {
                var g = true;
                try {
                    a.getTarget().update(Ext.decode(b.responseText))
                } catch (c) {
                    g = false
                }
                return g
            },
            Component: function(a, c, h) {
                var i = true
                  , g = a.getTarget()
                  , b = [];
                if (!g.isContainer) {
                    Ext.Error.raise({
                        target: g,
                        msg: "Components can only be loaded into a container"
                    })
                }
                try {
                    b = Ext.decode(c.responseText)
                } catch (d) {
                    i = false
                }
                if (i) {
                    g.suspendLayouts();
                    if (h.removeAll) {
                        g.removeAll()
                    }
                    g.add(b);
                    g.resumeLayouts(true)
                }
                return i
            }
        }
    },
    target: null,
    loadMask: false,
    renderer: "html",
    setTarget: function(b) {
        var a = this;
        if (Ext.isString(b)) {
            b = Ext.getCmp(b)
        }
        if (a.target && a.target != b) {
            a.abort()
        }
        a.target = b
    },
    removeMask: function() {
        this.target.setLoading(false)
    },
    addMask: function(a) {
        this.target.setLoading(a)
    },
    setOptions: function(b, a) {
        b.removeAll = Ext.isDefined(a.removeAll) ? a.removeAll : this.removeAll
    },
    getRenderer: function(b) {
        if (Ext.isFunction(b)) {
            return b
        }
        var a = this.statics().Renderer;
        switch (b) {
        case "component":
            return a.Component;
        case "data":
            return a.Data;
        default:
            return Ext.ElementLoader.Renderer.Html
        }
    }
});
Ext.define("Ext.layout.SizeModel", {
    constructor: function(c) {
        var e = this, d = e.self, a = d.sizeModelsArray, b;
        Ext.apply(e, c);
        e[b = e.name] = true;
        e.fixed = !(e.auto = e.natural || e.shrinkWrap);
        a[e.ordinal = a.length] = d[b] = d.sizeModels[b] = e
    },
    statics: {
        sizeModelsArray: [],
        sizeModels: {}
    },
    calculated: false,
    configured: false,
    constrainedMax: false,
    constrainedMin: false,
    natural: false,
    shrinkWrap: false,
    calculatedFromConfigured: false,
    calculatedFromNatural: false,
    calculatedFromShrinkWrap: false,
    names: null
}, function() {
    var e = this, a = e.sizeModelsArray, c, b, h, g, d;
    new e({
        name: "calculated"
    });
    new e({
        name: "configured",
        names: {
            width: "width",
            height: "height"
        }
    });
    new e({
        name: "natural"
    });
    new e({
        name: "shrinkWrap"
    });
    new e({
        name: "calculatedFromConfigured",
        configured: true,
        names: {
            width: "width",
            height: "height"
        }
    });
    new e({
        name: "calculatedFromNatural",
        natural: true
    });
    new e({
        name: "calculatedFromShrinkWrap",
        shrinkWrap: true
    });
    new e({
        name: "constrainedMax",
        configured: true,
        constrained: true,
        names: {
            width: "maxWidth",
            height: "maxHeight"
        }
    });
    new e({
        name: "constrainedMin",
        configured: true,
        constrained: true,
        names: {
            width: "minWidth",
            height: "minHeight"
        }
    });
    new e({
        name: "constrainedDock",
        configured: true,
        constrained: true,
        constrainedByMin: true,
        names: {
            width: "dockConstrainedWidth",
            height: "dockConstrainedHeight"
        }
    });
    for (c = 0,
    h = a.length; c < h; ++c) {
        d = a[c];
        d.pairsByHeightOrdinal = g = [];
        for (b = 0; b < h; ++b) {
            g.push({
                width: d,
                height: a[b]
            })
        }
    }
});
Ext.define("Ext.layout.Layout", {
    isLayout: true,
    initialized: false,
    running: false,
    autoSizePolicy: {
        readsWidth: 1,
        readsHeight: 1,
        setsWidth: 0,
        setsHeight: 0
    },
    statics: {
        layoutsByType: {},
        create: function(g, e) {
            var k = Ext.ClassManager, c = this.layoutsByType, d, h, b, a, i, j;
            if (!g || typeof g === "string") {
                i = g || e;
                b = {}
            } else {
                if (g.isLayout) {
                    return g
                } else {
                    b = g;
                    i = g.type || e
                }
            }
            if (!(a = c[i])) {
                d = "layout." + i;
                h = k.getNameByAlias(d);
                if (!h) {
                    j = true
                }
                a = k.get(h);
                if (j || !a) {
                    return k.instantiateByAlias(d, b || {})
                }
                c[i] = a
            }
            return new a(b)
        }
    },
    constructor: function(a) {
        var b = this;
        b.id = Ext.id(null, b.type + "-");
        Ext.apply(b, a);
        b.layoutCount = 0
    },
    beginLayout: Ext.emptyFn,
    beginLayoutCycle: function(c) {
        var b = this, a = b.context, d;
        if (b.lastWidthModel != c.widthModel) {
            if (b.lastWidthModel) {
                d = true
            }
            b.lastWidthModel = c.widthModel
        }
        if (b.lastHeightModel != c.heightModel) {
            if (b.lastWidthModel) {
                d = true
            }
            b.lastHeightModel = c.heightModel
        }
        if (d) {
            (a = c.context).clearTriggers(b, false);
            a.clearTriggers(b, true);
            b.triggerCount = 0
        }
    },
    finishedLayout: function(a) {
        this.lastWidthModel = a.widthModel;
        this.lastHeightModel = a.heightModel;
        this.ownerContext = null
    },
    redoLayout: Ext.emptyFn,
    undoLayout: Ext.emptyFn,
    getAnimatePolicy: function() {
        return this.animatePolicy
    },
    getItemSizePolicy: function(a) {
        return this.autoSizePolicy
    },
    isItemBoxParent: function(a) {
        return false
    },
    isItemLayoutRoot: function(d) {
        var c = d.getSizeModel()
          , b = c.width
          , a = c.height;
        if (!d.componentLayout.lastComponentSize && (b.calculated || a.calculated)) {
            return false
        }
        return !b.shrinkWrap && !a.shrinkWrap
    },
    isItemShrinkWrap: function(a) {
        return a.shrinkWrap
    },
    isRunning: function() {
        return !!this.ownerContext
    },
    getItemsRenderTree: function(d, b) {
        var h = d.length, e, g, c, a;
        if (h) {
            a = [];
            for (e = 0; e < h; ++e) {
                g = d[e];
                if (!g.rendered) {
                    if (b && b[g.id] !== undefined) {
                        c = b[g.id]
                    } else {
                        this.configureItem(g);
                        c = g.getRenderTree();
                        if (b) {
                            b[g.id] = c
                        }
                    }
                    if (c) {
                        a.push(c)
                    }
                }
            }
        }
        return a
    },
    finishRender: Ext.emptyFn,
    finishRenderItems: function(e, a) {
        var d = a.length, b, c;
        for (b = 0; b < d; b++) {
            c = a[b];
            if (c.rendering) {
                c.finishRender(b);
                this.afterRenderItem(c)
            }
        }
    },
    renderChildren: function() {
        var b = this
          , a = b.getLayoutItems()
          , c = b.getRenderTarget();
        b.renderItems(a, c)
    },
    renderItems: function(a, g) {
        var e = this, d = a.length, b = 0, c;
        if (d) {
            Ext.suspendLayouts();
            for (; b < d; b++) {
                c = a[b];
                if (c && !c.rendered) {
                    e.renderItem(c, g, b)
                } else {
                    if (!e.isValidParent(c, g, b)) {
                        e.moveItem(c, g, b)
                    } else {
                        e.configureItem(c)
                    }
                }
            }
            Ext.resumeLayouts(true)
        }
    },
    isValidParent: function(g, h, b) {
        var c = g.el ? g.el.dom : Ext.getDom(g), e = h && h.dom || h, a = c.parentNode, d;
        if (a) {
            d = a.className;
            if (d && d.indexOf(Ext.baseCSSPrefix + "resizable-wrap") !== -1) {
                c = c.parentNode
            }
        }
        if (c && e) {
            if (typeof b == "number") {
                b = this.getPositionOffset(b);
                return c === e.childNodes[b]
            }
            return c.parentNode === e
        }
        return false
    },
    getPositionOffset: function(a) {
        return a
    },
    configureItem: function(a) {
        a.ownerLayout = this
    },
    renderItem: function(c, d, a) {
        var b = this;
        if (!c.rendered) {
            b.configureItem(c);
            c.render(d, a);
            b.afterRenderItem(c)
        }
    },
    moveItem: function(b, c, a) {
        c = c.dom || c;
        if (typeof a == "number") {
            a = c.childNodes[a]
        }
        c.insertBefore(b.el.dom, a || null);
        b.container = Ext.get(c);
        this.configureItem(b)
    },
    onContentChange: function() {
        this.owner.updateLayout();
        return true
    },
    initLayout: function() {
        this.initialized = true
    },
    setOwner: function(a) {
        this.owner = a
    },
    getLayoutItems: function() {
        return []
    },
    afterRenderItem: Ext.emptyFn,
    onAdd: Ext.emptyFn,
    onRemove: Ext.emptyFn,
    onDestroy: Ext.emptyFn,
    afterRemove: function(e) {
        var d = this, c = e.el, b = d.owner, a;
        if (e.rendered) {
            a = [].concat(d.itemCls || []);
            if (b.itemCls) {
                a = Ext.Array.push(a, b.itemCls)
            }
            if (a.length) {
                c.removeCls(a)
            }
        }
        delete e.ownerLayout
    },
    destroy: function() {
        var a = this, b;
        if (a.targetCls) {
            b = a.getTarget();
            if (b) {
                b.removeCls(a.targetCls)
            }
        }
        a.onDestroy()
    },
    sortWeightedItems: function(a, d) {
        for (var b = 0, c = a.length; b < c; ++b) {
            a[b].$i = b
        }
        Ext.Array.sort(a, function(g, e) {
            var h = e.weight - g.weight;
            if (!h) {
                h = g.$i - e.$i;
                if (g[d]) {
                    h = -h
                }
            }
            return h
        });
        for (b = 0; b < c; ++b) {
            delete a[b].$i
        }
    }
}, function() {
    var a = this;
    a.prototype.sizeModels = a.sizeModels = Ext.layout.SizeModel.sizeModels
});
Ext.define("Ext.layout.container.Container", {
    alias: ["layout.container"],
    extend: Ext.layout.Layout,
    alternateClassName: "Ext.layout.ContainerLayout",
    mixins: {
        elementCt: Ext.util.ElementContainer
    },
    type: "container",
    beginCollapse: Ext.emptyFn,
    beginExpand: Ext.emptyFn,
    animatePolicy: null,
    childEls: ["overflowPadderEl"],
    renderTpl: ["{%this.renderBody(out,values)%}"],
    usesContainerHeight: true,
    usesContainerWidth: true,
    usesHeight: true,
    usesWidth: true,
    constructor: function() {
        this.callParent(arguments);
        this.mixins.elementCt.constructor.call(this)
    },
    destroy: function() {
        this.callParent();
        this.mixins.elementCt.destroy.call(this)
    },
    beginLayout: function(a) {
        this.callParent(arguments);
        a.targetContext = a.paddingContext = a.getEl("getTarget", this);
        this.cacheChildItems(a)
    },
    beginLayoutCycle: function(c, a) {
        var b = this;
        b.callParent(arguments);
        if (a) {
            if (b.usesContainerHeight) {
                ++c.consumersContainerHeight
            }
            if (b.usesContainerWidth) {
                ++c.consumersContainerWidth
            }
        }
    },
    cacheChildItems: function(e) {
        var c = e.context, g = [], a = this.getVisibleItems(), d = a.length, b;
        e.childItems = g;
        e.visibleItems = a;
        for (b = 0; b < d; ++b) {
            g.push(c.getCmp(a[b]))
        }
    },
    cacheElements: function() {
        var a = this.owner;
        this.applyChildEls(a.el, a.id)
    },
    configureItem: function(c) {
        var b = this, d = b.itemCls, a = b.owner.itemCls, e;
        c.ownerLayout = b;
        if (d) {
            e = typeof d === "string" ? [d] : d
        }
        if (a) {
            e = Ext.Array.push(e || [], a)
        }
        if (e) {
            c.addCls(e)
        }
    },
    doRenderBody: function(a, b) {
        this.renderItems(a, b);
        this.renderContent(a, b)
    },
    doRenderContainer: function(b, e) {
        var c = e.$comp.layout
          , a = c.getRenderTpl()
          , d = c.getRenderData();
        a.applyOut(d, b)
    },
    doRenderItems: function(b, d) {
        var c = d.$layout
          , a = c.getRenderTree();
        if (a) {
            Ext.DomHelper.generateMarkup(a, b)
        }
    },
    finishRender: function() {
        var b = this, c, a;
        b.callParent();
        b.cacheElements();
        c = b.getRenderTarget();
        a = b.getLayoutItems();
        if (b.targetCls && !b.getTarget().hasCls(b.targetCls)) {
            Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). " + b.owner.id)
        }
        b.finishRenderItems(c, a)
    },
    notifyOwner: function() {
        this.owner.afterLayout(this)
    },
    getContainerSize: function(b, g) {
        var c = b.targetContext, e = c.getFrameInfo(), j = b.paddingContext.getPaddingInfo(), i = 0, k = 0, d, h, a, l;
        if (!b.widthModel.shrinkWrap) {
            ++k;
            a = g ? c.getDomProp("width") : c.getProp("width");
            d = typeof a == "number";
            if (d) {
                ++i;
                a -= e.width + j.width;
                if (a < 0) {
                    a = 0
                }
            }
        }
        if (!b.heightModel.shrinkWrap) {
            ++k;
            l = g ? c.getDomProp("height") : c.getProp("height");
            h = typeof l == "number";
            if (h) {
                ++i;
                l -= e.height + j.height;
                if (l < 0) {
                    l = 0
                }
            }
        }
        return {
            width: a,
            height: l,
            needed: k,
            got: i,
            gotAll: i == k,
            gotWidth: d,
            gotHeight: h
        }
    },
    getPositionOffset: function(a) {
        if (!this.createsInnerCt) {
            var b = this.owner.itemNodeOffset;
            if (b) {
                a += b
            }
        }
        return a
    },
    getLayoutItems: function() {
        var a = this.owner
          , b = a && a.items;
        return b && b.items || []
    },
    getRenderData: function() {
        var a = this.owner;
        return {
            $comp: a,
            $layout: this,
            ownerId: a.id
        }
    },
    getRenderedItems: function() {
        var e = this, h = e.getRenderTarget(), a = e.getLayoutItems(), d = a.length, g = [], b, c;
        for (b = 0; b < d; b++) {
            c = a[b];
            if (c.rendered && e.isValidParent(c, h, b)) {
                g.push(c)
            }
        }
        return g
    },
    getRenderTarget: function() {
        return this.owner.getTargetEl()
    },
    getElementTarget: function() {
        return this.getRenderTarget()
    },
    getRenderTpl: function() {
        var a = this
          , b = Ext.XTemplate.getTpl(this, "renderTpl");
        if (!b.renderContent) {
            a.owner.setupRenderTpl(b)
        }
        return b
    },
    getRenderTree: function() {
        var a, c = this.owner.items, d, b = {};
        do {
            d = c.generation;
            a = this.getItemsRenderTree(this.getLayoutItems(), b)
        } while (c.generation !== d);return a
    },
    getScrollbarsNeeded: function(c, i, b, h) {
        var a = Ext.getScrollbarSize()
          , e = typeof c == "number"
          , j = typeof i == "number"
          , g = 0
          , d = 0;
        if (!a.width) {
            return 0
        }
        if (j && i < h) {
            d = 2;
            c -= a.width
        }
        if (e && c < b) {
            g = 1;
            if (!d && j) {
                i -= a.height;
                if (i < h) {
                    d = 2
                }
            }
        }
        return d + g
    },
    getTarget: function() {
        return this.owner.getTargetEl()
    },
    getVisibleItems: function() {
        var g = this.getRenderTarget(), b = this.getLayoutItems(), e = b.length, a = [], c, d;
        for (c = 0; c < e; c++) {
            d = b[c];
            if (d.rendered && this.isValidParent(d, g, c) && d.hidden !== true) {
                a.push(d)
            }
        }
        return a
    },
    setupRenderTpl: function(b) {
        var a = this;
        b.renderBody = a.doRenderBody;
        b.renderContainer = a.doRenderContainer;
        b.renderItems = a.doRenderItems
    },
    getContentTarget: function() {
        return this.owner.getDefaultContentTarget()
    }
});
Ext.define("Ext.layout.container.Auto", {
    alias: ["layout.auto", "layout.autocontainer"],
    extend: Ext.layout.container.Container,
    type: "autocontainer",
    childEls: ["outerCt", "innerCt", "clearEl"],
    reserveScrollbar: false,
    managePadding: true,
    manageOverflow: false,
    lastOverflowAdjust: {
        width: 0,
        height: 0
    },
    renderTpl: ["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}", '<span id="{ownerId}-outerCt" style="display:table;">', '<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;', 'vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">', "{%this.renderBody(out,values)%}", "</div>", "</span>", "{% } else if (values.shrinkWrapWidth) { %}", '<table id="{ownerId}-outerCt" class="' + Ext.baseCSSPrefix + 'table-plain">', "<tr>", '<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;', '{%this.renderPadding(out, values)%}" class="{innerCtCls}">', "{%this.renderBody(out,values)%}", '<div id="{ownerId}-clearEl" class="', Ext.baseCSSPrefix, 'clear"', 'role="presentation"></div>', "</td>", "</tr>", "</table>", "{% } else { %}", '<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">', '<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">', "{%this.renderBody(out,values)%}", '<div id="{ownerId}-clearEl" class="', Ext.baseCSSPrefix, 'clear"', 'role="presentation"></div>', "</div>", "</div>", "{% values.$layout.isShrinkWrapTpl = false %}", "{% } %}"],
    tableTpl: ['<table id="{ownerId}-outerCt" class="' + Ext.baseCSSPrefix + 'table-plain">', "<tr>", '<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;', '{%this.renderPadding(out, values)%}" class="{innerCtCls}">', "</td>", "</tr>", "</table>"],
    isShrinkWrapTpl: true,
    beginLayout: function(e) {
        var d = this, a, b, c, g;
        d.callParent(arguments);
        d.initContextItems(e);
        if (!d.isShrinkWrapTpl) {
            if (e.widthModel.shrinkWrap) {
                g = true
            }
            if (Ext.isStrict && Ext.isIE7) {
                c = d.getOverflowXStyle(e);
                if ((c === "auto" || c === "scroll") && e.paddingContext.getPaddingInfo().right) {
                    g = true
                }
            }
            if (g) {
                d.insertTableCt(e)
            }
        }
        if (!d.isShrinkWrapTpl && Ext.isIE7 && Ext.isStrict && !d.clearElHasPadding) {
            a = e.paddingContext.getPaddingInfo().bottom;
            b = d.getOverflowYStyle(e);
            if (a && (b === "auto" || b === "scroll")) {
                d.clearEl.setStyle("height", a);
                d.clearElHasPadding = true
            }
        }
    },
    beforeLayoutCycle: function(c) {
        var a = this.owner
          , d = a.hierarchyState
          , b = a.hierarchyStateInner;
        if (!d || d.invalid) {
            d = a.getHierarchyState();
            b = a.hierarchyStateInner
        }
        if (c.widthModel.shrinkWrap && this.isShrinkWrapTpl) {
            b.inShrinkWrapTable = true
        } else {
            delete b.inShrinkWrapTable
        }
    },
    beginLayoutCycle: function(e) {
        var k = this, b = k.outerCt, j = k.lastOuterCtWidth || "", i = k.lastOuterCtHeight || "", l = k.lastOuterCtTableLayout || "", m, g, h, n, c, a, d;
        k.callParent(arguments);
        h = n = c = "";
        if (!e.widthModel.shrinkWrap && k.isShrinkWrapTpl) {
            if (Ext.isIE7m && Ext.isStrict) {
                g = k.getOverflowYStyle(e);
                if (g === "auto" || g === "scroll") {
                    a = true
                }
            }
            if (!a) {
                h = "100%"
            }
            d = k.owner.hierarchyStateInner;
            m = k.getOverflowXStyle(e);
            c = d.inShrinkWrapTable || m === "auto" || m === "scroll" ? "" : "fixed"
        }
        if (!e.heightModel.shrinkWrap && !Ext.supports.PercentageHeightOverflowBug) {
            n = "100%"
        }
        if (h !== j || k.hasOuterCtPxWidth) {
            b.setStyle("width", h);
            k.lastOuterCtWidth = h;
            k.hasOuterCtPxWidth = false
        }
        if (c !== l) {
            b.setStyle("table-layout", c);
            k.lastOuterCtTableLayout = c
        }
        if (n !== i || k.hasOuterCtPxHeight) {
            b.setStyle("height", n);
            k.lastOuterCtHeight = n;
            k.hasOuterCtPxHeight = false
        }
        if (k.hasInnerCtPxHeight) {
            k.innerCt.setStyle("height", "");
            k.hasInnerCtPxHeight = false
        }
        e.state.overflowAdjust = k.lastOverflowAdjust
    },
    calculate: function(c) {
        var a = this
          , b = c.state
          , e = a.getContainerSize(c, true)
          , d = b.calculatedItems || (b.calculatedItems = a.calculateItems ? a.calculateItems(c, e) : true);
        a.setCtSizeIfNeeded(c, e);
        if (d && c.hasDomProp("containerChildrenSizeDone")) {
            a.calculateContentSize(c);
            if (e.gotAll) {
                if (a.manageOverflow && !c.state.secondPass && !a.reserveScrollbar) {
                    a.calculateOverflow(c, e)
                }
                return
            }
        }
        a.done = false
    },
    calculateContentSize: function(g) {
        var e = this
          , a = (g.widthModel.shrinkWrap ? 1 : 0) | (g.heightModel.shrinkWrap ? 2 : 0)
          , c = a & 1 || undefined
          , h = a & 2 || undefined
          , d = 0
          , b = g.props;
        if (c) {
            if (isNaN(b.contentWidth)) {
                ++d
            } else {
                c = undefined
            }
        }
        if (h) {
            if (isNaN(b.contentHeight)) {
                ++d
            } else {
                h = undefined
            }
        }
        if (d) {
            if (c && !g.setContentWidth(e.measureContentWidth(g))) {
                e.done = false
            }
            if (h && !g.setContentHeight(e.measureContentHeight(g))) {
                e.done = false
            }
        }
    },
    calculateOverflow: function(c) {
        var h = this, b, j, a, g, e, d, i;
        e = h.getOverflowXStyle(c) === "auto";
        d = h.getOverflowYStyle(c) === "auto";
        if (e || d) {
            a = Ext.getScrollbarSize();
            i = c.overflowContext.el.dom;
            g = 0;
            if (i.scrollWidth > i.clientWidth) {
                g |= 1
            }
            if (i.scrollHeight > i.clientHeight) {
                g |= 2
            }
            b = d && g & 2 ? a.width : 0;
            j = e && g & 1 ? a.height : 0;
            if (b !== h.lastOverflowAdjust.width || j !== h.lastOverflowAdjust.height) {
                h.done = false;
                c.invalidate({
                    state: {
                        overflowAdjust: {
                            width: b,
                            height: j
                        },
                        overflowState: g,
                        secondPass: true
                    }
                })
            }
        }
    },
    completeLayout: function(a) {
        this.lastOverflowAdjust = a.state.overflowAdjust
    },
    doRenderPadding: function(b, d) {
        var c = d.$layout
          , a = d.$layout.owner
          , e = a[a.contentPaddingProperty];
        if (c.managePadding && e) {
            b.push("padding:", Ext.Element.unitizeBox(e))
        }
    },
    finishedLayout: function(b) {
        var a = this.innerCt;
        this.callParent(arguments);
        if (Ext.isIEQuirks || Ext.isIE8m) {
            a.repaint()
        }
        if (Ext.isOpera) {
            a.setStyle("position", "relative");
            a.dom.scrollWidth;
            a.setStyle("position", "")
        }
    },
    getContainerSize: function(b, c) {
        var a = this.callParent(arguments)
          , d = b.state.overflowAdjust;
        if (d) {
            a.width -= d.width;
            a.height -= d.height
        }
        return a
    },
    getRenderData: function() {
        var a = this.owner
          , b = this.callParent();
        if ((Ext.isIEQuirks || Ext.isIE7m) && (a.shrinkWrap & 1 || a.floating && !a.width)) {
            b.shrinkWrapWidth = true
        }
        return b
    },
    getRenderTarget: function() {
        return this.innerCt
    },
    getElementTarget: function() {
        return this.innerCt
    },
    getOverflowXStyle: function(a) {
        return a.overflowXStyle || (a.overflowXStyle = this.owner.scrollFlags.overflowX || a.overflowContext.getStyle("overflow-x"))
    },
    getOverflowYStyle: function(a) {
        return a.overflowYStyle || (a.overflowYStyle = this.owner.scrollFlags.overflowY || a.overflowContext.getStyle("overflow-y"))
    },
    initContextItems: function(c) {
        var b = this
          , d = c.target
          , a = b.owner.customOverflowEl;
        c.outerCtContext = c.getEl("outerCt", b);
        c.innerCtContext = c.getEl("innerCt", b);
        if (a) {
            c.overflowContext = c.getEl(a)
        } else {
            c.overflowContext = c.targetContext
        }
        if (d[d.contentPaddingProperty] !== undefined) {
            c.paddingContext = b.isShrinkWrapTpl ? c.innerCtContext : c.outerCtContext
        }
    },
    initLayout: function() {
        var c = this
          , b = Ext.getScrollbarSize().width
          , a = c.owner;
        c.callParent();
        if (b && c.manageOverflow && !c.hasOwnProperty("lastOverflowAdjust")) {
            if (a.autoScroll || c.reserveScrollbar) {
                c.lastOverflowAdjust = {
                    width: b,
                    height: 0
                }
            }
        }
    },
    insertTableCt: function(b) {
        var h = this, a = h.owner, c = 0, e, g, k, d, j;
        e = Ext.XTemplate.getTpl(this, "tableTpl");
        e.renderPadding = h.doRenderPadding;
        h.outerCt.dom.removeChild(h.innerCt.dom);
        g = document.createDocumentFragment();
        k = h.innerCt.dom.childNodes;
        d = k.length;
        for (; c < d; c++) {
            g.appendChild(k[0])
        }
        j = h.getTarget();
        j.dom.innerHTML = e.apply({
            $layout: h,
            ownerId: h.owner.id
        });
        j.down("td").dom.appendChild(g);
        h.applyChildEls(a.el, a.id);
        h.isShrinkWrapTpl = true;
        b.removeEl(h.outerCt);
        b.removeEl(h.innerCt);
        h.initContextItems(b)
    },
    measureContentHeight: function(b) {
        var a = this.outerCt.getHeight()
          , c = b.target;
        if (this.managePadding && c[c.contentPaddingProperty] === undefined) {
            a += b.targetContext.getPaddingInfo().height
        }
        return a
    },
    measureContentWidth: function(b) {
        var a = this.outerCt.getWidth()
          , c = b.target;
        if (this.managePadding && c[c.contentPaddingProperty] === undefined) {
            a += b.targetContext.getPaddingInfo().width
        }
        return a
    },
    setCtSizeIfNeeded: function(d, n) {
        var t = this, l = n.width, i = n.height, g = d.paddingContext.getPaddingInfo(), j = t.getTarget(), e = t.getOverflowXStyle(d), k = t.getOverflowYStyle(d), o = e === "auto" || e === "scroll", m = k === "auto" || k === "scroll", p = Ext.getScrollbarSize(), q = t.isShrinkWrapTpl, b = t.manageOverflow, a, s, h, c;
        if (l && !d.widthModel.shrinkWrap && (Ext.isIE7m && Ext.isStrict && q && m || Ext.isIEQuirks && !q && !o)) {
            if (!b) {
                if (m && j.dom.scrollHeight > j.dom.clientHeight) {
                    l -= p.width
                }
            }
            d.outerCtContext.setProp("width", l + g.width);
            t.hasOuterCtPxWidth = true
        }
        if (i && !d.heightModel.shrinkWrap) {
            if (Ext.supports.PercentageHeightOverflowBug) {
                s = true
            }
            if (Ext.isIE8 && Ext.isStrict || Ext.isIE7m && Ext.isStrict && q) {
                h = true;
                c = !Ext.isIE8
            }
            if ((s || h) && o && j.dom.scrollWidth > j.dom.clientWidth) {
                i -= p.height
            }
            if (s) {
                d.outerCtContext.setProp("height", i + g.height);
                t.hasOuterCtPxHeight = true
            }
            if (h) {
                if (c) {
                    i += g.height
                }
                d.innerCtContext.setProp("height", i);
                t.hasInnerCtPxHeight = true
            }
        }
        if (Ext.isIE7 && Ext.isStrict && !q && k === "auto") {
            a = e === "auto" ? "overflow-x" : "overflow-y";
            j.setStyle(a, "hidden");
            j.setStyle(a, "auto")
        }
    },
    setupRenderTpl: function(a) {
        this.callParent(arguments);
        a.renderPadding = this.doRenderPadding
    },
    getContentTarget: function() {
        return this.innerCt
    }
});
Ext.define("Ext.ZIndexManager", {
    alternateClassName: "Ext.WindowGroup",
    statics: {
        zBase: 9000
    },
    constructor: function(a) {
        var b = this;
        b.list = {};
        b.zIndexStack = [];
        b.front = null;
        if (a) {
            if (a.isContainer) {
                a.on("resize", b._onContainerResize, b);
                b.zseed = Ext.Number.from(b.rendered ? a.getEl().getStyle("zIndex") : undefined, b.getNextZSeed());
                b.targetEl = a.getTargetEl();
                b.container = a
            } else {
                Ext.EventManager.onWindowResize(b._onContainerResize, b);
                b.zseed = b.getNextZSeed();
                b.targetEl = Ext.get(a)
            }
        } else {
            Ext.EventManager.onWindowResize(b._onContainerResize, b);
            b.zseed = b.getNextZSeed();
            Ext.onDocumentReady(function() {
                b.targetEl = Ext.getBody()
            })
        }
    },
    getNextZSeed: function() {
        return Ext.ZIndexManager.zBase += 10000
    },
    setBase: function(b) {
        this.zseed = b;
        var a = this.assignZIndices();
        this._activateLast();
        return a
    },
    assignZIndices: function() {
        var c = this.zIndexStack, b = c.length, e = 0, h = this.zseed, d, g;
        for (; e < b; e++) {
            d = c[e];
            if (d && !d.hidden) {
                h = d.setZIndex(h);
                if (d.modal) {
                    g = d
                }
            }
        }
        if (g) {
            this._showModalMask(g)
        }
        return h
    },
    _setActiveChild: function(b, a) {
        var c = this.front
          , d = b.preventFocusOnActivate;
        if (b !== c) {
            if (c && !c.destroying) {
                c.setActive(false, b)
            }
            this.front = b;
            if (b && b != a) {
                b.preventFocusOnActivate = b.preventFocusOnActivate || a && (a.preventFocusOnActivate || !a.focusOnToFront);
                b.setActive(true);
                if (b.modal) {
                    this._showModalMask(b)
                }
                b.preventFocusOnActivate = d
            }
        }
    },
    onComponentHide: function(a) {
        this._activateLast()
    },
    _activateLast: function() {
        var d = this, a = d.zIndexStack, c = a.length - 1, b;
        for (; c >= 0 && a[c].hidden; --c) {}
        if (b = a[c]) {
            d._setActiveChild(b, d.front);
            if (b.modal) {
                return
            }
        } else {
            if (d.front && !d.front.destroying) {
                d.front.setActive(false)
            }
            d.front = null
        }
        for (; c >= 0; --c) {
            b = a[c];
            if (b.isVisible() && b.modal) {
                d._showModalMask(b);
                return
            }
        }
        d._hideModalMask()
    },
    _showModalMask: function(b) {
        var d = this, h = b.el.getStyle("zIndex") - 4, c = b.floatParent ? b.floatParent.getTargetEl() : b.container, a = d.mask, g = d.maskShim, e;
        if (!a) {
            if (Ext.isIE6) {
                g = d.maskShim = Ext.getBody().createChild({
                    tag: "iframe",
                    cls: Ext.baseCSSPrefix + "shim " + Ext.baseCSSPrefix + "mask-shim"
                });
                g.setVisibilityMode(Ext.Element.DISPLAY)
            }
            a = d.mask = Ext.getBody().createChild({
                cls: Ext.baseCSSPrefix + "mask",
                style: "height:0;width:0"
            });
            a.setVisibilityMode(Ext.Element.DISPLAY);
            a.on("click", d._onMaskClick, d)
        }
        a.maskTarget = c;
        e = d.getMaskBox();
        if (g) {
            g.setStyle("zIndex", h);
            g.show();
            g.setBox(e)
        }
        a.setStyle("zIndex", h);
        a.show();
        a.setBox(e)
    },
    _hideModalMask: function() {
        var b = this.mask
          , a = this.maskShim;
        if (b && b.isVisible()) {
            b.maskTarget = undefined;
            b.hide();
            if (a) {
                a.hide()
            }
        }
    },
    _onMaskClick: function() {
        if (this.front) {
            this.front.focus()
        }
    },
    getMaskBox: function() {
        var a = this.mask.maskTarget;
        if (a.dom === document.body) {
            return {
                height: Math.max(document.body.scrollHeight, Ext.dom.Element.getDocumentHeight()),
                width: Math.max(document.body.scrollWidth, document.documentElement.clientWidth),
                x: 0,
                y: 0
            }
        } else {
            return a.getBox()
        }
    },
    _onContainerResize: function() {
        var c = this, b = c.mask, a = c.maskShim, d;
        if (b && b.isVisible()) {
            b.hide();
            if (a) {
                a.hide()
            }
            d = c.getMaskBox();
            if (a) {
                a.setSize(d);
                a.show()
            }
            b.setSize(d);
            b.show()
        }
    },
    register: function(b) {
        var c = this
          , a = b.afterHide;
        if (b.zIndexManager) {
            b.zIndexManager.unregister(b)
        }
        b.zIndexManager = c;
        c.list[b.id] = b;
        c.zIndexStack.push(b);
        b.afterHide = function() {
            a.apply(b, arguments);
            c.onComponentHide(b)
        }
    },
    unregister: function(a) {
        var b = this
          , c = b.list;
        delete a.zIndexManager;
        if (c && c[a.id]) {
            delete c[a.id];
            delete a.afterHide;
            Ext.Array.remove(b.zIndexStack, a);
            b._activateLast()
        }
    },
    get: function(a) {
        return a.isComponent ? a : this.list[a]
    },
    bringToFront: function(b, d) {
        var c = this
          , a = false
          , e = c.zIndexStack;
        b = c.get(b);
        if (b !== c.front) {
            Ext.Array.remove(e, b);
            if (b.preventBringToFront) {
                e.unshift(b)
            } else {
                e.push(b)
            }
            c.assignZIndices();
            if (!d) {
                c._activateLast()
            }
            a = true;
            c.front = b;
            if (b.modal) {
                c._showModalMask(b)
            }
        }
        return a
    },
    sendToBack: function(a) {
        var b = this;
        a = b.get(a);
        Ext.Array.remove(b.zIndexStack, a);
        b.zIndexStack.unshift(a);
        b.assignZIndices();
        this._activateLast();
        return a
    },
    hideAll: function() {
        var b = this.list, a, c;
        for (c in b) {
            if (b.hasOwnProperty(c)) {
                a = b[c];
                if (a.isComponent && a.isVisible()) {
                    a.hide()
                }
            }
        }
    },
    hide: function() {
        var d = 0, b = this.zIndexStack, a = b.length, c;
        this.tempHidden = [];
        for (; d < a; d++) {
            c = b[d];
            if (c.isVisible()) {
                this.tempHidden.push(c);
                c.el.hide();
                c.hidden = true
            }
        }
    },
    show: function() {
        var c = 0, d = this.tempHidden, a = d ? d.length : 0, b;
        for (; c < a; c++) {
            b = d[c];
            b.el.show();
            b.hidden = false;
            b.setPosition(b.x, b.y)
        }
        delete this.tempHidden
    },
    getActive: function() {
        return this.front
    },
    getBy: function(g, e) {
        var h = [], d = 0, b = this.zIndexStack, a = b.length, c;
        for (; d < a; d++) {
            c = b[d];
            if (g.call(e || c, c) !== false) {
                h.push(c)
            }
        }
        return h
    },
    each: function(c, b) {
        var d = this.list, e, a;
        for (e in d) {
            if (d.hasOwnProperty(e)) {
                a = d[e];
                if (a.isComponent && c.call(b || a, a) === false) {
                    return
                }
            }
        }
    },
    eachBottomUp: function(g, e) {
        var b = this.zIndexStack, d = 0, a = b.length, c;
        for (; d < a; d++) {
            c = b[d];
            if (c.isComponent && g.call(e || c, c) === false) {
                return
            }
        }
    },
    eachTopDown: function(e, d) {
        var a = this.zIndexStack, c = a.length, b;
        for (; c-- > 0; ) {
            b = a[c];
            if (b.isComponent && e.call(d || b, b) === false) {
                return
            }
        }
    },
    destroy: function() {
        var b = this, c = b.list, a, d;
        for (d in c) {
            if (c.hasOwnProperty(d)) {
                a = c[d];
                if (a.isComponent) {
                    a.destroy()
                }
            }
        }
        delete b.zIndexStack;
        delete b.list;
        delete b.container;
        delete b.targetEl
    }
}, function() {
    Ext.WindowManager = Ext.WindowMgr = new this()
});
Ext.define("Ext.layout.component.Component", {
    extend: Ext.layout.Layout,
    type: "component",
    isComponentLayout: true,
    nullBox: {},
    usesContentHeight: true,
    usesContentWidth: true,
    usesHeight: true,
    usesWidth: true,
    beginLayoutCycle: function(c, p) {
        var k = this, b = k.owner, e = c.ownerCtContext, g = c.heightModel, h = c.widthModel, i = b.el.dom === document.body, d = b.lastBox || k.nullBox, n = b.el.lastBox || k.nullBox, a = !i, m, o, l, j;
        k.callParent(arguments);
        if (p) {
            if (k.usesContentWidth) {
                ++c.consumersContentWidth
            }
            if (k.usesContentHeight) {
                ++c.consumersContentHeight
            }
            if (k.usesWidth) {
                ++c.consumersWidth
            }
            if (k.usesHeight) {
                ++c.consumersHeight
            }
            if (e && !e.hasRawContent) {
                m = b.ownerLayout;
                if (m.usesWidth) {
                    ++c.consumersWidth
                }
                if (m.usesHeight) {
                    ++c.consumersHeight
                }
            }
        }
        if (h.configured) {
            l = h.names.width;
            if (!i) {
                a = p ? b[l] !== n.width : h.constrained
            }
            c.setWidth(b[l], a)
        } else {
            if (c.isTopLevel) {
                if (h.calculated) {
                    o = d.width;
                    c.setWidth(o, o != n.width)
                }
                o = d.x;
                c.setProp("x", o, o != n.x)
            }
        }
        if (g.configured) {
            j = g.names.height;
            if (!i) {
                a = p ? b[j] !== n.height : g.constrained
            }
            c.setHeight(b[j], a)
        } else {
            if (c.isTopLevel) {
                if (g.calculated) {
                    o = d.height;
                    c.setHeight(o, o != n.height)
                }
                o = d.y;
                c.setProp("y", o, o != n.y)
            }
        }
    },
    finishedLayout: function(b) {
        var h = this, l = b.children, a = h.owner, e, c, k, d, g, j;
        if (l) {
            e = l.length;
            for (c = 0; c < e; c++) {
                k = l[c];
                k.el.lastBox = k.props
            }
        }
        b.previousSize = h.lastComponentSize;
        h.lastComponentSize = a.el.lastBox = g = b.props;
        d = a.lastBox || (a.lastBox = {});
        d.x = g.x;
        d.y = g.y;
        d.width = g.width;
        d.height = g.height;
        d.invalid = false;
        h.callParent(arguments)
    },
    notifyOwner: function(d) {
        var c = this
          , a = c.lastComponentSize
          , e = d.previousSize
          , b = [a.width, a.height];
        if (e) {
            b.push(e.width, e.height)
        }
        c.owner.afterComponentLayout.apply(c.owner, b)
    },
    getTarget: function() {
        return this.owner.el
    },
    getRenderTarget: function() {
        return this.owner.el
    },
    cacheTargetInfo: function(b) {
        var a = this, d = a.targetInfo, c;
        if (!d) {
            c = b.getEl("getTarget", a);
            a.targetInfo = d = {
                padding: c.getPaddingInfo(),
                border: c.getBorderInfo()
            }
        }
        return d
    },
    measureAutoDimensions: function(m, i) {
        var u = this, a = u.owner, q = a.layout, d = m.heightModel, h = m.widthModel, c = m.boxParent, n = m.isBoxParent, b = m.props, j, v = {
            gotWidth: false,
            gotHeight: false,
            isContainer: j = !m.hasRawContent
        }, t = i || 3, p, e, k = 0, g = 0, l, o, s;
        if (h.shrinkWrap && m.consumersContentWidth) {
            ++k;
            p = !(t & 1);
            if (j) {
                if (p) {
                    v.contentWidth = 0;
                    v.gotWidth = true;
                    ++g
                } else {
                    if ((v.contentWidth = m.getProp("contentWidth")) !== undefined) {
                        v.gotWidth = true;
                        ++g
                    }
                }
            } else {
                o = b.contentWidth;
                if (typeof o == "number") {
                    v.contentWidth = o;
                    v.gotWidth = true;
                    ++g
                } else {
                    if (p) {
                        l = true
                    } else {
                        if (!m.hasDomProp("containerChildrenSizeDone")) {
                            l = false
                        } else {
                            if (n || !c || c.widthModel.shrinkWrap) {
                                l = true
                            } else {
                                l = c.hasDomProp("width")
                            }
                        }
                    }
                    if (l) {
                        if (p) {
                            s = 0
                        } else {
                            if (q && q.measureContentWidth) {
                                s = q.measureContentWidth(m)
                            } else {
                                s = u.measureContentWidth(m)
                            }
                        }
                        if (!isNaN(v.contentWidth = s)) {
                            m.setContentWidth(s, true);
                            v.gotWidth = true;
                            ++g
                        }
                    }
                }
            }
        } else {
            if (h.natural && m.consumersWidth) {
                ++k;
                o = b.width;
                if (typeof o == "number") {
                    v.width = o;
                    v.gotWidth = true;
                    ++g
                } else {
                    if (n || !c) {
                        l = true
                    } else {
                        l = c.hasDomProp("width")
                    }
                    if (l) {
                        if (!isNaN(v.width = u.measureOwnerWidth(m))) {
                            m.setWidth(v.width, false);
                            v.gotWidth = true;
                            ++g
                        }
                    }
                }
            }
        }
        if (d.shrinkWrap && m.consumersContentHeight) {
            ++k;
            e = !(t & 2);
            if (j) {
                if (e) {
                    v.contentHeight = 0;
                    v.gotHeight = true;
                    ++g
                } else {
                    if ((v.contentHeight = m.getProp("contentHeight")) !== undefined) {
                        v.gotHeight = true;
                        ++g
                    }
                }
            } else {
                o = b.contentHeight;
                if (typeof o == "number") {
                    v.contentHeight = o;
                    v.gotHeight = true;
                    ++g
                } else {
                    if (e) {
                        l = true
                    } else {
                        if (!m.hasDomProp("containerChildrenSizeDone")) {
                            l = false
                        } else {
                            if (a.noWrap) {
                                l = true
                            } else {
                                if (!h.shrinkWrap) {
                                    l = (m.bodyContext || m).hasDomProp("width")
                                } else {
                                    if (n || !c || c.widthModel.shrinkWrap) {
                                        l = true
                                    } else {
                                        l = c.hasDomProp("width")
                                    }
                                }
                            }
                        }
                    }
                    if (l) {
                        if (e) {
                            s = 0
                        } else {
                            if (q && q.measureContentHeight) {
                                s = q.measureContentHeight(m)
                            } else {
                                s = u.measureContentHeight(m)
                            }
                        }
                        if (!isNaN(v.contentHeight = s)) {
                            m.setContentHeight(s, true);
                            v.gotHeight = true;
                            ++g
                        }
                    }
                }
            }
        } else {
            if (d.natural && m.consumersHeight) {
                ++k;
                o = b.height;
                if (typeof o == "number") {
                    v.height = o;
                    v.gotHeight = true;
                    ++g
                } else {
                    if (n || !c) {
                        l = true
                    } else {
                        l = c.hasDomProp("width")
                    }
                    if (l) {
                        if (!isNaN(v.height = u.measureOwnerHeight(m))) {
                            m.setHeight(v.height, false);
                            v.gotHeight = true;
                            ++g
                        }
                    }
                }
            }
        }
        if (c) {
            m.onBoxMeasured()
        }
        v.gotAll = g == k;
        return v
    },
    measureContentWidth: function(a) {
        return a.el.getWidth() - a.getFrameInfo().width
    },
    measureContentHeight: function(a) {
        return a.el.getHeight() - a.getFrameInfo().height
    },
    measureOwnerHeight: function(a) {
        return a.el.getHeight()
    },
    measureOwnerWidth: function(a) {
        return a.el.getWidth()
    }
});
Ext.define("Ext.layout.component.Auto", {
    alias: "layout.autocomponent",
    extend: Ext.layout.component.Component,
    type: "autocomponent",
    setHeightInDom: false,
    setWidthInDom: false,
    waitForOuterHeightInDom: false,
    waitForOuterWidthInDom: false,
    beginLayoutCycle: function(d, a) {
        var c = this
          , g = c.lastWidthModel
          , e = c.lastHeightModel
          , b = c.owner.el;
        c.callParent(arguments);
        if (g && g.fixed && d.widthModel.shrinkWrap) {
            b.setWidth(null)
        }
        if (e && e.fixed && d.heightModel.shrinkWrap) {
            b.setHeight(null)
        }
    },
    calculate: function(h) {
        var g = this, e = g.measureAutoDimensions(h), b = h.heightModel, c = h.widthModel, d, a;
        if (e.gotWidth) {
            if (c.shrinkWrap) {
                g.publishOwnerWidth(h, e.contentWidth)
            } else {
                if (g.publishInnerWidth) {
                    g.publishInnerWidth(h, e.width)
                }
            }
        } else {
            if (!c.auto && g.publishInnerWidth) {
                d = g.waitForOuterWidthInDom ? h.getDomProp("width") : h.getProp("width");
                if (d === undefined) {
                    g.done = false
                } else {
                    g.publishInnerWidth(h, d)
                }
            }
        }
        if (e.gotHeight) {
            if (b.shrinkWrap) {
                g.publishOwnerHeight(h, e.contentHeight)
            } else {
                if (g.publishInnerHeight) {
                    g.publishInnerHeight(h, e.height)
                }
            }
        } else {
            if (!b.auto && g.publishInnerHeight) {
                a = g.waitForOuterHeightInDom ? h.getDomProp("height") : h.getProp("height");
                if (a === undefined) {
                    g.done = false
                } else {
                    g.publishInnerHeight(h, a)
                }
            }
        }
        if (!e.gotAll) {
            g.done = false
        }
    },
    calculateOwnerHeightFromContentHeight: function(b, a) {
        return a + b.getFrameInfo().height
    },
    calculateOwnerWidthFromContentWidth: function(b, a) {
        return a + b.getFrameInfo().width
    },
    publishOwnerHeight: function(i, g) {
        var e = this, b = e.owner, a = e.calculateOwnerHeightFromContentHeight(i, g), h, d, c;
        if (isNaN(a)) {
            e.done = false
        } else {
            h = Ext.Number.constrain(a, b.minHeight, b.maxHeight);
            if (h == a) {
                d = e.setHeightInDom
            } else {
                c = e.sizeModels[h < a ? "constrainedMax" : "constrainedMin"];
                a = h;
                if (i.heightModel.calculatedFromShrinkWrap) {
                    i.heightModel = c
                } else {
                    i.invalidate({
                        heightModel: c
                    })
                }
            }
            i.setHeight(a, d)
        }
    },
    publishOwnerWidth: function(h, b) {
        var g = this, a = g.owner, e = g.calculateOwnerWidthFromContentWidth(h, b), i, d, c;
        if (isNaN(e)) {
            g.done = false
        } else {
            i = Ext.Number.constrain(e, a.minWidth, a.maxWidth);
            if (i == e) {
                d = g.setWidthInDom
            } else {
                c = g.sizeModels[i < e ? "constrainedMax" : "constrainedMin"];
                e = i;
                if (h.widthModel.calculatedFromShrinkWrap) {
                    h.widthModel = c
                } else {
                    h.invalidate({
                        widthModel: c
                    })
                }
            }
            h.setWidth(e, d)
        }
    }
});
Ext.define("Ext.container.AbstractContainer", {
    extend: Ext.Component,
    renderTpl: "{%this.renderContainer(out,values)%}",
    suspendLayout: false,
    autoDestroy: true,
    defaultType: "panel",
    detachOnRemove: true,
    isContainer: true,
    layoutCounter: 0,
    baseCls: Ext.baseCSSPrefix + "container",
    defaultLayoutType: "auto",
    initComponent: function() {
        var a = this;
        a.addEvents("afterlayout", "beforeadd", "beforeremove", "add", "remove");
        a.callParent();
        a.getLayout();
        a.initItems()
    },
    initItems: function() {
        var b = this
          , a = b.items;
        b.items = new Ext.util.AbstractMixedCollection(false,b.getComponentId);
        b.floatingItems = new Ext.util.MixedCollection(false,b.getComponentId);
        if (a) {
            if (!Ext.isArray(a)) {
                a = [a]
            }
            b.add(a)
        }
    },
    getFocusEl: function() {
        return this.getTargetEl()
    },
    finishRenderChildren: function() {
        this.callParent();
        var a = this.getLayout();
        if (a) {
            a.finishRender()
        }
    },
    beforeRender: function() {
        var b = this, a = b.getLayout(), c;
        b.callParent();
        if (!a.initialized) {
            a.initLayout()
        }
        c = a.targetCls;
        if (c) {
            b.applyTargetCls(c)
        }
    },
    applyTargetCls: function(a) {
        this.addCls(a)
    },
    afterComponentLayout: function() {
        var b = this.floatingItems.items, a = b.length, d, c;
        this.callParent(arguments);
        for (d = 0; d < a; d++) {
            c = b[d];
            if (!c.rendered && c.autoShow) {
                c.show()
            }
        }
    },
    onPosition: function() {
        this.callParent(arguments);
        this.repositionFloatingItems()
    },
    onResize: function() {
        this.callParent(arguments);
        this.repositionFloatingItems()
    },
    repositionFloatingItems: function() {
        var b = this.floatingItems.items, a = b.length, d, c;
        for (d = 0; d < a; d++) {
            c = b[d];
            if (c.el && !c.hidden) {
                c.setPosition(c.x, c.y)
            }
        }
    },
    setupRenderTpl: function(a) {
        this.callParent(arguments);
        this.getLayout().setupRenderTpl(a)
    },
    getDefaultContentTarget: function() {
        return this.el
    },
    getContentTarget: function() {
        return this.getLayout().getContentTarget()
    },
    setLayout: function(b) {
        var a = this.layout;
        if (a && a.isLayout && a != b) {
            a.setOwner(null)
        }
        this.layout = b;
        b.setOwner(this)
    },
    getLayout: function() {
        var a = this;
        if (!a.layout || !a.layout.isLayout) {
            a.setLayout(Ext.layout.Layout.create(a.layout, a.self.prototype.layout || a.defaultLayoutType))
        }
        return a.layout
    },
    doLayout: function() {
        this.updateLayout();
        return this
    },
    afterLayout: function(b) {
        var a = this;
        ++a.layoutCounter;
        if (a.hasListeners.afterlayout) {
            a.fireEvent("afterlayout", a, b)
        }
    },
    prepareItems: function(b, d) {
        if (Ext.isArray(b)) {
            b = b.slice()
        } else {
            b = [b]
        }
        var g = this, c = 0, a = b.length, e;
        for (; c < a; c++) {
            e = b[c];
            if (e == null) {
                Ext.Array.erase(b, c, 1);
                --c;
                --a
            } else {
                if (d) {
                    e = this.applyDefaults(e)
                }
                e.isContained = g;
                b[c] = g.lookupComponent(e);
                delete e.isContained;
                delete b[c].isContained
            }
        }
        return b
    },
    applyDefaults: function(a) {
        var b = this.defaults;
        if (b) {
            if (Ext.isFunction(b)) {
                b = b.call(this, a)
            }
            if (Ext.isString(a)) {
                a = Ext.ComponentManager.get(a)
            }
            Ext.applyIf(a, b)
        }
        return a
    },
    lookupComponent: function(a) {
        return typeof a == "string" ? Ext.ComponentManager.get(a) : Ext.ComponentManager.create(a, this.defaultType)
    },
    getComponentId: function(a) {
        if (a.getItemId) {
            return a.getItemId()
        }
    },
    add: function() {
        var j = this, g = Ext.Array.slice(arguments), d = typeof g[0] == "number" ? g.shift() : -1, c = j.getLayout(), l, h, b, a, m, k, e;
        if (g.length == 1 && Ext.isArray(g[0])) {
            h = g[0];
            l = true
        } else {
            h = g
        }
        e = h = j.prepareItems(h, true);
        a = h.length;
        if (j.rendered) {
            Ext.suspendLayouts()
        }
        if (!l && a == 1) {
            e = h[0]
        }
        for (b = 0; b < a; b++) {
            m = h[b];
            if (!m) {
                Ext.Error.raise("Cannot add null item to Container with itemId/id: " + j.getItemId())
            }
            k = d < 0 ? j.items.length : d + b;
            if (m.floating) {
                j.floatingItems.add(m);
                m.onAdded(j, k);
                if (j.hasListeners.add) {
                    j.fireEvent("add", j, m, k)
                }
            } else {
                if ((!j.hasListeners.beforeadd || j.fireEvent("beforeadd", j, m, k) !== false) && j.onBeforeAdd(m) !== false) {
                    j.items.insert(k, m);
                    m.onAdded(j, k);
                    j.onAdd(m, k);
                    c.onAdd(m, k);
                    if (j.hasListeners.add) {
                        j.fireEvent("add", j, m, k)
                    }
                }
            }
        }
        j.updateLayout();
        if (j.rendered) {
            Ext.resumeLayouts(true)
        }
        return e
    },
    onAdd: Ext.emptyFn,
    onRemove: Ext.emptyFn,
    insert: function(b, a) {
        return this.add(b, a)
    },
    move: function(b, d) {
        var a = this.items, c;
        c = a.removeAt(b);
        if (c === false) {
            return false
        }
        a.insert(d, c);
        this.onMove(c, b, d);
        this.updateLayout();
        return c
    },
    onMove: Ext.emptyFn,
    onBeforeAdd: function(a) {
        if (a.ownerCt && a.ownerCt !== this) {
            a.ownerCt.remove(a, false)
        }
    },
    remove: function(a, b) {
        var d = this
          , e = d.getComponent(a);
        if (Ext.isDefined(Ext.global.console) && !e) {
            Ext.global.console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")
        }
        if (e && (!d.hasListeners.beforeremove || d.fireEvent("beforeremove", d, e) !== false)) {
            d.doRemove(e, b);
            if (d.hasListeners.remove) {
                d.fireEvent("remove", d, e)
            }
            if (!d.destroying && !e.floating) {
                d.updateLayout()
            }
        }
        return e
    },
    doRemove: function(c, b) {
        b = b === true || b !== false && this.autoDestroy;
        var g = this
          , e = g.layout
          , a = e && g.rendered
          , d = c.destroying || b
          , h = c.floating;
        if (h) {
            g.floatingItems.remove(c)
        } else {
            g.items.remove(c)
        }
        if (a && !h) {
            if (e.running) {
                Ext.AbstractComponent.cancelLayout(c, d)
            }
            e.onRemove(c, d)
        }
        c.onRemoved(d);
        g.onRemove(c, d);
        if (b) {
            c.destroy()
        } else {
            if (a && !h) {
                e.afterRemove(c)
            }
            if (g.detachOnRemove && c.rendered) {
                g.detachComponent(c)
            }
        }
    },
    detachComponent: function(a) {
        Ext.getDetachedBody().appendChild(a.getEl())
    },
    removeAll: function(c) {
        var h = this, e = h.items.items.slice().concat(h.floatingItems.items), b = [], d = 0, a = e.length, g;
        h.suspendLayouts();
        for (; d < a; d++) {
            g = e[d];
            h.remove(g, c);
            if (g.ownerCt !== h) {
                b.push(g)
            }
        }
        h.resumeLayouts(!!a);
        return b
    },
    getRefItems: function(c) {
        var h = this, d = h.items.items, b = d.length, e = 0, g, a = [];
        for (; e < b; e++) {
            g = d[e];
            a.push(g);
            if (c && g.getRefItems) {
                a.push.apply(a, g.getRefItems(true))
            }
        }
        a.push.apply(a, h.floatingItems.items);
        return a
    },
    cascade: function(l, m, a) {
        var k = this, e = k.items ? k.items.items : [], g = e.length, d = 0, j, h = a ? a.concat(k) : [k], b = h.length - 1;
        if (l.apply(m || k, h) !== false) {
            for (; d < g; d++) {
                j = e[d];
                if (j.cascade) {
                    j.cascade(l, m, a)
                } else {
                    h[b] = j;
                    l.apply(m || e, h)
                }
            }
        }
        return this
    },
    isAncestor: function(a) {
        while (a) {
            if (a.ownerCt === this) {
                return true
            }
            a = a.ownerCt
        }
    },
    getComponent: function(a) {
        if (Ext.isObject(a)) {
            a = a.getItemId()
        }
        var b = this.items.get(a);
        if (!b && typeof a != "number") {
            b = this.floatingItems.get(a)
        }
        return b
    },
    query: function(a) {
        a = a || "*";
        return Ext.ComponentQuery.query(a, this)
    },
    queryBy: function(g, e) {
        var c = [], b = this.getRefItems(true), d = 0, a = b.length, h;
        for (; d < a; ++d) {
            h = b[d];
            if (g.call(e || h, h) !== false) {
                c.push(h)
            }
        }
        return c
    },
    queryById: function(a) {
        return this.down("#" + a)
    },
    child: function(a) {
        if (a && a.isComponent) {
            a = "#" + Ext.escapeId(a.getItemId())
        }
        a = a || "";
        return this.query("> " + a)[0] || null
    },
    contains: function(c, b) {
        var a = false;
        if (b) {
            this.cascade(function(d) {
                if (d.contains && d.contains(c)) {
                    a = true;
                    return false
                }
            });
            return a
        } else {
            return this.items.contains(c) || this.floatingItems.contains(c)
        }
    },
    nextChild: function(e, b) {
        var c = this, a, d = c.items.indexOf(e);
        if (d !== -1) {
            a = b ? Ext.ComponentQuery(b, c.items.items.slice(d + 1)) : c.items.getAt(d + 1);
            if (!a && c.ownerCt) {
                a = c.ownerCt.nextChild(c, b)
            }
        }
        return a
    },
    prevChild: function(e, b) {
        var c = this, a, d = c.items.indexOf(e);
        if (d !== -1) {
            a = b ? Ext.ComponentQuery(b, c.items.items.slice(d + 1)) : c.items.getAt(d + 1);
            if (!a && c.ownerCt) {
                a = c.ownerCt.nextChild(c, b)
            }
        }
        return a
    },
    down: function(a) {
        if (a && a.isComponent) {
            a = "#" + Ext.escapeId(a.getItemId())
        }
        a = a || "";
        return this.query(a)[0] || null
    },
    enable: function() {
        this.callParent(arguments);
        var d = this.getChildItemsToDisable(), c = d.length, b, a;
        for (a = 0; a < c; a++) {
            b = d[a];
            if (b.resetDisable) {
                b.enable()
            }
        }
        return this
    },
    disable: function() {
        this.callParent(arguments);
        var d = this.getChildItemsToDisable(), c = d.length, b, a;
        for (a = 0; a < c; a++) {
            b = d[a];
            if (b.resetDisable !== false && !b.disabled) {
                b.disable();
                b.resetDisable = true
            }
        }
        return this
    },
    getChildItemsToDisable: function() {
        return this.query("[isFormField],button")
    },
    beforeDestroy: function() {
        var b = this, a = b.items, d = b.floatingItems, e;
        if (a) {
            while (e = a.first()) {
                b.doRemove(e, true)
            }
        }
        if (d) {
            while (e = d.first()) {
                b.doRemove(e, true)
            }
        }
        Ext.destroy(b.layout);
        b.callParent()
    }
});
Ext.define("Ext.container.Container", {
    extend: Ext.container.AbstractContainer,
    alias: "widget.container",
    alternateClassName: "Ext.Container",
    getChildByElement: function(e, a) {
        var h, c, b = 0, d = this.getRefItems(), g = d.length;
        e = Ext.getDom(e);
        for (; b < g; b++) {
            h = d[b];
            c = h.getEl();
            if (c && (c.dom === e || c.contains(e))) {
                return a && h.getChildByElement ? h.getChildByElement(e, a) : h
            }
        }
        return null
    }
});
Ext.define("Ext.util.KeyMap", {
    alternateClassName: "Ext.KeyMap",
    eventName: "keydown",
    constructor: function(a) {
        var b = this;
        if (arguments.length !== 1 || typeof a === "string" || a.dom || a.tagName || a === document || a.isComponent) {
            b.legacyConstructor.apply(b, arguments);
            return
        }
        Ext.apply(b, a);
        b.bindings = [];
        if (!b.target.isComponent) {
            b.target = Ext.get(b.target)
        }
        if (b.binding) {
            b.addBinding(b.binding)
        } else {
            if (a.key) {
                b.addBinding(a)
            }
        }
        b.enable()
    },
    legacyConstructor: function(b, d, a) {
        var c = this;
        Ext.apply(c, {
            target: Ext.get(b),
            eventName: a || c.eventName,
            bindings: []
        });
        if (d) {
            c.addBinding(d)
        }
        c.enable()
    },
    addBinding: function(e) {
        var c = this, d = e.key, b, a;
        if (c.processing) {
            c.bindings = bindings.slice(0)
        }
        if (Ext.isArray(e)) {
            for (b = 0,
            a = e.length; b < a; b++) {
                c.addBinding(e[b])
            }
            return
        }
        c.bindings.push(Ext.apply({
            keyCode: c.processKeys(d)
        }, e))
    },
    removeBinding: function(g) {
        var e = this, h = e.bindings, a = h.length, b, d, c;
        if (e.processing) {
            e.bindings = h.slice(0)
        }
        c = e.processKeys(g.key);
        for (b = 0; b < a; ++b) {
            d = h[b];
            if (d.fn === g.fn && d.scope === g.scope) {
                if (g.alt == d.alt && g.crtl == d.crtl && g.shift == d.shift) {
                    if (Ext.Array.equals(d.keyCode, c)) {
                        Ext.Array.erase(e.bindings, b, 1);
                        return
                    }
                }
            }
        }
    },
    processKeys: function(g) {
        var h = false, d, e, b, a, c;
        if (Ext.isString(g)) {
            e = [];
            b = g.toUpperCase();
            for (c = 0,
            a = b.length; c < a; ++c) {
                e.push(b.charCodeAt(c))
            }
            g = e;
            h = true
        }
        if (!Ext.isArray(g)) {
            g = [g]
        }
        if (!h) {
            for (c = 0,
            a = g.length; c < a; ++c) {
                d = g[c];
                if (Ext.isString(d)) {
                    g[c] = d.toUpperCase().charCodeAt(0)
                }
            }
        }
        return g
    },
    handleTargetEvent: function() {
        var a = /input|textarea/i;
        return function(g) {
            var e = this, j, c, b, h, d;
            if (e.enabled) {
                j = e.bindings;
                c = 0;
                b = j.length;
                g = e.processEvent.apply(e || e.processEventScope, arguments);
                if (e.ignoreInputFields) {
                    h = g.target;
                    d = h.contentEditable;
                    if (a.test(h.tagName) || d === "" || d === "true") {
                        return
                    }
                }
                if (!g.getKey) {
                    return g
                }
                e.processing = true;
                for (; c < b; ++c) {
                    e.processBinding(j[c], g)
                }
                e.processing = false
            }
        }
    }(),
    processEvent: Ext.identityFn,
    processBinding: function(g, a) {
        if (this.checkModifiers(g, a)) {
            var h = a.getKey(), k = g.fn || g.handler, l = g.scope || this, j = g.keyCode, b = g.defaultEventAction, c, e, d = new Ext.EventObjectImpl(a);
            for (c = 0,
            e = j.length; c < e; ++c) {
                if (h === j[c]) {
                    if (k.call(l, h, a) !== true && b) {
                        d[b]()
                    }
                    break
                }
            }
        }
    },
    checkModifiers: function(j, g) {
        var d = ["shift", "ctrl", "alt"], c = 0, a = d.length, h, b;
        for (; c < a; ++c) {
            b = d[c];
            h = j[b];
            if (!(h === undefined || h === g[b + "Key"])) {
                return false
            }
        }
        return true
    },
    on: function(b, d, c) {
        var h, a, e, g;
        if (Ext.isObject(b) && !Ext.isArray(b)) {
            h = b.key;
            a = b.shift;
            e = b.ctrl;
            g = b.alt
        } else {
            h = b
        }
        this.addBinding({
            key: h,
            shift: a,
            ctrl: e,
            alt: g,
            fn: d,
            scope: c
        })
    },
    un: function(b, d, c) {
        var h, a, e, g;
        if (Ext.isObject(b) && !Ext.isArray(b)) {
            h = b.key;
            a = b.shift;
            e = b.ctrl;
            g = b.alt
        } else {
            h = b
        }
        this.removeBinding({
            key: h,
            shift: a,
            ctrl: e,
            alt: g,
            fn: d,
            scope: c
        })
    },
    isEnabled: function() {
        return this.enabled
    },
    enable: function() {
        var a = this;
        if (!a.enabled) {
            a.target.on(a.eventName, a.handleTargetEvent, a);
            a.enabled = true
        }
    },
    disable: function() {
        var a = this;
        if (a.enabled) {
            a.target.removeListener(a.eventName, a.handleTargetEvent, a);
            a.enabled = false
        }
    },
    setDisabled: function(a) {
        if (a) {
            this.disable()
        } else {
            this.enable()
        }
    },
    destroy: function(c) {
        var a = this
          , b = a.target;
        a.bindings = [];
        a.disable();
        if (c === true) {
            if (b.isComponent) {
                b.destroy()
            } else {
                b.remove()
            }
        }
        delete a.target
    }
});
Ext.define("Ext.util.KeyNav", {
    alternateClassName: "Ext.KeyNav",
    statics: {
        keyOptions: {
            left: 37,
            right: 39,
            up: 38,
            down: 40,
            space: 32,
            pageUp: 33,
            pageDown: 34,
            del: 46,
            backspace: 8,
            home: 36,
            end: 35,
            enter: 13,
            esc: 27,
            tab: 9
        }
    },
    constructor: function(a) {
        var b = this;
        if (arguments.length === 2) {
            b.legacyConstructor.apply(b, arguments);
            return
        }
        b.setConfig(a)
    },
    legacyConstructor: function(b, a) {
        this.setConfig(Ext.apply({
            target: b
        }, a))
    },
    setConfig: function(b) {
        var e = this, c = {
            target: b.target,
            ignoreInputFields: b.ignoreInputFields,
            eventName: e.getKeyEvent("forceKeyDown"in b ? b.forceKeyDown : e.forceKeyDown, b.eventName)
        }, g, a, i, d, h;
        if (e.map) {
            e.map.destroy()
        }
        if (b.processEvent) {
            c.processEvent = b.processEvent;
            c.processEventScope = b.processEventScope || e
        }
        if (b.keyMap) {
            g = e.map = b.keyMap
        } else {
            g = e.map = new Ext.util.KeyMap(c);
            e.destroyKeyMap = true
        }
        a = Ext.util.KeyNav.keyOptions;
        i = b.scope || e;
        for (d in a) {
            if (a.hasOwnProperty(d)) {
                if (h = b[d]) {
                    if (typeof h === "function") {
                        h = {
                            handler: h,
                            defaultEventAction: b.defaultEventAction !== undefined ? b.defaultEventAction : e.defaultEventAction
                        }
                    }
                    g.addBinding({
                        key: a[d],
                        handler: Ext.Function.bind(e.handleEvent, h.scope || i, h.handler || h.fn, true),
                        defaultEventAction: h.defaultEventAction !== undefined ? h.defaultEventAction : e.defaultEventAction
                    })
                }
            }
        }
        g.disable();
        if (!b.disabled) {
            g.enable()
        }
    },
    handleEvent: function(c, b, a) {
        return a.call(this, b)
    },
    disabled: false,
    defaultEventAction: "stopEvent",
    forceKeyDown: false,
    eventName: "keypress",
    destroy: function(a) {
        if (this.destroyKeyMap) {
            this.map.destroy(a)
        }
        delete this.map
    },
    enable: function() {
        this.map.enable();
        this.disabled = false
    },
    disable: function() {
        this.map.disable();
        this.disabled = true
    },
    setDisabled: function(a) {
        this.map.setDisabled(a);
        this.disabled = a
    },
    getKeyEvent: function(b, a) {
        if (b || Ext.EventManager.useKeyDown && !a) {
            return "keydown"
        } else {
            return a || this.eventName
        }
    }
});
Ext.define("Ext.FocusManager", {
    singleton: true,
    alternateClassName: ["Ext.FocusMgr"],
    mixins: {
        observable: Ext.util.Observable
    },
    enabled: false,
    focusElementCls: Ext.baseCSSPrefix + "focus-element",
    focusFrameCls: Ext.baseCSSPrefix + "focus-frame",
    whitelist: ["textfield"],
    constructor: function(a) {
        var b = this
          , c = Ext.ComponentQuery;
        b.mixins.observable.constructor.call(b, a);
        b.addEvents("beforecomponentfocus", "componentfocus", "disable", "enable");
        b.focusTask = new Ext.util.DelayedTask(b.handleComponentFocus,b);
        Ext.override(Ext.AbstractComponent, {
            onFocus: function() {
                this.callParent(arguments);
                if (b.enabled && this.hasFocus) {
                    Array.prototype.unshift.call(arguments, this);
                    b.onComponentFocus.apply(b, arguments)
                }
            },
            onBlur: function() {
                this.callParent(arguments);
                if (b.enabled && !this.hasFocus) {
                    Array.prototype.unshift.call(arguments, this);
                    b.onComponentBlur.apply(b, arguments)
                }
            },
            onDestroy: function() {
                this.callParent(arguments);
                if (b.enabled) {
                    Array.prototype.unshift.call(arguments, this);
                    b.onComponentDestroy.apply(b, arguments)
                }
            }
        });
        Ext.override(Ext.Component, {
            afterHide: function() {
                this.callParent(arguments);
                if (b.enabled) {
                    Array.prototype.unshift.call(arguments, this);
                    b.onComponentHide.apply(b, arguments)
                }
            }
        });
        b.keyNav = new Ext.util.KeyNav(Ext.getDoc(),{
            disabled: true,
            scope: b,
            backspace: b.focusLast,
            enter: b.navigateIn,
            esc: b.navigateOut,
            tab: b.navigateSiblings,
            space: b.navigateIn,
            del: b.focusLast,
            left: b.navigateSiblings,
            right: b.navigateSiblings,
            down: b.navigateSiblings,
            up: b.navigateSiblings
        });
        b.focusData = {};
        b.subscribers = new Ext.util.HashMap();
        b.focusChain = {};
        Ext.apply(c.pseudos, {
            nextFocus: function(g, e, j) {
                j = j || 1;
                e = parseInt(e, 10);
                var d = g.length, h = e, k;
                for (; ; ) {
                    if ((h += j) >= d) {
                        h = 0
                    } else {
                        if (h < 0) {
                            h = d - 1
                        }
                    }
                    if (h === e) {
                        return []
                    }
                    if ((k = g[h]).isFocusable()) {
                        return [k]
                    }
                }
                return []
            },
            prevFocus: function(e, d) {
                return this.nextFocus(e, d, -1)
            },
            root: function(e) {
                var d = e.length, h = [], g = 0, j;
                for (; g < d; g++) {
                    j = e[g];
                    if (!j.ownerCt) {
                        h.push(j)
                    }
                }
                return h
            }
        })
    },
    addXTypeToWhitelist: function(b) {
        var a = this;
        if (Ext.isArray(b)) {
            Ext.Array.forEach(b, a.addXTypeToWhitelist, a);
            return
        }
        if (!Ext.Array.contains(a.whitelist, b)) {
            a.whitelist.push(b)
        }
    },
    clearComponent: function(a) {
        clearTimeout(this.cmpFocusDelay);
        if (!a.isDestroyed) {
            a.blur()
        }
    },
    disable: function() {
        var a = this;
        if (!a.enabled) {
            return
        }
        delete a.options;
        a.enabled = false;
        a.removeDOM();
        a.keyNav.disable();
        a.fireEvent("disable", a)
    },
    enable: function(a) {
        var b = this;
        if (a === true) {
            a = {
                focusFrame: true
            }
        }
        b.options = a = a || {};
        if (b.enabled) {
            return
        }
        b.enabled = true;
        b.initDOM(a);
        b.keyNav.enable();
        b.focusEl.focus();
        delete b.focusedCmp;
        b.fireEvent("enable", b)
    },
    focusLast: function(b) {
        var a = this;
        if (a.isWhitelisted(a.focusedCmp)) {
            return true
        }
        if (a.previousFocusedCmp) {
            a.previousFocusedCmp.focus()
        }
    },
    getRootComponents: function() {
        var b = Ext.ComponentQuery
          , a = b.query(":focusable:root:not([floating])")
          , c = b.query(":focusable:root[floating]");
        c.sort(function(e, d) {
            return e.el.getZIndex() > d.el.getZIndex()
        });
        return c.concat(a)
    },
    initDOM: function(c) {
        var g = this
          , b = g.focusFrameCls
          , e = Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])")
          , d = 0
          , a = e.length;
        if (!Ext.isReady) {
            return Ext.onReady(g.initDOM, g)
        }
        for (; d < a; d++) {
            e[d].addFocusListener()
        }
        if (!g.focusEl) {
            g.focusEl = Ext.getBody();
            g.focusEl.dom.tabIndex = -1
        }
        if (!g.focusFrame && c.focusFrame) {
            g.focusFrame = Ext.getBody().createChild({
                cls: b,
                children: [{
                    cls: b + "-top"
                }, {
                    cls: b + "-bottom"
                }, {
                    cls: b + "-left"
                }, {
                    cls: b + "-right"
                }],
                style: "top: -100px; left: -100px;"
            });
            g.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);
            g.focusFrame.hide().setLocalXY(0, 0)
        }
    },
    isWhitelisted: function(a) {
        return a && Ext.Array.some(this.whitelist, function(b) {
            return a.isXType(b)
        })
    },
    navigateIn: function(g) {
        var c = this, a = c.focusedCmp, b, d;
        if (c.isWhitelisted(a)) {
            return true
        }
        if (!a) {
            b = c.getRootComponents()[0];
            if (b) {
                if (b.getFocusEl() === c.focusEl) {
                    c.focusEl.blur()
                }
                b.focus()
            }
        } else {
            d = a.hasFocus ? Ext.ComponentQuery.query(">:focusable", a)[0] : a;
            if (d) {
                d.focus()
            } else {
                if (Ext.isFunction(a.onClick)) {
                    g.button = 0;
                    a.onClick(g);
                    if (a.isVisible(true)) {
                        a.focus()
                    } else {
                        c.navigateOut()
                    }
                }
            }
        }
    },
    navigateOut: function(c) {
        var b = this, a;
        if (!b.focusedCmp || !(a = b.focusedCmp.up(":focusable"))) {
            b.focusEl.focus()
        } else {
            a.focus()
        }
        return true
    },
    navigateSiblings: function(i, b, o) {
        var j = this, a = b || j, p = i.getKey(), g = Ext.EventObject, k = i.shiftKey || p == g.LEFT || p == g.UP, c = p == g.LEFT || p == g.RIGHT || p == g.UP || p == g.DOWN, h = k ? "prev" : "next", n, d, m, l;
        m = a.focusedCmp && a.focusedCmp.comp || a.focusedCmp;
        if (!m && !o) {
            return true
        }
        if (c && j.isWhitelisted(m)) {
            return true
        }
        if (!m || m.is(":root")) {
            l = j.getRootComponents()
        } else {
            o = o || m.up();
            if (o) {
                l = o.getRefItems()
            }
        }
        if (l) {
            n = m ? Ext.Array.indexOf(l, m) : -1;
            d = Ext.ComponentQuery.query(":" + h + "Focus(" + n + ")", l)[0];
            if (d && m !== d) {
                d.focus();
                return d
            }
        }
    },
    onComponentBlur: function(b, c) {
        var a = this;
        if (a.focusedCmp === b) {
            a.previousFocusedCmp = b;
            delete a.focusedCmp
        }
        if (a.focusFrame) {
            a.focusFrame.hide()
        }
    },
    onComponentFocus: function(d, g) {
        var c = this, a = c.focusChain, b;
        if (!d.isFocusable()) {
            c.clearComponent(d);
            if (a[d.id]) {
                return
            }
            b = d.up();
            if (b) {
                a[d.id] = true;
                b.focus()
            }
            return
        }
        c.focusChain = {};
        c.focusTask.delay(10, null, null, [d, d.getFocusEl()])
    },
    handleComponentFocus: function(l, h) {
        var j = this, o, a, g, n, b, k, d, e, c, m, i;
        if (j.fireEvent("beforecomponentfocus", j, l, j.previousFocusedCmp) === false) {
            j.clearComponent(l);
            return
        }
        j.focusedCmp = l;
        if (j.shouldShowFocusFrame(l)) {
            o = "." + j.focusFrameCls + "-";
            a = j.focusFrame;
            g = (h.dom ? h : h.el).getBox();
            n = g.top;
            b = g.left;
            k = g.width;
            d = g.height;
            e = a.child(o + "top");
            c = a.child(o + "bottom");
            m = a.child(o + "left");
            i = a.child(o + "right");
            e.setWidth(k).setLocalXY(b, n);
            c.setWidth(k).setLocalXY(b, n + d - 2);
            m.setHeight(d - 2).setLocalXY(b, n + 2);
            i.setHeight(d - 2).setLocalXY(b + k - 2, n + 2);
            a.show()
        }
        j.fireEvent("componentfocus", j, l, j.previousFocusedCmp)
    },
    onComponentHide: function(e) {
        var d = this, b = false, a = d.focusedCmp, c;
        if (a) {
            b = e.hasFocus || e.isContainer && e.isAncestor(d.focusedCmp)
        }
        d.clearComponent(e);
        if (b && (c = e.up(":focusable"))) {
            c.focus()
        } else {
            d.focusEl.focus()
        }
    },
    onComponentDestroy: function() {},
    removeDOM: function() {
        var a = this;
        if (a.enabled || a.subscribers.length) {
            return
        }
        Ext.destroy(a.focusFrame);
        delete a.focusEl;
        delete a.focusFrame
    },
    removeXTypeFromWhitelist: function(b) {
        var a = this;
        if (Ext.isArray(b)) {
            Ext.Array.forEach(b, a.removeXTypeFromWhitelist, a);
            return
        }
        Ext.Array.remove(a.whitelist, b)
    },
    setupSubscriberKeys: function(a, g) {
        var e = this
          , d = a.getFocusEl()
          , c = g.scope
          , b = {
            backspace: e.focusLast,
            enter: e.navigateIn,
            esc: e.navigateOut,
            scope: e
        }
          , h = function(i) {
            if (e.focusedCmp === a) {
                return e.navigateSiblings(i, e, a)
            } else {
                return e.navigateSiblings(i)
            }
        };
        Ext.iterate(g, function(j, i) {
            b[j] = function(l) {
                var k = h(l);
                if (Ext.isFunction(i) && i.call(c || a, l, k) === true) {
                    return true
                }
                return k
            }
        }, e);
        return new Ext.util.KeyNav(d,b)
    },
    shouldShowFocusFrame: function(c) {
        var b = this
          , a = b.options || {};
        if (!b.focusFrame || !c) {
            return false
        }
        if (a.focusFrame) {
            return true
        }
        if (b.focusData[c.id].focusFrame) {
            return true
        }
        return false
    }
});
Ext.define("Ext.Img", {
    extend: Ext.Component,
    alias: ["widget.image", "widget.imagecomponent"],
    autoEl: "img",
    baseCls: Ext.baseCSSPrefix + "img",
    src: "",
    alt: "",
    title: "",
    imgCls: "",
    initComponent: function() {
        if (this.glyph) {
            this.autoEl = "div"
        }
        this.callParent()
    },
    getElConfig: function() {
        var e = this, b = e.callParent(), g = Ext._glyphFontFamily, d = e.glyph, a, c;
        if (e.autoEl == "img") {
            a = b
        } else {
            if (e.glyph) {
                if (typeof d === "string") {
                    c = d.split("@");
                    d = c[0];
                    g = c[1]
                }
                b.html = "&#" + d + ";";
                if (g) {
                    b.style = "font-family:" + g
                }
            } else {
                b.cn = [a = {
                    tag: "img",
                    id: e.id + "-img"
                }]
            }
        }
        if (a) {
            if (e.imgCls) {
                a.cls = (a.cls ? a.cls + " " : "") + e.imgCls
            }
            a.src = e.src || Ext.BLANK_IMAGE_URL
        }
        if (e.alt) {
            (a || b).alt = e.alt
        }
        if (e.title) {
            (a || b).title = e.title
        }
        return b
    },
    onRender: function() {
        var b = this, a;
        b.callParent(arguments);
        a = b.el;
        b.imgEl = b.autoEl == "img" ? a : a.getById(b.id + "-img")
    },
    onDestroy: function() {
        Ext.destroy(this.imgEl);
        this.imgEl = null;
        this.callParent()
    },
    setSrc: function(c) {
        var a = this
          , b = a.imgEl;
        a.src = c;
        if (b) {
            b.dom.src = c || Ext.BLANK_IMAGE_URL
        }
    },
    setGlyph: function(c) {
        var b = this, d = Ext._glyphFontFamily, a, e;
        if (c != b.glyph) {
            if (typeof c === "string") {
                a = c.split("@");
                c = a[0];
                d = a[1]
            }
            e = b.el.dom;
            e.innerHTML = "&#" + c + ";";
            if (d) {
                e.style = "font-family:" + d
            }
        }
    }
});
Ext.define("Ext.util.Bindable", {
    bindStore: function(b, c, a) {
        a = a || "store";
        var d = this
          , e = d[a];
        if (!c && e) {
            d.onUnbindStore(e, c, a);
            if (b !== e && e.autoDestroy) {
                e.destroyStore()
            } else {
                d.unbindStoreListeners(e)
            }
        }
        if (b) {
            b = Ext.data.StoreManager.lookup(b);
            d.bindStoreListeners(b);
            d.onBindStore(b, c, a)
        }
        d[a] = b || null;
        return d
    },
    getStore: function() {
        return this.store
    },
    unbindStoreListeners: function(a) {
        var b = this.storeListeners;
        if (b) {
            a.un(b)
        }
    },
    bindStoreListeners: function(a) {
        var c = this
          , b = Ext.apply({}, c.getStoreListeners(a));
        if (!b.scope) {
            b.scope = c
        }
        c.storeListeners = b;
        a.on(b)
    },
    getStoreListeners: Ext.emptyFn,
    onUnbindStore: Ext.emptyFn,
    onBindStore: Ext.emptyFn
});
Ext.define("Ext.LoadMask", {
    extend: Ext.Component,
    alias: "widget.loadmask",
    mixins: {
        floating: Ext.util.Floating,
        bindable: Ext.util.Bindable
    },
    msg: "Loading...",
    msgCls: Ext.baseCSSPrefix + "mask-loading",
    maskCls: Ext.baseCSSPrefix + "mask",
    useMsg: true,
    useTargetEl: false,
    baseCls: Ext.baseCSSPrefix + "mask-msg",
    childEls: ["msgEl", "msgTextEl"],
    renderTpl: ['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ', Ext.baseCSSPrefix, 'mask-msg-inner{childElCls}">', '<div id="{id}-msgTextEl" class="', Ext.baseCSSPrefix, "mask-msg-text", '{childElCls}"></div>', "</div>"],
    floating: {
        shadow: "frame"
    },
    focusOnToFront: false,
    bringParentToFront: false,
    constructor: function(b) {
        var c = this, a;
        if (arguments.length === 2) {
            if (Ext.isDefined(Ext.global.console)) {
                Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config")
            }
            a = b;
            b = arguments[1]
        } else {
            a = b.target
        }
        if (!a.isComponent) {
            if (Ext.isDefined(Ext.global.console)) {
                Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask")
            }
            a = Ext.get(a);
            this.isElement = true
        }
        c.ownerCt = a;
        if (!this.isElement) {
            c.bindComponent(a)
        }
        c.callParent([b]);
        if (c.store) {
            c.bindStore(c.store, true)
        }
    },
    bindComponent: function(a) {
        var c = this
          , b = {
            scope: this,
            resize: c.sizeMask,
            added: c.onComponentAdded,
            removed: c.onComponentRemoved
        };
        if (a.floating) {
            b.move = c.sizeMask;
            c.activeOwner = a
        } else {
            if (a.ownerCt) {
                c.onComponentAdded(a.ownerCt)
            } else {
                c.preventBringToFront = true
            }
        }
        c.mon(a, b);
        c.mon(c.hierarchyEventSource, {
            show: c.onContainerShow,
            hide: c.onContainerHide,
            expand: c.onContainerExpand,
            collapse: c.onContainerCollapse,
            scope: c
        })
    },
    onComponentAdded: function(a) {
        var b = this;
        delete b.activeOwner;
        b.floatParent = a;
        if (!a.floating) {
            a = a.up("[floating]")
        }
        if (a) {
            b.activeOwner = a;
            b.mon(a, "move", b.sizeMask, b)
        } else {
            b.preventBringToFront = true
        }
        a = b.floatParent.ownerCt;
        if (b.rendered && b.isVisible() && a) {
            b.floatOwner = a;
            b.mon(a, "afterlayout", b.sizeMask, b, {
                single: true
            })
        }
    },
    onComponentRemoved: function(a) {
        var c = this
          , d = c.activeOwner
          , b = c.floatOwner;
        if (d) {
            c.mun(d, "move", c.sizeMask, c)
        }
        if (b) {
            c.mun(b, "afterlayout", c.sizeMask, c)
        }
        delete c.activeOwner;
        delete c.floatOwner
    },
    afterRender: function() {
        this.callParent(arguments);
        this.container = this.floatParent.getContentTarget()
    },
    onContainerShow: function(a) {
        if (this.isActiveContainer(a)) {
            this.onComponentShow()
        }
    },
    onContainerHide: function(a) {
        if (this.isActiveContainer(a)) {
            this.onComponentHide()
        }
    },
    onContainerExpand: function(a) {
        if (this.isActiveContainer(a)) {
            this.onComponentShow()
        }
    },
    onContainerCollapse: function(a) {
        if (this.isActiveContainer(a)) {
            this.onComponentHide()
        }
    },
    isActiveContainer: function(a) {
        return this.isDescendantOf(a)
    },
    onComponentHide: function() {
        var a = this;
        if (a.rendered && a.isVisible()) {
            a.hide();
            a.showNext = true
        }
    },
    onComponentShow: function() {
        if (this.showNext) {
            this.show()
        }
        delete this.showNext
    },
    sizeMask: function() {
        var a = this, b;
        if (a.rendered && a.isVisible()) {
            a.center();
            b = a.getMaskTarget();
            a.getMaskEl().show().setSize(b.getSize()).alignTo(b, "tl-tl")
        }
    },
    bindStore: function(a, b) {
        var c = this;
        c.mixins.bindable.bindStore.apply(c, arguments);
        a = c.store;
        if (a && a.isLoading()) {
            c.onBeforeLoad()
        }
    },
    getStoreListeners: function(b) {
        var d = this.onLoad
          , c = this.onBeforeLoad
          , a = {
            cachemiss: c,
            cachefilled: d
        };
        if (!b.proxy.isSynchronous) {
            a.beforeLoad = c;
            a.load = d;
            a.prefetch = d
        }
        return a
    },
    onDisable: function() {
        this.callParent(arguments);
        if (this.loading) {
            this.onLoad()
        }
    },
    getOwner: function() {
        return this.ownerCt || this.floatParent
    },
    getMaskTarget: function() {
        var a = this.getOwner();
        return this.useTargetEl ? a.getTargetEl() : a.getEl()
    },
    onBeforeLoad: function() {
        var c = this, a = c.getOwner(), b;
        if (!c.disabled) {
            c.loading = true;
            if (a.componentLayoutCounter) {
                c.maybeShow()
            } else {
                b = a.afterComponentLayout;
                a.afterComponentLayout = function() {
                    a.afterComponentLayout = b;
                    b.apply(a, arguments);
                    c.maybeShow()
                }
            }
        }
    },
    maybeShow: function() {
        var b = this
          , a = b.getOwner();
        if (!a.isVisible(true)) {
            b.showNext = true
        } else {
            if (b.loading && a.rendered) {
                b.show()
            }
        }
    },
    getMaskEl: function() {
        var a = this;
        return a.maskEl || (a.maskEl = a.el.insertSibling({
            cls: a.maskCls,
            style: {
                zIndex: a.el.getStyle("zIndex") - 2
            }
        }, "before"))
    },
    onShow: function() {
        var b = this
          , a = b.msgEl;
        b.callParent(arguments);
        b.loading = true;
        if (b.useMsg) {
            a.show();
            b.msgTextEl.update(b.msg)
        } else {
            a.parent().hide()
        }
    },
    hide: function() {
        if (this.isElement) {
            this.ownerCt.unmask();
            this.fireEvent("hide", this);
            return
        }
        delete this.showNext;
        return this.callParent(arguments)
    },
    onHide: function() {
        this.callParent();
        this.getMaskEl().hide()
    },
    show: function() {
        if (this.isElement) {
            this.ownerCt.mask(this.useMsg ? this.msg : "", this.msgCls);
            this.fireEvent("show", this);
            return
        }
        return this.callParent(arguments)
    },
    afterShow: function() {
        this.callParent(arguments);
        this.sizeMask()
    },
    setZIndex: function(b) {
        var c = this
          , a = c.activeOwner;
        if (a) {
            b = parseInt(a.el.getStyle("zIndex"), 10) + 1
        }
        c.getMaskEl().setStyle("zIndex", b - 1);
        return c.mixins.floating.setZIndex.apply(c, arguments)
    },
    onLoad: function() {
        this.loading = false;
        this.hide()
    },
    onDestroy: function() {
        var a = this;
        if (a.isElement) {
            a.ownerCt.unmask()
        }
        Ext.destroy(a.maskEl);
        a.callParent()
    }
});
Ext.define("Ext.data.association.Association", {
    alternateClassName: "Ext.data.Association",
    primaryKey: "id",
    associationKeyFunction: null,
    defaultReaderType: "json",
    isAssociation: true,
    initialConfig: null,
    statics: {
        AUTO_ID: 1000,
        create: function(a) {
            if (Ext.isString(a)) {
                a = {
                    type: a
                }
            }
            switch (a.type) {
            case "belongsTo":
                return new Ext.data.association.BelongsTo(a);
            case "hasMany":
                return new Ext.data.association.HasMany(a);
            case "hasOne":
                return new Ext.data.association.HasOne(a);
            default:
                Ext.Error.raise('Unknown Association type: "' + a.type + '"')
            }
            return a
        }
    },
    constructor: function(d) {
        Ext.apply(this, d);
        var h = this, g = Ext.ModelManager.types, j = d.ownerModel, a = d.associatedModel, e = g[j], i = g[a], b = d.associationKey, c;
        if (b) {
            c = String(b).search(/[\[\.]/);
            if (c >= 0) {
                h.associationKeyFunction = Ext.functionFactory("obj", "return obj" + (c > 0 ? "." : "") + b)
            }
        }
        h.initialConfig = d;
        if (e === undefined) {
            Ext.Error.raise("The configured ownerModel was not valid (you tried " + j + ")")
        }
        if (i === undefined) {
            Ext.Error.raise("The configured associatedModel was not valid (you tried " + a + ")")
        }
        h.ownerModel = e;
        h.associatedModel = i;
        Ext.applyIf(h, {
            ownerName: j,
            associatedName: a
        });
        h.associationId = "association" + ++h.statics().AUTO_ID
    },
    getReader: function() {
        var c = this
          , a = c.reader
          , b = c.associatedModel;
        if (a) {
            if (Ext.isString(a)) {
                a = {
                    type: a
                }
            }
            if (a.isReader) {
                a.setModel(b)
            } else {
                Ext.applyIf(a, {
                    model: b,
                    type: c.defaultReaderType
                })
            }
            c.reader = Ext.createByAlias("reader." + a.type, a)
        }
        return c.reader || null
    }
});
Ext.define("Ext.ModelManager", {
    extend: Ext.AbstractManager,
    alternateClassName: "Ext.ModelMgr",
    singleton: true,
    typeName: "mtype",
    associationStack: [],
    registerType: function(c, b) {
        var d = b.prototype, a;
        if (d && d.isModel) {
            a = b
        } else {
            if (!b.extend) {
                b.extend = "Ext.data.Model"
            }
            a = Ext.define(c, b)
        }
        this.types[c] = a;
        return a
    },
    onModelDefined: function(c) {
        var a = this.associationStack, g = a.length, e = [], b, d, h;
        for (d = 0; d < g; d++) {
            b = a[d];
            if (b.associatedModel == c.modelName) {
                e.push(b)
            }
        }
        for (d = 0,
        g = e.length; d < g; d++) {
            h = e[d];
            this.types[h.ownerModel].prototype.associations.add(Ext.data.association.Association.create(h));
            Ext.Array.remove(a, h)
        }
    },
    registerDeferredAssociation: function(a) {
        this.associationStack.push(a)
    },
    getModel: function(b) {
        var a = b;
        if (typeof a == "string") {
            a = this.types[a]
        }
        return a
    },
    create: function(b, a, d) {
        var c = typeof a == "function" ? a : this.types[a || b.name];
        return new c(b,d)
    }
}, function() {
    Ext.regModel = function() {
        if (Ext.isDefined(Ext.global.console)) {
            Ext.global.console.warn('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define("MyModel", {extend: "Ext.data.Model", fields: []});.')
        }
        return this.ModelManager.registerType.apply(this.ModelManager, arguments)
    }
});
Ext.define("Ext.ShadowPool", {
    singleton: true,
    markup: function() {
        return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>', Ext.baseCSSPrefix, Ext.isIE && !Ext.supports.CSS3BoxShadow ? "ie" : "css")
    }(),
    shadows: [],
    pull: function() {
        var a = this.shadows.shift();
        if (!a) {
            a = Ext.get(Ext.DomHelper.insertHtml("beforeBegin", document.body.firstChild, this.markup));
            a.autoBoxAdjust = false
        }
        return a
    },
    push: function(a) {
        this.shadows.push(a)
    },
    reset: function() {
        var c = [].concat(this.shadows), b, a = c.length;
        for (b = 0; b < a; b++) {
            c[b].remove()
        }
        this.shadows = []
    }
});
Ext.define("Ext.Shadow", {
    localXYNames: {
        get: "getLocalXY",
        set: "setLocalXY"
    },
    constructor: function(b) {
        var c = this, d, e, a;
        Ext.apply(c, b);
        if (!Ext.isString(c.mode)) {
            c.mode = c.defaultMode
        }
        e = c.offset;
        a = Math.floor(e / 2);
        c.opacity = 50;
        switch (c.mode.toLowerCase()) {
        case "drop":
            if (Ext.supports.CSS3BoxShadow) {
                d = {
                    t: e,
                    l: e,
                    h: -e,
                    w: -e
                }
            } else {
                d = {
                    t: -a,
                    l: -a,
                    h: -a,
                    w: -a
                }
            }
            break;
        case "sides":
            if (Ext.supports.CSS3BoxShadow) {
                d = {
                    t: e,
                    l: 0,
                    h: -e,
                    w: 0
                }
            } else {
                d = {
                    t: -(1 + a),
                    l: 1 + a - 2 * e,
                    h: -1,
                    w: a - 1
                }
            }
            break;
        case "frame":
            if (Ext.supports.CSS3BoxShadow) {
                d = {
                    t: 0,
                    l: 0,
                    h: 0,
                    w: 0
                }
            } else {
                d = {
                    t: 1 + a - 2 * e,
                    l: 1 + a - 2 * e,
                    h: e - a - 1,
                    w: e - a - 1
                }
            }
            break;
        case "bottom":
            if (Ext.supports.CSS3BoxShadow) {
                d = {
                    t: e,
                    l: 0,
                    h: -e,
                    w: 0
                }
            } else {
                d = {
                    t: e,
                    l: 0,
                    h: 0,
                    w: 0
                }
            }
            break
        }
        c.adjusts = d
    },
    getShadowSize: function() {
        var b = this
          , d = b.el ? b.offset : 0
          , a = [d, d, d, d]
          , c = b.mode.toLowerCase();
        if (b.el && c !== "frame") {
            a[0] = 0;
            if (c == "drop") {
                a[3] = 0
            }
        }
        return a
    },
    offset: 4,
    defaultMode: "drop",
    boxShadowProperty: function() {
        var b = "boxShadow"
          , a = document.documentElement.style;
        if (!("boxShadow"in a)) {
            if ("WebkitBoxShadow"in a) {
                b = "WebkitBoxShadow"
            } else {
                if ("MozBoxShadow"in a) {
                    b = "MozBoxShadow"
                }
            }
        }
        return b
    }(),
    show: function(d) {
        var b = this, a, c;
        d = Ext.get(d);
        a = parseInt(d.getStyle("z-index"), 10) - 1 || 0;
        c = d[b.localXYNames.get]();
        if (!b.el) {
            b.el = Ext.ShadowPool.pull();
            if (b.fixed) {
                b.el.dom.style.position = "fixed"
            } else {
                b.el.dom.style.position = ""
            }
            if (b.el.dom.nextSibling != d.dom) {
                b.el.insertBefore(d)
            }
        }
        b.el.setStyle("z-index", b.zIndex || a);
        if (Ext.isIE && !Ext.supports.CSS3BoxShadow) {
            b.el.dom.style.filter = "progid:DXImageTransform.Microsoft.alpha(opacity=" + b.opacity + ") progid:DXImageTransform.Microsoft.Blur(pixelradius=" + b.offset + ")"
        }
        b.realign(c[0], c[1], d.dom.offsetWidth, d.dom.offsetHeight);
        b.el.dom.style.display = "block"
    },
    isVisible: function() {
        return this.el ? true : false
    },
    realign: function(c, m, j, g) {
        if (!this.el) {
            return
        }
        var b = this.adjusts, a = this.el, i = a.dom.style, d, e, h, k;
        a[this.localXYNames.set](c + b.l, m + b.t);
        d = Math.max(j + b.w, 0);
        e = Math.max(g + b.h, 0);
        h = d + "px";
        k = e + "px";
        if (i.width != h || i.height != k) {
            i.width = h;
            i.height = k;
            if (Ext.supports.CSS3BoxShadow) {
                i[this.boxShadowProperty] = "0 0 " + (this.offset + 2) + "px #888"
            }
        }
    },
    hide: function() {
        var a = this;
        if (a.el) {
            a.el.dom.style.display = "none";
            Ext.ShadowPool.push(a.el);
            delete a.el
        }
    },
    setZIndex: function(a) {
        this.zIndex = a;
        if (this.el) {
            this.el.setStyle("z-index", a)
        }
    },
    setOpacity: function(a) {
        if (this.el) {
            if (Ext.isIE && !Ext.supports.CSS3BoxShadow) {
                a = Math.floor(a * 100 / 2) / 100
            }
            this.opacity = a;
            this.el.setOpacity(a)
        }
    }
});
Ext.define("Ext.data.StoreManager", {
    extend: Ext.util.MixedCollection,
    alternateClassName: ["Ext.StoreMgr", "Ext.data.StoreMgr", "Ext.StoreManager"],
    singleton: true,
    register: function() {
        for (var a = 0, b; b = arguments[a]; a++) {
            this.add(b)
        }
    },
    unregister: function() {
        for (var a = 0, b; b = arguments[a]; a++) {
            this.remove(this.lookup(b))
        }
    },
    lookup: function(c) {
        if (Ext.isArray(c)) {
            var b = ["field1"], e = !Ext.isArray(c[0]), g = c, d, a;
            if (e) {
                g = [];
                for (d = 0,
                a = c.length; d < a; ++d) {
                    g.push([c[d]])
                }
            } else {
                for (d = 2,
                a = c[0].length; d <= a; ++d) {
                    b.push("field" + d)
                }
            }
            return new Ext.data.ArrayStore({
                data: g,
                fields: b,
                autoDestroy: true,
                autoCreated: true,
                expanded: e
            })
        }
        if (Ext.isString(c)) {
            return this.get(c)
        } else {
            return Ext.data.AbstractStore.create(c)
        }
    },
    getKey: function(a) {
        return a.storeId
    }
}, function() {
    Ext.regStore = function(c, b) {
        var a;
        if (Ext.isObject(c)) {
            b = c
        } else {
            b.storeId = c
        }
        if (b instanceof Ext.data.Store) {
            a = b
        } else {
            a = new Ext.data.Store(b)
        }
        return Ext.data.StoreManager.register(a)
    }
    ;
    Ext.getStore = function(a) {
        return Ext.data.StoreManager.lookup(a)
    }
});
Ext.define("Ext.data.ResultSet", {
    loaded: true,
    count: 0,
    total: 0,
    success: false,
    constructor: function(a) {
        Ext.apply(this, a);
        this.totalRecords = this.total;
        if (a.count === undefined) {
            this.count = this.records.length
        }
    }
});
Ext.define("Ext.data.reader.Reader", {
    alternateClassName: ["Ext.data.Reader", "Ext.data.DataReader"],
    mixins: {
        observable: Ext.util.Observable
    },
    totalProperty: "total",
    successProperty: "success",
    root: "",
    implicitIncludes: true,
    readRecordsOnFailure: true,
    isReader: true,
    applyDefaults: true,
    lastFieldGeneration: null,
    constructor: function(a) {
        var b = this;
        b.mixins.observable.constructor.call(b, a);
        b.fieldCount = 0;
        b.model = Ext.ModelManager.getModel(b.model);
        b.accessExpressionFn = Ext.Function.bind(b.createFieldAccessExpression, b);
        if (b.model && b.model.prototype.fields) {
            b.buildExtractors()
        }
        this.addEvents("exception")
    },
    setModel: function(a, c) {
        var b = this;
        b.model = Ext.ModelManager.getModel(a);
        if (a) {
            b.buildExtractors(true)
        }
        if (c && b.proxy) {
            b.proxy.setModel(b.model, true)
        }
    },
    read: function(a) {
        var b;
        if (a) {
            b = a.responseText ? this.getResponseData(a) : this.readRecords(a)
        }
        return b || this.nullResultSet
    },
    readRecords: function(c) {
        var d = this, i, b, a, g, e, h, j;
        if (d.lastFieldGeneration !== d.model.prototype.fields.generation) {
            d.buildExtractors(true)
        }
        d.rawData = c;
        c = d.getData(c);
        i = true;
        b = 0;
        a = [];
        if (d.successProperty) {
            h = d.getSuccess(c);
            if (h === false || h === "false") {
                i = false
            }
        }
        if (d.messageProperty) {
            j = d.getMessage(c)
        }
        if (d.readRecordsOnFailure || i) {
            g = Ext.isArray(c) ? c : d.getRoot(c);
            if (g) {
                e = g.length
            }
            if (d.totalProperty) {
                h = parseInt(d.getTotal(c), 10);
                if (!isNaN(h)) {
                    e = h
                }
            }
            if (g) {
                a = d.extractData(g);
                b = a.length
            }
        }
        return new Ext.data.ResultSet({
            total: e || b,
            count: b,
            records: a,
            success: i,
            message: j
        })
    },
    extractData: function(k) {
        var j = this, b = j.model, a = k.length, d = new Array(a), e, c, h, g;
        if (!k.length && Ext.isObject(k)) {
            k = [k];
            a = 1
        }
        for (g = 0; g < a; g++) {
            c = k[g];
            if (c.isModel) {
                d[g] = c
            } else {
                d[g] = h = new b(undefined,j.getId(c),c,e = {});
                h.phantom = false;
                j.convertRecordData(e, c, h);
                if (j.implicitIncludes && h.associations.length) {
                    j.readAssociated(h, c)
                }
            }
        }
        return d
    },
    readAssociated: function(h, e) {
        var d = h.associations.items, g = 0, a = d.length, c, b, k, j;
        for (; g < a; g++) {
            c = d[g];
            b = this.getAssociatedDataRoot(e, c.associationKeyFunction || c.associationKey || c.name);
            if (b) {
                j = c.getReader();
                if (!j) {
                    k = c.associatedModel.getProxy();
                    if (k) {
                        j = k.getReader()
                    } else {
                        j = new this.constructor({
                            model: c.associatedName
                        })
                    }
                }
                c.read(h, j, b)
            }
        }
    },
    getAssociatedDataRoot: function(b, a) {
        if (Ext.isFunction(a)) {
            return a(b)
        }
        return b[a]
    },
    getFields: function() {
        return this.model.prototype.fields.items
    },
    getData: Ext.identityFn,
    getRoot: Ext.identityFn,
    getResponseData: function(a) {
        Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")
    },
    onMetaChange: function(e) {
        var d = this, b = e.fields || d.getFields(), c, a;
        d.metaData = e;
        d.root = e.root || d.root;
        d.idProperty = e.idProperty || d.idProperty;
        d.totalProperty = e.totalProperty || d.totalProperty;
        d.successProperty = e.successProperty || d.successProperty;
        d.messageProperty = e.messageProperty || d.messageProperty;
        a = e.clientIdProperty;
        if (d.model) {
            d.model.setFields(b, d.idProperty, a);
            d.setModel(d.model, true)
        } else {
            c = Ext.define("Ext.data.reader.Json-Model" + Ext.id(), {
                extend: "Ext.data.Model",
                fields: b,
                clientIdProperty: a
            });
            if (d.idProperty) {
                c.idProperty = d.idProperty
            }
            d.setModel(c, true)
        }
    },
    getIdProperty: function() {
        var b = this.model.prototype.idField
          , a = this.idProperty;
        if (!a && b && (a = b.mapping) == null) {
            a = b.name
        }
        return a
    },
    buildExtractors: function(e) {
        var c = this, h = c.getIdProperty(), d = c.totalProperty, b = c.successProperty, g = c.messageProperty, a;
        if (e === true) {
            delete c.convertRecordData
        }
        if (c.convertRecordData) {
            return
        }
        if (d) {
            c.getTotal = c.createAccessor(d)
        }
        if (b) {
            c.getSuccess = c.createAccessor(b)
        }
        if (g) {
            c.getMessage = c.createAccessor(g)
        }
        if (h) {
            a = c.createAccessor(h);
            c.getId = function(i) {
                var j = a.call(c, i);
                return j === undefined || j === "" ? null : j
            }
        } else {
            c.getId = function() {
                return null
            }
        }
        c.convertRecordData = c.buildRecordDataExtractor();
        c.lastFieldGeneration = c.model.prototype.fields.generation
    },
    recordDataExtractorTemplate: ["var me = this\n", "    ,fields = me.model.prototype.fields\n", "    ,value\n", "    ,internalId\n", '<tpl for="fields">', '    ,__field{#} = fields.map["{name}"]\n', "</tpl>", ";\n", "return function(dest, source, record) {\n", '<tpl for="fields">', '{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");', "   if (fieldAccessExpression) { %}", '    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n', '<tpl if="hasCustomConvert">', '    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n', '<tpl elseif="defaultValue !== undefined">', "    if (value === undefined) {\n", "        if (me.applyDefaults) {\n", '<tpl if="convert">', '            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n', "<tpl else>", '            dest["{name}"] = __field{#}.defaultValue\n', "</tpl>", "        };\n", "    } else {\n", '<tpl if="convert">', '        dest["{name}"] = __field{#}.convert(value, record);\n', "<tpl else>", '        dest["{name}"] = value;\n', "</tpl>", "    };\n", "<tpl else>", "    if (value !== undefined) {\n", '<tpl if="convert">', '        dest["{name}"] = __field{#}.convert(value, record);\n', "<tpl else>", '        dest["{name}"] = value;\n', "</tpl>", "    }\n", "</tpl>", "{% } else { %}", '<tpl if="defaultValue !== undefined">', '<tpl if="convert">', '    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n', "<tpl else>", '    dest["{name}"] = __field{#}.defaultValue\n', "</tpl>", "</tpl>", "{% } %}", "</tpl>", '<tpl if="clientIdProp">', '    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n', '        record.{["internalId"]} = internalId;\n', "    }\n", "</tpl>", "};"],
    buildRecordDataExtractor: function() {
        var c = this
          , a = c.model.prototype
          , b = {
            clientIdProp: a.clientIdProperty,
            fields: a.fields.items
        };
        c.recordDataExtractorTemplate.createFieldAccessExpression = c.accessExpressionFn;
        return Ext.functionFactory(c.recordDataExtractorTemplate.apply(b)).call(c)
    },
    destroyReader: function() {
        var a = this;
        delete a.proxy;
        delete a.model;
        delete a.convertRecordData;
        delete a.getId;
        delete a.getTotal;
        delete a.getSuccess;
        delete a.getMessage
    }
}, function() {
    var a = this.prototype;
    Ext.apply(a, {
        nullResultSet: new Ext.data.ResultSet({
            total: 0,
            count: 0,
            records: [],
            success: true,
            message: ""
        }),
        recordDataExtractorTemplate: new Ext.XTemplate(a.recordDataExtractorTemplate)
    })
});
Ext.define("Ext.data.reader.Json", {
    extend: Ext.data.reader.Reader,
    alternateClassName: "Ext.data.JsonReader",
    alias: "reader.json",
    root: "",
    metaProperty: "metaData",
    useSimpleAccessors: false,
    readRecords: function(b) {
        var a = this, c;
        if (a.getMeta) {
            c = a.getMeta(b);
            if (c) {
                a.onMetaChange(c)
            }
        } else {
            if (b.metaData) {
                a.onMetaChange(b.metaData)
            }
        }
        a.jsonData = b;
        return a.callParent([b])
    },
    getResponseData: function(a) {
        var d, b;
        try {
            d = Ext.decode(a.responseText);
            return this.readRecords(d)
        } catch (c) {
            b = new Ext.data.ResultSet({
                total: 0,
                count: 0,
                records: [],
                success: false,
                message: c.message
            });
            this.fireEvent("exception", this, a, b);
            Ext.Logger.warn("Unable to parse the JSON returned by the server");
            return b
        }
    },
    buildExtractors: function() {
        var b = this
          , a = b.metaProperty;
        b.callParent(arguments);
        if (b.root) {
            b.getRoot = b.createAccessor(b.root)
        } else {
            b.getRoot = Ext.identityFn
        }
        if (a) {
            b.getMeta = b.createAccessor(a)
        }
    },
    extractData: function(a) {
        var e = this.record, d = [], c, b;
        if (e) {
            c = a.length;
            if (!c && Ext.isObject(a)) {
                c = 1;
                a = [a]
            }
            for (b = 0; b < c; b++) {
                d[b] = a[b][e]
            }
        } else {
            d = a
        }
        return this.callParent([d])
    },
    createAccessor: function() {
        var a = /[\[\.]/;
        return function(c) {
            if (Ext.isEmpty(c)) {
                return Ext.emptyFn
            }
            if (Ext.isFunction(c)) {
                return c
            }
            if (this.useSimpleAccessors !== true) {
                var b = String(c).search(a);
                if (b >= 0) {
                    return Ext.functionFactory("obj", "return obj" + (b > 0 ? "." : "") + c)
                }
            }
            return function(d) {
                return d[c]
            }
        }
    }(),
    createFieldAccessExpression: function() {
        var a = /[\[\.]/;
        return function(o, d, e) {
            var b = o.mapping, m = b || b === 0, c = m ? b : o.name, p, g;
            if (b === false) {
                return
            }
            if (typeof c === "function") {
                p = d + ".mapping(" + e + ", this)"
            } else {
                if (this.useSimpleAccessors === true || (g = String(c).search(a)) < 0) {
                    if (!m || isNaN(c)) {
                        c = '"' + c + '"'
                    }
                    p = e + "[" + c + "]"
                } else {
                    if (g === 0) {
                        p = e + c
                    } else {
                        var j = c.split(".")
                          , l = j.length
                          , k = 1
                          , n = e + "." + j[0]
                          , h = [n];
                        for (; k < l; k++) {
                            n += "." + j[k];
                            h.push(n)
                        }
                        p = h.join(" && ")
                    }
                }
            }
            return p
        }
    }()
});
Ext.define("Ext.data.writer.Writer", {
    alias: "writer.base",
    alternateClassName: ["Ext.data.DataWriter", "Ext.data.Writer"],
    writeAllFields: true,
    nameProperty: "name",
    writeRecordId: true,
    isWriter: true,
    constructor: function(a) {
        Ext.apply(this, a)
    },
    write: function(e) {
        var c = e.operation
          , b = c.records || []
          , a = b.length
          , d = 0
          , g = [];
        for (; d < a; d++) {
            g.push(this.getRecordData(b[d], c))
        }
        return this.writeRecords(e, g)
    },
    getRecordData: function(d, b) {
        var m = d.phantom === true, a = this.writeAllFields || m, g = d.fields, o = g.items, c = {}, k = d.clientIdProperty, j, i, n, l, e, h, p;
        if (a) {
            p = o.length;
            for (h = 0; h < p; h++) {
                i = o[h];
                if (i.persist) {
                    this.writeValue(c, i, d)
                }
            }
        } else {
            j = d.getChanges();
            for (n in j) {
                if (j.hasOwnProperty(n)) {
                    i = g.get(n);
                    if (i.persist) {
                        this.writeValue(c, i, d)
                    }
                }
            }
        }
        if (m) {
            if (k && b && b.records.length > 1) {
                c[k] = d.internalId
            }
        } else {
            if (this.writeRecordId) {
                e = g.get(d.idProperty)[this.nameProperty] || d.idProperty;
                c[e] = d.getId()
            }
        }
        return c
    },
    writeValue: function(e, g, b) {
        var c = g[this.nameProperty] || g.name
          , a = this.dateFormat || g.dateWriteFormat || g.dateFormat
          , d = b.get(g.name);
        if (g.serialize) {
            e[c] = g.serialize(d, b)
        } else {
            if (g.type === Ext.data.Types.DATE && a && Ext.isDate(d)) {
                e[c] = Ext.Date.format(d, a)
            } else {
                e[c] = d
            }
        }
    }
});
Ext.define("Ext.data.writer.Json", {
    extend: Ext.data.writer.Writer,
    alternateClassName: "Ext.data.JsonWriter",
    alias: "writer.json",
    root: undefined,
    encode: false,
    allowSingle: true,
    expandData: false,
    getExpandedData: function(d) {
        var b = d.length, e = 0, k, a, g, c, h, l = function(i, j) {
            var m = {};
            m[i] = j;
            return m
        };
        for (; e < b; e++) {
            k = d[e];
            for (a in k) {
                if (k.hasOwnProperty(a)) {
                    g = a.split(".");
                    c = g.length - 1;
                    if (c > 0) {
                        h = k[a];
                        for (; c > 0; c--) {
                            h = l(g[c], h)
                        }
                        k[g[0]] = k[g[0]] || {};
                        Ext.Object.merge(k[g[0]], h);
                        delete k[a]
                    }
                }
            }
        }
        return d
    },
    writeRecords: function(b, c) {
        var a = this.root;
        if (this.expandData) {
            c = this.getExpandedData(c)
        }
        if (this.allowSingle && c.length === 1) {
            c = c[0]
        }
        if (this.encode) {
            if (a) {
                b.params[a] = Ext.encode(c)
            } else {
                Ext.Error.raise("Must specify a root when using encode")
            }
        } else {
            b.jsonData = b.jsonData || {};
            if (a) {
                b.jsonData[a] = c
            } else {
                b.jsonData = c
            }
        }
        return b
    }
});
Ext.define("Ext.data.proxy.Proxy", {
    alias: "proxy.proxy",
    alternateClassName: ["Ext.data.DataProxy", "Ext.data.Proxy"],
    mixins: {
        observable: Ext.util.Observable
    },
    batchOrder: "create,update,destroy",
    batchActions: true,
    defaultReaderType: "json",
    defaultWriterType: "json",
    isProxy: true,
    constructor: function(a) {
        var b = this;
        a = a || {};
        b.proxyConfig = a;
        b.mixins.observable.constructor.call(b, a);
        if (b.model !== undefined && !(b.model instanceof Ext.data.Model)) {
            b.setModel(b.model)
        } else {
            if (b.reader) {
                b.setReader(b.reader)
            }
            if (b.writer) {
                b.setWriter(b.writer)
            }
        }
    },
    setModel: function(a, b) {
        var c = this;
        c.model = Ext.ModelManager.getModel(a);
        c.setReader(this.reader);
        c.setWriter(this.writer);
        if (b && c.store) {
            c.store.setModel(c.model)
        }
    },
    getModel: function() {
        return this.model
    },
    setReader: function(a) {
        var c = this
          , b = true
          , d = c.reader;
        if (a === undefined || typeof a == "string") {
            a = {
                type: a
            };
            b = false
        }
        if (a.isReader) {
            a.setModel(c.model)
        } else {
            if (b) {
                a = Ext.apply({}, a)
            }
            Ext.applyIf(a, {
                proxy: c,
                model: c.model,
                type: c.defaultReaderType
            });
            a = Ext.createByAlias("reader." + a.type, a)
        }
        if (a !== d && a.onMetaChange) {
            a.onMetaChange = Ext.Function.createSequence(a.onMetaChange, this.onMetaChange, this)
        }
        c.reader = a;
        return c.reader
    },
    getReader: function() {
        return this.reader
    },
    onMetaChange: function(a) {
        this.fireEvent("metachange", this, a)
    },
    setWriter: function(c) {
        var b = this
          , a = true;
        if (c === undefined || typeof c == "string") {
            c = {
                type: c
            };
            a = false
        }
        if (!c.isWriter) {
            if (a) {
                c = Ext.apply({}, c)
            }
            Ext.applyIf(c, {
                model: b.model,
                type: b.defaultWriterType
            });
            c = Ext.createByAlias("writer." + c.type, c)
        }
        b.writer = c;
        return b.writer
    },
    getWriter: function() {
        return this.writer
    },
    create: Ext.emptyFn,
    read: Ext.emptyFn,
    update: Ext.emptyFn,
    destroy: Ext.emptyFn,
    batch: function(o, l) {
        var k = this, j = k.batchActions, h, c, g, d, e, m, b, n, i;
        if (o.operations === undefined) {
            o = {
                operations: o,
                listeners: l
            }
        }
        if (o.batch) {
            if (Ext.isDefined(o.batch.runOperation)) {
                h = Ext.applyIf(o.batch, {
                    proxy: k,
                    listeners: {}
                })
            }
        } else {
            o.batch = {
                proxy: k,
                listeners: o.listeners || {}
            }
        }
        if (!h) {
            h = new Ext.data.Batch(o.batch)
        }
        h.on("complete", Ext.bind(k.onBatchComplete, k, [o], 0));
        g = k.batchOrder.split(",");
        d = g.length;
        for (m = 0; m < d; m++) {
            e = g[m];
            c = o.operations[e];
            if (c) {
                if (j) {
                    h.add(new Ext.data.Operation({
                        action: e,
                        records: c
                    }))
                } else {
                    n = c.length;
                    for (b = 0; b < n; b++) {
                        i = c[b];
                        h.add(new Ext.data.Operation({
                            action: e,
                            records: [i]
                        }))
                    }
                }
            }
        }
        h.start();
        return h
    },
    onBatchComplete: function(a, b) {
        var c = a.scope || this;
        if (b.hasException) {
            if (Ext.isFunction(a.failure)) {
                Ext.callback(a.failure, c, [b, a])
            }
        } else {
            if (Ext.isFunction(a.success)) {
                Ext.callback(a.success, c, [b, a])
            }
        }
        if (Ext.isFunction(a.callback)) {
            Ext.callback(a.callback, c, [b, a])
        }
    },
    clone: function() {
        return new this.self(this.proxyConfig)
    }
});
Ext.define("Ext.data.Operation", {
    synchronous: true,
    action: undefined,
    filters: undefined,
    sorters: undefined,
    groupers: undefined,
    start: undefined,
    limit: undefined,
    batch: undefined,
    callback: undefined,
    scope: undefined,
    started: false,
    running: false,
    complete: false,
    success: undefined,
    exception: false,
    error: undefined,
    actionCommitRecordsRe: /^(?:create|update)$/i,
    actionSkipSyncRe: /^destroy$/i,
    constructor: function(a) {
        Ext.apply(this, a || {})
    },
    commitRecords: function(n) {
        var j = this, m = j.actionCommitRecordsRe.test(j.action), l, h, a, e, b, d, g, k, c;
        if (!j.actionSkipSyncRe.test(j.action)) {
            a = j.records;
            if (a && a.length) {
                if (m) {
                    c = []
                }
                if (a.length > 1) {
                    if (j.action == "update" || a[0].clientIdProperty) {
                        l = new Ext.util.MixedCollection();
                        l.addAll(n);
                        for (h = a.length; h--; ) {
                            b = a[h];
                            e = l.findBy(j.matchClientRec, b);
                            k = b.copyFrom(e);
                            if (m) {
                                c.push(k)
                            }
                        }
                    } else {
                        for (d = 0,
                        g = a.length; d < g; ++d) {
                            b = a[d];
                            e = n[d];
                            if (b && e) {
                                k = j.updateRecord(b, e);
                                if (m) {
                                    c.push(k)
                                }
                            }
                        }
                    }
                } else {
                    k = j.updateRecord(a[0], n[0]);
                    if (m) {
                        c[0] = k
                    }
                }
                if (m) {
                    for (h = a.length; h--; ) {
                        a[h].commit(false, c[h])
                    }
                }
            }
        }
    },
    updateRecord: function(a, b) {
        if (b && (a.phantom || a.getId() === b.getId())) {
            return a.copyFrom(b)
        }
        return []
    },
    matchClientRec: function(c) {
        var a = this
          , b = a.getId();
        if (b && c.getId() === b) {
            return true
        }
        return c.internalId === a.internalId
    },
    setStarted: function() {
        this.started = true;
        this.running = true
    },
    setCompleted: function() {
        this.complete = true;
        this.running = false
    },
    setSuccessful: function() {
        this.success = true
    },
    setException: function(a) {
        this.exception = true;
        this.success = false;
        this.running = false;
        this.error = a
    },
    hasException: function() {
        return this.exception === true
    },
    getError: function() {
        return this.error
    },
    getRecords: function() {
        var a = this.getResultSet();
        return this.records || (a ? a.records : null)
    },
    getResultSet: function() {
        return this.resultSet
    },
    isStarted: function() {
        return this.started === true
    },
    isRunning: function() {
        return this.running === true
    },
    isComplete: function() {
        return this.complete === true
    },
    wasSuccessful: function() {
        return this.isComplete() && this.success === true
    },
    setBatch: function(a) {
        this.batch = a
    },
    allowWrite: function() {
        return this.action != "read"
    }
});
Ext.define("Ext.data.AbstractStore", {
    mixins: {
        observable: Ext.util.Observable,
        sortable: Ext.util.Sortable
    },
    statics: {
        create: function(a) {
            if (!a.isStore) {
                if (!a.type) {
                    a.type = "store"
                }
                a = Ext.createByAlias("store." + a.type, a)
            }
            return a
        }
    },
    onClassExtended: function(b, d, a) {
        var c = d.model, e;
        if (typeof c == "string") {
            e = a.onBeforeCreated;
            a.onBeforeCreated = function() {
                var h = this
                  , g = arguments;
                Ext.require(c, function() {
                    e.apply(h, g)
                })
            }
        }
    },
    remoteSort: false,
    remoteFilter: false,
    autoLoad: undefined,
    autoSync: false,
    batchUpdateMode: "operation",
    filterOnLoad: true,
    sortOnLoad: true,
    implicitModel: false,
    defaultProxyType: "memory",
    isDestroyed: false,
    isStore: true,
    sortRoot: "data",
    constructor: function(b) {
        var e = this, d;
        Ext.apply(e, b);
        e.removed = [];
        e.mixins.observable.constructor.apply(e, arguments);
        var c = e.model;
        e.model = Ext.ModelManager.getModel(e.model);
        Ext.applyIf(e, {
            modelDefaults: null
        });
        if (!e.model && e.fields) {
            e.model = Ext.define("Ext.data.Store.ImplicitModel-" + (e.storeId || Ext.id()), {
                extend: "Ext.data.Model",
                fields: e.fields,
                proxy: e.proxy || e.defaultProxyType
            });
            delete e.fields;
            e.implicitModel = true
        }
        if (!e.model && e.useModelWarning !== false) {
            var a = [Ext.getClassName(e) || "Store", " created with no model."];
            if (typeof c === "string") {
                a.push(" The name '", c, "'", " does not correspond to a valid model.")
            }
            Ext.log.warn(a.join(""))
        }
        e.setProxy(e.proxy || e.model.getProxy());
        e.proxy.on("metachange", e.onMetaChange, e);
        if (e.id && !e.storeId) {
            e.storeId = e.id;
            delete e.id
        }
        if (e.storeId) {
            Ext.data.StoreManager.register(e)
        }
        e.mixins.sortable.initSortable.call(e);
        d = e.decodeFilters(e.filters);
        e.filters = new Ext.util.MixedCollection();
        e.filters.addAll(d)
    },
    setProxy: function(a) {
        var b = this;
        if (a instanceof Ext.data.proxy.Proxy) {
            a.setModel(b.model)
        } else {
            if (Ext.isString(a)) {
                a = {
                    type: a
                }
            }
            Ext.applyIf(a, {
                model: b.model
            });
            a = Ext.createByAlias("proxy." + a.type, a)
        }
        b.proxy = a;
        return b.proxy
    },
    getProxy: function() {
        return this.proxy
    },
    onMetaChange: function(a, b) {
        this.fireEvent("metachange", this, b)
    },
    create: function(e, c) {
        var d = this, a = Ext.ModelManager.create(Ext.applyIf(e, d.modelDefaults), d.model.modelName), b;
        c = c || {};
        Ext.applyIf(c, {
            action: "create",
            records: [a]
        });
        b = new Ext.data.Operation(c);
        d.proxy.create(b, d.onProxyWrite, d);
        return a
    },
    read: function() {
        return this.load.apply(this, arguments)
    },
    update: function(b) {
        var c = this, a;
        b = b || {};
        Ext.applyIf(b, {
            action: "update",
            records: c.getUpdatedRecords()
        });
        a = new Ext.data.Operation(b);
        return c.proxy.update(a, c.onProxyWrite, c)
    },
    onProxyWrite: function(b) {
        var c = this
          , d = b.wasSuccessful()
          , a = b.getRecords();
        switch (b.action) {
        case "create":
            c.onCreateRecords(a, b, d);
            break;
        case "update":
            c.onUpdateRecords(a, b, d);
            break;
        case "destroy":
            c.onDestroyRecords(a, b, d);
            break
        }
        if (d) {
            c.fireEvent("write", c, b);
            c.fireEvent("datachanged", c);
            c.fireEvent("refresh", c)
        }
        Ext.callback(b.callback, b.scope || c, [a, b, d])
    },
    onCreateRecords: Ext.emptyFn,
    onUpdateRecords: Ext.emptyFn,
    onDestroyRecords: function(b, a, c) {
        if (c) {
            this.removed = []
        }
    },
    destroy: function(b) {
        var c = this, a;
        b = b || {};
        Ext.applyIf(b, {
            action: "destroy",
            records: c.getRemovedRecords()
        });
        a = new Ext.data.Operation(b);
        return c.proxy.destroy(a, c.onProxyWrite, c)
    },
    onBatchOperationComplete: function(b, a) {
        return this.onProxyWrite(a)
    },
    onBatchComplete: function(c, a) {
        var g = this, b = c.operations, e = b.length, d;
        g.suspendEvents();
        for (d = 0; d < e; d++) {
            g.onProxyWrite(b[d])
        }
        g.resumeEvents();
        g.fireEvent("datachanged", g);
        g.fireEvent("refresh", g)
    },
    onBatchException: function(b, a) {},
    filterNew: function(a) {
        return a.phantom === true && a.isValid()
    },
    getNewRecords: function() {
        return []
    },
    getUpdatedRecords: function() {
        return []
    },
    getModifiedRecords: function() {
        return [].concat(this.getNewRecords(), this.getUpdatedRecords())
    },
    filterUpdated: function(a) {
        return a.dirty === true && a.phantom !== true && a.isValid()
    },
    getRemovedRecords: function() {
        return this.removed
    },
    filter: function(a, b) {},
    decodeFilters: function(e) {
        if (!Ext.isArray(e)) {
            if (e === undefined) {
                e = []
            } else {
                e = [e]
            }
        }
        var d = e.length, a = Ext.util.Filter, b, c;
        for (c = 0; c < d; c++) {
            b = e[c];
            if (!(b instanceof a)) {
                Ext.apply(b, {
                    root: "data"
                });
                if (b.fn) {
                    b.filterFn = b.fn
                }
                if (typeof b == "function") {
                    b = {
                        filterFn: b
                    }
                }
                e[c] = new a(b)
            }
        }
        return e
    },
    clearFilter: function(a) {},
    isFiltered: function() {},
    filterBy: function(b, a) {},
    sync: function(c) {
        var e = this
          , b = {}
          , g = e.getNewRecords()
          , d = e.getUpdatedRecords()
          , a = e.getRemovedRecords()
          , h = false;
        if (g.length > 0) {
            b.create = g;
            h = true
        }
        if (d.length > 0) {
            b.update = d;
            h = true
        }
        if (a.length > 0) {
            b.destroy = a;
            h = true
        }
        if (h && e.fireEvent("beforesync", b) !== false) {
            c = c || {};
            e.proxy.batch(Ext.apply(c, {
                operations: b,
                listeners: e.getBatchListeners()
            }))
        }
        return e
    },
    getBatchListeners: function() {
        var b = this
          , a = {
            scope: b,
            exception: b.onBatchException
        };
        if (b.batchUpdateMode == "operation") {
            a.operationcomplete = b.onBatchOperationComplete
        } else {
            a.complete = b.onBatchComplete
        }
        return a
    },
    save: function() {
        return this.sync.apply(this, arguments)
    },
    load: function(b) {
        var c = this, a;
        b = Ext.apply({
            action: "read",
            filters: c.filters.items,
            sorters: c.getSorters()
        }, b);
        c.lastOptions = b;
        a = new Ext.data.Operation(b);
        if (c.fireEvent("beforeload", c, a) !== false) {
            c.loading = true;
            c.proxy.read(a, c.onProxyLoad, c)
        }
        return c
    },
    reload: function(a) {
        return this.load(Ext.apply(this.lastOptions, a))
    },
    afterEdit: function(a, e) {
        var d = this, b, c;
        if (d.autoSync && !d.autoSyncSuspended) {
            for (b = e.length; b--; ) {
                if (a.fields.get(e[b]).persist) {
                    c = true;
                    break
                }
            }
            if (c) {
                d.sync()
            }
        }
        d.onUpdate(a, Ext.data.Model.EDIT, e);
        d.fireEvent("update", d, a, Ext.data.Model.EDIT, e)
    },
    afterReject: function(a) {
        this.onUpdate(a, Ext.data.Model.REJECT, null);
        this.fireEvent("update", this, a, Ext.data.Model.REJECT, null)
    },
    afterCommit: function(a, b) {
        if (!b) {
            b = null
        }
        this.onUpdate(a, Ext.data.Model.COMMIT, b);
        this.fireEvent("update", this, a, Ext.data.Model.COMMIT, b)
    },
    onUpdate: Ext.emptyFn,
    onIdChanged: function(c, d, b, a) {
        this.fireEvent("idchanged", this, c, d, b, a)
    },
    destroyStore: function() {
        var a = this;
        if (!a.isDestroyed) {
            a.clearListeners();
            if (a.storeId) {
                Ext.data.StoreManager.unregister(a)
            }
            a.clearData();
            a.data = a.tree = a.sorters = a.filters = a.groupers = null;
            if (a.reader) {
                a.reader.destroyReader()
            }
            a.proxy = a.reader = a.writer = null;
            a.isDestroyed = true;
            if (a.implicitModel) {
                Ext.destroy(a.model)
            } else {
                a.model = null
            }
        }
    },
    getState: function() {
        var e = this, c, a, b = !!e.groupers, g = [], h = [], d = [];
        if (b) {
            e.groupers.each(function(i) {
                g[g.length] = i.serialize();
                c = true
            })
        }
        if (e.sorters) {
            e.sorters.each(function(i) {
                if (b && !e.groupers.contains(i)) {
                    h[h.length] = i.serialize();
                    c = true
                }
            })
        }
        if (e.filters && e.statefulFilters) {
            e.filters.each(function(i) {
                d[d.length] = i.serialize();
                c = true
            })
        }
        if (c) {
            a = {};
            if (g.length) {
                a.groupers = g
            }
            if (h.length) {
                a.sorters = h
            }
            if (d.length) {
                a.filters = d
            }
            return a
        }
    },
    applyState: function(g) {
        var e = this, c = !!e.sorters, b = !!e.groupers, a = !!e.filters, d;
        if (b && g.groupers) {
            e.groupers.clear();
            e.groupers.addAll(e.decodeGroupers(g.groupers))
        }
        if (c && g.sorters) {
            e.sorters.clear();
            e.sorters.addAll(e.decodeSorters(g.sorters))
        }
        if (a && g.filters) {
            e.filters.clear();
            e.filters.addAll(e.decodeFilters(g.filters))
        }
        if (c && b) {
            e.sorters.insert(0, e.groupers.getRange())
        }
        if (e.remoteSort || e.remoteGroup || e.remoteFilter) {
            e.reload()
        }
        if (a && e.filters.length && !e.remoteFilter) {
            e.filter();
            d = e.sortOnFilter
        }
        if (c && e.sorters.length && !e.remoteSort && !d) {
            e.sort()
        }
    },
    doSort: function(a) {
        var b = this;
        if (b.remoteSort) {
            b.load()
        } else {
            b.data.sortBy(a);
            b.fireEvent("datachanged", b);
            b.fireEvent("refresh", b)
        }
        b.fireEvent("sort", b, b.sorters.getRange())
    },
    clearData: Ext.emptyFn,
    getCount: Ext.emptyFn,
    getById: Ext.emptyFn,
    removeAll: Ext.emptyFn,
    isLoading: function() {
        return !!this.loading
    },
    suspendAutoSync: function() {
        this.autoSyncSuspended = true
    },
    resumeAutoSync: function() {
        this.autoSyncSuspended = false
    }
});
Ext.define("Ext.container.DockingContainer", {
    isDockingContainer: true,
    defaultDockWeights: {
        top: {
            render: 1,
            visual: 1
        },
        left: {
            render: 3,
            visual: 5
        },
        right: {
            render: 5,
            visual: 7
        },
        bottom: {
            render: 7,
            visual: 3
        }
    },
    dockOrder: {
        top: -1,
        left: -1,
        right: 1,
        bottom: 1
    },
    horizontalDocks: 0,
    addDocked: function(a, g) {
        var e = this, b = 0, d, c;
        a = e.prepareItems(a);
        c = a.length;
        for (; b < c; b++) {
            d = a[b];
            d.dock = d.dock || "top";
            if (d.dock === "left" || d.dock === "right") {
                e.horizontalDocks++
            }
            if (g !== undefined) {
                b += g;
                e.dockedItems.insert(b, d)
            } else {
                e.dockedItems.add(d)
            }
            d.onAdded(e, b);
            if (e.hasListeners.dockedadd) {
                e.fireEvent("dockedadd", e, d, b)
            }
            if (e.onDockedAdd !== Ext.emptyFn) {
                e.onDockedAdd(d)
            }
        }
        if (e.rendered && !e.suspendLayout) {
            e.updateLayout()
        }
        return a
    },
    destroyDockedItems: function() {
        var a = this.dockedItems, b;
        if (a) {
            while (b = a.first()) {
                this.removeDocked(b, true)
            }
        }
    },
    doRenderDockedItems: function(c, g, h) {
        var e = g.$comp, d = e.componentLayout, b, a;
        if (d.getDockedItems && !g.$skipDockedItems) {
            b = d.getDockedItems("render", !h);
            a = b && d.getItemsRenderTree(b);
            if (a) {
                Ext.DomHelper.generateMarkup(a, c)
            }
        }
    },
    getDockedComponent: function(a) {
        if (Ext.isObject(a)) {
            a = a.getItemId()
        }
        return this.dockedItems.get(a)
    },
    getDockedItems: function(a, c) {
        var b = this.getComponentLayout().getDockedItems("render", c);
        if (a && b.length) {
            b = Ext.ComponentQuery.query(a, b)
        }
        return b
    },
    getDockingRefItems: function(b, e) {
        var a = b && "*,* *", d = this.getDockedItems(a, true), c;
        d.push.apply(d, e);
        c = this.getDockedItems(a, false);
        d.push.apply(d, c);
        return d
    },
    initDockingItems: function() {
        var b = this
          , a = b.dockedItems;
        b.dockedItems = new Ext.util.AbstractMixedCollection(false,b.getComponentId);
        if (a) {
            b.addDocked(a)
        }
    },
    insertDocked: function(b, a) {
        this.addDocked(a, b)
    },
    onDockedAdd: Ext.emptyFn,
    onDockedRemove: Ext.emptyFn,
    removeDocked: function(e, b) {
        var d = this, c, a;
        b = b === true || b !== false && d.autoDestroy;
        if (!d.dockedItems.contains(e)) {
            return e
        }
        if (e.dock === "left" || e.dock === "right") {
            d.horizontalDocks--
        }
        c = d.componentLayout;
        a = c && d.rendered;
        if (a) {
            c.onRemove(e)
        }
        d.dockedItems.remove(e);
        e.onRemoved(e.destroying || b);
        d.onDockedRemove(e);
        if (b) {
            e.destroy()
        } else {
            if (a) {
                c.afterRemove(e)
            }
        }
        if (d.hasListeners.dockedremove) {
            d.fireEvent("dockedremove", d, e)
        }
        if (!d.destroying && !d.suspendLayout) {
            d.updateLayout()
        }
        return e
    },
    setupDockingRenderTpl: function(a) {
        a.renderDockedItems = this.doRenderDockedItems
    }
});
Ext.define("Ext.toolbar.Fill", {
    extend: Ext.Component,
    alias: "widget.tbfill",
    alternateClassName: "Ext.Toolbar.Fill",
    isFill: true,
    flex: 1
});
Ext.define("Ext.layout.container.boxOverflow.None", {
    alternateClassName: "Ext.layout.boxOverflow.None",
    constructor: function(b, a) {
        this.layout = b;
        Ext.apply(this, a)
    },
    handleOverflow: Ext.emptyFn,
    clearOverflow: Ext.emptyFn,
    beginLayout: Ext.emptyFn,
    beginLayoutCycle: Ext.emptyFn,
    calculate: function(b) {
        var a = this, c = b.state.boxPlan, d;
        if (c && c.tooNarrow) {
            d = a.handleOverflow(b);
            if (d) {
                if (d.reservedSpace) {
                    a.layout.publishInnerCtSize(b, d.reservedSpace)
                }
            }
        } else {
            a.clearOverflow()
        }
    },
    completeLayout: Ext.emptyFn,
    finishedLayout: function(d) {
        var c = this, a = c.layout.owner, b, e;
        if (a.hasListeners.overflowchange) {
            b = a.query(">[hidden]");
            e = b.length;
            if (e !== c.lastHiddenCount) {
                a.fireEvent("overflowchange", c.lastHiddenCount, e, b);
                c.lastHiddenCount = e
            }
        }
    },
    onRemove: Ext.emptyFn,
    getItem: function(a) {
        return this.layout.owner.getComponent(a)
    },
    getOwnerType: function(a) {
        var b;
        if (a.isToolbar) {
            b = "toolbar"
        } else {
            if (a.isTabBar) {
                b = "tabbar"
            } else {
                if (a.isMenu) {
                    b = "menu"
                } else {
                    b = a.getXType()
                }
            }
        }
        return b
    },
    getPrefixConfig: Ext.emptyFn,
    getSuffixConfig: Ext.emptyFn,
    getOverflowCls: function() {
        return ""
    }
});
Ext.define("Ext.toolbar.Item", {
    extend: Ext.Component,
    alias: "widget.tbitem",
    alternateClassName: "Ext.Toolbar.Item",
    enable: Ext.emptyFn,
    disable: Ext.emptyFn,
    focus: Ext.emptyFn
});
Ext.define("Ext.toolbar.Separator", {
    extend: Ext.toolbar.Item,
    alias: "widget.tbseparator",
    alternateClassName: "Ext.Toolbar.Separator",
    baseCls: Ext.baseCSSPrefix + "toolbar-separator",
    focusable: false,
    border: true
});
Ext.define("Ext.button.Manager", {
    singleton: true,
    alternateClassName: "Ext.ButtonToggleManager",
    groups: {},
    buttonSelector: "." + Ext.baseCSSPrefix + "btn",
    init: function() {
        var a = this;
        if (a.initialized) {
            return
        }
        Ext.getBody().on("keydown", a.onKeyDown, a);
        a.initialized = true
    },
    onKeyDown: function(c) {
        var a = c.getKey(), b;
        if (a === c.SPACE || a === c.ENTER) {
            b = c.getTarget(this.buttonSelector);
            if (b) {
                Ext.getCmp(b.id).onClick(c)
            }
        }
    },
    toggleGroup: function(b, e) {
        if (e) {
            var d = this.groups[b.toggleGroup], c = d.length, a;
            for (a = 0; a < c; a++) {
                if (d[a] !== b) {
                    d[a].toggle(false)
                }
            }
        }
    },
    register: function(b) {
        var c = this
          , a = this.groups
          , d = a[b.toggleGroup];
        c.init();
        if (!b.toggleGroup) {
            return
        }
        if (!d) {
            d = a[b.toggleGroup] = []
        }
        d.push(b);
        b.on("toggle", c.toggleGroup, c)
    },
    unregister: function(a) {
        if (!a.toggleGroup) {
            return
        }
        var b = this
          , c = b.groups[a.toggleGroup];
        if (c) {
            Ext.Array.remove(c, a);
            a.un("toggle", b.toggleGroup, b)
        }
    },
    getPressed: function(d) {
        var c = this.groups[d], b = 0, a;
        if (c) {
            for (a = c.length; b < a; b++) {
                if (c[b].pressed === true) {
                    return c[b]
                }
            }
        }
        return null
    }
});
Ext.define("Ext.menu.Manager", {
    singleton: true,
    alternateClassName: "Ext.menu.MenuMgr",
    menuSelector: "." + Ext.baseCSSPrefix + "menu",
    menus: {},
    groups: {},
    attached: false,
    lastShow: new Date(),
    init: function() {
        var a = this;
        a.active = new Ext.util.MixedCollection();
        Ext.getDoc().addKeyListener(27, function() {
            if (a.active.length > 0) {
                a.hideAll()
            }
        }, a)
    },
    hideAll: function() {
        var c = this.active, e, b, a, d;
        if (c && c.length > 0) {
            e = c.clone();
            b = e.items;
            d = b.length;
            for (a = 0; a < d; a++) {
                b[a].hide()
            }
            return true
        }
        return false
    },
    onHide: function(a) {
        var b = this
          , c = b.active;
        c.remove(a);
        if (c.length < 1) {
            Ext.getDoc().un("mousedown", b.onMouseDown, b);
            b.attached = false
        }
    },
    onShow: function(a) {
        var c = this
          , d = c.active
          , b = c.attached;
        c.lastShow = new Date();
        d.add(a);
        if (!b) {
            Ext.getDoc().on("mousedown", c.onMouseDown, c, {
                buffer: Ext.isIE9m ? 10 : undefined
            });
            c.attached = true
        }
        a.toFront()
    },
    onBeforeHide: function(a) {
        if (a.activeChild) {
            a.activeChild.hide()
        }
        if (a.autoHideTimer) {
            clearTimeout(a.autoHideTimer);
            delete a.autoHideTimer
        }
    },
    onBeforeShow: function(a) {
        var c = this.active
          , b = a.parentMenu;
        c.remove(a);
        if (!b && !a.allowOtherMenus) {
            this.hideAll()
        } else {
            if (b && b.activeChild && a != b.activeChild) {
                b.activeChild.hide()
            }
        }
    },
    onMouseDown: function(g) {
        var b = this
          , d = b.active
          , a = b.lastShow
          , c = true;
        if (Ext.Date.getElapsed(a) > 50 && d.length > 0 && !g.getTarget(b.menuSelector)) {
            if (Ext.isIE9m && !Ext.getBody().contains(g.target)) {
                c = false
            }
            if (c) {
                b.hideAll()
            }
        }
    },
    register: function(b) {
        var a = this;
        if (!a.active) {
            a.init()
        }
        if (b.floating) {
            a.menus[b.id] = b;
            b.on({
                beforehide: a.onBeforeHide,
                hide: a.onHide,
                beforeshow: a.onBeforeShow,
                show: a.onShow,
                scope: a
            })
        }
    },
    get: function(b) {
        var a = this.menus;
        if (typeof b == "string") {
            if (!a) {
                return null
            }
            return a[b]
        } else {
            if (b.isMenu) {
                return b
            } else {
                if (Ext.isArray(b)) {
                    return new Ext.menu.Menu({
                        items: b
                    })
                } else {
                    return Ext.ComponentManager.create(b, "menu")
                }
            }
        }
    },
    unregister: function(d) {
        var a = this
          , b = a.menus
          , c = a.active;
        delete b[d.id];
        c.remove(d);
        d.un({
            beforehide: a.onBeforeHide,
            hide: a.onHide,
            beforeshow: a.onBeforeShow,
            show: a.onShow,
            scope: a
        })
    },
    registerCheckable: function(c) {
        var a = this.groups
          , b = c.group;
        if (b) {
            if (!a[b]) {
                a[b] = []
            }
            a[b].push(c)
        }
    },
    unregisterCheckable: function(c) {
        var a = this.groups
          , b = c.group;
        if (b) {
            Ext.Array.remove(a[b], c)
        }
    },
    onCheckChange: function(d, g) {
        var a = this.groups, c = d.group, b = 0, j, e, h;
        if (c && g) {
            j = a[c];
            e = j.length;
            for (; b < e; b++) {
                h = j[b];
                if (h != d) {
                    h.setChecked(false)
                }
            }
        }
    }
});
Ext.define("Ext.util.ClickRepeater", {
    extend: Ext.util.Observable,
    constructor: function(b, a) {
        var c = this;
        c.el = Ext.get(b);
        c.el.unselectable();
        Ext.apply(c, a);
        c.callParent();
        c.addEvents("mousedown", "click", "mouseup");
        if (!c.disabled) {
            c.disabled = true;
            c.enable()
        }
        if (c.handler) {
            c.on("click", c.handler, c.scope || c)
        }
    },
    interval: 20,
    delay: 250,
    preventDefault: true,
    stopDefault: false,
    timer: 0,
    enable: function() {
        if (this.disabled) {
            this.el.on("mousedown", this.handleMouseDown, this);
            if (Ext.isIE && !(Ext.isIE10p || Ext.isStrict && Ext.isIE9)) {
                this.el.on("dblclick", this.handleDblClick, this)
            }
            if (this.preventDefault || this.stopDefault) {
                this.el.on("click", this.eventOptions, this)
            }
        }
        this.disabled = false
    },
    disable: function(a) {
        if (a || !this.disabled) {
            clearTimeout(this.timer);
            if (this.pressedCls) {
                this.el.removeCls(this.pressedCls)
            }
            Ext.getDoc().un("mouseup", this.handleMouseUp, this);
            this.el.removeAllListeners()
        }
        this.disabled = true
    },
    setDisabled: function(a) {
        this[a ? "disable" : "enable"]()
    },
    eventOptions: function(a) {
        if (this.preventDefault) {
            a.preventDefault()
        }
        if (this.stopDefault) {
            a.stopEvent()
        }
    },
    destroy: function() {
        this.disable(true);
        Ext.destroy(this.el);
        this.clearListeners()
    },
    handleDblClick: function(a) {
        clearTimeout(this.timer);
        this.el.blur();
        this.fireEvent("mousedown", this, a);
        this.fireEvent("click", this, a)
    },
    handleMouseDown: function(a) {
        clearTimeout(this.timer);
        this.el.blur();
        if (this.pressedCls) {
            this.el.addCls(this.pressedCls)
        }
        this.mousedownTime = new Date();
        Ext.getDoc().on("mouseup", this.handleMouseUp, this);
        this.el.on("mouseout", this.handleMouseOut, this);
        this.fireEvent("mousedown", this, a);
        this.fireEvent("click", this, a);
        if (this.accelerate) {
            this.delay = 400
        }
        a = new Ext.EventObjectImpl(a);
        this.timer = Ext.defer(this.click, this.delay || this.interval, this, [a])
    },
    click: function(a) {
        this.fireEvent("click", this, a);
        this.timer = Ext.defer(this.click, this.accelerate ? this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime), 400, -390, 12000) : this.interval, this, [a])
    },
    easeOutExpo: function(e, a, h, g) {
        return e == g ? a + h : h * (-Math.pow(2, -10 * e / g) + 1) + a
    },
    handleMouseOut: function() {
        clearTimeout(this.timer);
        if (this.pressedCls) {
            this.el.removeCls(this.pressedCls)
        }
        this.el.on("mouseover", this.handleMouseReturn, this)
    },
    handleMouseReturn: function() {
        this.el.un("mouseover", this.handleMouseReturn, this);
        if (this.pressedCls) {
            this.el.addCls(this.pressedCls)
        }
        this.click()
    },
    handleMouseUp: function(a) {
        clearTimeout(this.timer);
        this.el.un("mouseover", this.handleMouseReturn, this);
        this.el.un("mouseout", this.handleMouseOut, this);
        Ext.getDoc().un("mouseup", this.handleMouseUp, this);
        if (this.pressedCls) {
            this.el.removeCls(this.pressedCls)
        }
        this.fireEvent("mouseup", this, a)
    }
});
Ext.define("Ext.layout.component.Button", {
    alias: ["layout.button"],
    extend: Ext.layout.component.Auto,
    type: "button",
    htmlRE: /<.*>/,
    beginLayout: function(c) {
        var b = this
          , a = b.owner
          , d = a.text;
        b.callParent(arguments);
        c.btnWrapContext = c.getEl("btnWrap");
        c.btnElContext = c.getEl("btnEl");
        c.btnInnerElContext = c.getEl("btnInnerEl");
        c.btnIconElContext = c.getEl("btnIconEl");
        if (d && b.htmlRE.test(d)) {
            c.isHtmlText = true;
            a.btnInnerEl.setStyle("line-height", "normal");
            a.btnInnerEl.setStyle("padding-top", "")
        }
    },
    beginLayoutCycle: function(b) {
        var a = this.owner
          , c = this.lastWidthModel;
        this.callParent(arguments);
        if (c && !this.lastWidthModel.shrinkWrap && b.widthModel.shrinkWrap) {
            a.btnWrap.setStyle("height", "");
            a.btnEl.setStyle("height", "");
            a.btnInnerEl.setStyle("line-height", "")
        }
    },
    calculate: function(d) {
        var g = this, c = g.owner, h = d.btnElContext, e = d.btnInnerElContext, k = d.btnWrapContext, b, i, j, a;
        g.callParent(arguments);
        if (d.heightModel.shrinkWrap) {
            j = c.btnEl.getHeight();
            if (d.isHtmlText) {
                g.centerInnerEl(d, j);
                g.ieCenterIcon(d, j)
            }
        } else {
            b = d.getProp("height");
            if (b) {
                i = b - d.getFrameInfo().height - d.getPaddingInfo().height;
                j = i;
                if ((c.menu || c.split) && c.arrowAlign === "bottom") {
                    j -= k.getPaddingInfo().bottom
                }
                a = j;
                if ((c.icon || c.iconCls || c.glyph) && (c.iconAlign === "top" || c.iconAlign === "bottom")) {
                    a -= e.getPaddingInfo().height
                }
                k.setProp("height", i);
                h.setProp("height", j);
                if (d.isHtmlText) {
                    g.centerInnerEl(d, j)
                } else {
                    e.setProp("line-height", a + "px")
                }
                g.ieCenterIcon(d, j)
            } else {
                g.done = false
            }
        }
    },
    centerInnerEl: function(e, d) {
        var c = this
          , b = e.btnInnerElContext
          , a = c.owner.btnInnerEl.getHeight();
        if (e.heightModel.shrinkWrap && d < a) {
            e.btnElContext.setHeight(a)
        } else {
            if (d > a) {
                b.setProp("padding-top", Math.round((d - a) / 2) + b.getPaddingInfo().top)
            }
        }
    },
    ieCenterIcon: function(c, b) {
        var a = this.owner.iconAlign;
        if ((Ext.isIEQuirks || Ext.isIE6) && (a === "left" || a === "right")) {
            c.btnIconElContext.setHeight(b)
        }
    },
    publishInnerWidth: function(b, a) {
        if (this.owner.getFrameInfo().table) {
            b.btnInnerElContext.setWidth(a - b.getFrameInfo().width - b.getPaddingInfo().width - b.btnWrapContext.getPaddingInfo().width)
        }
    }
});
Ext.define("Ext.util.TextMetrics", {
    statics: {
        shared: null,
        measure: function(a, d, e) {
            var b = this
              , c = b.shared;
            if (!c) {
                c = b.shared = new b(a,e)
            }
            c.bind(a);
            c.setFixedWidth(e || "auto");
            return c.getSize(d)
        },
        destroy: function() {
            var a = this;
            Ext.destroy(a.shared);
            a.shared = null
        }
    },
    constructor: function(a, c) {
        var b = this.measure = Ext.getBody().createChild({
            cls: Ext.baseCSSPrefix + "textmetrics"
        });
        this.el = Ext.get(a);
        b.position("absolute");
        b.setLocalXY(-1000, -1000);
        b.hide();
        if (c) {
            b.setWidth(c)
        }
    },
    getSize: function(c) {
        var b = this.measure, a;
        b.update(c);
        a = b.getSize();
        b.update("");
        return a
    },
    bind: function(a) {
        var b = this;
        b.el = Ext.get(a);
        b.measure.setStyle(b.el.getStyles("font-size", "font-style", "font-weight", "font-family", "line-height", "text-transform", "letter-spacing"))
    },
    setFixedWidth: function(a) {
        this.measure.setWidth(a)
    },
    getWidth: function(a) {
        this.measure.dom.style.width = "auto";
        return this.getSize(a).width
    },
    getHeight: function(a) {
        return this.getSize(a).height
    },
    destroy: function() {
        var a = this;
        a.measure.remove();
        delete a.el;
        delete a.measure
    }
}, function() {
    Ext.Element.addMethods({
        getTextWidth: function(c, b, a) {
            return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom, Ext.value(c, this.dom.innerHTML, true)).width, b || 0, a || 1000000)
        }
    })
});
Ext.define("Ext.button.Button", {
    alias: "widget.button",
    extend: Ext.Component,
    alternateClassName: "Ext.Button",
    isButton: true,
    componentLayout: "button",
    hidden: false,
    disabled: false,
    pressed: false,
    enableToggle: false,
    menuAlign: "tl-bl?",
    showEmptyMenu: false,
    textAlign: "center",
    type: "button",
    clickEvent: "click",
    preventDefault: true,
    handleMouseEvents: true,
    tooltipType: "qtip",
    baseCls: Ext.baseCSSPrefix + "btn",
    pressedCls: "pressed",
    overCls: "over",
    focusCls: "focus",
    menuActiveCls: "menu-active",
    hrefTarget: "_blank",
    border: true,
    childEls: ["btnEl", "btnWrap", "btnInnerEl", "btnIconEl"],
    renderTpl: ['<div id="{id}-btnWrap" class="{baseCls}-wrap', '<tpl if="splitCls"> {splitCls}</tpl>', '{childElCls}" unselectable="on">', '<a id="{id}-btnEl" class="{baseCls}-button" role="button" hidefocus="on" unselectable="on"', '<tpl if="tabIndex != null>', ' tabIndex="{tabIndex}"', "</tpl>", '<tpl if="href">', ' href="{href}"', '<tpl if="hrefTarget">', ' target="{hrefTarget}"', "</tpl>", "</tpl>", ">", '<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}', '{childElCls}" unselectable="on">', "{text}", "</span>", '<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}', '{childElCls} {glyphCls}" unselectable="on" style="', '<tpl if="iconUrl">background-image:url({iconUrl});</tpl>', '<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">', '<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>', "</span>", "</a>", "</div>", '<tpl if="closable">', '<a id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" href="#"></a>', "</tpl>"],
    scale: "small",
    allowedScales: ["small", "medium", "large"],
    iconAlign: "left",
    arrowAlign: "right",
    arrowCls: "arrow",
    maskOnDisable: false,
    shrinkWrap: 3,
    frame: true,
    _triggerRegion: {},
    initComponent: function() {
        var a = this;
        a.addCls("x-unselectable");
        a.callParent(arguments);
        a.addEvents("click", "toggle", "mouseover", "mouseout", "menushow", "menuhide", "menutriggerover", "menutriggerout", "textchange", "iconchange", "glyphchange");
        if (a.menu) {
            a.split = true;
            a.menu = Ext.menu.Manager.get(a.menu);
            a.menu.ownerButton = a
        }
        if (a.url) {
            a.href = a.url
        }
        if (a.href && !a.hasOwnProperty("preventDefault")) {
            a.preventDefault = false
        }
        if (Ext.isString(a.toggleGroup) && a.toggleGroup !== "") {
            a.enableToggle = true
        }
        if (a.html && !a.text) {
            a.text = a.html;
            delete a.html
        }
        a.glyphCls = a.baseCls + "-glyph"
    },
    getActionEl: function() {
        return this.btnEl
    },
    getFocusEl: function() {
        return this.useElForFocus ? this.el : this.btnEl
    },
    onFocus: function(b) {
        var a = this;
        a.useElForFocus = true;
        a.callParent(arguments);
        a.useElForFocus = false
    },
    onBlur: function(a) {
        this.useElForFocus = true;
        this.callParent(arguments);
        this.useElForFocus = false
    },
    onDisable: function() {
        this.useElForFocus = true;
        this.callParent(arguments);
        this.useElForFocus = false
    },
    setComponentCls: function() {
        var b = this
          , a = b.getComponentCls();
        if (!Ext.isEmpty(b.oldCls)) {
            b.removeClsWithUI(b.oldCls);
            b.removeClsWithUI(b.pressedCls)
        }
        b.oldCls = a;
        b.addClsWithUI(a)
    },
    getComponentCls: function() {
        var b = this
          , a = [];
        if (b.iconCls || b.icon || b.glyph) {
            if (b.text) {
                a.push("icon-text-" + b.iconAlign)
            } else {
                a.push("icon")
            }
        } else {
            if (b.text) {
                a.push("noicon")
            }
        }
        if (b.pressed) {
            a.push(b.pressedCls)
        }
        return a
    },
    beforeRender: function() {
        var a = this;
        a.callParent();
        a.oldCls = a.getComponentCls();
        a.addClsWithUI(a.oldCls);
        Ext.applyIf(a.renderData, a.getTemplateArgs())
    },
    onRender: function() {
        var c = this, d, a, b;
        c.doc = Ext.getDoc();
        c.callParent(arguments);
        a = c.el;
        if (c.tooltip) {
            c.setTooltip(c.tooltip, true)
        }
        if (c.handleMouseEvents) {
            b = {
                scope: c,
                mouseover: c.onMouseOver,
                mouseout: c.onMouseOut,
                mousedown: c.onMouseDown
            };
            if (c.split) {
                b.mousemove = c.onMouseMove
            }
        } else {
            b = {
                scope: c
            }
        }
        if (c.menu) {
            c.mon(c.menu, {
                scope: c,
                show: c.onMenuShow,
                hide: c.onMenuHide
            });
            c.keyMap = new Ext.util.KeyMap({
                target: c.el,
                key: Ext.EventObject.DOWN,
                handler: c.onDownKey,
                scope: c
            })
        }
        if (c.repeat) {
            c.mon(new Ext.util.ClickRepeater(a,Ext.isObject(c.repeat) ? c.repeat : {}), "click", c.onRepeatClick, c)
        } else {
            if (b[c.clickEvent]) {
                d = true
            } else {
                b[c.clickEvent] = c.onClick
            }
        }
        c.mon(a, b);
        if (d) {
            c.mon(a, c.clickEvent, c.onClick, c)
        }
        Ext.button.Manager.register(c)
    },
    getTemplateArgs: function() {
        var c = this, b = c.glyph, d = Ext._glyphFontFamily, a;
        if (typeof b === "string") {
            a = b.split("@");
            b = a[0];
            d = a[1]
        }
        return {
            href: c.getHref(),
            hrefTarget: c.hrefTarget,
            type: c.type,
            innerCls: c.getInnerCls(),
            splitCls: c.getSplitCls(),
            iconUrl: c.icon,
            iconCls: c.iconCls,
            glyph: b,
            glyphCls: b ? c.glyphCls : "",
            glyphFontFamily: d,
            text: c.text || "&#160;",
            tabIndex: c.tabIndex == null ? 0 : c.tabIndex
        }
    },
    setHref: function(a) {
        this.href = a;
        this.btnEl.dom.href = this.getHref()
    },
    getHref: function() {
        var b = this
          , a = b.href;
        return a ? Ext.urlAppend(a, Ext.Object.toQueryString(Ext.apply({}, b.params, b.baseParams))) : false
    },
    setParams: function(a) {
        this.params = a;
        this.btnEl.dom.href = this.getHref()
    },
    getSplitCls: function() {
        var a = this;
        return a.split ? a.baseCls + "-" + a.arrowCls + " " + (a.baseCls + "-" + a.arrowCls + "-" + a.arrowAlign) : ""
    },
    getInnerCls: function() {
        return this.textAlign ? this.baseCls + "-inner-" + this.textAlign : ""
    },
    setIcon: function(b) {
        b = b || "";
        var c = this
          , a = c.btnIconEl
          , d = c.icon || "";
        c.icon = b;
        if (b != d) {
            if (a) {
                a.setStyle("background-image", b ? "url(" + b + ")" : "");
                c.setComponentCls();
                if (c.didIconStateChange(d, b)) {
                    c.updateLayout()
                }
            }
            c.fireEvent("iconchange", c, d, b)
        }
        return c
    },
    setIconCls: function(b) {
        b = b || "";
        var d = this
          , a = d.btnIconEl
          , c = d.iconCls || "";
        d.iconCls = b;
        if (c != b) {
            if (a) {
                a.removeCls(c);
                a.addCls(b || "");
                d.setComponentCls();
                if (d.didIconStateChange(c, b)) {
                    d.updateLayout()
                }
            }
            d.fireEvent("iconchange", d, c, b)
        }
        return d
    },
    setGlyph: function(g) {
        g = g || 0;
        var e = this, b = e.btnIconEl, c = e.glyph, a, d;
        e.glyph = g;
        if (b) {
            if (typeof g === "string") {
                d = g.split("@");
                g = d[0];
                a = d[1] || Ext._glyphFontFamily
            }
            if (!g) {
                b.dom.innerHTML = ""
            } else {
                if (c != g) {
                    b.dom.innerHTML = "&#" + g + ";"
                }
            }
            if (a) {
                b.setStyle("font-family", a)
            }
        }
        e.fireEvent("glyphchange", e, e.glyph, c);
        return e
    },
    setTooltip: function(c, a) {
        var b = this;
        if (b.rendered) {
            if (!a || !c) {
                b.clearTip()
            }
            if (c) {
                if (Ext.quickTipsActive && Ext.isObject(c)) {
                    Ext.tip.QuickTipManager.register(Ext.apply({
                        target: b.btnEl.id
                    }, c));
                    b.tooltip = c
                } else {
                    b.btnEl.dom.setAttribute(b.getTipAttr(), c)
                }
            }
        } else {
            b.tooltip = c
        }
        return b
    },
    setTextAlign: function(c) {
        var b = this
          , a = b.btnEl;
        if (a) {
            a.removeCls(b.baseCls + "-inner-" + b.textAlign);
            a.addCls(b.baseCls + "-inner-" + c)
        }
        b.textAlign = c;
        return b
    },
    getTipAttr: function() {
        return this.tooltipType == "qtip" ? "data-qtip" : "title"
    },
    getRefItems: function(a) {
        var c = this.menu, b;
        if (c) {
            b = c.getRefItems(a);
            b.unshift(c)
        }
        return b || []
    },
    clearTip: function() {
        var b = this
          , a = b.btnEl;
        if (Ext.quickTipsActive && Ext.isObject(b.tooltip)) {
            Ext.tip.QuickTipManager.unregister(a)
        } else {
            a.dom.removeAttribute(b.getTipAttr())
        }
    },
    beforeDestroy: function() {
        var a = this;
        if (a.rendered) {
            a.clearTip()
        }
        if (a.menu && a.destroyMenu !== false) {
            Ext.destroy(a.menu)
        }
        Ext.destroy(a.btnInnerEl, a.repeater);
        a.callParent()
    },
    onDestroy: function() {
        var a = this;
        if (a.rendered) {
            a.doc.un("mouseover", a.monitorMouseOver, a);
            a.doc.un("mouseup", a.onMouseUp, a);
            delete a.doc;
            Ext.destroy(a.keyMap);
            delete a.keyMap
        }
        Ext.button.Manager.unregister(a);
        a.callParent()
    },
    setHandler: function(b, a) {
        this.handler = b;
        this.scope = a;
        return this
    },
    setText: function(c) {
        c = c || "";
        var b = this
          , a = b.text || "";
        if (c != a) {
            b.text = c;
            if (b.rendered) {
                b.btnInnerEl.update(c || "&#160;");
                b.setComponentCls();
                if (Ext.isStrict && Ext.isIE8) {
                    b.el.repaint()
                }
                b.updateLayout()
            }
            b.fireEvent("textchange", b, a, c)
        }
        return b
    },
    didIconStateChange: function(a, c) {
        var b = Ext.isEmpty(c);
        return Ext.isEmpty(a) ? !b : b
    },
    getText: function() {
        return this.text
    },
    toggle: function(c, a) {
        var b = this;
        c = c === undefined ? !b.pressed : !!c;
        if (c !== b.pressed) {
            if (b.rendered) {
                b[c ? "addClsWithUI" : "removeClsWithUI"](b.pressedCls)
            }
            b.pressed = c;
            if (!a) {
                b.fireEvent("toggle", b, c);
                Ext.callback(b.toggleHandler, b.scope || b, [b, c])
            }
        }
        return b
    },
    maybeShowMenu: function() {
        var a = this;
        if (a.menu && !a.hasVisibleMenu() && !a.ignoreNextClick) {
            a.showMenu(true)
        }
    },
    showMenu: function(b) {
        var a = this
          , c = a.menu;
        if (a.rendered) {
            if (a.tooltip && Ext.quickTipsActive && a.getTipAttr() != "title") {
                Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.btnEl)
            }
            if (c.isVisible()) {
                c.hide()
            }
            if (!b || a.showEmptyMenu || c.items.getCount() > 0) {
                c.showBy(a.el, a.menuAlign, Ext.isIEQuirks || Ext.isIE6 ? [-2, -2] : undefined)
            }
        }
        return a
    },
    hideMenu: function() {
        if (this.hasVisibleMenu()) {
            this.menu.hide()
        }
        return this
    },
    hasVisibleMenu: function() {
        var a = this.menu;
        return a && a.rendered && a.isVisible()
    },
    onRepeatClick: function(a, b) {
        this.onClick(b)
    },
    onClick: function(b) {
        var a = this;
        if (a.preventDefault || a.disabled && a.getHref() && b) {
            b.preventDefault()
        }
        if (b.type !== "keydown" && b.button !== 0) {
            return
        }
        if (!a.disabled) {
            a.doToggle();
            a.maybeShowMenu();
            a.fireHandler(b)
        }
    },
    fireHandler: function(c) {
        var b = this
          , a = b.handler;
        if (b.fireEvent("click", b, c) !== false) {
            if (a) {
                a.call(b.scope || b, b, c)
            }
            b.blur()
        }
    },
    doToggle: function() {
        var a = this;
        if (a.enableToggle && (a.allowDepress !== false || !a.pressed)) {
            a.toggle()
        }
    },
    onMouseOver: function(b) {
        var a = this;
        if (!a.disabled && !b.within(a.el, true, true)) {
            a.onMouseEnter(b)
        }
    },
    onMouseOut: function(b) {
        var a = this;
        if (!b.within(a.el, true, true)) {
            if (a.overMenuTrigger) {
                a.onMenuTriggerOut(b)
            }
            a.onMouseLeave(b)
        }
    },
    onMouseMove: function(g) {
        var c = this, b = c.el, d = c.overMenuTrigger, h, a;
        if (c.split) {
            h = c.arrowAlign === "right" ? g.getX() - c.getX() : g.getY() - b.getY();
            a = c.getTriggerRegion();
            if (h > a.begin && h < a.end) {
                if (!d) {
                    c.onMenuTriggerOver(g)
                }
            } else {
                if (d) {
                    c.onMenuTriggerOut(g)
                }
            }
        }
    },
    getTriggerRegion: function() {
        var c = this
          , d = c._triggerRegion
          , b = c.getTriggerSize()
          , a = c.arrowAlign === "right" ? c.getWidth() : c.getHeight();
        d.begin = a - b;
        d.end = a;
        return d
    },
    getTriggerSize: function() {
        var d = this, c = d.triggerSize, b, a;
        if (c == null) {
            b = d.arrowAlign;
            a = b.charAt(0);
            c = d.triggerSize = d.el.getFrameWidth(a) + d.getBtnWrapFrameWidth(a);
            if (d.frameSize) {
                c = d.triggerSize += d.frameSize[b]
            }
        }
        return c
    },
    getBtnWrapFrameWidth: function(a) {
        return this.btnWrap.getFrameWidth(a)
    },
    addOverCls: function() {
        if (!this.disabled) {
            this.addClsWithUI(this.overCls)
        }
    },
    removeOverCls: function() {
        this.removeClsWithUI(this.overCls)
    },
    onMouseEnter: function(a) {
        this.fireEvent("mouseover", this, a)
    },
    onMouseLeave: function(a) {
        this.fireEvent("mouseout", this, a)
    },
    onMenuTriggerOver: function(c) {
        var b = this
          , a = b.arrowTooltip;
        b.overMenuTrigger = true;
        if (b.split && a) {
            b.btnWrap.dom.setAttribute(b.getTipAttr(), a)
        }
        b.fireEvent("menutriggerover", b, b.menu, c)
    },
    onMenuTriggerOut: function(b) {
        var a = this;
        delete a.overMenuTrigger;
        if (a.split && a.arrowTooltip) {
            a.btnWrap.dom.setAttribute(a.getTipAttr(), "")
        }
        a.fireEvent("menutriggerout", a, a.menu, b)
    },
    enable: function(a) {
        var b = this;
        b.callParent(arguments);
        b.removeClsWithUI("disabled");
        return b
    },
    disable: function(a) {
        var b = this;
        b.callParent(arguments);
        b.addClsWithUI("disabled");
        b.removeClsWithUI(b.overCls);
        if (b.btnInnerEl && Ext.isIE7m) {
            b.btnInnerEl.repaint()
        }
        return b
    },
    setScale: function(c) {
        var a = this
          , b = a.ui.replace("-" + a.scale, "");
        if (!Ext.Array.contains(a.allowedScales, c)) {
            throw "#setScale: scale must be an allowed scale (" + a.allowedScales.join(", ") + ")"
        }
        a.scale = c;
        a.setUI(b)
    },
    setUI: function(b) {
        var a = this;
        if (a.scale && !b.match(a.scale)) {
            b = b + "-" + a.scale
        }
        a.callParent([b])
    },
    onMouseDown: function(b) {
        var a = this;
        if (!a.disabled && b.button === 0) {
            a.addClsWithUI(a.pressedCls);
            a.doc.on("mouseup", a.onMouseUp, a)
        }
    },
    onMouseUp: function(b) {
        var a = this;
        if (b.button === 0) {
            if (!a.pressed) {
                a.removeClsWithUI(a.pressedCls)
            }
            a.doc.un("mouseup", a.onMouseUp, a)
        }
    },
    onMenuShow: function(b) {
        var a = this;
        a.ignoreNextClick = 0;
        a.addClsWithUI(a.menuActiveCls);
        a.fireEvent("menushow", a, a.menu)
    },
    onMenuHide: function(b) {
        var a = this;
        a.removeClsWithUI(a.menuActiveCls);
        a.ignoreNextClick = Ext.defer(a.restoreClick, 250, a);
        a.fireEvent("menuhide", a, a.menu)
    },
    restoreClick: function() {
        this.ignoreNextClick = 0
    },
    onDownKey: function() {
        var a = this;
        if (!a.disabled) {
            if (a.menu) {
                a.showMenu()
            }
        }
    }
});
Ext.define("Ext.layout.container.boxOverflow.Menu", {
    extend: Ext.layout.container.boxOverflow.None,
    alternateClassName: "Ext.layout.boxOverflow.Menu",
    noItemsMenuText: '<div class="' + Ext.baseCSSPrefix + 'toolbar-no-items">(None)</div>',
    constructor: function(b) {
        var a = this;
        a.callParent(arguments);
        a.triggerButtonCls = a.triggerButtonCls || Ext.baseCSSPrefix + "box-menu-after";
        a.menuItems = []
    },
    beginLayout: function(a) {
        this.callParent(arguments);
        this.clearOverflow(a)
    },
    beginLayoutCycle: function(b, a) {
        this.callParent(arguments);
        if (!a) {
            this.clearOverflow(b);
            this.layout.cacheChildItems(b)
        }
    },
    onRemove: function(a) {
        Ext.Array.remove(this.menuItems, a)
    },
    getSuffixConfig: function() {
        var d = this
          , c = d.layout
          , a = c.owner
          , b = a.id;
        d.menu = new Ext.menu.Menu({
            listeners: {
                scope: d,
                beforeshow: d.beforeMenuShow
            }
        });
        d.menuTrigger = new Ext.button.Button({
            id: b + "-menu-trigger",
            cls: Ext.layout.container.Box.prototype.innerCls + " " + d.triggerButtonCls + " " + Ext.baseCSSPrefix + "toolbar-item",
            plain: a.usePlainButtons,
            ownerCt: a,
            ownerLayout: c,
            iconCls: Ext.baseCSSPrefix + d.getOwnerType(a) + "-more-icon",
            ui: a instanceof Ext.toolbar.Toolbar ? "default-toolbar" : "default",
            menu: d.menu,
            showEmptyMenu: true,
            getSplitCls: function() {
                return ""
            }
        });
        return d.menuTrigger.getRenderTree()
    },
    getOverflowCls: function() {
        return Ext.baseCSSPrefix + this.layout.direction + "-box-overflow-body"
    },
    handleOverflow: function(d) {
        var c = this
          , b = c.layout
          , g = b.names
          , e = d.state.boxPlan
          , a = [null, null];
        c.showTrigger(d);
        if (c.layout.direction !== "vertical") {
            a[g.heightIndex] = (e.maxSize - c.menuTrigger[g.getHeight]()) / 2;
            c.menuTrigger.setPosition.apply(c.menuTrigger, a)
        }
        return {
            reservedSpace: c.triggerTotalWidth
        }
    },
    captureChildElements: function() {
        var a = this
          , c = a.menuTrigger
          , b = a.layout.names;
        if (c.rendering) {
            c.finishRender();
            a.triggerTotalWidth = c[b.getWidth]() + c.el.getMargin(b.parallelMargins)
        }
    },
    _asLayoutRoot: {
        isRoot: true
    },
    clearOverflow: function(h) {
        var g = this, b = g.menuItems, e, c = 0, d = b.length, a = g.layout.owner, j = g._asLayoutRoot;
        a.suspendLayouts();
        g.captureChildElements();
        g.hideTrigger();
        a.resumeLayouts();
        for (; c < d; c++) {
            e = b[c];
            e.suspendLayouts();
            e.show();
            e.resumeLayouts(j)
        }
        b.length = 0
    },
    showTrigger: function(c) {
        var o = this, k = o.layout, a = k.owner, n = k.names, s = n.x, e = n.width, p = c.state.boxPlan, b = p.targetSize[e], h = c.childItems, l = h.length, g = o.menuTrigger, q, j, d, m;
        g.suspendLayouts();
        g.show();
        g.resumeLayouts(o._asLayoutRoot);
        b -= o.triggerTotalWidth;
        a.suspendLayouts();
        o.menuItems.length = 0;
        for (d = 0; d < l; d++) {
            q = h[d];
            m = q.props;
            if (m[s] + m[e] > b) {
                j = q.target;
                o.menuItems.push(j);
                j.hide()
            }
        }
        a.resumeLayouts()
    },
    hideTrigger: function() {
        var a = this.menuTrigger;
        if (a) {
            a.hide()
        }
    },
    beforeMenuShow: function(j) {
        var h = this, b = h.menuItems, d = 0, a = b.length, g, e, c = function(k, i) {
            return k.isXType("buttongroup") && !(i instanceof Ext.toolbar.Separator)
        };
        j.suspendLayouts();
        h.clearMenu();
        j.removeAll();
        for (; d < a; d++) {
            g = b[d];
            if (!d && g instanceof Ext.toolbar.Separator) {
                continue
            }
            if (e && (c(g, e) || c(e, g))) {
                j.add("-")
            }
            h.addComponentToMenu(j, g);
            e = g
        }
        if (j.items.length < 1) {
            j.add(h.noItemsMenuText)
        }
        j.resumeLayouts()
    },
    createMenuConfig: function(c, a) {
        var d = this
          , b = Ext.apply({}, c.initialConfig)
          , e = c.toggleGroup;
        Ext.copyTo(b, c, ["iconCls", "icon", "itemId", "disabled", "handler", "scope", "menu", "tabIndex"]);
        Ext.apply(b, {
            text: c.overflowText || c.text,
            hideOnClick: a,
            destroyMenu: false,
            listeners: {}
        });
        if (c.isFormField) {
            b.value = c.getValue();
            b.listeners.change = function(i, h, g) {
                c.setValue(h)
            }
        } else {
            if (e || c.enableToggle) {
                Ext.apply(b, {
                    hideOnClick: false,
                    group: e,
                    checked: c.pressed,
                    handler: function(g, h) {
                        c.onClick(h)
                    }
                })
            }
        }
        if (c.isButton && !c.changeListenersAdded) {
            c.on({
                textchange: d.onButtonAttrChange,
                iconchange: d.onButtonAttrChange,
                toggle: d.onButtonToggle
            });
            c.changeListenersAdded = true
        }
        delete b.ownerCt;
        delete b.xtype;
        delete b.id;
        return b
    },
    onButtonAttrChange: function(a) {
        var b = a.overflowClone;
        b.suspendLayouts();
        b.setText(a.text);
        b.setIcon(a.icon);
        b.setIconCls(a.iconCls);
        b.resumeLayouts(true)
    },
    onButtonToggle: function(a, b) {
        if (a.overflowClone.checked !== b) {
            a.overflowClone.setChecked(b)
        }
    },
    addComponentToMenu: function(g, c) {
        var e = this, d, b, a;
        if (c instanceof Ext.toolbar.Separator) {
            g.add("-")
        } else {
            if (c.isComponent) {
                if (c.isXType("splitbutton")) {
                    c.overflowClone = g.add(e.createMenuConfig(c, true))
                } else {
                    if (c.isXType("button")) {
                        c.overflowClone = g.add(e.createMenuConfig(c, !c.menu))
                    } else {
                        if (c.isXType("buttongroup")) {
                            b = c.items.items;
                            a = b.length;
                            for (d = 0; d < a; d++) {
                                e.addComponentToMenu(g, b[d])
                            }
                        } else {
                            c.overflowClone = g.add(Ext.create(Ext.getClassName(c), e.createMenuConfig(c)))
                        }
                    }
                }
            }
        }
    },
    clearMenu: function() {
        var e = this.menu, b, c, a, d;
        if (e && e.items) {
            b = e.items.items;
            a = b.length;
            for (c = 0; c < a; c++) {
                d = b[c];
                if (d.setMenu) {
                    d.setMenu(null)
                }
            }
        }
    },
    destroy: function() {
        var a = this.menuTrigger;
        if (a && !this.layout.owner.items.contains(a)) {
            delete a.ownerCt
        }
        Ext.destroy(this.menu, a)
    }
});
Ext.define("Ext.layout.container.boxOverflow.Scroller", {
    extend: Ext.layout.container.boxOverflow.None,
    alternateClassName: "Ext.layout.boxOverflow.Scroller",
    mixins: {
        observable: Ext.util.Observable
    },
    animateScroll: false,
    scrollIncrement: 20,
    wheelIncrement: 10,
    scrollRepeatInterval: 60,
    scrollDuration: 400,
    scrollerCls: Ext.baseCSSPrefix + "box-scroller",
    constructor: function(c, a) {
        var b = this;
        b.layout = c;
        Ext.apply(b, a || {});
        b.mixins.observable.constructor.call(b);
        b.addEvents("scroll");
        b.scrollPosition = 0;
        b.scrollSize = 0
    },
    getPrefixConfig: function() {
        var c = this, a = c.layout.owner, b;
        c.initCSSClasses();
        b = Ext.layout.container.Box.prototype.innerCls + " " + c.beforeCtCls;
        if (a.plain) {
            b += " " + c.scrollerCls + "-plain"
        }
        return {
            cls: b,
            cn: {
                id: a.id + "-before-scroller",
                cls: c.scrollerCls + " " + c.beforeScrollerCls,
                style: "display:none"
            }
        }
    },
    getSuffixConfig: function() {
        var c = this
          , a = c.layout.owner
          , b = Ext.layout.container.Box.prototype.innerCls + " " + c.afterCtCls;
        if (a.plain) {
            b += " " + c.scrollerCls + "-plain"
        }
        return {
            cls: b,
            cn: {
                id: c.layout.owner.id + "-after-scroller",
                cls: c.scrollerCls + " " + c.afterScrollerCls,
                style: "display:none"
            }
        }
    },
    getOverflowCls: function() {
        return Ext.baseCSSPrefix + this.layout.direction + "-box-overflow-body"
    },
    initCSSClasses: function() {
        var d = this
          , g = Ext.baseCSSPrefix
          , c = d.layout
          , h = c.names
          , a = h.beforeX
          , e = h.afterX
          , b = d.getOwnerType(c.owner);
        d.beforeCtCls = d.beforeCtCls || g + "box-scroller-" + a;
        d.afterCtCls = d.afterCtCls || g + "box-scroller-" + e;
        d.beforeScrollerCls = d.beforeScrollerCls || g + b + "-scroll-" + a;
        d.afterScrollerCls = d.afterScrollerCls || g + b + "-scroll-" + e
    },
    beginLayout: function(a) {
        a.innerCtScrollPos = this.getElScrollPos();
        this.callParent(arguments)
    },
    completeLayout: function(c) {
        var b = this, e = c.state.boxPlan, d = b.layout.names, a;
        if (e && e.tooNarrow) {
            a = c.childItems[c.childItems.length - 1];
            b.scrollSize = a.props[d.x] + a.props[d.width];
            b.updateScrollButtons()
        }
        this.callParent(arguments)
    },
    finishedLayout: function(a) {
        var b = Math.min(this.getMaxScrollPosition(), a.innerCtScrollPos);
        this.setElScrollPos(b)
    },
    setElScrollPos: function(b) {
        var a = this.layout;
        if (a.direction === "vertical") {
            a.innerCt.dom.scrollTop = b
        } else {
            a.innerCt.setScrollLeft(b)
        }
    },
    getElScrollPos: function() {
        var a = this.layout;
        if (a.direction === "vertical") {
            return a.innerCt.dom.scrollTop
        } else {
            return a.innerCt.getScrollLeft()
        }
    },
    handleOverflow: function(c) {
        var b = this
          , a = b.layout.names.getWidth;
        b.showScrollers();
        return {
            reservedSpace: b.beforeCt[a]() + b.afterCt[a]()
        }
    },
    captureChildElements: function() {
        var e = this, c = e.layout.owner.el, g, i, b, a, d, h;
        if (!e.beforeCt) {
            h = "-hover";
            a = "-pressed";
            b = e.scrollerCls + h;
            d = e.scrollerCls + a;
            g = e.beforeScroller = c.getById(e.layout.owner.id + "-before-scroller");
            i = e.afterScroller = c.getById(e.layout.owner.id + "-after-scroller");
            e.beforeCt = g.up("");
            e.afterCt = i.up("");
            e.createWheelListener();
            g.addClsOnOver(b);
            g.addClsOnOver(e.beforeScrollerCls + h);
            g.addClsOnClick(d);
            g.addClsOnClick(e.beforeScrollerCls + a);
            i.addClsOnOver(b);
            i.addClsOnOver(e.afterScrollerCls + h);
            i.addClsOnClick(d);
            i.addClsOnClick(e.afterScrollerCls + a);
            g.setVisibilityMode(Ext.Element.DISPLAY);
            i.setVisibilityMode(Ext.Element.DISPLAY);
            e.beforeRepeater = new Ext.util.ClickRepeater(g,{
                interval: e.scrollRepeatInterval,
                handler: e.scrollLeft,
                scope: e
            });
            e.afterRepeater = new Ext.util.ClickRepeater(i,{
                interval: e.scrollRepeatInterval,
                handler: e.scrollRight,
                scope: e
            })
        }
    },
    createWheelListener: function() {
        var a = this;
        a.layout.innerCt.on({
            mousewheel: function(b) {
                a.scrollBy(b.getWheelDelta() * a.wheelIncrement * -1, false)
            },
            stopEvent: true
        })
    },
    clearOverflow: function() {
        this.hideScrollers()
    },
    showScrollers: function() {
        var a = this;
        a.captureChildElements();
        a.beforeScroller.show();
        a.afterScroller.show();
        a.layout.owner.addClsWithUI(a.layout.direction === "vertical" ? "vertical-scroller" : "scroller")
    },
    hideScrollers: function() {
        var a = this;
        if (a.beforeScroller !== undefined) {
            a.beforeScroller.hide();
            a.afterScroller.hide();
            a.layout.owner.removeClsWithUI(a.layout.direction === "vertical" ? "vertical-scroller" : "scroller")
        }
    },
    destroy: function() {
        var a = this;
        Ext.destroy(a.beforeRepeater, a.afterRepeater, a.beforeScroller, a.afterScroller, a.beforeCt, a.afterCt)
    },
    scrollBy: function(b, a) {
        this.scrollTo(this.getScrollPosition() + b, a)
    },
    getScrollAnim: function() {
        return {
            duration: this.scrollDuration,
            callback: this.updateScrollButtons,
            scope: this
        }
    },
    updateScrollButtons: function() {
        var d = this, h, c, a, b, e, g = "-disabled";
        if (d.beforeScroller == null || d.afterScroller == null) {
            return
        }
        h = d.atExtremeBefore() ? "addCls" : "removeCls";
        c = d.atExtremeAfter() ? "addCls" : "removeCls";
        e = d.scrollerCls + g;
        a = [e, d.beforeScrollerCls + g];
        b = [e, d.afterScrollerCls + g];
        d.beforeScroller[h](a);
        d.afterScroller[c](b);
        d.scrolling = false
    },
    scrollLeft: function() {
        this.scrollBy(-this.scrollIncrement, false)
    },
    scrollRight: function() {
        this.scrollBy(this.scrollIncrement, false)
    },
    getScrollPosition: function() {
        var c = this, b = c.layout, a;
        if (isNaN(c.scrollPosition)) {
            a = c.getElScrollPos()
        } else {
            a = c.scrollPosition
        }
        return a
    },
    getMaxScrollPosition: function() {
        var b = this
          , a = b.layout
          , c = b.scrollSize - a.innerCt[a.names.getWidth]();
        return c < 0 ? 0 : c
    },
    atExtremeBefore: function() {
        return !this.getScrollPosition()
    },
    atExtremeAfter: function() {
        return this.getScrollPosition() >= this.getMaxScrollPosition()
    },
    scrollTo: function(a, b) {
        var g = this
          , e = g.layout
          , d = g.getScrollPosition()
          , c = Ext.Number.constrain(a, 0, g.getMaxScrollPosition());
        if (c != d && !g.scrolling) {
            g.scrollPosition = NaN;
            if (b === undefined) {
                b = g.animateScroll
            }
            e.innerCt.scrollTo(e.names.beforeX, c, b ? g.getScrollAnim() : false);
            if (b) {
                g.scrolling = true
            } else {
                g.updateScrollButtons()
            }
            g.fireEvent("scroll", g, c, b ? g.getScrollAnim() : false)
        }
    },
    scrollToItem: function(j, b) {
        var i = this, e = i.layout, c = e.owner, h = e.names, a, d, g;
        j = i.getItem(j);
        if (j !== undefined) {
            if (j == c.items.first()) {
                g = 0
            } else {
                if (j === c.items.last()) {
                    g = i.getMaxScrollPosition()
                } else {
                    a = i.getItemVisibility(j);
                    if (!a.fullyVisible) {
                        d = j.getBox(false, true);
                        g = d[h.x];
                        if (a.hiddenEnd) {
                            g -= i.layout.innerCt[h.getWidth]() - d[h.width]
                        }
                    }
                }
            }
            i.scrollTo(g, b)
        }
    },
    getItemVisibility: function(j) {
        var h = this
          , b = h.getItem(j).getBox(true, true)
          , c = h.layout
          , g = c.names
          , e = b[g.x]
          , d = e + b[g.width]
          , a = h.getScrollPosition()
          , i = a + c.innerCt[g.getWidth]();
        return {
            hiddenStart: e < a,
            hiddenEnd: d > i,
            fullyVisible: e > a && d < i
        }
    }
});
Ext.define("Ext.util.Offset", {
    statics: {
        fromObject: function(a) {
            return new this(a.x,a.y)
        }
    },
    constructor: function(a, b) {
        this.x = a != null && !isNaN(a) ? a : 0;
        this.y = b != null && !isNaN(b) ? b : 0;
        return this
    },
    copy: function() {
        return new Ext.util.Offset(this.x,this.y)
    },
    copyFrom: function(a) {
        this.x = a.x;
        this.y = a.y
    },
    toString: function() {
        return "Offset[" + this.x + "," + this.y + "]"
    },
    equals: function(a) {
        if (!(a instanceof this.statics())) {
            Ext.Error.raise("Offset must be an instance of Ext.util.Offset")
        }
        return this.x == a.x && this.y == a.y
    },
    round: function(b) {
        if (!isNaN(b)) {
            var a = Math.pow(10, b);
            this.x = Math.round(this.x * a) / a;
            this.y = Math.round(this.y * a) / a
        } else {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y)
        }
    },
    isZero: function() {
        return this.x == 0 && this.y == 0
    }
});
Ext.define("Ext.util.Region", {
    statics: {
        getRegion: function(a) {
            return Ext.fly(a).getRegion()
        },
        from: function(a) {
            return new this(a.top,a.right,a.bottom,a.left)
        }
    },
    constructor: function(d, g, a, c) {
        var e = this;
        e.y = e.top = e[1] = d;
        e.right = g;
        e.bottom = a;
        e.x = e.left = e[0] = c
    },
    contains: function(b) {
        var a = this;
        return b.x >= a.x && b.right <= a.right && b.y >= a.y && b.bottom <= a.bottom
    },
    intersect: function(h) {
        var g = this
          , d = Math.max(g.y, h.y)
          , e = Math.min(g.right, h.right)
          , a = Math.min(g.bottom, h.bottom)
          , c = Math.max(g.x, h.x);
        if (a > d && e > c) {
            return new this.self(d,e,a,c)
        } else {
            return false
        }
    },
    union: function(h) {
        var g = this
          , d = Math.min(g.y, h.y)
          , e = Math.max(g.right, h.right)
          , a = Math.max(g.bottom, h.bottom)
          , c = Math.min(g.x, h.x);
        return new this.self(d,e,a,c)
    },
    constrainTo: function(b) {
        var a = this
          , c = Ext.Number.constrain;
        a.top = a.y = c(a.top, b.y, b.bottom);
        a.bottom = c(a.bottom, b.y, b.bottom);
        a.left = a.x = c(a.left, b.x, b.right);
        a.right = c(a.right, b.x, b.right);
        return a
    },
    adjust: function(d, g, a, c) {
        var e = this;
        e.top = e.y += d;
        e.left = e.x += c;
        e.right += g;
        e.bottom += a;
        return e
    },
    getOutOfBoundOffset: function(a, b) {
        if (!Ext.isObject(a)) {
            if (a == "x") {
                return this.getOutOfBoundOffsetX(b)
            } else {
                return this.getOutOfBoundOffsetY(b)
            }
        } else {
            b = a;
            var c = new Ext.util.Offset();
            c.x = this.getOutOfBoundOffsetX(b.x);
            c.y = this.getOutOfBoundOffsetY(b.y);
            return c
        }
    },
    getOutOfBoundOffsetX: function(a) {
        if (a <= this.x) {
            return this.x - a
        } else {
            if (a >= this.right) {
                return this.right - a
            }
        }
        return 0
    },
    getOutOfBoundOffsetY: function(a) {
        if (a <= this.y) {
            return this.y - a
        } else {
            if (a >= this.bottom) {
                return this.bottom - a
            }
        }
        return 0
    },
    isOutOfBound: function(a, b) {
        if (!Ext.isObject(a)) {
            if (a == "x") {
                return this.isOutOfBoundX(b)
            } else {
                return this.isOutOfBoundY(b)
            }
        } else {
            b = a;
            return this.isOutOfBoundX(b.x) || this.isOutOfBoundY(b.y)
        }
    },
    isOutOfBoundX: function(a) {
        return a < this.x || a > this.right
    },
    isOutOfBoundY: function(a) {
        return a < this.y || a > this.bottom
    },
    restrict: function(b, d, a) {
        if (Ext.isObject(b)) {
            var c;
            a = d;
            d = b;
            if (d.copy) {
                c = d.copy()
            } else {
                c = {
                    x: d.x,
                    y: d.y
                }
            }
            c.x = this.restrictX(d.x, a);
            c.y = this.restrictY(d.y, a);
            return c
        } else {
            if (b == "x") {
                return this.restrictX(d, a)
            } else {
                return this.restrictY(d, a)
            }
        }
    },
    restrictX: function(b, a) {
        if (!a) {
            a = 1
        }
        if (b <= this.x) {
            b -= (b - this.x) * a
        } else {
            if (b >= this.right) {
                b -= (b - this.right) * a
            }
        }
        return b
    },
    restrictY: function(b, a) {
        if (!a) {
            a = 1
        }
        if (b <= this.y) {
            b -= (b - this.y) * a
        } else {
            if (b >= this.bottom) {
                b -= (b - this.bottom) * a
            }
        }
        return b
    },
    getSize: function() {
        return {
            width: this.right - this.x,
            height: this.bottom - this.y
        }
    },
    copy: function() {
        return new this.self(this.y,this.right,this.bottom,this.x)
    },
    copyFrom: function(b) {
        var a = this;
        a.top = a.y = a[1] = b.y;
        a.right = b.right;
        a.bottom = b.bottom;
        a.left = a.x = a[0] = b.x;
        return this
    },
    toString: function() {
        return "Region[" + this.top + "," + this.right + "," + this.bottom + "," + this.left + "]"
    },
    translateBy: function(a, c) {
        if (arguments.length == 1) {
            c = a.y;
            a = a.x
        }
        var b = this;
        b.top = b.y += c;
        b.right += a;
        b.bottom += c;
        b.left = b.x += a;
        return b
    },
    round: function() {
        var a = this;
        a.top = a.y = Math.round(a.y);
        a.right = Math.round(a.right);
        a.bottom = Math.round(a.bottom);
        a.left = a.x = Math.round(a.x);
        return a
    },
    equals: function(a) {
        return this.top == a.top && this.right == a.right && this.bottom == a.bottom && this.left == a.left
    }
});
Ext.define("Ext.dd.DragDropManager", {
    singleton: true,
    alternateClassName: ["Ext.dd.DragDropMgr", "Ext.dd.DDM"],
    ids: {},
    handleIds: {},
    dragCurrent: null,
    dragOvers: {},
    deltaX: 0,
    deltaY: 0,
    preventDefault: true,
    stopPropagation: true,
    initialized: false,
    locked: false,
    init: function() {
        this.initialized = true
    },
    POINT: 0,
    INTERSECT: 1,
    mode: 0,
    notifyOccluded: false,
    dragCls: Ext.baseCSSPrefix + "dd-drag-current",
    _execOnAll: function(c, b) {
        var d, a, e;
        for (d in this.ids) {
            for (a in this.ids[d]) {
                e = this.ids[d][a];
                if (!this.isTypeOfDD(e)) {
                    continue
                }
                e[c].apply(e, b)
            }
        }
    },
    _onLoad: function() {
        this.init();
        var a = Ext.EventManager;
        a.on(document, "mouseup", this.handleMouseUp, this, true);
        a.on(document, "mousemove", this.handleMouseMove, this, true);
        a.on(window, "unload", this._onUnload, this, true);
        a.on(window, "resize", this._onResize, this, true)
    },
    _onResize: function(a) {
        this._execOnAll("resetConstraints", [])
    },
    lock: function() {
        this.locked = true
    },
    unlock: function() {
        this.locked = false
    },
    isLocked: function() {
        return this.locked
    },
    locationCache: {},
    useCache: true,
    clickPixelThresh: 3,
    clickTimeThresh: 350,
    dragThreshMet: false,
    clickTimeout: null,
    startX: 0,
    startY: 0,
    regDragDrop: function(b, a) {
        if (!this.initialized) {
            this.init()
        }
        if (!this.ids[a]) {
            this.ids[a] = {}
        }
        this.ids[a][b.id] = b
    },
    removeDDFromGroup: function(c, a) {
        if (!this.ids[a]) {
            this.ids[a] = {}
        }
        var b = this.ids[a];
        if (b && b[c.id]) {
            delete b[c.id]
        }
    },
    _remove: function(b) {
        for (var a in b.groups) {
            if (a && this.ids[a] && this.ids[a][b.id]) {
                delete this.ids[a][b.id]
            }
        }
        delete this.handleIds[b.id]
    },
    regHandle: function(b, a) {
        if (!this.handleIds[b]) {
            this.handleIds[b] = {}
        }
        this.handleIds[b][a] = a
    },
    isDragDrop: function(a) {
        return this.getDDById(a) ? true : false
    },
    getRelated: function(g, b) {
        var e = [], d, c, a;
        for (d in g.groups) {
            for (c in this.ids[d]) {
                a = this.ids[d][c];
                if (!this.isTypeOfDD(a)) {
                    continue
                }
                if (!b || a.isTarget) {
                    e[e.length] = a
                }
            }
        }
        return e
    },
    isLegalTarget: function(e, d) {
        var b = this.getRelated(e, true), c, a;
        for (c = 0,
        a = b.length; c < a; ++c) {
            if (b[c].id == d.id) {
                return true
            }
        }
        return false
    },
    isTypeOfDD: function(a) {
        return a && a.__ygDragDrop
    },
    isHandle: function(b, a) {
        return this.handleIds[b] && this.handleIds[b][a]
    },
    getDDById: function(c) {
        var b, a;
        for (b in this.ids) {
            a = this.ids[b][c];
            if (a instanceof Ext.dd.DDTarget) {
                return a
            }
        }
        return null
    },
    handleMouseDown: function(d, c) {
        var b = this, a;
        if (Ext.quickTipsActive) {
            Ext.tip.QuickTipManager.ddDisable()
        }
        if (b.dragCurrent) {
            b.handleMouseUp(d)
        }
        b.currentTarget = d.getTarget();
        b.dragCurrent = c;
        a = c.getEl();
        if (Ext.isIE && a.setCapture) {
            a.setCapture()
        }
        b.startX = d.getPageX();
        b.startY = d.getPageY();
        b.deltaX = b.startX - a.offsetLeft;
        b.deltaY = b.startY - a.offsetTop;
        b.dragThreshMet = false;
        b.clickTimeout = setTimeout(function() {
            b.startDrag(b.startX, b.startY)
        }, b.clickTimeThresh)
    },
    startDrag: function(b, e) {
        var c = this, d = c.dragCurrent, a;
        clearTimeout(c.clickTimeout);
        if (d) {
            d.b4StartDrag(b, e);
            d.startDrag(b, e);
            a = d.getDragEl();
            if (a) {
                Ext.fly(a).addCls(c.dragCls)
            }
        }
        c.dragThreshMet = true
    },
    handleMouseUp: function(b) {
        var a = this;
        if (Ext.quickTipsActive) {
            Ext.tip.QuickTipManager.ddEnable()
        }
        if (!a.dragCurrent) {
            return
        }
        if (Ext.isIE && document.releaseCapture) {
            document.releaseCapture()
        }
        clearTimeout(a.clickTimeout);
        if (a.dragThreshMet) {
            a.fireEvents(b, true)
        }
        a.stopDrag(b);
        a.stopEvent(b)
    },
    stopEvent: function(a) {
        if (this.stopPropagation) {
            a.stopPropagation()
        }
        if (this.preventDefault) {
            a.preventDefault()
        }
    },
    stopDrag: function(d) {
        var b = this, c = b.dragCurrent, a;
        if (c) {
            if (b.dragThreshMet) {
                a = c.getDragEl();
                if (a) {
                    Ext.fly(a).removeCls(b.dragCls)
                }
                c.b4EndDrag(d);
                c.endDrag(d)
            }
            b.dragCurrent.onMouseUp(d)
        }
        b.dragCurrent = null;
        b.dragOvers = {}
    },
    handleMouseMove: function(g) {
        var c = this, d = c.dragCurrent, b, a;
        if (!d) {
            return true
        }
        if (!c.dragThreshMet) {
            b = Math.abs(c.startX - g.getPageX());
            a = Math.abs(c.startY - g.getPageY());
            if (b > c.clickPixelThresh || a > c.clickPixelThresh) {
                c.startDrag(c.startX, c.startY)
            }
        }
        if (c.dragThreshMet) {
            d.b4Drag(g);
            d.onDrag(g);
            if (!d.moveOnly) {
                c.fireEvents(g, false)
            }
        }
        c.stopEvent(g);
        return true
    },
    fireEvents: function(v, m) {
        var x = this, g = x.dragCurrent, c, o, t = v.getPoint(), d, l, n = [], h = [], k = [], a = [], w = [], u = [], j, b, q, s, p;
        if (!g || g.isLocked()) {
            return
        }
        if (!x.notifyOccluded && (!Ext.supports.PointerEvents || Ext.isIE10m || Ext.isOpera) && !(g.deltaX < 0 || g.deltaY < 0)) {
            c = g.getDragEl();
            o = c.style.top;
            c.style.top = "-10000px";
            j = v.getXY();
            v.target = document.elementFromPoint(j[0], j[1]);
            c.style.top = o
        }
        for (q in x.dragOvers) {
            d = x.dragOvers[q];
            if (!x.isTypeOfDD(d)) {
                continue
            }
            if (x.notifyOccluded) {
                if (!this.isOverTarget(t, d, x.mode)) {
                    k.push(d)
                }
            } else {
                if (!v.within(d.getEl())) {
                    k.push(d)
                }
            }
            h[q] = true;
            delete x.dragOvers[q]
        }
        for (p in g.groups) {
            if ("string" != typeof p) {
                continue
            }
            for (q in x.ids[p]) {
                d = x.ids[p][q];
                if (x.isTypeOfDD(d) && (l = d.getEl()) && d.isTarget && !d.isLocked() && Ext.fly(l).isVisible(true) && (d != g || g.ignoreSelf === false)) {
                    if (x.notifyOccluded) {
                        if ((d.zIndex = x.getZIndex(l)) !== -1) {
                            b = true
                        }
                        n.push(d)
                    } else {
                        if (v.within(d.getEl())) {
                            n.push(d);
                            break
                        }
                    }
                }
            }
        }
        if (b) {
            Ext.Array.sort(n, x.byZIndex)
        }
        for (q = 0,
        s = n.length; q < s; q++) {
            d = n[q];
            if (x.isOverTarget(t, d, x.mode)) {
                if (m) {
                    w.push(d)
                } else {
                    if (!h[d.id]) {
                        u.push(d)
                    } else {
                        a.push(d)
                    }
                    x.dragOvers[d.id] = d
                }
                if (!x.notifyOccluded) {
                    break
                }
            }
        }
        if (x.mode) {
            if (k.length) {
                g.b4DragOut(v, k);
                g.onDragOut(v, k)
            }
            if (u.length) {
                g.onDragEnter(v, u)
            }
            if (a.length) {
                g.b4DragOver(v, a);
                g.onDragOver(v, a)
            }
            if (w.length) {
                g.b4DragDrop(v, w);
                g.onDragDrop(v, w)
            }
        } else {
            for (q = 0,
            s = k.length; q < s; ++q) {
                g.b4DragOut(v, k[q].id);
                g.onDragOut(v, k[q].id)
            }
            for (q = 0,
            s = u.length; q < s; ++q) {
                g.onDragEnter(v, u[q].id)
            }
            for (q = 0,
            s = a.length; q < s; ++q) {
                g.b4DragOver(v, a[q].id);
                g.onDragOver(v, a[q].id)
            }
            for (q = 0,
            s = w.length; q < s; ++q) {
                g.b4DragDrop(v, w[q].id);
                g.onDragDrop(v, w[q].id)
            }
        }
        if (m && !w.length) {
            g.onInvalidDrop(v)
        }
    },
    getZIndex: function(b) {
        var a = document.body, c, d = -1;
        b = Ext.getDom(b);
        while (b !== a) {
            if (!isNaN(c = Number(Ext.fly(b).getStyle("zIndex")))) {
                d = c
            }
            b = b.parentNode
        }
        return d
    },
    byZIndex: function(b, a) {
        return b.zIndex < a.zIndex
    },
    getBestMatch: function(c) {
        var e = null, b = c.length, d, a;
        if (b == 1) {
            e = c[0]
        } else {
            for (d = 0; d < b; ++d) {
                a = c[d];
                if (a.cursorIsOver) {
                    e = a;
                    break
                } else {
                    if (!e || e.overlap.getArea() < a.overlap.getArea()) {
                        e = a
                    }
                }
            }
        }
        return e
    },
    refreshCache: function(b) {
        var a, c, d, e;
        for (a in b) {
            if ("string" != typeof a) {
                continue
            }
            for (c in this.ids[a]) {
                d = this.ids[a][c];
                if (this.isTypeOfDD(d)) {
                    e = this.getLocation(d);
                    if (e) {
                        this.locationCache[d.id] = e
                    } else {
                        delete this.locationCache[d.id]
                    }
                }
            }
        }
    },
    verifyEl: function(b) {
        if (b) {
            var a;
            if (Ext.isIE) {
                try {
                    a = b.offsetParent
                } catch (c) {}
            } else {
                a = b.offsetParent
            }
            if (a) {
                return true
            }
        }
        return false
    },
    getLocation: function(i) {
        if (!this.isTypeOfDD(i)) {
            return null
        }
        if (i.getRegion) {
            return i.getRegion()
        }
        var g = i.getEl(), m, d, c, o, n, p, a, k, h;
        try {
            m = Ext.Element.getXY(g)
        } catch (j) {}
        if (!m) {
            return null
        }
        d = m[0];
        c = d + g.offsetWidth;
        o = m[1];
        n = o + g.offsetHeight;
        p = o - i.padding[0];
        a = c + i.padding[1];
        k = n + i.padding[2];
        h = d - i.padding[3];
        return new Ext.util.Region(p,a,k,h)
    },
    isOverTarget: function(j, a, c) {
        var e = this.locationCache[a.id], i, g, b, d, h;
        if (!e || !this.useCache) {
            e = this.getLocation(a);
            this.locationCache[a.id] = e
        }
        if (!e) {
            return false
        }
        a.cursorIsOver = e.contains(j);
        i = this.dragCurrent;
        if (!i || !i.getTargetCoord || !c && !i.constrainX && !i.constrainY) {
            return a.cursorIsOver
        }
        a.overlap = null;
        g = i.getTargetCoord(j.x, j.y);
        b = i.getDragEl();
        d = new Ext.util.Region(g.y,g.x + b.offsetWidth,g.y + b.offsetHeight,g.x);
        h = d.intersect(e);
        if (h) {
            a.overlap = h;
            return c ? true : a.cursorIsOver
        } else {
            return false
        }
    },
    _onUnload: function(b, a) {
        Ext.dd.DragDropManager.unregAll()
    },
    unregAll: function() {
        if (this.dragCurrent) {
            this.stopDrag();
            this.dragCurrent = null
        }
        this._execOnAll("unreg", []);
        for (var a in this.elementCache) {
            delete this.elementCache[a]
        }
        this.elementCache = {};
        this.ids = {}
    },
    elementCache: {},
    getElWrapper: function(b) {
        var a = this.elementCache[b];
        if (!a || !a.el) {
            a = this.elementCache[b] = new this.ElementWrapper(Ext.getDom(b))
        }
        return a
    },
    getElement: function(a) {
        return Ext.getDom(a)
    },
    getCss: function(b) {
        var a = Ext.getDom(b);
        return a ? a.style : null
    },
    ElementWrapper: function(a) {
        this.el = a || null;
        this.id = this.el && a.id;
        this.css = this.el && a.style
    },
    getPosX: function(a) {
        return Ext.Element.getX(a)
    },
    getPosY: function(a) {
        return Ext.Element.getY(a)
    },
    swapNode: function(c, a) {
        if (c.swapNode) {
            c.swapNode(a)
        } else {
            var d = a.parentNode
              , b = a.nextSibling;
            if (b == c) {
                d.insertBefore(c, a)
            } else {
                if (a == c.nextSibling) {
                    d.insertBefore(a, c)
                } else {
                    c.parentNode.replaceChild(a, c);
                    d.insertBefore(c, b)
                }
            }
        }
    },
    getScroll: function() {
        var d = window.document
          , e = d.documentElement
          , a = d.body
          , c = 0
          , b = 0;
        if (Ext.isGecko4) {
            c = window.scrollYOffset;
            b = window.scrollXOffset
        } else {
            if (e && (e.scrollTop || e.scrollLeft)) {
                c = e.scrollTop;
                b = e.scrollLeft
            } else {
                if (a) {
                    c = a.scrollTop;
                    b = a.scrollLeft
                }
            }
        }
        return {
            top: c,
            left: b
        }
    },
    getStyle: function(b, a) {
        return Ext.fly(b).getStyle(a)
    },
    getScrollTop: function() {
        return this.getScroll().top
    },
    getScrollLeft: function() {
        return this.getScroll().left
    },
    moveToEl: function(a, c) {
        var b = Ext.Element.getXY(c);
        Ext.Element.setXY(a, b)
    },
    numericSort: function(d, c) {
        return d - c
    },
    _timeoutCount: 0,
    _addListeners: function() {
        if (document) {
            this._onLoad()
        } else {
            if (this._timeoutCount <= 2000) {
                setTimeout(this._addListeners, 10);
                if (document && document.body) {
                    this._timeoutCount += 1
                }
            }
        }
    },
    handleWasClicked: function(a, c) {
        if (this.isHandle(c, a.id)) {
            return true
        } else {
            var b = a.parentNode;
            while (b) {
                if (this.isHandle(c, b.id)) {
                    return true
                } else {
                    b = b.parentNode
                }
            }
        }
        return false
    }
}, function() {
    this._addListeners()
});
Ext.define("Ext.layout.container.Box", {
    alias: ["layout.box"],
    extend: Ext.layout.container.Container,
    alternateClassName: "Ext.layout.BoxLayout",
    defaultMargins: {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0
    },
    padding: 0,
    pack: "start",
    flex: undefined,
    stretchMaxPartner: undefined,
    alignRoundingMethod: "round",
    type: "box",
    scrollOffset: 0,
    itemCls: Ext.baseCSSPrefix + "box-item",
    targetCls: Ext.baseCSSPrefix + "box-layout-ct",
    targetElCls: Ext.baseCSSPrefix + "box-target",
    innerCls: Ext.baseCSSPrefix + "box-inner",
    availableSpaceOffset: 0,
    reserveOffset: true,
    manageMargins: true,
    createsInnerCt: true,
    childEls: ["innerCt", "targetEl"],
    renderTpl: ["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;", "if (oh.getPrefixConfig!==Ext.emptyFn) {", "if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)", "}%}", '<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">', '<div id="{ownerId}-targetEl" class="{targetElCls}">', "{%this.renderBody(out, values)%}", "</div>", "</div>", "{%if (oh.getSuffixConfig!==Ext.emptyFn) {", "if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)", "}%}", {
        disableFormats: true,
        definitions: "var dh=Ext.DomHelper;"
    }],
    constructor: function(a) {
        var c = this, b;
        c.callParent(arguments);
        c.flexSortFn = Ext.Function.bind(c.flexSort, c);
        c.initOverflowHandler();
        b = typeof c.padding;
        if (b == "string" || b == "number") {
            c.padding = Ext.util.Format.parseBox(c.padding);
            c.padding.height = c.padding.top + c.padding.bottom;
            c.padding.width = c.padding.left + c.padding.right
        }
    },
    _percentageRe: /^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,
    getItemSizePolicy: function(o, p) {
        var k = this
          , i = k.sizePolicy
          , h = k.align
          , g = o.flex
          , m = h
          , j = k.names
          , b = o[j.width]
          , n = o[j.height]
          , d = k._percentageRe
          , c = d.test(b)
          , e = h == "stretch"
          , a = h == "stretchmax"
          , l = k.constrainAlign;
        if (!p && (e || g || c || l && !a)) {
            p = k.owner.getSizeModel()
        }
        if (e) {
            if (!d.test(n) && p[j.height].shrinkWrap) {
                m = "stretchmax"
            }
        } else {
            if (!a) {
                if (d.test(n)) {
                    m = "stretch"
                } else {
                    if (l && !p[j.height].shrinkWrap) {
                        m = "stretchmax"
                    } else {
                        m = ""
                    }
                }
            }
        }
        if (g || c) {
            if (!p[j.width].shrinkWrap) {
                i = i.flex
            }
        }
        return i[m]
    },
    flexSort: function(m, l) {
        var j = this.names.maxWidth, e = this.names.minWidth, k = Infinity, i = m.target, p = l.target, q = 0, c, n, h, d, o, g;
        h = i[j] || k;
        d = p[j] || k;
        c = i[e] || 0;
        n = p[e] || 0;
        o = isFinite(c) || isFinite(n);
        g = isFinite(h) || isFinite(d);
        if (o || g) {
            if (g) {
                q = h - d
            }
            if (q === 0 && o) {
                q = n - c
            }
        }
        return q
    },
    isItemBoxParent: function(a) {
        return true
    },
    isItemShrinkWrap: function(a) {
        return true
    },
    roundFlex: function(a) {
        return Math.ceil(a)
    },
    beginCollapse: function(b) {
        var a = this;
        if (a.direction === "vertical" && b.collapsedVertical()) {
            b.collapseMemento.capture(["flex"]);
            delete b.flex
        } else {
            if (a.direction === "horizontal" && b.collapsedHorizontal()) {
                b.collapseMemento.capture(["flex"]);
                delete b.flex
            }
        }
    },
    beginExpand: function(a) {
        a.collapseMemento.restore(["flex"])
    },
    beginLayout: function(d) {
        var c = this
          , a = c.owner
          , g = a.stretchMaxPartner
          , b = c.innerCt.dom.style
          , e = c.names;
        d.boxNames = e;
        c.overflowHandler.beginLayout(d);
        if (typeof g === "string") {
            g = Ext.getCmp(g) || a.query(g)[0]
        }
        d.stretchMaxPartner = g && d.context.getCmp(g);
        c.callParent(arguments);
        d.innerCtContext = d.getEl("innerCt", c);
        c.scrollParallel = a.scrollFlags[e.x];
        c.scrollPerpendicular = a.scrollFlags[e.y];
        if (c.scrollParallel) {
            c.scrollPos = a.getTargetEl().dom[e.scrollLeft]
        }
        b.width = "";
        b.height = ""
    },
    beginLayoutCycle: function(e, a) {
        var d = this
          , h = d.align
          , g = e.boxNames
          , b = d.pack
          , c = g.heightModel;
        d.overflowHandler.beginLayoutCycle(e, a);
        d.callParent(arguments);
        e.parallelSizeModel = e[g.widthModel];
        e.perpendicularSizeModel = e[c];
        e.boxOptions = {
            align: h = {
                stretch: h == "stretch",
                stretchmax: h == "stretchmax",
                center: h == g.center,
                bottom: h == g.afterY
            },
            pack: b = {
                center: b == "center",
                end: b == "end"
            }
        };
        if (h.stretch && e.perpendicularSizeModel.shrinkWrap) {
            h.stretchmax = true;
            h.stretch = false
        }
        h.nostretch = !(h.stretch || h.stretchmax);
        if (e.parallelSizeModel.shrinkWrap) {
            b.center = b.end = false
        }
        d.cacheFlexes(e);
        d.targetEl.setWidth(20000)
    },
    cacheFlexes: function(k) {
        var v = this, l = k.boxNames, a = l.widthModel, d = l.heightModel, c = k.boxOptions.align.nostretch, o = 0, b = k.childItems, q = b.length, t = [], m = 0, j = l.minWidth, g = v._percentageRe, s = 0, u = 0, e, n, p, h;
        while (q--) {
            n = b[q];
            e = n.target;
            if (n[a].calculated) {
                n.flex = p = e.flex;
                if (p) {
                    o += p;
                    t.push(n);
                    m += e[j] || 0
                } else {
                    h = g.exec(e[l.width]);
                    n.percentageParallel = parseFloat(h[1]) / 100;
                    ++s
                }
            }
            if (c && n[d].calculated) {
                h = g.exec(e[l.height]);
                n.percentagePerpendicular = parseFloat(h[1]) / 100;
                ++u
            }
        }
        k.flexedItems = t;
        k.flexedMinSize = m;
        k.totalFlex = o;
        k.percentageWidths = s;
        k.percentageHeights = u;
        Ext.Array.sort(t, v.flexSortFn)
    },
    calculate: function(e) {
        var c = this
          , b = c.getContainerSize(e)
          , h = e.boxNames
          , d = e.state
          , g = d.boxPlan || (d.boxPlan = {})
          , a = e.targetContext;
        g.targetSize = b;
        if (!e.parallelSizeModel.shrinkWrap && !b[h.gotWidth]) {
            c.done = false;
            return
        }
        if (!d.parallelDone) {
            d.parallelDone = c.calculateParallel(e, h, g)
        }
        if (!d.perpendicularDone) {
            d.perpendicularDone = c.calculatePerpendicular(e, h, g)
        }
        if (d.parallelDone && d.perpendicularDone) {
            if (c.owner.dock && (Ext.isIE7m || Ext.isIEQuirks) && !c.owner.width && !c.horizontal) {
                g.isIEVerticalDock = true;
                g.calculatedWidth = g.maxSize + e.getPaddingInfo().width + e.getFrameInfo().width;
                if (a !== e) {
                    g.calculatedWidth += a.getPaddingInfo().width
                }
            }
            c.publishInnerCtSize(e, c.reserveOffset ? c.availableSpaceOffset : 0);
            if (c.done && (e.childItems.length > 1 || e.stretchMaxPartner) && e.boxOptions.align.stretchmax && !d.stretchMaxDone) {
                c.calculateStretchMax(e, h, g);
                d.stretchMaxDone = true
            }
            c.overflowHandler.calculate(e)
        } else {
            c.done = false
        }
    },
    calculateParallel: function(k, n, b) {
        var G = this, A = n.width, a = k.childItems, t = n.beforeX, d = n.afterX, q = n.setWidth, B = a.length, y = k.flexedItems, s = y.length, w = k.boxOptions.pack, m = G.padding, h = b.targetSize[A], C = 0, e = m[t], F = e + m[d] + G.scrollOffset + (G.reserveOffset ? G.availableSpaceOffset : 0), x = Ext.getScrollbarSize()[n.width], v, l, g, z, o, u, E, p, D, c, j;
        if (x && G.scrollPerpendicular && k.parallelSizeModel.shrinkWrap && !k.boxOptions.align.stretch && !k.perpendicularSizeModel.shrinkWrap) {
            if (!k.state.perpendicularDone) {
                return false
            }
            D = true
        }
        for (v = 0; v < B; ++v) {
            o = a[v];
            l = o.marginInfo || o.getMarginInfo();
            C += l[A];
            if (!o[n.widthModel].calculated) {
                c = o.getProp(A);
                F += c;
                if (isNaN(F)) {
                    return false
                }
            }
        }
        F += C;
        if (k.percentageWidths) {
            j = h - C;
            if (isNaN(j)) {
                return false
            }
            for (v = 0; v < B; ++v) {
                o = a[v];
                if (o.percentageParallel) {
                    c = Math.ceil(j * o.percentageParallel);
                    c = o.setWidth(c);
                    F += c
                }
            }
        }
        if (k.parallelSizeModel.shrinkWrap) {
            b.availableSpace = 0;
            b.tooNarrow = false
        } else {
            b.availableSpace = h - F;
            b.tooNarrow = b.availableSpace < k.flexedMinSize;
            if (b.tooNarrow && Ext.getScrollbarSize()[n.height] && G.scrollParallel && k.state.perpendicularDone) {
                k.state.perpendicularDone = false;
                for (v = 0; v < B; ++v) {
                    a[v].invalidate()
                }
            }
        }
        p = F;
        g = b.availableSpace;
        z = k.totalFlex;
        for (v = 0; v < s; v++) {
            o = y[v];
            u = o.flex;
            E = G.roundFlex(u / z * g);
            E = o[q](E);
            p += E;
            g = Math.max(0, g - E);
            z -= u
        }
        if (w.center) {
            e += g / 2;
            if (e < 0) {
                e = 0
            }
        } else {
            if (w.end) {
                e += g
            }
        }
        for (v = 0; v < B; ++v) {
            o = a[v];
            l = o.marginInfo;
            e += l[t];
            o.setProp(n.x, e);
            e += l[d] + o.props[A]
        }
        p += k.targetContext.getPaddingInfo()[A];
        k.state.contentWidth = p;
        if (D && k.peek(n.contentHeight) > b.targetSize[n.height]) {
            p += x;
            k[n.hasOverflowY] = true;
            k.target.componentLayout[n.setWidthInDom] = true;
            k[n.invalidateScrollY] = Ext.isStrict && Ext.isIE8
        }
        k[n.setContentWidth](p);
        return true
    },
    calculatePerpendicular: function(v, L, A) {
        var u = this, d = v.perpendicularSizeModel.shrinkWrap, b = A.targetSize, j = v.childItems, z = j.length, m = Math.max, l = L.height, n = L.setHeight, h = L.beforeY, t = L.y, I = u.padding, k = I[h], o = b[l] - k - I[L.afterY], F = v.boxOptions.align, p = F.stretch, q = F.stretchmax, O = F.center, N = F.bottom, H = u.constrainAlign, G = 0, C = 0, E = u.onBeforeConstrainInvalidateChild, B = u.onAfterConstrainInvalidateChild, a = Ext.getScrollbarSize().height, y, J, D, w, x, c, s, e, M, K, g;
        if (p || (O || N) && !d) {
            if (isNaN(o)) {
                return false
            }
        }
        if (u.scrollParallel && A.tooNarrow) {
            if (d) {
                K = true
            } else {
                o -= a;
                A.targetSize[l] -= a
            }
        }
        if (p) {
            c = o
        } else {
            for (J = 0; J < z; J++) {
                s = j[J];
                w = (s.marginInfo || s.getMarginInfo())[l];
                if (!(g = s.percentagePerpendicular)) {
                    D = s.getProp(l)
                } else {
                    ++C;
                    if (d) {
                        continue
                    } else {
                        D = g * o - w;
                        D = s[L.setHeight](D)
                    }
                }
                if (!d && H && s[L.heightModel].shrinkWrap && D > o) {
                    s.invalidate({
                        before: E,
                        after: B,
                        layout: u,
                        childHeight: o,
                        names: L
                    });
                    v.state.parallelDone = false
                }
                if (isNaN(G = m(G, D + w, s.target[L.minHeight] || 0))) {
                    return false
                }
            }
            if (K) {
                G += a;
                v[L.hasOverflowX] = true;
                v.target.componentLayout[L.setHeightInDom] = true;
                v[L.invalidateScrollX] = Ext.isStrict && Ext.isIE8
            }
            e = v.stretchMaxPartner;
            if (e) {
                v.setProp("maxChildHeight", G);
                M = e.childItems;
                if (M && M.length) {
                    G = m(G, e.getProp("maxChildHeight"));
                    if (isNaN(G)) {
                        return false
                    }
                }
            }
            v[L.setContentHeight](G + u.padding[l] + v.targetContext.getPaddingInfo()[l]);
            if (K) {
                G -= a
            }
            A.maxSize = G;
            if (q) {
                c = G
            } else {
                if (O || N || C) {
                    if (H) {
                        c = d ? G : o
                    } else {
                        c = d ? G : m(o, G)
                    }
                    c -= v.innerCtContext.getBorderInfo()[l]
                }
            }
        }
        for (J = 0; J < z; J++) {
            s = j[J];
            w = s.marginInfo || s.getMarginInfo();
            y = k + w[h];
            if (p) {
                s[n](c - w[l])
            } else {
                g = s.percentagePerpendicular;
                if (d && g) {
                    w = s.marginInfo || s.getMarginInfo();
                    D = g * c - w[l];
                    D = s.setHeight(D)
                }
                if (O) {
                    x = c - s.props[l];
                    if (x > 0) {
                        y = k + Math[u.alignRoundingMethod](x / 2)
                    }
                } else {
                    if (N) {
                        y = m(0, c - y - s.props[l])
                    }
                }
            }
            s.setProp(t, y)
        }
        return true
    },
    onBeforeConstrainInvalidateChild: function(b, a) {
        var c = a.names.heightModel;
        if (!b[c].constrainedMin) {
            b[c] = Ext.layout.SizeModel.calculated
        }
    },
    onAfterConstrainInvalidateChild: function(b, a) {
        var c = a.names;
        b.setProp(c.beforeY, 0);
        if (b[c.heightModel].calculated) {
            b[c.setHeight](a.childHeight)
        }
    },
    calculateStretchMax: function(c, k, m) {
        var l = this, h = k.height, n = k.width, g = c.childItems, a = g.length, p = m.maxSize, o = l.onBeforeStretchMaxInvalidateChild, e = l.onAfterStretchMaxInvalidateChild, q, j, d, b;
        for (d = 0; d < a; ++d) {
            q = g[d];
            j = q.props;
            b = p - q.getMarginInfo()[h];
            if (b != j[h] || q[k.heightModel].constrained) {
                q.invalidate({
                    before: o,
                    after: e,
                    layout: l,
                    childWidth: j[n],
                    childHeight: b,
                    childX: j.x,
                    childY: j.y,
                    names: k
                })
            }
        }
    },
    onBeforeStretchMaxInvalidateChild: function(b, a) {
        var c = a.names.heightModel;
        if (!b[c].constrainedMax) {
            b[c] = Ext.layout.SizeModel.calculated
        }
    },
    onAfterStretchMaxInvalidateChild: function(d, c) {
        var e = c.names
          , a = c.childHeight
          , b = c.childWidth;
        d.setProp("x", c.childX);
        d.setProp("y", c.childY);
        if (d[e.heightModel].calculated) {
            d[e.setHeight](a)
        }
        if (d[e.widthModel].calculated) {
            d[e.setWidth](b)
        }
    },
    completeLayout: function(b) {
        var j = this, i = b.boxNames, h = b.invalidateScrollX, g = b.invalidateScrollY, d, a, e, c, k;
        j.overflowHandler.completeLayout(b);
        if (h || g) {
            a = j.getTarget();
            d = a.dom;
            k = d.style;
            if (h) {
                e = a.getStyle("overflowX");
                if (e == "auto") {
                    e = k.overflowX;
                    k.overflowX = "scroll"
                } else {
                    h = false
                }
            }
            if (g) {
                c = a.getStyle("overflowY");
                if (c == "auto") {
                    c = k.overflowY;
                    k.overflowY = "scroll"
                } else {
                    g = false
                }
            }
            if (h || g) {
                d.scrollWidth;
                if (h) {
                    k.overflowX = e
                }
                if (g) {
                    k.overflowY = c
                }
            }
        }
        if (j.scrollParallel) {
            j.owner.getTargetEl().dom[i.scrollLeft] = j.scrollPos
        }
    },
    finishedLayout: function(a) {
        this.overflowHandler.finishedLayout(a);
        this.callParent(arguments);
        this.targetEl.setWidth(a.innerCtContext.props.width)
    },
    publishInnerCtSize: function(a, d) {
        var i = this, h = a.boxNames, g = h.height, k = h.width, e = a.boxOptions.align, o = i.owner.dock, l = i.padding, j = a.state.boxPlan, c = j.targetSize, n = c[g], p = a.innerCtContext, b = (a.parallelSizeModel.shrinkWrap || j.tooNarrow && i.scrollParallel ? a.state.contentWidth - a.targetContext.getPaddingInfo()[k] : c[k]) - (d || 0), m;
        if (e.stretch) {
            m = n
        } else {
            m = j.maxSize + l[h.beforeY] + l[h.afterY] + p.getBorderInfo()[g];
            if (!a.perpendicularSizeModel.shrinkWrap && (e.center || e.bottom)) {
                m = Math.max(n, m)
            }
        }
        p[h.setWidth](b);
        p[h.setHeight](m);
        if (isNaN(b + m)) {
            i.done = false
        }
        if (j.calculatedWidth && (o == "left" || o == "right")) {
            a.setWidth(j.calculatedWidth, true, true)
        }
    },
    onRemove: function(a) {
        var b = this;
        b.callParent(arguments);
        if (b.overflowHandler) {
            b.overflowHandler.onRemove(a)
        }
        if (a.layoutMarginCap == b.id) {
            delete a.layoutMarginCap
        }
    },
    initOverflowHandler: function() {
        var d = this, c = d.overflowHandler, b, a;
        if (typeof c == "string") {
            c = {
                type: c
            }
        }
        b = "None";
        if (c && c.type !== undefined) {
            b = c.type
        }
        a = Ext.layout.container.boxOverflow[b];
        if (a[d.type]) {
            a = a[d.type]
        }
        d.overflowHandler = Ext.create("Ext.layout.container.boxOverflow." + b, d, c)
    },
    getRenderTarget: function() {
        return this.targetEl
    },
    getElementTarget: function() {
        return this.innerCt
    },
    calculateChildBox: Ext.deprecated(),
    calculateChildBoxes: Ext.deprecated(),
    updateChildBoxes: Ext.deprecated(),
    destroy: function() {
        Ext.destroy(this.innerCt, this.overflowHandler);
        this.callParent(arguments)
    },
    getRenderData: function() {
        var a = this.callParent();
        a.targetElCls = this.targetElCls;
        return a
    }
});
Ext.define("Ext.layout.container.HBox", {
    alias: ["layout.hbox"],
    extend: Ext.layout.container.Box,
    alternateClassName: "Ext.layout.HBoxLayout",
    align: "top",
    constrainAlign: false,
    type: "hbox",
    direction: "horizontal",
    horizontal: true,
    names: {
        beforeX: "left",
        leftCap: "Left",
        afterX: "right",
        width: "width",
        contentWidth: "contentWidth",
        minWidth: "minWidth",
        maxWidth: "maxWidth",
        widthCap: "Width",
        widthModel: "widthModel",
        widthIndex: 0,
        x: "x",
        scrollLeft: "scrollLeft",
        overflowX: "overflowX",
        hasOverflowX: "hasOverflowX",
        invalidateScrollX: "invalidateScrollX",
        parallelMargins: "lr",
        center: "middle",
        beforeY: "top",
        afterY: "bottom",
        height: "height",
        contentHeight: "contentHeight",
        minHeight: "minHeight",
        maxHeight: "maxHeight",
        heightCap: "Height",
        heightModel: "heightModel",
        heightIndex: 1,
        y: "y",
        scrollTop: "scrollTop",
        overflowY: "overflowY",
        hasOverflowY: "hasOverflowY",
        invalidateScrollY: "invalidateScrollY",
        perpendicularMargins: "tb",
        getWidth: "getWidth",
        getHeight: "getHeight",
        setWidth: "setWidth",
        setHeight: "setHeight",
        gotWidth: "gotWidth",
        gotHeight: "gotHeight",
        setContentWidth: "setContentWidth",
        setContentHeight: "setContentHeight",
        setWidthInDom: "setWidthInDom",
        setHeightInDom: "setHeightInDom"
    },
    sizePolicy: {
        flex: {
            "": {
                readsWidth: 0,
                readsHeight: 1,
                setsWidth: 1,
                setsHeight: 0
            },
            stretch: {
                readsWidth: 0,
                readsHeight: 0,
                setsWidth: 1,
                setsHeight: 1
            },
            stretchmax: {
                readsWidth: 0,
                readsHeight: 1,
                setsWidth: 1,
                setsHeight: 1
            }
        },
        "": {
            readsWidth: 1,
            readsHeight: 1,
            setsWidth: 0,
            setsHeight: 0
        },
        stretch: {
            readsWidth: 1,
            readsHeight: 0,
            setsWidth: 0,
            setsHeight: 1
        },
        stretchmax: {
            readsWidth: 1,
            readsHeight: 1,
            setsWidth: 0,
            setsHeight: 1
        }
    }
});
Ext.define("Ext.layout.container.VBox", {
    alias: ["layout.vbox"],
    extend: Ext.layout.container.Box,
    alternateClassName: "Ext.layout.VBoxLayout",
    align: "left",
    constrainAlign: false,
    type: "vbox",
    direction: "vertical",
    horizontal: false,
    names: {
        beforeX: "top",
        leftCap: "Top",
        afterX: "bottom",
        width: "height",
        contentWidth: "contentHeight",
        minWidth: "minHeight",
        maxWidth: "maxHeight",
        widthCap: "Height",
        widthModel: "heightModel",
        widthIndex: 1,
        x: "y",
        scrollLeft: "scrollTop",
        overflowX: "overflowY",
        hasOverflowX: "hasOverflowY",
        invalidateScrollX: "invalidateScrollY",
        parallelMargins: "tb",
        center: "center",
        beforeY: "left",
        afterY: "right",
        height: "width",
        contentHeight: "contentWidth",
        minHeight: "minWidth",
        maxHeight: "maxWidth",
        heightCap: "Width",
        heightModel: "widthModel",
        heightIndex: 0,
        y: "x",
        scrollTop: "scrollLeft",
        overflowY: "overflowX",
        hasOverflowY: "hasOverflowX",
        invalidateScrollY: "invalidateScrollX",
        perpendicularMargins: "lr",
        getWidth: "getHeight",
        getHeight: "getWidth",
        setWidth: "setHeight",
        setHeight: "setWidth",
        gotWidth: "gotHeight",
        gotHeight: "gotWidth",
        setContentWidth: "setContentHeight",
        setContentHeight: "setContentWidth",
        setWidthInDom: "setHeightInDom",
        setHeightInDom: "setWidthInDom"
    },
    sizePolicy: {
        flex: {
            "": {
                readsWidth: 1,
                readsHeight: 0,
                setsWidth: 0,
                setsHeight: 1
            },
            stretch: {
                readsWidth: 0,
                readsHeight: 0,
                setsWidth: 1,
                setsHeight: 1
            },
            stretchmax: {
                readsWidth: 1,
                readsHeight: 0,
                setsWidth: 1,
                setsHeight: 1
            }
        },
        "": {
            readsWidth: 1,
            readsHeight: 1,
            setsWidth: 0,
            setsHeight: 0
        },
        stretch: {
            readsWidth: 0,
            readsHeight: 1,
            setsWidth: 1,
            setsHeight: 0
        },
        stretchmax: {
            readsWidth: 1,
            readsHeight: 1,
            setsWidth: 1,
            setsHeight: 0
        }
    }
});
Ext.define("Ext.toolbar.Toolbar", {
    extend: Ext.container.Container,
    alias: "widget.toolbar",
    alternateClassName: "Ext.Toolbar",
    isToolbar: true,
    baseCls: Ext.baseCSSPrefix + "toolbar",
    ariaRole: "toolbar",
    defaultType: "button",
    vertical: false,
    enableOverflow: false,
    menuTriggerCls: Ext.baseCSSPrefix + "toolbar-more-icon",
    trackMenus: true,
    itemCls: Ext.baseCSSPrefix + "toolbar-item",
    statics: {
        shortcuts: {
            "-": "tbseparator",
            " ": "tbspacer"
        },
        shortcutsHV: {
            0: {
                "->": {
                    xtype: "tbfill",
                    height: 0
                }
            },
            1: {
                "->": {
                    xtype: "tbfill",
                    width: 0
                }
            }
        }
    },
    initComponent: function() {
        var a = this;
        if (!a.layout && a.enableOverflow) {
            a.layout = {
                overflowHandler: "Menu"
            }
        }
        if (a.dock === "right" || a.dock === "left") {
            a.vertical = true
        }
        a.layout = Ext.applyIf(Ext.isString(a.layout) ? {
            type: a.layout
        } : a.layout || {}, {
            type: a.vertical ? "vbox" : "hbox",
            align: a.vertical ? "stretchmax" : "middle"
        });
        if (a.vertical) {
            a.addClsWithUI("vertical")
        }
        if (a.ui === "footer") {
            a.ignoreBorderManagement = true
        }
        a.callParent();
        a.addEvents("overflowchange")
    },
    getRefItems: function(a) {
        var e = this, b = e.callParent(arguments), d = e.layout, c;
        if (a && e.enableOverflow) {
            c = d.overflowHandler;
            if (c && c.menu) {
                b = b.concat(c.menu.getRefItems(a))
            }
        }
        return b
    },
    lookupComponent: function(e) {
        var d = arguments;
        if (typeof e == "string") {
            var b = Ext.toolbar.Toolbar
              , a = b.shortcutsHV[this.vertical ? 1 : 0][e] || b.shortcuts[e];
            if (typeof a == "string") {
                e = {
                    xtype: a
                }
            } else {
                if (a) {
                    e = Ext.apply({}, a)
                } else {
                    e = {
                        xtype: "tbtext",
                        text: e
                    }
                }
            }
            this.applyDefaults(e);
            d = [e]
        }
        return this.callParent(d)
    },
    applyDefaults: function(a) {
        if (!Ext.isString(a)) {
            a = this.callParent(arguments)
        }
        return a
    },
    trackMenu: function(c, a) {
        if (this.trackMenus && c.menu) {
            var d = a ? "mun" : "mon"
              , b = this;
            b[d](c, "mouseover", b.onButtonOver, b);
            b[d](c, "menushow", b.onButtonMenuShow, b);
            b[d](c, "menuhide", b.onButtonMenuHide, b)
        }
    },
    onBeforeAdd: function(b) {
        var c = this
          , a = b.isButton;
        if (a && c.defaultButtonUI && b.ui === "default" && !b.hasOwnProperty("ui")) {
            b.ui = c.defaultButtonUI
        } else {
            if ((a || b.isFormField) && c.ui !== "footer") {
                b.ui = b.ui + "-toolbar"
            }
        }
        if (b instanceof Ext.toolbar.Separator) {
            b.setUI(c.vertical ? "vertical" : "horizontal")
        }
        c.callParent(arguments)
    },
    onAdd: function(a) {
        this.callParent(arguments);
        this.trackMenu(a)
    },
    onRemove: function(a) {
        this.callParent(arguments);
        this.trackMenu(a, true)
    },
    getChildItemsToDisable: function() {
        return this.items.getRange()
    },
    onButtonOver: function(a) {
        if (this.activeMenuBtn && this.activeMenuBtn != a) {
            this.activeMenuBtn.hideMenu();
            a.showMenu();
            this.activeMenuBtn = a
        }
    },
    onButtonMenuShow: function(a) {
        this.activeMenuBtn = a
    },
    onButtonMenuHide: function(a) {
        delete this.activeMenuBtn
    }
});
Ext.define("Ext.layout.component.Dock", {
    extend: Ext.layout.component.Component,
    alias: "layout.dock",
    alternateClassName: "Ext.layout.component.AbstractDock",
    type: "dock",
    horzAxisProps: {
        name: "horz",
        oppositeName: "vert",
        dockBegin: "left",
        dockEnd: "right",
        horizontal: true,
        marginBegin: "margin-left",
        maxSize: "maxWidth",
        minSize: "minWidth",
        pos: "x",
        setSize: "setWidth",
        shrinkWrapDock: "shrinkWrapDockWidth",
        size: "width",
        sizeModel: "widthModel"
    },
    vertAxisProps: {
        name: "vert",
        oppositeName: "horz",
        dockBegin: "top",
        dockEnd: "bottom",
        horizontal: false,
        marginBegin: "margin-top",
        maxSize: "maxHeight",
        minSize: "minHeight",
        pos: "y",
        setSize: "setHeight",
        shrinkWrapDock: "shrinkWrapDockHeight",
        size: "height",
        sizeModel: "heightModel"
    },
    initializedBorders: -1,
    horizontalCollapsePolicy: {
        width: true,
        x: true
    },
    verticalCollapsePolicy: {
        height: true,
        y: true
    },
    finishRender: function() {
        var b = this, c, a;
        b.callParent();
        c = b.getRenderTarget();
        a = b.getDockedItems();
        b.finishRenderItems(c, a)
    },
    isItemBoxParent: function(a) {
        return true
    },
    isItemShrinkWrap: function(a) {
        return true
    },
    noBorderClasses: [Ext.baseCSSPrefix + "docked-noborder-top", Ext.baseCSSPrefix + "docked-noborder-right", Ext.baseCSSPrefix + "docked-noborder-bottom", Ext.baseCSSPrefix + "docked-noborder-left"],
    noBorderClassesSides: {
        top: Ext.baseCSSPrefix + "docked-noborder-top",
        right: Ext.baseCSSPrefix + "docked-noborder-right",
        bottom: Ext.baseCSSPrefix + "docked-noborder-bottom",
        left: Ext.baseCSSPrefix + "docked-noborder-left"
    },
    borderWidthProps: {
        top: "border-top-width",
        right: "border-right-width",
        bottom: "border-bottom-width",
        left: "border-left-width"
    },
    handleItemBorders: function() {
        var n = this, a = n.owner, m, s, j = n.lastDockedItems, h = n.borders, b = a.dockedItems.generation, c = n.noBorderClassesSides, o = n.borderWidthProps, g, l, q, p, k, d, e = n.collapsed;
        if (n.initializedBorders == b || a.border && !a.manageBodyBorders) {
            return
        }
        n.initializedBorders = b;
        n.collapsed = false;
        n.lastDockedItems = s = n.getLayoutItems();
        n.collapsed = e;
        m = {
            top: [],
            right: [],
            bottom: [],
            left: []
        };
        for (g = 0,
        l = s.length; g < l; g++) {
            q = s[g];
            p = q.dock;
            if (q.ignoreBorderManagement) {
                continue
            }
            if (!m[p].satisfied) {
                m[p].push(q);
                m[p].satisfied = true
            }
            if (!m.top.satisfied && p !== "bottom") {
                m.top.push(q)
            }
            if (!m.right.satisfied && p !== "left") {
                m.right.push(q)
            }
            if (!m.bottom.satisfied && p !== "top") {
                m.bottom.push(q)
            }
            if (!m.left.satisfied && p !== "right") {
                m.left.push(q)
            }
        }
        if (j) {
            for (g = 0,
            l = j.length; g < l; g++) {
                q = j[g];
                if (!q.isDestroyed && !q.ignoreBorderManagement && !a.manageBodyBorders) {
                    q.removeCls(n.noBorderClasses)
                }
            }
        }
        if (h) {
            for (k in h) {
                if (a.manageBodyBorders && h[k].satisfied) {
                    a.setBodyStyle(o[k], "")
                }
            }
        }
        for (k in m) {
            l = m[k].length;
            if (!a.manageBodyBorders) {
                for (g = 0; g < l; g++) {
                    m[k][g].addCls(c[k])
                }
                if (!m[k].satisfied && !a.bodyBorder || a.bodyBorder === false) {
                    a.addBodyCls(c[k])
                }
            } else {
                if (m[k].satisfied) {
                    a.setBodyStyle(o[k], "1px")
                }
            }
        }
        n.borders = m
    },
    beforeLayoutCycle: function(g) {
        var c = this, b = c.owner, h = c.sizeModels.shrinkWrap, e = b.shrinkWrapDock, d, a;
        if (b.collapsed) {
            if (b.collapsedVertical()) {
                a = true;
                g.measureDimensions = 1
            } else {
                d = true;
                g.measureDimensions = 2
            }
        }
        g.collapsedVert = a;
        g.collapsedHorz = d;
        if (a) {
            g.heightModel = h
        } else {
            if (d) {
                g.widthModel = h
            }
        }
        e = e === true ? 3 : e || 0;
        g.shrinkWrapDockHeight = e & 1 && g.heightModel.shrinkWrap;
        g.shrinkWrapDockWidth = e & 2 && g.widthModel.shrinkWrap
    },
    beginLayout: function(d) {
        var k = this, c = k.owner, o = k.getLayoutItems(), b = d.context, g = o.length, l, j, n, a, e, h, m;
        k.callParent(arguments);
        h = c.getCollapsed();
        if (h !== k.lastCollapsedState && Ext.isDefined(k.lastCollapsedState)) {
            if (k.owner.collapsed) {
                d.isCollapsingOrExpanding = 1;
                c.addClsWithUI(c.collapsedCls)
            } else {
                d.isCollapsingOrExpanding = 2;
                c.removeClsWithUI(c.collapsedCls);
                d.lastCollapsedState = k.lastCollapsedState
            }
        }
        k.lastCollapsedState = h;
        d.dockedItems = l = [];
        for (j = 0; j < g; j++) {
            n = o[j];
            if (n.rendered) {
                m = n.dock;
                a = b.getCmp(n);
                a.dockedAt = {
                    x: 0,
                    y: 0
                };
                a.offsets = e = Ext.Element.parseBox(n.offsets || 0);
                a.horizontal = m == "top" || m == "bottom";
                e.width = e.left + e.right;
                e.height = e.top + e.bottom;
                l.push(a)
            }
        }
        d.bodyContext = d.getEl("body")
    },
    beginLayoutCycle: function(b) {
        var e = this, l = b.dockedItems, d = l.length, a = e.owner, g = a.frameBody, k = e.lastHeightModel, c, j, h;
        e.callParent(arguments);
        if (e.owner.manageHeight) {
            if (e.lastBodyDisplay) {
                a.body.dom.style.display = e.lastBodyDisplay = ""
            }
        } else {
            if (e.lastBodyDisplay !== "inline-block") {
                a.body.dom.style.display = e.lastBodyDisplay = "inline-block"
            }
            if (k && k.shrinkWrap && !b.heightModel.shrinkWrap) {
                a.body.dom.style.marginBottom = ""
            }
        }
        if (b.widthModel.auto) {
            if (b.widthModel.shrinkWrap) {
                a.el.setWidth(null)
            }
            a.body.setWidth(null);
            if (g) {
                g.setWidth(null)
            }
        }
        if (b.heightModel.auto) {
            a.body.setHeight(null);
            if (g) {
                g.setHeight(null)
            }
        }
        if (b.collapsedVert) {
            b.setContentHeight(0)
        } else {
            if (b.collapsedHorz) {
                b.setContentWidth(0)
            }
        }
        for (c = 0; c < d; c++) {
            j = l[c].target;
            h = j.dock;
            if (h == "right") {
                j.setLocalX(0)
            } else {
                if (h != "left") {
                    continue
                }
            }
        }
    },
    calculate: function(d) {
        var l = this, c = l.measureAutoDimensions(d, d.measureDimensions), b = d.state, k = b.horzDone, e = b.vertDone, g = d.bodyContext, j, a, i, h, m;
        d.borderInfo || d.getBorderInfo();
        d.paddingInfo || d.getPaddingInfo();
        d.frameInfo || d.getFrameInfo();
        g.borderInfo || g.getBorderInfo();
        g.paddingInfo || g.getPaddingInfo();
        if (!d.frameBorder) {
            if (!(j = d.framing)) {
                d.frameBorder = d.borderInfo;
                d.framePadding = d.paddingInfo
            } else {
                d.frameBorder = j.border;
                d.framePadding = j.padding
            }
        }
        a = !k && l.createAxis(d, c.contentWidth, d.widthModel, l.horzAxisProps, d.collapsedHorz);
        i = !e && l.createAxis(d, c.contentHeight, d.heightModel, l.vertAxisProps, d.collapsedVert);
        for (h = 0,
        m = d.dockedItems.length; m--; ++h) {
            if (a) {
                l.dockChild(d, a, m, h)
            }
            if (i) {
                l.dockChild(d, i, m, h)
            }
        }
        if (a && l.finishAxis(d, a)) {
            b.horzDone = k = a
        }
        if (i && l.finishAxis(d, i)) {
            b.vertDone = e = i
        }
        if (k && e && l.finishConstraints(d, k, e)) {
            l.finishPositions(d, k, e)
        } else {
            l.done = false
        }
    },
    createAxis: function(p, j, e, m, d) {
        var v = this, u = 0, b = v.owner, g = b[m.maxSize], c = b[m.minSize] || 0, n = m.dockBegin, i = m.dockEnd, s = m.pos, l = m.size, k = g != null, o = e.shrinkWrap, a, t, q, h;
        if (o) {
            if (d) {
                h = 0
            } else {
                a = p.bodyContext;
                h = j + a.borderInfo[l]
            }
        } else {
            t = p.frameBorder;
            q = p.framePadding;
            u = t[n] + q[n];
            h = p.getProp(l) - (t[i] + q[i])
        }
        return {
            shrinkWrap: e.shrinkWrap,
            sizeModel: e,
            initialBegin: u,
            begin: u,
            end: h,
            collapsed: d,
            horizontal: m.horizontal,
            ignoreFrameBegin: null,
            ignoreFrameEnd: null,
            initialSize: h - u,
            maxChildSize: 0,
            hasMinMaxConstraints: (c || k) && e.shrinkWrap,
            minSize: c,
            maxSize: k ? g : 1000000000,
            bodyPosProp: v.owner.manageHeight ? s : m.marginBegin,
            dockBegin: n,
            dockEnd: i,
            posProp: s,
            sizeProp: l,
            setSize: m.setSize,
            shrinkWrapDock: p[m.shrinkWrapDock],
            sizeModelName: m.sizeModel,
            dockedPixelsEnd: 0
        }
    },
    dockChild: function(b, c, l, e) {
        var g = this, a = b.dockedItems[c.shrinkWrap ? l : e], i = a.target, j = i.dock, d = c.sizeProp, h, k;
        if (i.ignoreParentFrame && b.isCollapsingOrExpanding) {
            a.clearMarginCache()
        }
        a.marginInfo || a.getMarginInfo();
        if (j == c.dockBegin) {
            if (c.shrinkWrap) {
                h = g.dockOutwardBegin(b, a, i, c)
            } else {
                h = g.dockInwardBegin(b, a, i, c)
            }
        } else {
            if (j == c.dockEnd) {
                if (c.shrinkWrap) {
                    h = g.dockOutwardEnd(b, a, i, c)
                } else {
                    h = g.dockInwardEnd(b, a, i, c)
                }
            } else {
                if (c.shrinkWrapDock) {
                    k = a.getProp(d) + a.marginInfo[d];
                    c.maxChildSize = Math.max(c.maxChildSize, k);
                    h = 0
                } else {
                    h = g.dockStretch(b, a, i, c)
                }
            }
        }
        a.dockedAt[c.posProp] = h
    },
    dockInwardBegin: function(b, a, j, d) {
        var g = d.begin, e = d.sizeProp, c = j.ignoreParentFrame, h, k, i;
        if (c) {
            d.ignoreFrameBegin = a;
            i = j.dock;
            h = b.frameBorder[i];
            g -= h + b.framePadding[i]
        }
        if (!j.overlay) {
            k = a.getProp(e) + a.marginInfo[e];
            d.begin += k;
            if (c) {
                d.begin -= h
            }
        }
        return g
    },
    dockInwardEnd: function(e, d, c, b) {
        var i = b.sizeProp, a = d.getProp(i) + d.marginInfo[i], h = b.end - a, g;
        if (!c.overlay) {
            b.end = h
        }
        if (c.ignoreParentFrame) {
            b.ignoreFrameEnd = d;
            g = e.frameBorder[c.dock];
            h += g + e.framePadding[c.dock];
            b.end += g
        }
        return h
    },
    dockOutwardBegin: function(e, d, c, b) {
        var h = b.begin, g = b.sizeProp, a;
        if (b.collapsed) {
            b.ignoreFrameBegin = b.ignoreFrameEnd = d
        } else {
            if (c.ignoreParentFrame) {
                b.ignoreFrameBegin = d
            }
        }
        if (!c.overlay) {
            a = d.getProp(g) + d.marginInfo[g];
            h -= a;
            b.begin = h
        }
        return h
    },
    dockOutwardEnd: function(e, d, c, b) {
        var h = b.end, g = b.sizeProp, a;
        a = d.getProp(g) + d.marginInfo[g];
        if (b.collapsed) {
            b.ignoreFrameBegin = b.ignoreFrameEnd = d
        } else {
            if (c.ignoreParentFrame) {
                b.ignoreFrameEnd = d
            }
        }
        if (!c.overlay) {
            b.end = h + a;
            b.dockedPixelsEnd += a
        }
        return h
    },
    dockStretch: function(c, b, m, d) {
        var n = m.dock, j = d.sizeProp, a = n == "top" || n == "bottom", i = c.frameBorder, e = b.offsets, l = c.framePadding, h = a ? "right" : "bottom", p = a ? "left" : "top", k = d.begin + e[p], g, o;
        if (m.stretch !== false) {
            o = d.end - k - e[h];
            if (m.ignoreParentFrame) {
                k -= l[p] + i[p];
                o += l[j] + i[j]
            }
            g = b.marginInfo;
            o -= g[j];
            b[d.setSize](o)
        }
        return k
    },
    finishAxis: function(m, e) {
        if (isNaN(e.maxChildSize)) {
            return false
        }
        var d = e.begin, p = e.end - d, h = e.collapsed, x = e.setSize, k = e.dockBegin, v = e.dockEnd, o = m.framePadding, s = m.frameBorder, g = s[k], t = m.framing, n = t && t[k], b = h ? 0 : o[k], j = e.sizeProp, u = e.ignoreFrameBegin, q = e.ignoreFrameEnd, a = m.bodyContext, l = Math.max(g + b - n, 0), c, y, w, i;
        if (e.shrinkWrap) {
            y = e.initialSize;
            if (t) {
                w = -d + g + b;
                c = w - n - l
            } else {
                c = -d;
                w = c + b
            }
            if (!h) {
                p += o[j]
            }
            if (u) {
                w -= g;
                c -= g;
                u.dockedAt[e.posProp] -= b
            } else {
                p += g
            }
            if (h) {} else {
                if (q) {
                    q.dockedAt[e.posProp] += o[v]
                } else {
                    p += s[v]
                }
            }
            e.size = p;
            if (!e.horizontal && !this.owner.manageHeight) {
                i = false
            }
        } else {
            if (t) {
                w = 0;
                c = d - n - l
            } else {
                w = -g;
                c = d - b - g
            }
            y = p
        }
        e.delta = w;
        a[x](y, i);
        a.setProp(e.bodyPosProp, c);
        return !isNaN(p)
    },
    beforeInvalidateShrinkWrapDock: function(c, b) {
        var a = b.axis.sizeModelName;
        if (!c[a].constrainedMin) {
            c[a] = Ext.layout.SizeModel.calculated
        }
    },
    afterInvalidateShrinkWrapDock: function(d, a) {
        var b = a.axis, c = a.layout, e;
        if (d[b.sizeModelName].calculated) {
            e = c.dockStretch(a.ownerContext, d, d.target, b);
            d.setProp(b.posProp, b.delta + e)
        }
    },
    finishConstraints: function(k, c, p) {
        var t = this, s = t.sizeModels, o = c.shrinkWrap, q = p.shrinkWrap, a = t.owner, i, m, n, g, h, l, b, d, e, j;
        if (o) {
            l = c.size;
            b = c.collapsed ? 0 : c.minSize;
            d = c.maxSize;
            e = c.maxChildSize;
            j = Math.max(l, e);
            if (j > d) {
                h = s.constrainedMax;
                n = d
            } else {
                if (j < b) {
                    h = s.constrainedMin;
                    n = b
                } else {
                    if (l < e) {
                        h = s.constrainedDock;
                        a.dockConstrainedWidth = n = e
                    } else {
                        n = l
                    }
                }
            }
        }
        if (q) {
            l = p.size;
            b = p.collapsed ? 0 : p.minSize;
            d = p.maxSize;
            e = p.maxChildSize;
            j = Math.max(l, e + l - p.initialSize);
            if (j > d) {
                g = s.constrainedMax;
                m = d
            } else {
                if (j < b) {
                    g = s.constrainedMin;
                    m = b
                } else {
                    if (l < e) {
                        g = s.constrainedDock;
                        a.dockConstrainedHeight = m = e
                    } else {
                        if (!k.collapsedVert && !a.manageHeight) {
                            i = false;
                            k.bodyContext.setProp("margin-bottom", p.dockedPixelsEnd)
                        }
                        m = l
                    }
                }
            }
        }
        if (h || g) {
            if (h && g && h.constrainedMax && g.constrainedByMin) {
                k.invalidate({
                    widthModel: h
                });
                return false
            }
            if (!k.widthModel.calculatedFromShrinkWrap && !k.heightModel.calculatedFromShrinkWrap) {
                k.invalidate({
                    widthModel: h,
                    heightModel: g
                });
                return false
            }
        } else {
            t.invalidateAxes(k, c, p)
        }
        if (o) {
            k.setWidth(n);
            if (h) {
                k.widthModel = h
            }
        }
        if (q) {
            k.setHeight(m, i);
            if (g) {
                k.heightModel = g
            }
        }
        return true
    },
    invalidateAxes: function(g, a, l) {
        var p = this.beforeInvalidateShrinkWrapDock, b = this.afterInvalidateShrinkWrapDock, e = a.end - a.begin, t = l.initialSize, c = a.shrinkWrapDock && a.maxChildSize < e, m = l.shrinkWrapDock && l.maxChildSize < t, q, n, k, d, s, o, h, j;
        if (c || m) {
            if (m) {
                l.begin = l.initialBegin;
                l.end = l.begin + l.initialSize
            }
            q = g.dockedItems;
            for (k = 0,
            n = q.length; k < n; ++k) {
                d = q[k];
                o = d.horizontal;
                h = null;
                if (c && o) {
                    j = a.sizeProp;
                    s = e;
                    h = a
                } else {
                    if (m && !o) {
                        j = l.sizeProp;
                        s = t;
                        h = l
                    }
                }
                if (h) {
                    s -= d.getMarginInfo()[j];
                    if (s !== d.props[j]) {
                        d.invalidate({
                            before: p,
                            after: b,
                            axis: h,
                            ownerContext: g,
                            layout: this
                        })
                    }
                }
            }
        }
    },
    finishPositions: function(d, a, h) {
        var j = d.dockedItems, c = j.length, g = a.delta, e = h.delta, i, b;
        for (i = 0; i < c; ++i) {
            b = j[i];
            b.setProp("x", g + b.dockedAt.x);
            b.setProp("y", e + b.dockedAt.y)
        }
    },
    finishedLayout: function(b) {
        var a = this
          , c = b.target;
        a.callParent(arguments);
        if (!b.animatePolicy) {
            if (b.isCollapsingOrExpanding === 1) {
                c.afterCollapse(false)
            } else {
                if (b.isCollapsingOrExpanding === 2) {
                    c.afterExpand(false)
                }
            }
        }
    },
    getAnimatePolicy: function(c) {
        var b = this, a, d;
        if (c.isCollapsingOrExpanding == 1) {
            a = b.lastCollapsedState
        } else {
            if (c.isCollapsingOrExpanding == 2) {
                a = c.lastCollapsedState
            }
        }
        if (a == "left" || a == "right") {
            d = b.horizontalCollapsePolicy
        } else {
            if (a == "top" || a == "bottom") {
                d = b.verticalCollapsePolicy
            }
        }
        return d
    },
    getDockedItems: function(c, n) {
        var j = this, e = c === "visual", k = e ? Ext.ComponentQuery.query("[rendered]", j.owner.dockedItems.items) : j.owner.dockedItems.items, h = k && k.length && c !== false, b, m, l, g, d, a;
        if (n == null) {
            l = h && !e ? k.slice() : k
        } else {
            l = [];
            for (g = 0,
            a = k.length; g < a; ++g) {
                m = k[g].dock;
                d = m == "top" || m == "left";
                if (n ? d : !d) {
                    l.push(k[g])
                }
            }
            h = h && l.length
        }
        if (h) {
            b = (c = c || "render") == "render";
            Ext.Array.sort(l, function(o, i) {
                var p, q;
                if (b && (p = j.owner.dockOrder[o.dock]) !== (q = j.owner.dockOrder[i.dock])) {
                    if (!(p + q)) {
                        return p - q
                    }
                }
                p = j.getItemWeight(o, c);
                q = j.getItemWeight(i, c);
                if (p !== undefined && q !== undefined) {
                    return p - q
                }
                return 0
            })
        }
        return l || []
    },
    getItemWeight: function(b, a) {
        var c = b.weight || this.owner.defaultDockWeights[b.dock];
        return c[a] || c
    },
    getLayoutItems: function() {
        var e = this, b, g, d, c, a;
        if (e.owner.collapsed) {
            a = e.owner.getCollapsedDockedItems()
        } else {
            b = e.getDockedItems("visual");
            g = b.length;
            a = [];
            for (c = 0; c < g; c++) {
                d = b[c];
                if (!d.hidden) {
                    a.push(d)
                }
            }
        }
        return a
    },
    measureContentWidth: function(a) {
        var b = a.bodyContext;
        return b.el.getWidth() - b.getBorderInfo().width
    },
    measureContentHeight: function(a) {
        var b = a.bodyContext;
        return b.el.getHeight() - b.getBorderInfo().height
    },
    redoLayout: function(c) {
        var b = this
          , a = b.owner;
        if (c.isCollapsingOrExpanding == 1) {
            if (a.reExpander) {
                a.reExpander.el.show()
            }
            a.addClsWithUI(a.collapsedCls);
            c.redo(true)
        } else {
            if (c.isCollapsingOrExpanding == 2) {
                a.removeClsWithUI(a.collapsedCls);
                c.bodyContext.redo()
            }
        }
    },
    renderChildren: function() {
        var b = this
          , a = b.getDockedItems()
          , c = b.getRenderTarget();
        b.handleItemBorders();
        b.renderItems(a, c)
    },
    renderItems: function(k, h) {
        var l = this, c = k.length, a = 0, b = 0, p = 0, m = l.getRenderTarget().dom.childNodes, n = m.length, g, d, e, o;
        for (g = 0,
        d = 0; g < n; g++) {
            e = m[g];
            if (Ext.fly(e).hasCls(Ext.baseCSSPrefix + "resizable-handle")) {
                break
            }
            for (d = 0; d < c; d++) {
                o = k[d];
                if (o.rendered && o.el.dom === e) {
                    break
                }
            }
            if (d === c) {
                p++
            }
        }
        for (; a < c; a++,
        b++) {
            o = k[a];
            if (a === b && (o.dock === "right" || o.dock === "bottom")) {
                b += p
            }
            if (o && !o.rendered) {
                l.renderItem(o, h, b)
            } else {
                if (!l.isValidParent(o, h, b)) {
                    l.moveItem(o, h, b)
                }
            }
        }
    },
    undoLayout: function(c) {
        var b = this
          , a = b.owner;
        if (c.isCollapsingOrExpanding == 1) {
            if (a.reExpander) {
                a.reExpander.el.hide()
            }
            a.removeClsWithUI(a.collapsedCls);
            c.undo(true)
        } else {
            if (c.isCollapsingOrExpanding == 2) {
                a.addClsWithUI(a.collapsedCls);
                c.bodyContext.undo()
            }
        }
    },
    sizePolicy: {
        nostretch: {
            setsWidth: 0,
            setsHeight: 0
        },
        horz: {
            shrinkWrap: {
                setsWidth: 1,
                setsHeight: 0,
                readsWidth: 1
            },
            stretch: {
                setsWidth: 1,
                setsHeight: 0
            }
        },
        vert: {
            shrinkWrap: {
                setsWidth: 0,
                setsHeight: 1,
                readsHeight: 1
            },
            stretch: {
                setsWidth: 0,
                setsHeight: 1
            }
        },
        stretchV: {
            setsWidth: 0,
            setsHeight: 1
        },
        autoStretchH: {
            readsWidth: 1,
            setsWidth: 1,
            setsHeight: 0
        },
        autoStretchV: {
            readsHeight: 1,
            setsWidth: 0,
            setsHeight: 1
        }
    },
    getItemSizePolicy: function(d, g) {
        var c = this, h = c.sizePolicy, e = c.owner.shrinkWrapDock, b, a;
        if (d.stretch === false) {
            return h.nostretch
        }
        b = d.dock;
        a = b == "left" || b == "right";
        e = e === true ? 3 : e || 0;
        if (a) {
            h = h.vert;
            e = e & 1
        } else {
            h = h.horz;
            e = e & 2
        }
        if (e) {
            if (!g) {
                g = c.owner.getSizeModel()
            }
            if (g[a ? "height" : "width"].shrinkWrap) {
                return h.shrinkWrap
            }
        }
        return h.stretch
    },
    configureItem: function(a, b) {
        this.callParent(arguments);
        a.addCls(Ext.baseCSSPrefix + "docked");
        a.addClsWithUI(this.getDockCls(a.dock))
    },
    getDockCls: function(a) {
        return "docked-" + a
    },
    afterRemove: function(a) {
        this.callParent(arguments);
        if (this.itemCls) {
            a.el.removeCls(this.itemCls + "-" + a.dock)
        }
        var b = a.el.dom;
        if (!a.destroying && b) {
            b.parentNode.removeChild(b)
        }
        this.childrenChanged = true
    },
    borderCollapseMap: {},
    getBorderCollapseTable: function() {
        var d = this, g = d.borderCollapseMap, a = d.owner, b = a.baseCls, e = a.ui, c;
        g = g[b] || (g[b] = {});
        c = g[e];
        if (!c) {
            b += "-" + e + "-outer-border-";
            g[e] = c = [0, b + "l", b + "b", b + "bl", b + "r", b + "rl", b + "rb", b + "rbl", b + "t", b + "tl", b + "tb", b + "tbl", b + "tr", b + "trl", b + "trb", b + "trbl"]
        }
        return c
    }
});
Ext.define("Ext.panel.AbstractPanel", {
    extend: Ext.container.Container,
    mixins: {
        docking: Ext.container.DockingContainer
    },
    baseCls: Ext.baseCSSPrefix + "panel",
    isPanel: true,
    contentPaddingProperty: "bodyPadding",
    shrinkWrapDock: false,
    componentLayout: "dock",
    childEls: ["body"],
    renderTpl: ["{% this.renderDockedItems(out,values,0); %}", Ext.isIE7m || Ext.isIEQuirks ? '<div style="position:relative"></div>' : "", '<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>', ' {baseCls}-body-{ui}<tpl if="uiCls">', '<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>', '</tpl>{childElCls}"', '<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>', "{%this.renderContainer(out,values);%}", "</div>", "{% this.renderDockedItems(out,values,1); %}"],
    bodyPosProps: {
        x: "x",
        y: "y"
    },
    border: true,
    emptyArray: [],
    initComponent: function() {
        this.initBorderProps();
        this.callParent()
    },
    initBorderProps: function() {
        var a = this;
        if (a.frame && a.border && a.bodyBorder === undefined) {
            a.bodyBorder = false
        }
        if (a.frame && a.border && (a.bodyBorder === false || a.bodyBorder === 0)) {
            a.manageBodyBorders = true
        }
    },
    beforeDestroy: function() {
        this.destroyDockedItems();
        this.callParent()
    },
    initItems: function() {
        this.callParent();
        this.initDockingItems()
    },
    initRenderData: function() {
        var a = this
          , b = a.callParent();
        a.initBodyStyles();
        a.protoBody.writeTo(b);
        delete a.protoBody;
        return b
    },
    getComponent: function(a) {
        var b = this.callParent(arguments);
        if (b === undefined && !Ext.isNumber(a)) {
            b = this.getDockedComponent(a)
        }
        return b
    },
    getProtoBody: function() {
        var b = this
          , a = b.protoBody;
        if (!a) {
            b.protoBody = a = new Ext.util.ProtoElement({
                cls: b.bodyCls,
                style: b.bodyStyle,
                clsProp: "bodyCls",
                styleProp: "bodyStyle",
                styleIsText: true
            })
        }
        return a
    },
    initBodyStyles: function() {
        var b = this
          , a = b.getProtoBody();
        if (b.bodyPadding !== undefined) {
            if (b.layout.managePadding) {
                a.setStyle("padding", 0)
            } else {
                a.setStyle("padding", this.unitizeBox(b.bodyPadding === true ? 5 : b.bodyPadding))
            }
        }
        b.initBodyBorder()
    },
    initBodyBorder: function() {
        var a = this;
        if (a.frame && a.bodyBorder) {
            if (!Ext.isNumber(a.bodyBorder)) {
                a.bodyBorder = 1
            }
            a.getProtoBody().setStyle("border-width", this.unitizeBox(a.bodyBorder))
        }
    },
    getCollapsedDockedItems: function() {
        var a = this;
        return a.header === false || a.collapseMode == "placeholder" ? a.emptyArray : [a.getReExpander()]
    },
    setBodyStyle: function(b, d) {
        var c = this
          , a = c.rendered ? c.body : c.getProtoBody();
        if (Ext.isFunction(b)) {
            b = b()
        }
        if (arguments.length == 1) {
            if (Ext.isString(b)) {
                b = Ext.Element.parseStyles(b)
            }
            a.setStyle(b)
        } else {
            a.setStyle(b, d)
        }
        return c
    },
    addBodyCls: function(b) {
        var c = this
          , a = c.rendered ? c.body : c.getProtoBody();
        a.addCls(b);
        return c
    },
    removeBodyCls: function(b) {
        var c = this
          , a = c.rendered ? c.body : c.getProtoBody();
        a.removeCls(b);
        return c
    },
    addUIClsToElement: function(b) {
        var c = this
          , a = c.callParent(arguments);
        c.addBodyCls([Ext.baseCSSPrefix + b, c.baseCls + "-body-" + b, c.baseCls + "-body-" + c.ui + "-" + b]);
        return a
    },
    removeUIClsFromElement: function(b) {
        var c = this
          , a = c.callParent(arguments);
        c.removeBodyCls([Ext.baseCSSPrefix + b, c.baseCls + "-body-" + b, c.baseCls + "-body-" + c.ui + "-" + b]);
        return a
    },
    addUIToElement: function() {
        var a = this;
        a.callParent(arguments);
        a.addBodyCls(a.baseCls + "-body-" + a.ui)
    },
    removeUIFromElement: function() {
        var a = this;
        a.callParent(arguments);
        a.removeBodyCls(a.baseCls + "-body-" + a.ui)
    },
    getTargetEl: function() {
        return this.body
    },
    applyTargetCls: function(a) {
        this.getProtoBody().addCls(a)
    },
    getRefItems: function(a) {
        var b = this.callParent(arguments);
        return this.getDockingRefItems(a, b)
    },
    setupRenderTpl: function(a) {
        this.callParent(arguments);
        this.setupDockingRenderTpl(a)
    }
});
Ext.define("Ext.panel.Header", {
    extend: Ext.container.Container,
    alias: "widget.header",
    isHeader: true,
    defaultType: "tool",
    indicateDrag: false,
    weight: -1,
    componentLayout: "body",
    childEls: ["body"],
    renderTpl: ['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}', '<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"', '<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>', "{%this.renderContainer(out,values)%}", "</div>"],
    headingTpl: ['<span id="{id}-textEl" class="{headerCls}-text {cls}-text" unselectable="on">{title}</span>'],
    shrinkWrap: 3,
    titlePosition: 0,
    headerCls: Ext.baseCSSPrefix + "header",
    initComponent: function() {
        var g = this
          , e = g.hasOwnProperty("titlePosition")
          , c = g.items
          , a = e ? g.titlePosition : c ? c.length : 0
          , b = [g.orientation, g.getDockName()]
          , d = g.ownerCt;
        g.addEvents("click", "dblclick");
        g.indicateDragCls = g.headerCls + "-draggable";
        g.title = g.title || "&#160;";
        g.tools = g.tools || [];
        c = g.items = c ? Ext.Array.slice(c) : [];
        g.orientation = g.orientation || "horizontal";
        g.dock = g.dock ? g.dock : g.orientation == "horizontal" ? "top" : "left";
        if (d ? !d.border && !d.frame : !g.border) {
            b.push(g.orientation + "-noborder")
        }
        g.addClsWithUI(b);
        g.addCls([g.headerCls, g.headerCls + "-" + g.orientation]);
        if (g.indicateDrag) {
            g.addCls(g.indicateDragCls)
        }
        if (g.iconCls || g.icon || g.glyph) {
            g.initIconCmp();
            if (!e && !c.length) {
                ++a
            }
            c.push(g.iconCmp)
        }
        g.titleCmp = new Ext.Component({
            ariaRole: "heading",
            focusable: false,
            noWrap: true,
            flex: 1,
            rtl: g.rtl,
            id: g.id + "_hd",
            style: g.titleAlign ? "text-align:" + g.titleAlign : "",
            cls: g.headerCls + "-text-container " + g.baseCls + "-text-container " + g.baseCls + "-text-container-" + g.ui,
            renderTpl: g.getTpl("headingTpl"),
            renderData: {
                title: g.title,
                cls: g.baseCls,
                headerCls: g.headerCls,
                ui: g.ui
            },
            childEls: ["textEl"],
            autoEl: {
                unselectable: "on"
            },
            listeners: {
                render: g.onTitleRender,
                scope: g
            }
        });
        g.layout = g.orientation == "vertical" ? {
            type: "vbox",
            align: "center",
            alignRoundingMethod: "ceil"
        } : {
            type: "hbox",
            align: "middle",
            alignRoundingMethod: "floor"
        };
        Ext.Array.push(c, g.tools);
        g.tools.length = 0;
        g.callParent();
        if (c.length < a) {
            a = c.length
        }
        g.titlePosition = a;
        g.insert(a, g.titleCmp);
        g.on({
            dblclick: g.onDblClick,
            click: g.onClick,
            element: "el",
            scope: g
        })
    },
    initIconCmp: function() {
        var c = this, b = [c.headerCls + "-icon", c.baseCls + "-icon", c.iconCls], a;
        if (c.glyph) {
            b.push(c.baseCls + "-glyph")
        }
        a = {
            focusable: false,
            src: Ext.BLANK_IMAGE_URL,
            cls: b,
            baseCls: c.baseCls + "-icon",
            id: c.id + "-iconEl",
            iconCls: c.iconCls,
            glyph: c.glyph
        };
        if (!Ext.isEmpty(c.icon)) {
            delete a.iconCls;
            a.src = c.icon
        }
        c.iconCmp = new Ext.Img(a)
    },
    beforeRender: function() {
        this.protoEl.unselectable();
        this.callParent()
    },
    afterLayout: function() {
        var b = this, e, a, c, d;
        if (b.orientation === "vertical") {
            b.adjustTitlePosition();
            a = b.frameTR;
            if (a) {
                e = b.frameBR;
                c = b.frameTL;
                d = b.getWidth() - a.getPadding("r") - (c ? c.getPadding("l") : b.el.getBorderWidth("l")) + "px";
                e.setStyle("background-position-x", d);
                a.setStyle("background-position-x", d)
            }
            if (Ext.isIE7 && Ext.isStrict && b.frame) {
                b.el.repaint()
            }
        }
    },
    beforeLayout: function() {
        this.callParent();
        this.syncBeforeAfterTitleClasses()
    },
    adjustTitlePosition: function() {
        var b = this.titleCmp, a;
        if (!Ext.isIE9m && b) {
            a = b.el;
            a.setStyle("left", a.getWidth() + "px")
        }
    },
    onTitleRender: function() {
        if (this.orientation === "vertical") {
            this.titleCmp.el.setVertical(90)
        }
    },
    addUIClsToElement: function(b) {
        var e = this, a = e.callParent(arguments), d = [e.baseCls + "-body-" + b, e.baseCls + "-body-" + e.ui + "-" + b], g, c;
        if (e.bodyCls) {
            g = e.bodyCls.split(" ");
            for (c = 0; c < d.length; c++) {
                if (!Ext.Array.contains(g, d[c])) {
                    g.push(d[c])
                }
            }
            e.bodyCls = g.join(" ")
        } else {
            e.bodyCls = d.join(" ")
        }
        return a
    },
    removeUIClsFromElement: function(b) {
        var e = this, a = e.callParent(arguments), d = [e.baseCls + "-body-" + b, e.baseCls + "-body-" + e.ui + "-" + b], g, c;
        if (e.bodyCls) {
            g = e.bodyCls.split(" ");
            for (c = 0; c < d.length; c++) {
                Ext.Array.remove(g, d[c])
            }
            e.bodyCls = g.join(" ")
        }
        return a
    },
    addUIToElement: function() {
        var b = this, c, a;
        b.callParent(arguments);
        a = b.baseCls + "-body-" + b.ui;
        if (b.rendered) {
            if (b.bodyCls) {
                b.body.addCls(b.bodyCls)
            } else {
                b.body.addCls(a)
            }
        } else {
            if (b.bodyCls) {
                c = b.bodyCls.split(" ");
                if (!Ext.Array.contains(c, a)) {
                    c.push(a)
                }
                b.bodyCls = c.join(" ")
            } else {
                b.bodyCls = a
            }
        }
        if (b.titleCmp && b.titleCmp.rendered) {
            b.titleCmp.addCls(b.baseCls + "-text-container-" + b.ui)
        }
    },
    removeUIFromElement: function() {
        var b = this, c, a;
        b.callParent(arguments);
        a = b.baseCls + "-body-" + b.ui;
        if (b.rendered) {
            if (b.bodyCls) {
                b.body.removeCls(b.bodyCls)
            } else {
                b.body.removeCls(a)
            }
        } else {
            if (b.bodyCls) {
                c = b.bodyCls.split(" ");
                Ext.Array.remove(c, a);
                b.bodyCls = c.join(" ")
            } else {
                b.bodyCls = a
            }
        }
        if (b.titleCmp && b.titleCmp.rendered) {
            b.titleCmp.removeCls(b.baseCls + "-text-container-" + b.ui)
        }
    },
    onClick: function(a) {
        this.fireClickEvent("click", a)
    },
    onDblClick: function(a) {
        this.fireClickEvent("dblclick", a)
    },
    fireClickEvent: function(a, c) {
        var b = "." + Ext.panel.Tool.prototype.baseCls;
        if (!c.getTarget(b)) {
            this.fireEvent(a, this, c)
        }
    },
    getFocusEl: function() {
        return this.el
    },
    getTargetEl: function() {
        return this.body || this.frameBody || this.el
    },
    applyTargetCls: function(a) {
        this.bodyTargetCls = a
    },
    setTitle: function(c) {
        var b = this
          , a = b.titleCmp;
        b.title = c;
        if (a.rendered) {
            a.textEl.update(b.title || "&#160;");
            a.updateLayout()
        } else {
            b.titleCmp.on({
                render: function() {
                    b.setTitle(c)
                },
                single: true
            })
        }
    },
    getMinWidth: function() {
        var e = this, d = e.titleCmp.textEl.dom, a, g = e.tools, b, c;
        d.style.display = "inline";
        a = d.offsetWidth;
        d.style.display = "";
        if (g && (b = g.length)) {
            for (c = 0; c < b; c++) {
                if (g[c].el) {
                    a += g[c].el.dom.offsetWidth
                }
            }
        }
        if (e.iconCmp) {
            a += e.iconCmp.el.dom.offsetWidth
        }
        return a + 10
    },
    setIconCls: function(a) {
        var b = this
          , d = !a || !a.length
          , c = b.iconCmp;
        b.iconCls = a;
        if (!b.iconCmp && !d) {
            b.initIconCmp();
            b.insert(0, b.iconCmp)
        } else {
            if (c) {
                if (d) {
                    b.iconCmp.destroy();
                    delete b.iconCmp
                } else {
                    c.removeCls(c.iconCls);
                    c.addCls(a);
                    c.iconCls = a
                }
            }
        }
    },
    setIcon: function(a) {
        var b = this
          , d = !a || !a.length
          , c = b.iconCmp;
        b.icon = a;
        if (!b.iconCmp && !d) {
            b.initIconCmp();
            b.insert(0, b.iconCmp)
        } else {
            if (c) {
                if (d) {
                    b.iconCmp.destroy();
                    delete b.iconCmp
                } else {
                    c.setSrc(b.icon)
                }
            }
        }
    },
    setGlyph: function(b) {
        var a = this
          , c = a.iconCmp;
        if (!a.iconCmp) {
            a.initIconCmp();
            a.insert(0, a.iconCmp)
        } else {
            if (c) {
                if (b) {
                    a.iconCmp.setGlyph(b)
                } else {
                    a.iconCmp.destroy();
                    delete a.iconCmp
                }
            }
        }
    },
    getTools: function() {
        return this.tools.slice()
    },
    addTool: function(a) {
        this.add(Ext.ComponentManager.create(a, "tool"))
    },
    syncBeforeAfterTitleClasses: function() {
        var j = this, h = j.items, e = h.items, b = j.titlePosition, a = e.length, g = h.generation, k = j.syncBeforeAfterGen, m, d, c, l;
        if (k === g) {
            return
        }
        j.syncBeforeAfterGen = g;
        for (c = 0; c < a; ++c) {
            l = e[c];
            m = l.afterTitleCls || (l.afterTitleCls = l.baseCls + "-after-title");
            d = l.beforeTitleCls || (l.beforeTitleCls = l.baseCls + "-before-title");
            if (!j.title || c < b) {
                if (k) {
                    l.removeCls(m)
                }
                l.addCls(d)
            } else {
                if (c > b) {
                    if (k) {
                        l.removeCls(d)
                    }
                    l.addCls(m)
                }
            }
        }
    },
    onAdd: function(b, a) {
        var c = this.tools;
        this.callParent(arguments);
        if (b.isTool) {
            c.push(b);
            c[b.type] = b
        }
    },
    initRenderData: function() {
        return Ext.applyIf(this.callParent(), {
            bodyCls: this.bodyCls,
            bodyTargetCls: this.bodyTargetCls,
            headerCls: this.headerCls
        })
    },
    getDockName: function() {
        return this.dock
    }
});
Ext.define("Ext.dd.DragDrop", {
    constructor: function(c, a, b) {
        if (c) {
            this.init(c, a, b)
        }
    },
    id: null,
    config: null,
    dragElId: null,
    handleElId: null,
    invalidHandleTypes: null,
    invalidHandleIds: null,
    invalidHandleClasses: null,
    startPageX: 0,
    startPageY: 0,
    groups: null,
    locked: false,
    lock: function() {
        this.locked = true
    },
    moveOnly: false,
    unlock: function() {
        this.locked = false
    },
    isTarget: true,
    padding: null,
    _domRef: null,
    __ygDragDrop: true,
    constrainX: false,
    constrainY: false,
    minX: 0,
    maxX: 0,
    minY: 0,
    maxY: 0,
    maintainOffset: false,
    xTicks: null,
    yTicks: null,
    primaryButtonOnly: true,
    available: false,
    hasOuterHandles: false,
    b4StartDrag: function(a, b) {},
    startDrag: function(a, b) {},
    b4Drag: function(a) {},
    onDrag: function(a) {},
    onDragEnter: function(a, b) {},
    b4DragOver: function(a) {},
    onDragOver: function(a, b) {},
    b4DragOut: function(a) {},
    onDragOut: function(a, b) {},
    b4DragDrop: function(a) {},
    onDragDrop: function(a, b) {},
    onInvalidDrop: function(a) {},
    b4EndDrag: function(a) {},
    endDrag: function(a) {},
    b4MouseDown: function(a) {},
    onMouseDown: function(a) {},
    onMouseUp: function(a) {},
    onAvailable: function() {},
    defaultPadding: {
        left: 0,
        right: 0,
        top: 0,
        bottom: 0
    },
    constrainTo: function(i, g, n) {
        if (Ext.isNumber(g)) {
            g = {
                left: g,
                right: g,
                top: g,
                bottom: g
            }
        }
        g = g || this.defaultPadding;
        var k = Ext.get(this.getEl()).getBox(), a = Ext.get(i), m = a.getScroll(), j, d = a.dom, l, h, e;
        if (d == document.body) {
            j = {
                x: m.left,
                y: m.top,
                width: Ext.Element.getViewWidth(),
                height: Ext.Element.getViewHeight()
            }
        } else {
            l = a.getXY();
            j = {
                x: l[0],
                y: l[1],
                width: d.clientWidth,
                height: d.clientHeight
            }
        }
        h = k.y - j.y;
        e = k.x - j.x;
        this.resetConstraints();
        this.setXConstraint(e - (g.left || 0), j.width - e - k.width - (g.right || 0), this.xTickSize);
        this.setYConstraint(h - (g.top || 0), j.height - h - k.height - (g.bottom || 0), this.yTickSize)
    },
    getEl: function() {
        if (!this._domRef) {
            this._domRef = Ext.getDom(this.id)
        }
        return this._domRef
    },
    getDragEl: function() {
        return Ext.getDom(this.dragElId)
    },
    init: function(c, a, b) {
        this.initTarget(c, a, b);
        Ext.EventManager.on(this.id, "mousedown", this.handleMouseDown, this)
    },
    initTarget: function(c, a, b) {
        this.config = b || {};
        this.DDMInstance = Ext.dd.DragDropManager;
        this.groups = {};
        if (typeof c !== "string") {
            c = Ext.id(c)
        }
        this.id = c;
        this.addToGroup(a ? a : "default");
        this.handleElId = c;
        this.setDragElId(c);
        this.invalidHandleTypes = {
            A: "A"
        };
        this.invalidHandleIds = {};
        this.invalidHandleClasses = [];
        this.applyConfig();
        this.handleOnAvailable()
    },
    applyConfig: function() {
        this.padding = this.config.padding || [0, 0, 0, 0];
        this.isTarget = this.config.isTarget !== false;
        this.maintainOffset = this.config.maintainOffset;
        this.primaryButtonOnly = this.config.primaryButtonOnly !== false
    },
    handleOnAvailable: function() {
        this.available = true;
        this.resetConstraints();
        this.onAvailable()
    },
    setPadding: function(c, a, d, b) {
        if (!a && 0 !== a) {
            this.padding = [c, c, c, c]
        } else {
            if (!d && 0 !== d) {
                this.padding = [c, a, c, a]
            } else {
                this.padding = [c, a, d, b]
            }
        }
    },
    setInitPosition: function(d, c) {
        var e = this.getEl(), b, a, g;
        if (!this.DDMInstance.verifyEl(e)) {
            return
        }
        b = d || 0;
        a = c || 0;
        g = Ext.Element.getXY(e);
        this.initPageX = g[0] - b;
        this.initPageY = g[1] - a;
        this.lastPageX = g[0];
        this.lastPageY = g[1];
        this.setStartPosition(g)
    },
    setStartPosition: function(b) {
        var a = b || Ext.Element.getXY(this.getEl());
        this.deltaSetXY = null;
        this.startPageX = a[0];
        this.startPageY = a[1]
    },
    addToGroup: function(a) {
        this.groups[a] = true;
        this.DDMInstance.regDragDrop(this, a)
    },
    removeFromGroup: function(a) {
        if (this.groups[a]) {
            delete this.groups[a]
        }
        this.DDMInstance.removeDDFromGroup(this, a)
    },
    setDragElId: function(a) {
        this.dragElId = a
    },
    setHandleElId: function(a) {
        if (typeof a !== "string") {
            a = Ext.id(a)
        }
        this.handleElId = a;
        this.DDMInstance.regHandle(this.id, a)
    },
    setOuterHandleElId: function(a) {
        if (typeof a !== "string") {
            a = Ext.id(a)
        }
        Ext.EventManager.on(a, "mousedown", this.handleMouseDown, this);
        this.setHandleElId(a);
        this.hasOuterHandles = true
    },
    unreg: function() {
        Ext.EventManager.un(this.id, "mousedown", this.handleMouseDown, this);
        this._domRef = null;
        this.DDMInstance._remove(this)
    },
    destroy: function() {
        this.unreg()
    },
    isLocked: function() {
        return this.DDMInstance.isLocked() || this.locked
    },
    handleMouseDown: function(c, b) {
        var a = this, d;
        if (a.primaryButtonOnly && c.button != 0 || a.isLocked()) {
            return
        }
        a.DDMInstance.refreshCache(a.groups);
        if (a.hasOuterHandles || a.DDMInstance.isOverTarget(c.getPoint(), a)) {
            if (a.clickValidator(c)) {
                d = Ext.Element.getActiveElement();
                a.setStartPosition();
                a.b4MouseDown(c);
                a.onMouseDown(c);
                a.DDMInstance.handleMouseDown(c, a);
                if (d) {
                    Ext.fly(d).blur()
                }
                a.DDMInstance.stopEvent(c)
            }
        }
    },
    clickValidator: function(b) {
        var a = b.getTarget();
        return this.isValidHandleChild(a) && (this.id == this.handleElId || this.DDMInstance.handleWasClicked(a, this.id))
    },
    addInvalidHandleType: function(a) {
        var b = a.toUpperCase();
        this.invalidHandleTypes[b] = b
    },
    addInvalidHandleId: function(a) {
        if (typeof a !== "string") {
            a = Ext.id(a)
        }
        this.invalidHandleIds[a] = a
    },
    addInvalidHandleClass: function(a) {
        this.invalidHandleClasses.push(a)
    },
    removeInvalidHandleType: function(a) {
        var b = a.toUpperCase();
        delete this.invalidHandleTypes[b]
    },
    removeInvalidHandleId: function(a) {
        if (typeof a !== "string") {
            a = Ext.id(a)
        }
        delete this.invalidHandleIds[a]
    },
    removeInvalidHandleClass: function(b) {
        for (var c = 0, a = this.invalidHandleClasses.length; c < a; ++c) {
            if (this.invalidHandleClasses[c] == b) {
                delete this.invalidHandleClasses[c]
            }
        }
    },
    isValidHandleChild: function(d) {
        var c = true, h, b, a;
        try {
            h = d.nodeName.toUpperCase()
        } catch (g) {
            h = d.nodeName
        }
        c = c && !this.invalidHandleTypes[h];
        c = c && !this.invalidHandleIds[d.id];
        for (b = 0,
        a = this.invalidHandleClasses.length; c && b < a; ++b) {
            c = !Ext.fly(d).hasCls(this.invalidHandleClasses[b])
        }
        return c
    },
    setXTicks: function(d, a) {
        this.xTicks = [];
        this.xTickSize = a;
        var c = {}, b;
        for (b = this.initPageX; b >= this.minX; b = b - a) {
            if (!c[b]) {
                this.xTicks[this.xTicks.length] = b;
                c[b] = true
            }
        }
        for (b = this.initPageX; b <= this.maxX; b = b + a) {
            if (!c[b]) {
                this.xTicks[this.xTicks.length] = b;
                c[b] = true
            }
        }
        Ext.Array.sort(this.xTicks, this.DDMInstance.numericSort)
    },
    setYTicks: function(d, a) {
        this.yTicks = [];
        this.yTickSize = a;
        var c = {}, b;
        for (b = this.initPageY; b >= this.minY; b = b - a) {
            if (!c[b]) {
                this.yTicks[this.yTicks.length] = b;
                c[b] = true
            }
        }
        for (b = this.initPageY; b <= this.maxY; b = b + a) {
            if (!c[b]) {
                this.yTicks[this.yTicks.length] = b;
                c[b] = true
            }
        }
        Ext.Array.sort(this.yTicks, this.DDMInstance.numericSort)
    },
    setXConstraint: function(c, b, a) {
        this.leftConstraint = c;
        this.rightConstraint = b;
        this.minX = this.initPageX - c;
        this.maxX = this.initPageX + b;
        if (a) {
            this.setXTicks(this.initPageX, a)
        }
        this.constrainX = true
    },
    clearConstraints: function() {
        this.constrainX = false;
        this.constrainY = false;
        this.clearTicks()
    },
    clearTicks: function() {
        this.xTicks = null;
        this.yTicks = null;
        this.xTickSize = 0;
        this.yTickSize = 0
    },
    setYConstraint: function(a, c, b) {
        this.topConstraint = a;
        this.bottomConstraint = c;
        this.minY = this.initPageY - a;
        this.maxY = this.initPageY + c;
        if (b) {
            this.setYTicks(this.initPageY, b)
        }
        this.constrainY = true
    },
    resetConstraints: function() {
        if (this.initPageX || this.initPageX === 0) {
            var b = this.maintainOffset ? this.lastPageX - this.initPageX : 0
              , a = this.maintainOffset ? this.lastPageY - this.initPageY : 0;
            this.setInitPosition(b, a)
        } else {
            this.setInitPosition()
        }
        if (this.constrainX) {
            this.setXConstraint(this.leftConstraint, this.rightConstraint, this.xTickSize)
        }
        if (this.constrainY) {
            this.setYConstraint(this.topConstraint, this.bottomConstraint, this.yTickSize)
        }
    },
    getTick: function(h, d) {
        if (!d) {
            return h
        } else {
            if (d[0] >= h) {
                return d[0]
            } else {
                var b, a, c, g, e;
                for (b = 0,
                a = d.length; b < a; ++b) {
                    c = b + 1;
                    if (d[c] && d[c] >= h) {
                        g = h - d[b];
                        e = d[c] - h;
                        return e > g ? d[b] : d[c]
                    }
                }
                return d[d.length - 1]
            }
        }
    },
    toString: function() {
        return "DragDrop " + this.id
    }
});
Ext.define("Ext.dd.DD", {
    extend: Ext.dd.DragDrop,
    constructor: function(c, a, b) {
        if (c) {
            this.init(c, a, b)
        }
    },
    scroll: true,
    autoOffset: function(c, b) {
        var a = c - this.startPageX
          , d = b - this.startPageY;
        this.setDelta(a, d)
    },
    setDelta: function(b, a) {
        this.deltaX = b;
        this.deltaY = a
    },
    setDragElPos: function(c, b) {
        var a = this.getDragEl();
        this.alignElWithMouse(a, c, b)
    },
    alignElWithMouse: function(b, e, c) {
        var g = this.getTargetCoord(e, c), d = b.dom ? b : Ext.fly(b, "_dd"), l = d.getSize(), i = Ext.Element, j, a, k, h;
        if (!this.deltaSetXY) {
            j = this.cachedViewportSize = {
                width: i.getDocumentWidth(),
                height: i.getDocumentHeight()
            };
            a = [Math.max(0, Math.min(g.x, j.width - l.width)), Math.max(0, Math.min(g.y, j.height - l.height))];
            d.setXY(a);
            k = this.getLocalX(d);
            h = d.getLocalY();
            this.deltaSetXY = [k - g.x, h - g.y]
        } else {
            j = this.cachedViewportSize;
            this.setLocalXY(d, Math.max(0, Math.min(g.x + this.deltaSetXY[0], j.width - l.width)), Math.max(0, Math.min(g.y + this.deltaSetXY[1], j.height - l.height)))
        }
        this.cachePosition(g.x, g.y);
        this.autoScroll(g.x, g.y, b.offsetHeight, b.offsetWidth);
        return g
    },
    cachePosition: function(b, a) {
        if (b) {
            this.lastPageX = b;
            this.lastPageY = a
        } else {
            var c = Ext.Element.getXY(this.getEl());
            this.lastPageX = c[0];
            this.lastPageY = c[1]
        }
    },
    autoScroll: function(l, k, e, m) {
        if (this.scroll) {
            var n = Ext.Element.getViewHeight()
              , b = Ext.Element.getViewWidth()
              , p = this.DDMInstance.getScrollTop()
              , d = this.DDMInstance.getScrollLeft()
              , j = e + k
              , o = m + l
              , i = n + p - k - this.deltaY
              , g = b + d - l - this.deltaX
              , c = 40
              , a = document.all ? 80 : 30;
            if (j > n && i < c) {
                window.scrollTo(d, p + a)
            }
            if (k < p && p > 0 && k - p < c) {
                window.scrollTo(d, p - a)
            }
            if (o > b && g < c) {
                window.scrollTo(d + a, p)
            }
            if (l < d && d > 0 && l - d < c) {
                window.scrollTo(d - a, p)
            }
        }
    },
    getTargetCoord: function(c, b) {
        var a = c - this.deltaX
          , d = b - this.deltaY;
        if (this.constrainX) {
            if (a < this.minX) {
                a = this.minX
            }
            if (a > this.maxX) {
                a = this.maxX
            }
        }
        if (this.constrainY) {
            if (d < this.minY) {
                d = this.minY
            }
            if (d > this.maxY) {
                d = this.maxY
            }
        }
        a = this.getTick(a, this.xTicks);
        d = this.getTick(d, this.yTicks);
        return {
            x: a,
            y: d
        }
    },
    applyConfig: function() {
        this.callParent();
        this.scroll = this.config.scroll !== false
    },
    b4MouseDown: function(a) {
        this.autoOffset(a.getPageX(), a.getPageY())
    },
    b4Drag: function(a) {
        this.setDragElPos(a.getPageX(), a.getPageY())
    },
    toString: function() {
        return "DD " + this.id
    },
    getLocalX: function(a) {
        return a.getLocalX()
    },
    setLocalXY: function(b, a, c) {
        b.setLocalXY(a, c)
    }
});
Ext.define("Ext.dd.DDProxy", {
    extend: Ext.dd.DD,
    statics: {
        dragElId: "ygddfdiv"
    },
    constructor: function(c, a, b) {
        if (c) {
            this.init(c, a, b);
            this.initFrame()
        }
    },
    resizeFrame: true,
    centerFrame: false,
    createFrame: function() {
        var b = this, a = document.body, d, c;
        if (!a || !a.firstChild) {
            setTimeout(function() {
                b.createFrame()
            }, 50);
            return
        }
        d = this.getDragEl();
        if (!d) {
            d = document.createElement("div");
            d.id = this.dragElId;
            c = d.style;
            c.position = "absolute";
            c.visibility = "hidden";
            c.cursor = "move";
            c.border = "2px solid #aaa";
            c.zIndex = 999;
            a.insertBefore(d, a.firstChild)
        }
    },
    initFrame: function() {
        this.createFrame()
    },
    applyConfig: function() {
        this.callParent();
        this.resizeFrame = this.config.resizeFrame !== false;
        this.centerFrame = this.config.centerFrame;
        this.setDragElId(this.config.dragElId || Ext.dd.DDProxy.dragElId)
    },
    showFrame: function(e, d) {
        var c = this.getEl()
          , a = this.getDragEl()
          , b = a.style;
        this._resizeProxy();
        if (this.centerFrame) {
            this.setDelta(Math.round(parseInt(b.width, 10) / 2), Math.round(parseInt(b.height, 10) / 2))
        }
        this.setDragElPos(e, d);
        Ext.fly(a).show()
    },
    _resizeProxy: function() {
        if (this.resizeFrame) {
            var a = this.getEl();
            Ext.fly(this.getDragEl()).setSize(a.offsetWidth, a.offsetHeight)
        }
    },
    b4MouseDown: function(b) {
        var a = b.getPageX()
          , c = b.getPageY();
        this.autoOffset(a, c);
        this.setDragElPos(a, c)
    },
    b4StartDrag: function(a, b) {
        this.showFrame(a, b)
    },
    b4EndDrag: function(a) {
        Ext.fly(this.getDragEl()).hide()
    },
    endDrag: function(c) {
        var b = this.getEl()
          , a = this.getDragEl();
        a.style.visibility = "";
        this.beforeMove();
        b.style.visibility = "hidden";
        Ext.dd.DDM.moveToEl(b, a);
        a.style.visibility = "hidden";
        b.style.visibility = "";
        this.afterDrag()
    },
    beforeMove: function() {},
    afterDrag: function() {},
    toString: function() {
        return "DDProxy " + this.id
    }
});
Ext.define("Ext.dd.StatusProxy", {
    extend: Ext.Component,
    animRepair: false,
    childEls: ["ghost"],
    renderTpl: ['<div class="' + Ext.baseCSSPrefix + 'dd-drop-icon"></div><div id="{id}-ghost" class="' + Ext.baseCSSPrefix + 'dd-drag-ghost"></div>'],
    repairCls: Ext.baseCSSPrefix + "dd-drag-repair",
    constructor: function(a) {
        var b = this;
        a = a || {};
        Ext.apply(b, {
            hideMode: "visibility",
            hidden: true,
            floating: true,
            id: b.id || Ext.id(),
            cls: Ext.baseCSSPrefix + "dd-drag-proxy " + this.dropNotAllowed,
            shadow: a.shadow || false,
            renderTo: Ext.getDetachedBody()
        });
        b.callParent(arguments);
        this.dropStatus = this.dropNotAllowed
    },
    dropAllowed: Ext.baseCSSPrefix + "dd-drop-ok",
    dropNotAllowed: Ext.baseCSSPrefix + "dd-drop-nodrop",
    setStatus: function(a) {
        a = a || this.dropNotAllowed;
        if (this.dropStatus != a) {
            this.el.replaceCls(this.dropStatus, a);
            this.dropStatus = a
        }
    },
    reset: function(b) {
        var c = this
          , a = Ext.baseCSSPrefix + "dd-drag-proxy ";
        c.el.replaceCls(a + c.dropAllowed, a + c.dropNotAllowed);
        c.dropStatus = c.dropNotAllowed;
        if (b) {
            c.ghost.update("")
        }
    },
    update: function(a) {
        if (typeof a == "string") {
            this.ghost.update(a)
        } else {
            this.ghost.update("");
            a.style.margin = "0";
            this.ghost.dom.appendChild(a)
        }
        var b = this.ghost.dom.firstChild;
        if (b) {
            Ext.fly(b).setStyle("float", "none")
        }
    },
    getGhost: function() {
        return this.ghost
    },
    hide: function(a) {
        this.callParent();
        if (a) {
            this.reset(true)
        }
    },
    stop: function() {
        if (this.anim && this.anim.isAnimated && this.anim.isAnimated()) {
            this.anim.stop()
        }
    },
    sync: function() {
        this.el.sync()
    },
    repair: function(c, d, a) {
        var b = this;
        b.callback = d;
        b.scope = a;
        if (c && b.animRepair !== false) {
            b.el.addCls(b.repairCls);
            b.el.hideUnders(true);
            b.anim = b.el.animate({
                duration: b.repairDuration || 500,
                easing: "ease-out",
                to: {
                    x: c[0],
                    y: c[1]
                },
                stopAnimation: true,
                callback: b.afterRepair,
                scope: b
            })
        } else {
            b.afterRepair()
        }
    },
    afterRepair: function() {
        var a = this;
        a.hide(true);
        a.el.removeCls(a.repairCls);
        if (typeof a.callback == "function") {
            a.callback.call(a.scope || a)
        }
        delete a.callback;
        delete a.scope
    }
});
Ext.define("Ext.dd.DragSource", {
    extend: Ext.dd.DDProxy,
    dropAllowed: Ext.baseCSSPrefix + "dd-drop-ok",
    dropNotAllowed: Ext.baseCSSPrefix + "dd-drop-nodrop",
    animRepair: true,
    repairHighlightColor: "c3daf9",
    constructor: function(b, a) {
        this.el = Ext.get(b);
        if (!this.dragData) {
            this.dragData = {}
        }
        Ext.apply(this, a);
        if (!this.proxy) {
            this.proxy = new Ext.dd.StatusProxy({
                id: this.el.id + "-drag-status-proxy",
                animRepair: this.animRepair
            })
        }
        this.callParent([this.el.dom, this.ddGroup || this.group, {
            dragElId: this.proxy.id,
            resizeFrame: false,
            isTarget: false,
            scroll: this.scroll === true
        }]);
        this.dragging = false
    },
    getDragData: function(a) {
        return this.dragData
    },
    onDragEnter: function(c, d) {
        var b = Ext.dd.DragDropManager.getDDById(d), a;
        this.cachedTarget = b;
        if (this.beforeDragEnter(b, c, d) !== false) {
            if (b.isNotifyTarget) {
                a = b.notifyEnter(this, c, this.dragData);
                this.proxy.setStatus(a)
            } else {
                this.proxy.setStatus(this.dropAllowed)
            }
            if (this.afterDragEnter) {
                this.afterDragEnter(b, c, d)
            }
        }
    },
    beforeDragEnter: function(b, a, c) {
        return true
    },
    onDragOver: function(c, d) {
        var b = this.cachedTarget || Ext.dd.DragDropManager.getDDById(d), a;
        if (this.beforeDragOver(b, c, d) !== false) {
            if (b.isNotifyTarget) {
                a = b.notifyOver(this, c, this.dragData);
                this.proxy.setStatus(a)
            }
            if (this.afterDragOver) {
                this.afterDragOver(b, c, d)
            }
        }
    },
    beforeDragOver: function(b, a, c) {
        return true
    },
    onDragOut: function(b, c) {
        var a = this.cachedTarget || Ext.dd.DragDropManager.getDDById(c);
        if (this.beforeDragOut(a, b, c) !== false) {
            if (a.isNotifyTarget) {
                a.notifyOut(this, b, this.dragData)
            }
            this.proxy.reset();
            if (this.afterDragOut) {
                this.afterDragOut(a, b, c)
            }
        }
        this.cachedTarget = null
    },
    beforeDragOut: function(b, a, c) {
        return true
    },
    onDragDrop: function(b, c) {
        var a = this.cachedTarget || Ext.dd.DragDropManager.getDDById(c);
        if (this.beforeDragDrop(a, b, c) !== false) {
            if (a.isNotifyTarget) {
                if (a.notifyDrop(this, b, this.dragData) !== false) {
                    this.onValidDrop(a, b, c)
                } else {
                    this.onInvalidDrop(a, b, c)
                }
            } else {
                this.onValidDrop(a, b, c)
            }
            if (this.afterDragDrop) {
                this.afterDragDrop(a, b, c)
            }
        }
        delete this.cachedTarget
    },
    beforeDragDrop: function(b, a, c) {
        return true
    },
    onValidDrop: function(b, a, c) {
        this.hideProxy();
        if (this.afterValidDrop) {
            this.afterValidDrop(b, a, c)
        }
    },
    getRepairXY: function(b, a) {
        return this.el.getXY()
    },
    onInvalidDrop: function(b, a, c) {
        if (!a) {
            a = b;
            b = null;
            c = a.getTarget().id
        }
        this.beforeInvalidDrop(b, a, c);
        if (this.cachedTarget) {
            if (this.cachedTarget.isNotifyTarget) {
                this.cachedTarget.notifyOut(this, a, this.dragData)
            }
            this.cacheTarget = null
        }
        this.proxy.repair(this.getRepairXY(a, this.dragData), this.afterRepair, this);
        if (this.afterInvalidDrop) {
            this.afterInvalidDrop(a, c)
        }
    },
    afterRepair: function() {
        var a = this;
        if (Ext.enableFx) {
            a.el.highlight(a.repairHighlightColor)
        }
        a.dragging = false
    },
    beforeInvalidDrop: function(b, a, c) {
        return true
    },
    handleMouseDown: function(b) {
        if (this.dragging) {
            return
        }
        var a = this.getDragData(b);
        if (a && this.onBeforeDrag(a, b) !== false) {
            this.dragData = a;
            this.proxy.stop();
            this.callParent(arguments)
        }
    },
    onBeforeDrag: function(a, b) {
        return true
    },
    onStartDrag: Ext.emptyFn,
    alignElWithMouse: function() {
        this.proxy.ensureAttachedToBody(true);
        return this.callParent(arguments)
    },
    startDrag: function(a, b) {
        this.proxy.reset();
        this.proxy.hidden = false;
        this.dragging = true;
        this.proxy.update("");
        this.onInitDrag(a, b);
        this.proxy.show()
    },
    onInitDrag: function(a, c) {
        var b = this.el.dom.cloneNode(true);
        b.id = Ext.id();
        this.proxy.update(b);
        this.onStartDrag(a, c);
        return true
    },
    getProxy: function() {
        return this.proxy
    },
    hideProxy: function() {
        this.proxy.hide();
        this.proxy.reset(true);
        this.dragging = false
    },
    triggerCacheRefresh: function() {
        Ext.dd.DDM.refreshCache(this.groups)
    },
    b4EndDrag: function(a) {},
    endDrag: function(a) {
        this.onEndDrag(this.dragData, a)
    },
    onEndDrag: function(a, b) {},
    autoOffset: function(a, b) {
        this.setDelta(-12, -20)
    },
    destroy: function() {
        this.callParent();
        Ext.destroy(this.proxy)
    }
});
Ext.define("Ext.panel.Proxy", {
    alternateClassName: "Ext.dd.PanelProxy",
    moveOnDrag: true,
    constructor: function(a, b) {
        var c = this;
        c.panel = a;
        c.id = c.panel.id + "-ddproxy";
        Ext.apply(c, b)
    },
    insertProxy: true,
    setStatus: Ext.emptyFn,
    reset: Ext.emptyFn,
    update: Ext.emptyFn,
    stop: Ext.emptyFn,
    sync: Ext.emptyFn,
    getEl: function() {
        return this.ghost.el
    },
    getGhost: function() {
        return this.ghost
    },
    getProxy: function() {
        return this.proxy
    },
    hide: function() {
        var a = this;
        if (a.ghost) {
            if (a.proxy) {
                a.proxy.remove();
                delete a.proxy
            }
            a.panel.unghost(null, a.moveOnDrag);
            delete a.ghost
        }
    },
    show: function() {
        var b = this, a;
        if (!b.ghost) {
            a = b.panel.getSize();
            b.panel.el.setVisibilityMode(Ext.Element.DISPLAY);
            b.ghost = b.panel.ghost();
            if (b.insertProxy) {
                b.proxy = b.panel.el.insertSibling({
                    cls: Ext.baseCSSPrefix + "panel-dd-spacer"
                });
                b.proxy.setSize(a)
            }
        }
    },
    repair: function(b, c, a) {
        this.hide();
        Ext.callback(c, a || this)
    },
    moveProxy: function(a, b) {
        if (this.proxy) {
            a.insertBefore(this.proxy.dom, b)
        }
    }
});
Ext.define("Ext.panel.DD", {
    extend: Ext.dd.DragSource,
    constructor: function(b, a) {
        var c = this;
        c.panel = b;
        c.dragData = {
            panel: b
        };
        c.panelProxy = new Ext.panel.Proxy(b,a);
        c.proxy = c.panelProxy.proxy;
        c.callParent([b.el, a]);
        c.setupEl(b)
    },
    setupEl: function(a) {
        var c = this
          , d = a.header
          , b = a.body;
        if (d) {
            c.setHandleElId(d.id);
            b = d.el
        }
        if (b) {
            b.setStyle("cursor", "move");
            c.scroll = false
        } else {
            a.on("boxready", c.setupEl, c, {
                single: true
            })
        }
    },
    showFrame: Ext.emptyFn,
    startDrag: Ext.emptyFn,
    b4StartDrag: function(a, b) {
        this.panelProxy.show()
    },
    b4MouseDown: function(b) {
        var a = b.getPageX()
          , c = b.getPageY();
        this.autoOffset(a, c)
    },
    onInitDrag: function(a, b) {
        this.onStartDrag(a, b);
        return true
    },
    createFrame: Ext.emptyFn,
    getDragEl: function(b) {
        var a = this.panelProxy.ghost;
        if (a) {
            return a.el.dom
        }
    },
    endDrag: function(a) {
        this.panelProxy.hide();
        this.panel.saveState()
    },
    autoOffset: function(a, b) {
        a -= this.startPageX;
        b -= this.startPageY;
        this.setDelta(a, b)
    },
    onInvalidDrop: function(c, b, d) {
        var a = this;
        a.beforeInvalidDrop(c, b, d);
        if (a.cachedTarget) {
            if (a.cachedTarget.isNotifyTarget) {
                a.cachedTarget.notifyOut(a, b, a.dragData)
            }
            a.cacheTarget = null
        }
        if (a.afterInvalidDrop) {
            a.afterInvalidDrop(b, d)
        }
    }
});
Ext.define("Ext.util.Memento", function() {
    function d(i, h, j, g) {
        i[g ? g + j : j] = h[j]
    }
    function c(h, g, i) {
        delete h[i]
    }
    function e(k, j, l, i) {
        var g = i ? i + l : l
          , h = k[g];
        if (h || k.hasOwnProperty(g)) {
            a(j, l, h)
        }
    }
    function a(h, i, g) {
        if (Ext.isDefined(g)) {
            h[i] = g
        } else {
            delete h[i]
        }
    }
    function b(h, m, l, i, j) {
        if (m) {
            if (Ext.isArray(i)) {
                var k, g = i.length;
                for (k = 0; k < g; k++) {
                    h(m, l, i[k], j)
                }
            } else {
                h(m, l, i, j)
            }
        }
    }
    return {
        data: null,
        target: null,
        constructor: function(h, g) {
            if (h) {
                this.target = h;
                if (g) {
                    this.capture(g)
                }
            }
        },
        capture: function(g, j, i) {
            var h = this;
            b(d, h.data || (h.data = {}), j || h.target, g, i)
        },
        remove: function(g) {
            b(c, this.data, null, g)
        },
        restore: function(h, g, j, i) {
            b(e, this.data, j || this.target, h, i);
            if (g !== false) {
                this.remove(h)
            }
        },
        restoreAll: function(g, k) {
            var i = this, h = k || this.target, j = i.data, l;
            for (l in j) {
                if (j.hasOwnProperty(l)) {
                    a(h, l, j[l])
                }
            }
            if (g !== false) {
                delete i.data
            }
        }
    }
}());
Ext.define("Ext.panel.Panel", {
    extend: Ext.panel.AbstractPanel,
    alias: "widget.panel",
    alternateClassName: "Ext.Panel",
    collapsedCls: "collapsed",
    animCollapse: Ext.enableFx,
    minButtonWidth: 75,
    collapsed: false,
    collapseFirst: true,
    hideCollapseTool: false,
    titleCollapse: undefined,
    floatable: true,
    collapsible: undefined,
    closable: false,
    closeAction: "destroy",
    placeholderCollapseHideMode: Ext.Element.VISIBILITY,
    preventHeader: false,
    header: undefined,
    headerPosition: "top",
    frame: false,
    frameHeader: true,
    manageHeight: true,
    constrain: false,
    constrainHeader: false,
    initComponent: function() {
        var a = this;
        a.addEvents("beforeclose", "close", "beforeexpand", "beforecollapse", "expand", "collapse", "titlechange", "iconchange", "iconclschange", "glyphchange", "float", "unfloat");
        if (a.collapsible) {
            this.addStateEvents(["expand", "collapse"])
        }
        if (a.unstyled) {
            a.setUI("plain")
        }
        if (a.frame) {
            a.setUI(a.ui + "-framed")
        }
        a.bridgeToolbars();
        a.callParent();
        a.collapseDirection = a.collapseDirection || a.headerPosition || Ext.Component.DIRECTION_TOP;
        a.hiddenOnCollapse = new Ext.dom.CompositeElement()
    },
    beforeDestroy: function() {
        var a = this;
        Ext.destroy(a.placeholder, a.ghostPanel, a.dd);
        a.callParent()
    },
    initAria: function() {
        this.callParent();
        this.initHeaderAria()
    },
    getFocusEl: function() {
        return this.el
    },
    initHeaderAria: function() {
        var b = this
          , a = b.el
          , c = b.header;
        if (a && c) {
            a.dom.setAttribute("aria-labelledby", c.titleCmp.id)
        }
    },
    getHeader: function() {
        return this.header
    },
    setTitle: function(g) {
        var c = this
          , b = c.title
          , e = c.header
          , a = c.reExpander
          , d = c.placeholder;
        c.title = g;
        if (e) {
            if (e.isHeader) {
                e.setTitle(g)
            } else {
                e.title = g
            }
        } else {
            c.updateHeader()
        }
        if (a) {
            a.setTitle(g)
        }
        if (d && d.setTitle) {
            d.setTitle(g)
        }
        c.fireEvent("titlechange", c, g, b)
    },
    setIconCls: function(a) {
        var c = this
          , b = c.iconCls
          , e = c.header
          , d = c.placeholder;
        c.iconCls = a;
        if (e) {
            if (e.isHeader) {
                e.setIconCls(a)
            } else {
                e.iconCls = a
            }
        } else {
            c.updateHeader()
        }
        if (d && d.setIconCls) {
            d.setIconCls(a)
        }
        c.fireEvent("iconclschange", c, a, b)
    },
    setIcon: function(a) {
        var b = this
          , c = b.icon
          , e = b.header
          , d = b.placeholder;
        b.icon = a;
        if (e) {
            if (e.isHeader) {
                e.setIcon(a)
            } else {
                e.icon = a
            }
        } else {
            b.updateHeader()
        }
        if (d && d.setIcon) {
            d.setIcon(a)
        }
        b.fireEvent("iconchange", b, a, c)
    },
    setGlyph: function(c) {
        var b = this
          , a = b.glyph
          , e = b.header
          , d = b.placeholder;
        b.glyph = c;
        if (e) {
            if (e.isHeader) {
                e.setGlyph(c)
            } else {
                e.glyph = c
            }
        } else {
            b.updateHeader()
        }
        if (d && d.setGlyph) {
            d.setIcon(c)
        }
        b.fireEvent("glyphchange", b, c, a)
    },
    bridgeToolbars: function() {
        var a = this, g = [], c, b, e = a.minButtonWidth;
        function d(h, j, i) {
            if (Ext.isArray(h)) {
                h = {
                    xtype: "toolbar",
                    items: h
                }
            } else {
                if (!h.xtype) {
                    h.xtype = "toolbar"
                }
            }
            h.dock = j;
            if (j == "left" || j == "right") {
                h.vertical = true
            }
            if (i) {
                h.layout = Ext.applyIf(h.layout || {}, {
                    pack: {
                        left: "start",
                        center: "center"
                    }[a.buttonAlign] || "end"
                })
            }
            return h
        }
        if (a.tbar) {
            g.push(d(a.tbar, "top"));
            a.tbar = null
        }
        if (a.bbar) {
            g.push(d(a.bbar, "bottom"));
            a.bbar = null
        }
        if (a.buttons) {
            a.fbar = a.buttons;
            a.buttons = null
        }
        if (a.fbar) {
            c = d(a.fbar, "bottom", true);
            c.ui = "footer";
            if (e) {
                b = c.defaults;
                c.defaults = function(h) {
                    var i = b || {};
                    if ((!h.xtype || h.xtype === "button" || h.isComponent && h.isXType("button")) && !("minWidth"in i)) {
                        i = Ext.apply({
                            minWidth: e
                        }, i)
                    }
                    return i
                }
            }
            g.push(c);
            a.fbar = null
        }
        if (a.lbar) {
            g.push(d(a.lbar, "left"));
            a.lbar = null
        }
        if (a.rbar) {
            g.push(d(a.rbar, "right"));
            a.rbar = null
        }
        if (a.dockedItems) {
            if (!Ext.isArray(a.dockedItems)) {
                a.dockedItems = [a.dockedItems]
            }
            a.dockedItems = a.dockedItems.concat(g)
        } else {
            a.dockedItems = g
        }
    },
    isPlaceHolderCollapse: function() {
        return this.collapseMode == "placeholder"
    },
    onBoxReady: function() {
        this.callParent();
        if (this.collapsed) {
            this.setHiddenDocked()
        }
    },
    beforeRender: function() {
        var b = this, a;
        b.callParent();
        b.initTools();
        if (!(b.preventHeader || b.header === false)) {
            b.updateHeader()
        }
        if (b.collapsed) {
            if (b.isPlaceHolderCollapse()) {
                if (!b.hidden) {
                    b.hidden = true;
                    b.preventCollapseFire = true;
                    b.placeholderCollapse();
                    delete b.preventCollapseFire;
                    a = b.collapsed;
                    b.collapsed = false
                }
            } else {
                b.beginCollapse();
                b.addClsWithUI(b.collapsedCls)
            }
        }
        if (a) {
            b.collapsed = a
        }
    },
    initTools: function() {
        var a = this;
        a.tools = a.tools ? Ext.Array.clone(a.tools) : [];
        if (a.collapsible && !(a.hideCollapseTool || a.header === false || a.preventHeader)) {
            a.collapseDirection = a.collapseDirection || a.headerPosition || "top";
            a.collapseTool = a.expandTool = Ext.widget({
                xtype: "tool",
                type: a.collapsed && !a.isPlaceHolderCollapse() ? "expand-" + a.getOppositeDirection(a.collapseDirection) : "collapse-" + a.collapseDirection,
                handler: a.toggleCollapse,
                scope: a
            });
            if (a.collapseFirst) {
                a.tools.unshift(a.collapseTool)
            }
        }
        a.addTools();
        if (a.closable) {
            a.addClsWithUI("closable");
            a.addTool(Ext.widget({
                xtype: "tool",
                type: "close",
                handler: Ext.Function.bind(a.close, a, [])
            }))
        }
        if (a.collapseTool && !a.collapseFirst) {
            a.addTool(a.collapseTool)
        }
    },
    addTools: Ext.emptyFn,
    close: function() {
        if (this.fireEvent("beforeclose", this) !== false) {
            this.doClose()
        }
    },
    doClose: function() {
        this.fireEvent("close", this);
        this[this.closeAction]()
    },
    updateHeader: function(d) {
        var c = this
          , h = c.header
          , g = c.title
          , e = c.tools
          , b = c.icon || c.iconCls
          , a = c.headerPosition == "left" || c.headerPosition == "right";
        if (Ext.isObject(h) || h !== false && (d || g || b || e && e.length || c.collapsible && !c.titleCollapse)) {
            if (h && h.isHeader) {
                h.show()
            } else {
                h = c.header = Ext.widget(Ext.apply({
                    xtype: "header",
                    title: g,
                    titleAlign: c.titleAlign,
                    orientation: a ? "vertical" : "horizontal",
                    dock: c.headerPosition || "top",
                    textCls: c.headerTextCls,
                    iconCls: c.iconCls,
                    icon: c.icon,
                    glyph: c.glyph,
                    baseCls: c.baseCls + "-header",
                    tools: e,
                    ui: c.ui,
                    id: c.id + "_header",
                    overCls: c.headerOverCls,
                    indicateDrag: c.draggable,
                    frame: (c.frame || c.alwaysFramed) && c.frameHeader,
                    ignoreParentFrame: c.frame || c.overlapHeader,
                    ignoreBorderManagement: c.frame || c.ignoreHeaderBorderManagement,
                    ownerCt: c,
                    listeners: c.collapsible && c.titleCollapse ? {
                        click: c.toggleCollapse,
                        scope: c
                    } : null
                }, c.header));
                c.addDocked(h, 0)
            }
            c.initHeaderAria()
        } else {
            if (h) {
                h.hide()
            }
        }
    },
    setUI: function(b) {
        var a = this;
        a.callParent(arguments);
        if (a.header && a.header.rendered) {
            a.header.setUI(b)
        }
    },
    getDefaultContentTarget: function() {
        return this.body
    },
    getTargetEl: function() {
        var a = this;
        return a.body || a.protoBody || a.frameBody || a.el
    },
    isVisible: function(a) {
        var b = this;
        if (b.collapsed && b.placeholder) {
            return b.placeholder.isVisible(a)
        }
        return b.callParent(arguments)
    },
    onHide: function() {
        var a = this;
        if (a.collapsed && a.placeholder) {
            a.placeholder.hide()
        } else {
            a.callParent(arguments)
        }
    },
    onShow: function() {
        var a = this;
        if (a.collapsed && a.isPlaceHolderCollapse()) {
            a.hidden = true;
            a.placeholderCollapse()
        } else {
            a.callParent(arguments)
        }
    },
    onRemoved: function(b) {
        var a = this;
        if (a.placeholder && !b) {
            a.ownerCt.remove(a.placeholder, false)
        }
        a.callParent(arguments)
    },
    addTool: function(e) {
        if (!Ext.isArray(e)) {
            e = [e]
        }
        var d = this, g = d.header, c, a = e.length, b;
        for (c = 0; c < a; c++) {
            b = e[c];
            if (g && g.isHeader) {
                g.addTool(b)
            } else {
                d.tools.push(b)
            }
        }
        d.updateHeader()
    },
    getOppositeDirection: function(a) {
        var b = Ext.Component;
        switch (a) {
        case b.DIRECTION_TOP:
            return b.DIRECTION_BOTTOM;
        case b.DIRECTION_RIGHT:
            return b.DIRECTION_LEFT;
        case b.DIRECTION_BOTTOM:
            return b.DIRECTION_TOP;
        case b.DIRECTION_LEFT:
            return b.DIRECTION_RIGHT
        }
    },
    getWidthAuthority: function() {
        if (this.collapsed && this.collapsedHorizontal()) {
            return 1
        }
        return this.callParent()
    },
    getHeightAuthority: function() {
        if (this.collapsed && this.collapsedVertical()) {
            return 1
        }
        return this.callParent()
    },
    collapsedHorizontal: function() {
        var a = this.getCollapsed();
        return a == "left" || a == "right"
    },
    collapsedVertical: function() {
        var a = this.getCollapsed();
        return a == "top" || a == "bottom"
    },
    restoreDimension: function() {
        var a = this.collapseDirection;
        return a === "top" || a === "bottom" ? "height" : "width"
    },
    getCollapsed: function() {
        var a = this;
        if (a.collapsed === true) {
            return a.collapseDirection
        }
        return a.collapsed
    },
    getState: function() {
        var a = this, b = a.callParent(), c;
        b = a.addPropertyToState(b, "collapsed");
        if (a.collapsed) {
            c = a.collapseMemento;
            c = c && c.data;
            if (a.collapsedVertical()) {
                if (b) {
                    delete b.height
                }
                if (c) {
                    b = a.addPropertyToState(b, "height", c.height)
                }
            } else {
                if (b) {
                    delete b.width
                }
                if (c) {
                    b = a.addPropertyToState(b, "width", c.width)
                }
            }
        }
        return b
    },
    findReExpander: function(h) {
        var g = this, j = Ext.Component, e = g.dockedItems.items, a = e.length, b, d;
        if (g.collapseMode == "mini") {
            return
        }
        switch (h) {
        case j.DIRECTION_TOP:
        case j.DIRECTION_BOTTOM:
            for (d = 0; d < a; d++) {
                b = e[d];
                if (!b.hidden) {
                    if (b.isHeader && (!b.dock || b.dock == "top" || b.dock == "bottom")) {
                        return b
                    }
                }
            }
            break;
        case j.DIRECTION_LEFT:
        case j.DIRECTION_RIGHT:
            for (d = 0; d < a; d++) {
                b = e[d];
                if (!b.hidden) {
                    if (b.isHeader && (b.dock == "left" || b.dock == "right")) {
                        return b
                    }
                }
            }
            break;
        default:
            throw "Panel#findReExpander must be passed a valid collapseDirection"
        }
    },
    getReExpander: function(c) {
        var b = this
          , d = c || b.collapseDirection
          , a = b.reExpander || b.findReExpander(d);
        b.expandDirection = b.getOppositeDirection(d);
        if (!a) {
            b.reExpander = a = b.createReExpander(d, {
                dock: d,
                cls: Ext.baseCSSPrefix + "docked " + b.baseCls + "-" + b.ui + "-collapsed"
            });
            b.dockedItems.insert(0, a)
        }
        return a
    },
    createReExpander: function(e, d) {
        var c = this
          , h = e == "left"
          , b = e == "right"
          , g = h || b
          , a = Ext.apply({
            hideMode: "offsets",
            title: c.title || "&#160;",
            titleAlign: c.titleAlign,
            orientation: g ? "vertical" : "horizontal",
            textCls: c.headerTextCls,
            icon: c.icon,
            iconCls: c.iconCls,
            glyph: c.glyph,
            baseCls: c.self.prototype.baseCls + "-header",
            ui: c.ui,
            frame: c.frame && c.frameHeader,
            ignoreParentFrame: c.frame || c.overlapHeader,
            indicateDrag: c.draggable,
            collapseImmune: true,
            ownerCt: c.ownerCt,
            ownerLayout: c.componentLayout
        }, d);
        if (c.collapseMode == "mini") {
            if (g) {
                a.width = 1
            } else {
                a.height = 1
            }
        }
        if (!c.hideCollapseTool) {
            if (h || b && c.isPlaceHolderCollapse()) {
                a.titlePosition = 1
            }
            a.tools = [{
                xtype: "tool",
                type: "expand-" + c.getOppositeDirection(e),
                uiCls: ["top"],
                handler: c.toggleCollapse,
                scope: c
            }]
        }
        a = new Ext.panel.Header(a);
        a.addClsWithUI(c.getHeaderCollapsedClasses(a));
        return a
    },
    getHeaderCollapsedClasses: function(d) {
        var b = this, c = b.collapsedCls, a;
        a = [c, c + "-" + d.getDockName()];
        if (b.border && (!b.frame || b.frame && Ext.supports.CSS3BorderRadius)) {
            a.push(c + "-border-" + d.getDockName())
        }
        return a
    },
    beginCollapse: function() {
        var e = this, c = e.lastBox, h = e.rendered, b = e.collapseMemento || (e.collapseMemento = new Ext.util.Memento(e)), d = e.getSizeModel(), g = e.header, a;
        b.capture(["height", "minHeight", "width", "minWidth"]);
        if (c) {
            b.capture(e.restoreDimension(), c, "last.")
        }
        if (e.collapsedVertical()) {
            if (d.width.shrinkWrap) {
                e.width = h ? e.getWidth() : e.width || e.minWidth || 100
            }
            delete e.height;
            e.minHeight = 0
        } else {
            if (e.collapsedHorizontal()) {
                if (d.height.shrinkWrap) {
                    e.height = h ? e.getHeight() : e.height || e.minHeight || 100
                }
                delete e.width;
                e.minWidth = 0
            }
        }
        if (e.ownerCt) {
            e.ownerCt.getLayout().beginCollapse(e)
        }
        if (!e.isPlaceHolderCollapse() && g !== false) {
            if (g === (a = e.getReExpander())) {
                g.collapseImmune = true;
                g.getHierarchyState().collapseImmune = true;
                g.addClsWithUI(e.getHeaderCollapsedClasses(g));
                if (g.rendered) {
                    g.updateFrame()
                }
            } else {
                if (a.el) {
                    a.el.show();
                    a.hidden = false
                }
            }
        }
        if (e.resizer) {
            e.resizer.disable()
        }
    },
    beginExpand: function() {
        var e = this, d = e.lastBox, c = e.collapseMemento, a = this.restoreDimension(), g = e.header, b;
        if (c) {
            c.restore(["minHeight", "minWidth", a]);
            if (d) {
                c.restore(a, true, d, "last.")
            }
        }
        if (e.ownerCt) {
            e.ownerCt.getLayout().beginExpand(e)
        }
        if (!e.isPlaceHolderCollapse() && g !== false) {
            if (g === (b = e.getReExpander())) {
                delete g.collapseImmune;
                delete g.getHierarchyState().collapseImmune;
                g.removeClsWithUI(e.getHeaderCollapsedClasses(g));
                if (g.rendered) {
                    g.updateFrame()
                }
            } else {
                b.hidden = true;
                b.el.hide()
            }
        }
        if (e.resizer) {
            e.resizer.enable()
        }
    },
    collapse: function(d, a) {
        var c = this
          , e = d || c.collapseDirection
          , b = c.ownerCt;
        if (c.isCollapsingOrExpanding) {
            return c
        }
        if (arguments.length < 2) {
            a = c.animCollapse
        }
        if (c.collapsed || c.fireEvent("beforecollapse", c, d, a) === false) {
            return c
        }
        if (b && c.isPlaceHolderCollapse()) {
            return c.placeholderCollapse(d, a)
        }
        c.collapsed = e;
        c.beginCollapse();
        c.getHierarchyState().collapsed = true;
        c.fireHierarchyEvent("collapse");
        return c.doCollapseExpand(1, a)
    },
    doCollapseExpand: function(a, b) {
        var d = this
          , c = d.animCollapse
          , e = d.ownerLayout;
        d.animCollapse = b;
        d.isCollapsingOrExpanding = a;
        if (b) {
            d.addCls(Ext.baseCSSPrefix + "animating-size")
        }
        if (e && !b) {
            e.onContentChange(d)
        } else {
            d.updateLayout({
                isRoot: true
            })
        }
        d.animCollapse = c;
        return d
    },
    afterCollapse: function(b) {
        var a = this
          , c = a.ownerLayout;
        a.isCollapsingOrExpanding = 0;
        if (a.collapseTool) {
            a.collapseTool.setType("expand-" + a.getOppositeDirection(a.collapseDirection))
        }
        if (b) {
            a.removeCls(Ext.baseCSSPrefix + "animating-size")
        }
        if (c && b) {
            c.onContentChange(a)
        }
        a.setHiddenDocked();
        a.fireEvent("collapse", a)
    },
    setHiddenDocked: function() {
        var h = this, d = h.hiddenOnCollapse, c = h.getDockedItems(), a = c.length, e = 0, g, b;
        if (h.header !== false) {
            b = h.getReExpander()
        }
        d.add(h.body);
        for (; e < a; e++) {
            g = c[e];
            if (g && g !== b && g.el) {
                d.add(g.el)
            }
        }
        d.setStyle("visibility", "hidden")
    },
    restoreHiddenDocked: function() {
        var a = this.hiddenOnCollapse;
        a.setStyle("visibility", "");
        a.clear()
    },
    getPlaceholder: function(e) {
        var d = this
          , h = e || d.collapseDirection
          , c = null
          , g = d.placeholder
          , b = d.floatable
          , a = d.titleCollapse;
        if (!g) {
            if (b || d.collapsible && a) {
                c = {
                    click: {
                        fn: !a && b ? d.floatCollapsedPanel : d.toggleCollapse,
                        element: "el",
                        scope: d
                    }
                }
            }
            d.placeholder = g = Ext.widget(d.createReExpander(h, {
                id: d.id + "-placeholder",
                listeners: c
            }))
        }
        if (!g.placeholderFor) {
            if (!g.isComponent) {
                d.placeholder = g = d.lookupComponent(g)
            }
            Ext.applyIf(g, {
                margins: d.margins,
                placeholderFor: d
            });
            g.addCls([Ext.baseCSSPrefix + "region-collapsed-placeholder", Ext.baseCSSPrefix + "region-collapsed-" + h + "-placeholder", d.collapsedCls])
        }
        return g
    },
    placeholderCollapse: function(g, a) {
        var d = this, c = d.ownerCt, i = g || d.collapseDirection, b = Ext.baseCSSPrefix + "border-region-slide-in", h = d.getPlaceholder(g), e;
        d.isCollapsingOrExpanding = 1;
        d.hidden = true;
        d.collapsed = i;
        if (h.rendered) {
            if (h.el.dom.parentNode !== d.el.dom.parentNode) {
                d.el.dom.parentNode.insertBefore(h.el.dom, d.el.dom)
            }
            h.hidden = false;
            h.el.show();
            c.updateLayout()
        } else {
            c.insert(c.items.indexOf(d), h)
        }
        if (d.rendered) {
            d.el.setVisibilityMode(d.placeholderCollapseHideMode);
            if (a) {
                d.el.addCls(b);
                h.el.hide();
                e = d.convertCollapseDir(i);
                d.el.slideOut(e, {
                    preserveScroll: true,
                    duration: Ext.Number.from(a, Ext.fx.Anim.prototype.duration),
                    listeners: {
                        afteranimate: function() {
                            d.el.removeCls(b);
                            h.el.show().setStyle("display", "none").slideIn(e, {
                                easing: "linear",
                                duration: 100,
                                listeners: {
                                    afteranimate: function() {
                                        h.focus();
                                        d.isCollapsingOrExpanding = 0;
                                        d.fireEvent("collapse", d)
                                    }
                                }
                            })
                        }
                    }
                })
            } else {
                d.el.hide();
                d.isCollapsingOrExpanding = 0;
                d.fireEvent("collapse", d)
            }
        } else {
            d.isCollapsingOrExpanding = 0;
            if (!d.preventCollapseFire) {
                d.fireEvent("collapse", d)
            }
        }
        return d
    },
    floatCollapsedPanel: function() {
        var c = this, i = c.placeholder, h = i.getSize(), d, b = Ext.baseCSSPrefix + "border-region-slide-in", g = c.collapsed, e = c.ownerCt || c, a;
        if (c.isSliding) {
            return
        }
        if (c.el.hasCls(b)) {
            c.slideOutFloatedPanel();
            return
        }
        c.isSliding = true;
        i.el.hide();
        i.hidden = true;
        c.el.show();
        c.hidden = false;
        c.collapsed = false;
        e.updateLayout();
        d = c.getBox(false, true);
        i.el.show();
        i.hidden = false;
        c.el.hide();
        c.hidden = true;
        c.collapsed = g;
        e.updateLayout();
        c.slideOutTask = c.slideOutTask || new Ext.util.DelayedTask(c.slideOutFloatedPanel,c);
        i.el.on("mouseleave", c.onMouseLeaveFloated, c);
        c.el.on("mouseleave", c.onMouseLeaveFloated, c);
        i.el.on("mouseenter", c.onMouseEnterFloated, c);
        c.el.on("mouseenter", c.onMouseEnterFloated, c);
        c.el.addCls(b);
        c.floated = true;
        if (c.collapseTool) {
            c.collapseTool.el.hide()
        }
        switch (c.collapsed) {
        case "top":
            c.setLocalXY(d.x, d.y + h.height - 1);
            break;
        case "right":
            c.setLocalXY(d.x - h.width + 1, d.y);
            break;
        case "bottom":
            c.setLocalXY(d.x, d.y - h.height + 1);
            break;
        case "left":
            c.setLocalXY(d.x + h.width - 1, d.y);
            break
        }
        a = c.convertCollapseDir(c.collapsed);
        c.floatedFromCollapse = c.collapsed;
        c.collapsed = c.hidden = false;
        c.el.slideIn(a, {
            preserveScroll: true,
            duration: Ext.Number.from(c.animCollapse, Ext.fx.Anim.prototype.duration),
            listeners: {
                afteranimate: function() {
                    c.isSliding = false;
                    c.fireEvent("float", c)
                }
            }
        })
    },
    onMouseLeaveFloated: function(a) {
        this.slideOutTask.delay(500)
    },
    onMouseEnterFloated: function(a) {
        this.slideOutTask.cancel()
    },
    isLayoutRoot: function() {
        if (this.floatedFromCollapse) {
            return true
        }
        return this.callParent()
    },
    slideOutFloatedPanel: function() {
        var a = this, c = this.el, b;
        if (a.isSliding || a.isDestroyed) {
            return
        }
        a.isSliding = true;
        a.floated = false;
        a.slideOutFloatedPanelBegin();
        if (typeof a.collapsed == "string") {
            b = a.convertCollapseDir(a.collapsed)
        }
        c.slideOut(b, {
            preserveScroll: true,
            duration: Ext.Number.from(a.animCollapse, Ext.fx.Anim.prototype.duration),
            listeners: {
                afteranimate: function() {
                    a.slideOutFloatedPanelEnd();
                    a.el.removeCls(Ext.baseCSSPrefix + "border-region-slide-in")
                }
            }
        })
    },
    slideOutFloatedPanelBegin: function() {
        var b = this
          , c = b.placeholder.el
          , a = b.el;
        b.collapsed = b.floatedFromCollapse;
        b.hidden = true;
        b.floatedFromCollapse = null;
        c.un("mouseleave", b.onMouseLeaveFloated, b);
        a.un("mouseleave", b.onMouseLeaveFloated, b);
        c.un("mouseenter", b.onMouseEnterFloated, b);
        a.un("mouseenter", b.onMouseEnterFloated, b)
    },
    slideOutFloatedPanelEnd: function() {
        var a = this;
        if (a.collapseTool) {
            a.collapseTool.el.show()
        }
        a.isSliding = false;
        a.fireEvent("unfloat", a)
    },
    expand: function(a) {
        var b = this;
        if (b.isCollapsingOrExpanding) {
            return b
        }
        if (!arguments.length) {
            a = b.animCollapse
        }
        if (!b.collapsed && !b.floatedFromCollapse) {
            return b
        }
        if (b.fireEvent("beforeexpand", b, a) === false) {
            return b
        }
        delete this.getHierarchyState().collapsed;
        if (b.isPlaceHolderCollapse()) {
            return b.placeholderExpand(a)
        }
        b.restoreHiddenDocked();
        b.beginExpand();
        b.collapsed = false;
        return b.doCollapseExpand(2, a)
    },
    placeholderExpand: function(c) {
        var e = this, h = e.collapsed, d = Ext.baseCSSPrefix + "border-region-slide-in", g, b, a = e.ownerLayout ? e.ownerLayout.centerRegion : null;
        if (Ext.AbstractComponent.layoutSuspendCount) {
            c = false
        }
        if (e.floatedFromCollapse) {
            b = e.getPosition(true);
            e.slideOutFloatedPanelBegin();
            e.slideOutFloatedPanelEnd();
            e.floated = false
        }
        if (c) {
            Ext.suspendLayouts();
            e.placeholder.hide();
            e.el.show();
            e.hidden = e.collapsed = false;
            if (a && !b) {
                a.hidden = true
            }
            Ext.resumeLayouts(true);
            a.hidden = false;
            e.el.addCls(d);
            e.isCollapsingOrExpanding = 2;
            if (b) {
                g = e.getXY();
                e.setLocalXY(b[0], b[1]);
                e.setXY([g[0], g[1]], {
                    duration: Ext.Number.from(c, Ext.fx.Anim.prototype.duration),
                    listeners: {
                        afteranimate: function() {
                            e.el.removeCls(d);
                            e.isCollapsingOrExpanding = 0;
                            e.fireEvent("expand", e)
                        }
                    }
                })
            } else {
                e.el.hide();
                e.placeholder.el.show();
                e.placeholder.hidden = false;
                e.hidden = false;
                e.el.slideIn(e.convertCollapseDir(h), {
                    preserveScroll: true,
                    duration: Ext.Number.from(c, Ext.fx.Anim.prototype.duration),
                    listeners: {
                        afteranimate: function() {
                            e.el.removeCls(d);
                            e.placeholder.hide();
                            e.updateLayout();
                            e.isCollapsingOrExpanding = 0;
                            e.fireEvent("expand", e)
                        }
                    }
                })
            }
        } else {
            e.floated = e.collapsed = false;
            Ext.suspendLayouts();
            e.placeholder.hide();
            e.show();
            Ext.resumeLayouts(true);
            e.fireEvent("expand", e)
        }
        return e
    },
    afterExpand: function(b) {
        var a = this
          , c = a.ownerLayout;
        a.isCollapsingOrExpanding = 0;
        if (a.collapseTool) {
            a.collapseTool.setType("collapse-" + a.collapseDirection)
        }
        if (b) {
            a.removeCls(Ext.baseCSSPrefix + "animating-size")
        }
        if (c && b) {
            c.onContentChange(a)
        }
        a.fireEvent("expand", a);
        a.fireHierarchyEvent("expand")
    },
    setBorder: function(a, c) {
        if (c) {
            return
        }
        var b = this
          , d = b.header;
        if (!a) {
            a = 0
        } else {
            if (a === true) {
                a = "1px"
            } else {
                a = Ext.Element.unitizeBox(a)
            }
        }
        if (d) {
            if (d.isHeader) {
                d.setBorder(a)
            } else {
                d.border = a
            }
        }
        if (b.rendered && b.bodyBorder !== false) {
            b.body.setStyle("border-width", a)
        }
        b.updateLayout();
        b.border = a
    },
    toggleCollapse: function() {
        return this.collapsed || this.floatedFromCollapse ? this.expand() : this.collapse()
    },
    getKeyMap: function() {
        return this.keyMap || (this.keyMap = new Ext.util.KeyMap(Ext.apply({
            target: this.el
        }, this.keys)))
    },
    initDraggable: function() {
        if (this.simpleDrag) {
            this.initSimpleDraggable()
        } else {
            this.dd = new Ext.panel.DD(this,Ext.isBoolean(this.draggable) ? null : this.draggable)
        }
    },
    initSimpleDraggable: function() {
        var c = this, b, a;
        if (!c.header) {
            c.updateHeader(true)
        }
        if (c.header) {
            b = Ext.applyIf({
                el: c.el,
                delegate: "#" + Ext.escapeId(c.header.id)
            }, c.draggable);
            if (c.constrain || c.constrainHeader) {
                b.constrain = c.constrain;
                b.constrainDelegate = c.constrainHeader;
                b.constrainTo = c.constrainTo || c.container
            }
            a = c.dd = new Ext.util.ComponentDragger(this,b);
            c.relayEvents(a, ["dragstart", "drag", "dragend"]);
            if (c.maximized) {
                a.disable()
            }
        }
    },
    ghostTools: function() {
        var e = [], g = this.header, d = g ? g.query("tool[hidden=false]") : [], c, a, b;
        if (d.length) {
            c = 0;
            a = d.length;
            for (; c < a; c++) {
                b = d[c];
                e.push({
                    type: b.type
                })
            }
        } else {
            e = [{
                type: "placeholder"
            }]
        }
        return e
    },
    ghost: function(a) {
        var d = this, b = d.ghostPanel, c = d.getBox(), e;
        if (!b) {
            b = new Ext.panel.Panel({
                renderTo: Ext.getBody(),
                floating: {
                    shadow: false
                },
                frame: d.frame && !d.alwaysFramed,
                alwaysFramed: d.alwaysFramed,
                overlapHeader: d.overlapHeader,
                headerPosition: d.headerPosition,
                baseCls: d.baseCls,
                cls: d.baseCls + "-ghost " + (a || "")
            });
            d.ghostPanel = b
        } else {
            b.el.show()
        }
        d.ghostPanel.hidden = false;
        b.floatParent = d.floatParent;
        if (d.floating) {
            b.setZIndex(Ext.Number.from(d.el.getStyle("zIndex"), 0))
        } else {
            b.toFront()
        }
        if (!(d.preventHeader || d.header === false)) {
            e = b.header;
            if (e) {
                e.suspendLayouts();
                Ext.Array.forEach(e.query("tool"), e.remove, e);
                e.resumeLayouts()
            }
            b.addTool(d.ghostTools());
            b.setTitle(d.title);
            if (d.iconCls) {
                b.setIconCls(d.iconCls)
            } else {
                if (d.icon) {
                    b.setIcon(d.icon)
                } else {
                    if (d.glyph) {
                        b.setGlyph(d.glyph)
                    }
                }
            }
            b.header.addCls(Ext.baseCSSPrefix + "header-ghost")
        }
        b.setPagePosition(c.x, c.y);
        b.setSize(c.width, c.height);
        d.el.hide();
        return b
    },
    unghost: function(b, a) {
        var c = this;
        if (!c.ghostPanel) {
            return
        }
        if (b !== false) {
            c.el.show();
            if (a !== false) {
                c.setPagePosition(c.ghostPanel.getXY());
                if (c.hideMode == "offsets") {
                    delete c.el.hideModeStyles
                }
            }
            Ext.defer(c.focus, 10, c)
        }
        c.ghostPanel.el.hide();
        c.ghostPanel.hidden = true
    },
    beginDrag: function() {
        if (this.floatingDescendants) {
            this.floatingDescendants.hide()
        }
    },
    endDrag: function() {
        if (this.floatingDescendants) {
            this.floatingDescendants.show()
        }
    },
    initResizable: function() {
        this.callParent(arguments);
        if (this.collapsed) {
            this.resizer.disable()
        }
    },
    convertCollapseDir: function(a) {
        return a.substr(0, 1)
    }
}, function() {
    this.prototype.animCollapse = Ext.enableFx
});
Ext.define("Ext.tip.Tip", {
    extend: Ext.panel.Panel,
    alternateClassName: "Ext.Tip",
    minWidth: 40,
    maxWidth: 300,
    shadow: "sides",
    defaultAlign: "tl-bl?",
    constrainPosition: true,
    autoRender: true,
    hidden: true,
    baseCls: Ext.baseCSSPrefix + "tip",
    floating: {
        shadow: true,
        shim: true
    },
    focusOnToFront: false,
    closeAction: "hide",
    ariaRole: "tooltip",
    alwaysFramed: true,
    frameHeader: false,
    initComponent: function() {
        var a = this;
        a.floating = Ext.apply({}, {
            shadow: a.shadow,
            constrain: a.constrainPosition
        }, a.self.prototype.floating);
        a.callParent(arguments);
        a.constrain = a.constrain || a.constrainPosition
    },
    showAt: function(b) {
        var a = this;
        this.callParent(arguments);
        if (a.isVisible()) {
            a.setPagePosition(b[0], b[1]);
            if (a.constrainPosition || a.constrain) {
                a.doConstrain()
            }
            a.toFront(true)
        }
    },
    showBy: function(a, b) {
        this.showAt(this.getAlignToXY(a, b || this.defaultAlign))
    },
    initDraggable: function() {
        var a = this;
        a.draggable = {
            el: a.getDragEl(),
            delegate: a.header.el,
            constrain: a,
            constrainTo: a.el.dom.parentNode
        };
        Ext.Component.prototype.initDraggable.call(a)
    },
    ghost: undefined,
    unghost: undefined
});
Ext.define("Ext.tip.ToolTip", {
    extend: Ext.tip.Tip,
    alias: "widget.tooltip",
    alternateClassName: "Ext.ToolTip",
    autoHide: true,
    showDelay: 500,
    hideDelay: 200,
    dismissDelay: 5000,
    trackMouse: false,
    anchorToTarget: true,
    anchorOffset: 0,
    targetCounter: 0,
    quickShowInterval: 250,
    initComponent: function() {
        var a = this;
        a.callParent(arguments);
        a.lastActive = new Date();
        a.setTarget(a.target);
        a.origAnchor = a.anchor
    },
    onRender: function(b, a) {
        var c = this;
        c.callParent(arguments);
        c.anchorCls = Ext.baseCSSPrefix + "tip-anchor-" + c.getAnchorPosition();
        c.anchorEl = c.el.createChild({
            cls: Ext.baseCSSPrefix + "tip-anchor " + c.anchorCls
        })
    },
    setTarget: function(d) {
        var b = this, a = Ext.get(d), c;
        if (b.target) {
            c = Ext.get(b.target);
            b.mun(c, "mouseover", b.onTargetOver, b);
            b.mun(c, "mouseout", b.onTargetOut, b);
            b.mun(c, "mousemove", b.onMouseMove, b)
        }
        b.target = a;
        if (a) {
            b.mon(a, {
                freezeEvent: true,
                mouseover: b.onTargetOver,
                mouseout: b.onTargetOut,
                mousemove: b.onMouseMove,
                scope: b
            })
        }
        if (b.anchor) {
            b.anchorTarget = b.target
        }
    },
    onMouseMove: function(d) {
        var b = this, a = b.delegate ? d.getTarget(b.delegate) : b.triggerElement = true, c;
        if (a) {
            b.targetXY = d.getXY();
            if (a === b.triggerElement) {
                if (!b.hidden && b.trackMouse) {
                    c = b.getTargetXY();
                    if (b.constrainPosition) {
                        c = b.el.adjustForConstraints(c, b.el.parent())
                    }
                    b.setPagePosition(c)
                }
            } else {
                b.hide();
                b.lastActive = new Date(0);
                b.onTargetOver(d)
            }
        } else {
            if (!b.closable && b.isVisible() && b.autoHide !== false) {
                b.hide()
            }
        }
    },
    getTargetXY: function() {
        var j = this, d, c, n, a, i, l, e, m, k, b, h, g;
        if (j.delegate) {
            j.anchorTarget = j.triggerElement
        }
        if (j.anchor) {
            j.targetCounter++;
            c = j.getOffsets();
            n = j.anchorToTarget && !j.trackMouse ? j.getAlignToXY(j.anchorTarget, j.getAnchorAlign()) : j.targetXY;
            a = Ext.Element.getViewWidth() - 5;
            i = Ext.Element.getViewHeight() - 5;
            l = document.documentElement;
            e = document.body;
            m = (l.scrollLeft || e.scrollLeft || 0) + 5;
            k = (l.scrollTop || e.scrollTop || 0) + 5;
            b = [n[0] + c[0], n[1] + c[1]];
            h = j.getSize();
            g = j.constrainPosition;
            j.anchorEl.removeCls(j.anchorCls);
            if (j.targetCounter < 2 && g) {
                if (b[0] < m) {
                    if (j.anchorToTarget) {
                        j.defaultAlign = "l-r";
                        if (j.mouseOffset) {
                            j.mouseOffset[0] *= -1
                        }
                    }
                    j.anchor = "left";
                    return j.getTargetXY()
                }
                if (b[0] + h.width > a) {
                    if (j.anchorToTarget) {
                        j.defaultAlign = "r-l";
                        if (j.mouseOffset) {
                            j.mouseOffset[0] *= -1
                        }
                    }
                    j.anchor = "right";
                    return j.getTargetXY()
                }
                if (b[1] < k) {
                    if (j.anchorToTarget) {
                        j.defaultAlign = "t-b";
                        if (j.mouseOffset) {
                            j.mouseOffset[1] *= -1
                        }
                    }
                    j.anchor = "top";
                    return j.getTargetXY()
                }
                if (b[1] + h.height > i) {
                    if (j.anchorToTarget) {
                        j.defaultAlign = "b-t";
                        if (j.mouseOffset) {
                            j.mouseOffset[1] *= -1
                        }
                    }
                    j.anchor = "bottom";
                    return j.getTargetXY()
                }
            }
            j.anchorCls = Ext.baseCSSPrefix + "tip-anchor-" + j.getAnchorPosition();
            j.anchorEl.addCls(j.anchorCls);
            j.targetCounter = 0;
            return b
        } else {
            d = j.getMouseOffset();
            return j.targetXY ? [j.targetXY[0] + d[0], j.targetXY[1] + d[1]] : d
        }
    },
    getMouseOffset: function() {
        var a = this
          , b = a.anchor ? [0, 0] : [15, 18];
        if (a.mouseOffset) {
            b[0] += a.mouseOffset[0];
            b[1] += a.mouseOffset[1]
        }
        return b
    },
    getAnchorPosition: function() {
        var b = this, a;
        if (b.anchor) {
            b.tipAnchor = b.anchor.charAt(0)
        } else {
            a = b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);
            if (!a) {
                Ext.Error.raise('The AnchorTip.defaultAlign value "' + b.defaultAlign + '" is invalid.')
            }
            b.tipAnchor = a[1].charAt(0)
        }
        switch (b.tipAnchor) {
        case "t":
            return "top";
        case "b":
            return "bottom";
        case "r":
            return "right"
        }
        return "left"
    },
    getAnchorAlign: function() {
        switch (this.anchor) {
        case "top":
            return "tl-bl";
        case "left":
            return "tl-tr";
        case "right":
            return "tr-tl";
        default:
            return "bl-tl"
        }
    },
    getOffsets: function() {
        var c = this, d, b, a = c.getAnchorPosition().charAt(0);
        if (c.anchorToTarget && !c.trackMouse) {
            switch (a) {
            case "t":
                b = [0, 9];
                break;
            case "b":
                b = [0, -13];
                break;
            case "r":
                b = [-13, 0];
                break;
            default:
                b = [9, 0];
                break
            }
        } else {
            switch (a) {
            case "t":
                b = [-15 - c.anchorOffset, 30];
                break;
            case "b":
                b = [-19 - c.anchorOffset, -13 - c.el.dom.offsetHeight];
                break;
            case "r":
                b = [-15 - c.el.dom.offsetWidth, -13 - c.anchorOffset];
                break;
            default:
                b = [25, -13 - c.anchorOffset];
                break
            }
        }
        d = c.getMouseOffset();
        b[0] += d[0];
        b[1] += d[1];
        return b
    },
    onTargetOver: function(c) {
        var b = this, a;
        if (b.disabled || c.within(b.target.dom, true)) {
            return
        }
        a = c.getTarget(b.delegate);
        if (a) {
            b.triggerElement = a;
            b.triggerEvent = c;
            b.clearTimer("hide");
            b.targetXY = c.getXY();
            b.delayShow()
        }
    },
    delayShow: function() {
        var a = this;
        if (a.hidden && !a.showTimer) {
            if (Ext.Date.getElapsed(a.lastActive) < a.quickShowInterval) {
                a.show()
            } else {
                a.showTimer = Ext.defer(a.showFromDelay, a.showDelay, a)
            }
        } else {
            if (!a.hidden && a.autoHide !== false) {
                a.show()
            }
        }
    },
    showFromDelay: function() {
        this.fromDelayShow = true;
        this.show();
        delete this.fromDelayShow
    },
    onShowVeto: function() {
        this.callParent();
        delete this.triggerElement;
        this.clearTimer("show")
    },
    onTargetOut: function(b) {
        var a = this;
        if (a.disabled || b.within(a.target.dom, true)) {
            return
        }
        a.clearTimer("show");
        if (a.autoHide !== false) {
            a.delayHide()
        }
    },
    delayHide: function() {
        var a = this;
        if (!a.hidden && !a.hideTimer) {
            a.hideTimer = Ext.defer(a.hide, a.hideDelay, a)
        }
    },
    hide: function() {
        var a = this;
        a.clearTimer("dismiss");
        a.lastActive = new Date();
        if (a.anchorEl) {
            a.anchorEl.hide()
        }
        a.callParent(arguments);
        delete a.triggerElement
    },
    show: function() {
        var a = this;
        this.callParent();
        if (this.hidden === false) {
            a.setPagePosition(-10000, -10000);
            if (a.anchor) {
                a.anchor = a.origAnchor
            }
            if (!a.calledFromShowAt) {
                a.showAt(a.getTargetXY())
            }
            if (a.anchor) {
                a.syncAnchor();
                a.anchorEl.show()
            } else {
                a.anchorEl.hide()
            }
        }
    },
    showAt: function(b) {
        var a = this;
        a.lastActive = new Date();
        a.clearTimers();
        a.calledFromShowAt = true;
        if (!a.isVisible()) {
            this.callParent(arguments)
        }
        if (a.isVisible()) {
            a.setPagePosition(b[0], b[1]);
            if (a.constrainPosition || a.constrain) {
                a.doConstrain()
            }
            a.toFront(true);
            a.el.sync(true);
            if (a.dismissDelay && a.autoHide !== false) {
                a.dismissTimer = Ext.defer(a.hide, a.dismissDelay, a)
            }
            if (a.anchor) {
                a.syncAnchor();
                if (!a.anchorEl.isVisible()) {
                    a.anchorEl.show()
                }
            } else {
                a.anchorEl.hide()
            }
        }
        delete a.calledFromShowAt
    },
    syncAnchor: function() {
        var c = this, a, b, d;
        switch (c.tipAnchor.charAt(0)) {
        case "t":
            a = "b";
            b = "tl";
            d = [20 + c.anchorOffset, 1];
            break;
        case "r":
            a = "l";
            b = "tr";
            d = [-1, 12 + c.anchorOffset];
            break;
        case "b":
            a = "t";
            b = "bl";
            d = [20 + c.anchorOffset, -1];
            break;
        default:
            a = "r";
            b = "tl";
            d = [1, 12 + c.anchorOffset];
            break
        }
        c.anchorEl.alignTo(c.el, a + "-" + b, d);
        c.anchorEl.setStyle("z-index", parseInt(c.el.getZIndex(), 10) || 0 + 1).setVisibilityMode(Ext.Element.DISPLAY)
    },
    setPagePosition: function(a, c) {
        var b = this;
        b.callParent(arguments);
        if (b.anchor) {
            b.syncAnchor()
        }
    },
    clearTimer: function(a) {
        a = a + "Timer";
        clearTimeout(this[a]);
        delete this[a]
    },
    clearTimers: function() {
        var a = this;
        a.clearTimer("show");
        a.clearTimer("dismiss");
        a.clearTimer("hide")
    },
    onShow: function() {
        var a = this;
        a.callParent();
        a.mon(Ext.getDoc(), "mousedown", a.onDocMouseDown, a)
    },
    onHide: function() {
        var a = this;
        a.callParent();
        a.mun(Ext.getDoc(), "mousedown", a.onDocMouseDown, a)
    },
    onDocMouseDown: function(b) {
        var a = this;
        if (!a.closable && !b.within(a.el.dom)) {
            a.disable();
            Ext.defer(a.doEnable, 100, a)
        }
    },
    doEnable: function() {
        if (!this.isDestroyed) {
            this.enable()
        }
    },
    onDisable: function() {
        this.callParent();
        this.clearTimers();
        this.hide()
    },
    beforeDestroy: function() {
        var a = this;
        a.clearTimers();
        Ext.destroy(a.anchorEl);
        delete a.anchorEl;
        delete a.target;
        delete a.anchorTarget;
        delete a.triggerElement;
        a.callParent()
    },
    onDestroy: function() {
        Ext.getDoc().un("mousedown", this.onDocMouseDown, this);
        this.callParent()
    }
});
Ext.define("Ext.tip.QuickTip", {
    extend: Ext.tip.ToolTip,
    alias: "widget.quicktip",
    alternateClassName: "Ext.QuickTip",
    interceptTitles: false,
    title: "&#160;",
    tagConfig: {
        namespace: "data-",
        attribute: "qtip",
        width: "qwidth",
        target: "target",
        title: "qtitle",
        hide: "hide",
        cls: "qclass",
        align: "qalign",
        anchor: "anchor",
        showDelay: "qshowDelay"
    },
    initComponent: function() {
        var a = this;
        a.target = a.target || Ext.getDoc();
        a.targets = a.targets || {};
        a.callParent()
    },
    register: function(c) {
        var h = Ext.isArray(c) ? c : arguments, d = 0, a = h.length, g, b, e;
        for (; d < a; d++) {
            c = h[d];
            g = c.target;
            if (g) {
                if (Ext.isArray(g)) {
                    for (b = 0,
                    e = g.length; b < e; b++) {
                        this.targets[Ext.id(g[b])] = c
                    }
                } else {
                    this.targets[Ext.id(g)] = c
                }
            }
        }
    },
    unregister: function(a) {
        delete this.targets[Ext.id(a)]
    },
    cancelShow: function(a) {
        var b = this
          , c = b.activeTarget;
        a = Ext.get(a).dom;
        if (b.isVisible()) {
            if (c && c.el == a) {
                b.hide()
            }
        } else {
            if (c && c.el == a) {
                b.clearTimer("show")
            }
        }
    },
    getTipCfg: function(d) {
        var c = d.getTarget(), b = c.title, a;
        if (this.interceptTitles && b && Ext.isString(b)) {
            c.qtip = b;
            c.removeAttribute("title");
            d.preventDefault();
            return {
                text: b
            }
        } else {
            a = this.tagConfig;
            c = d.getTarget("[" + a.namespace + a.attribute + "]");
            if (c) {
                return {
                    target: c,
                    text: c.getAttribute(a.namespace + a.attribute)
                }
            }
        }
    },
    onTargetOver: function(i) {
        var k = this, j = i.getTarget(k.delegate), a, d, b, h, l, c, n, g, p, m, o;
        if (k.disabled) {
            return
        }
        k.targetXY = i.getXY();
        if (!j || j.nodeType !== 1 || j == document.documentElement || j == document.body) {
            return
        }
        if (k.activeTarget && (j == k.activeTarget.el || Ext.fly(k.activeTarget.el).contains(j))) {
            if (k.targetTextEmpty()) {
                k.onShowVeto();
                delete k.activeTarget
            } else {
                k.clearTimer("hide");
                k.show()
            }
            return
        }
        if (j) {
            g = k.targets;
            for (o in g) {
                if (g.hasOwnProperty(o)) {
                    m = g[o];
                    p = Ext.fly(m.target);
                    if (p && (p.dom === j || p.contains(j))) {
                        b = p.dom;
                        break
                    }
                }
            }
            if (b) {
                k.activeTarget = k.targets[b.id];
                k.activeTarget.el = j;
                k.anchor = k.activeTarget.anchor;
                if (k.anchor) {
                    k.anchorTarget = j
                }
                a = parseInt(k.activeTarget.showDelay, 10);
                if (a) {
                    d = k.showDelay;
                    k.showDelay = a
                }
                k.delayShow();
                if (a) {
                    k.showDelay = d
                }
                return
            }
        }
        b = Ext.fly(j, "_quicktip-target");
        h = k.tagConfig;
        l = h.namespace;
        c = k.getTipCfg(i);
        if (c) {
            if (c.target) {
                j = c.target;
                b = Ext.fly(j, "_quicktip-target")
            }
            n = b.getAttribute(l + h.hide);
            k.activeTarget = {
                el: j,
                text: c.text,
                width: +b.getAttribute(l + h.width) || null,
                autoHide: n != "user" && n !== "false",
                title: b.getAttribute(l + h.title),
                cls: b.getAttribute(l + h.cls),
                align: b.getAttribute(l + h.align),
                showDelay: parseInt(b.getAttribute(l + h.showDelay), 10)
            };
            k.anchor = b.getAttribute(l + h.anchor);
            if (k.anchor) {
                k.anchorTarget = j
            }
            a = parseInt(k.activeTarget.showDelay, 10);
            if (a) {
                d = k.showDelay;
                k.showDelay = a
            }
            k.delayShow();
            if (a) {
                k.showDelay = d
            }
        }
    },
    onTargetOut: function(g) {
        var c = this, d = c.activeTarget, a, b;
        if (d && g.within(c.activeTarget.el) && !c.getTipCfg(g)) {
            return
        }
        c.clearTimer("show");
        delete c.activeTarget;
        if (c.autoHide !== false) {
            a = d && parseInt(d.hideDelay, 10);
            if (a) {
                b = c.hideDelay;
                c.hideDelay = a
            }
            c.delayHide();
            if (a) {
                c.hideDelay = b
            }
        }
    },
    targetTextEmpty: function() {
        var c = this, d = c.activeTarget, a = c.tagConfig, b, e;
        if (d) {
            b = d.el;
            if (b) {
                e = b.getAttribute(a.namespace + a.attribute);
                if (!e && !c.targets[d.target]) {
                    return true
                }
            }
        }
        return false
    },
    show: function() {
        var b = this
          , a = b.fromDelayShow;
        if (a && b.targetTextEmpty()) {
            b.onShowVeto();
            delete b.activeTarget;
            return
        }
        b.callParent(arguments)
    },
    showAt: function(d) {
        var b = this, c = b.activeTarget, e = b.header, a;
        if (c) {
            if (!b.rendered) {
                b.render(Ext.getBody());
                b.activeTarget = c
            }
            b.suspendLayouts();
            if (c.title) {
                b.setTitle(c.title);
                e.show()
            } else {
                if (e) {
                    e.hide()
                }
            }
            b.update(c.text);
            b.autoHide = c.autoHide;
            b.dismissDelay = c.dismissDelay || b.dismissDelay;
            if (c.mouseOffset) {
                d[0] += c.mouseOffset[0];
                d[1] += c.mouseOffset[1]
            }
            a = b.lastCls;
            if (a) {
                b.removeCls(a);
                delete b.lastCls
            }
            a = c.cls;
            if (a) {
                b.addCls(a);
                b.lastCls = a
            }
            b.setWidth(c.width);
            if (b.anchor) {
                b.constrainPosition = false
            } else {
                if (c.align) {
                    d = b.getAlignToXY(c.el, c.align);
                    b.constrainPosition = false
                } else {
                    b.constrainPosition = true
                }
            }
            b.resumeLayouts(true)
        }
        b.callParent([d])
    },
    hide: function() {
        delete this.activeTarget;
        this.callParent()
    }
});
Ext.define("Ext.tip.QuickTipManager", function() {
    var b, a = false;
    return {
        singleton: true,
        alternateClassName: "Ext.QuickTips",
        init: function(g, d) {
            if (!b) {
                if (!Ext.isReady) {
                    Ext.onReady(function() {
                        Ext.tip.QuickTipManager.init(g, d)
                    });
                    return
                }
                var c = Ext.apply({
                    disabled: a,
                    id: "ext-quicktips-tip"
                }, d)
                  , e = c.className
                  , h = c.xtype;
                if (e) {
                    delete c.className
                } else {
                    if (h) {
                        e = "widget." + h;
                        delete c.xtype
                    }
                }
                if (g !== false) {
                    c.renderTo = document.body;
                    if (c.renderTo.tagName.toUpperCase() != "BODY") {
                        Ext.Error.raise({
                            sourceClass: "Ext.tip.QuickTipManager",
                            sourceMethod: "init",
                            msg: "Cannot init QuickTipManager: no document body"
                        })
                    }
                }
                b = Ext.create(e || "Ext.tip.QuickTip", c);
                Ext.quickTipsActive = true
            }
        },
        destroy: function() {
            if (b) {
                var c;
                b.destroy();
                b = c
            }
        },
        ddDisable: function() {
            if (b && !a) {
                b.disable()
            }
        },
        ddEnable: function() {
            if (b && !a) {
                b.enable()
            }
        },
        enable: function() {
            if (b) {
                b.enable()
            }
            a = false
        },
        disable: function() {
            if (b) {
                b.disable()
            }
            a = true
        },
        isEnabled: function() {
            return b !== undefined && !b.disabled
        },
        getQuickTip: function() {
            return b
        },
        register: function() {
            b.register.apply(b, arguments)
        },
        unregister: function() {
            b.unregister.apply(b, arguments)
        },
        tips: function() {
            b.register.apply(b, arguments)
        }
    }
}());
Ext.define("Ext.layout.container.Table", {
    alias: ["layout.table"],
    extend: Ext.layout.container.Container,
    alternateClassName: "Ext.layout.TableLayout",
    monitorResize: false,
    type: "table",
    createsInnerCt: true,
    targetCls: Ext.baseCSSPrefix + "table-layout-ct",
    tableCls: Ext.baseCSSPrefix + "table-layout",
    cellCls: Ext.baseCSSPrefix + "table-layout-cell",
    tableAttrs: null,
    getItemSizePolicy: function(a) {
        return this.autoSizePolicy
    },
    initHierarchyState: function(a) {
        a.inShrinkWrapTable = true
    },
    getLayoutItems: function() {
        var g = this, b = [], c = g.callParent(), e, a = c.length, d;
        for (d = 0; d < a; d++) {
            e = c[d];
            if (!e.hidden) {
                b.push(e)
            }
        }
        return b
    },
    getHiddenItems: function() {
        var b = [], c = this.owner.items.items, a = c.length, d = 0, e;
        for (; d < a; ++d) {
            e = c[d];
            if (e.rendered && e.hidden) {
                b.push(e)
            }
        }
        return b
    },
    renderChildren: function() {
        var l = this, k = l.getLayoutItems(), h = l.owner.getTargetEl().child("table", true).tBodies[0], s = h.rows, g = 0, j = k.length, e = l.getHiddenItems(), q, o, c, a, p, n, m, b, d;
        q = l.calculateCells(k);
        for (; g < j; g++) {
            o = q[g];
            c = o.rowIdx;
            a = o.cellIdx;
            p = k[g];
            n = s[c];
            if (!n) {
                n = h.insertRow(c);
                if (l.trAttrs) {
                    n.set(l.trAttrs)
                }
            }
            b = m = Ext.get(n.cells[a] || n.insertCell(a));
            if (l.needsDivWrap()) {
                b = m.first() || m.createChild({
                    tag: "div"
                });
                b.setWidth(null)
            }
            if (!p.rendered) {
                l.renderItem(p, b, 0)
            } else {
                if (!l.isValidParent(p, b, c, a, h)) {
                    l.moveItem(p, b, 0)
                }
            }
            if (l.tdAttrs) {
                m.set(l.tdAttrs)
            }
            if (p.tdAttrs) {
                m.set(p.tdAttrs)
            }
            m.set({
                colSpan: p.colspan || 1,
                rowSpan: p.rowspan || 1,
                id: p.cellId || "",
                cls: l.cellCls + " " + (p.cellCls || "")
            });
            if (!q[g + 1] || q[g + 1].rowIdx !== c) {
                a++;
                while (n.cells[a]) {
                    n.deleteCell(a)
                }
            }
        }
        c++;
        while (h.rows[c]) {
            h.deleteRow(c)
        }
        for (g = 0,
        j = e.length; g < j; ++g) {
            l.ensureInDocument(e[g].getEl())
        }
    },
    ensureInDocument: function(a) {
        var b = a.dom.parentNode;
        while (b) {
            if (b.tagName.toUpperCase() == "BODY") {
                return
            }
            b = b.parentNode
        }
        Ext.getDetachedBody().appendChild(a)
    },
    calculate: function(g) {
        if (!g.hasDomProp("containerChildrenSizeDone")) {
            this.done = false
        } else {
            var c = g.targetContext
              , b = g.widthModel.shrinkWrap
              , a = g.heightModel.shrinkWrap
              , h = a || b
              , d = h && c.el.child("table", true)
              , e = h && c.getPaddingInfo();
            if (b) {
                g.setContentWidth(d.offsetWidth + e.width, true)
            }
            if (a) {
                g.setContentHeight(d.offsetHeight + e.height, true)
            }
        }
    },
    finalizeLayout: function() {
        if (this.needsDivWrap()) {
            var b = this.getLayoutItems(), c, a = b.length, d;
            for (c = 0; c < a; c++) {
                d = b[c];
                Ext.fly(d.el.dom.parentNode).setWidth(d.getWidth())
            }
        }
        if (Ext.isIE6 || Ext.isIEQuirks) {
            this.owner.getTargetEl().child("table").repaint()
        }
    },
    calculateCells: function(k) {
        var m = [], b = 0, d = 0, a = 0, h = this.columns || Infinity, n = [], e = 0, c, g = k.length, l;
        for (; e < g; e++) {
            l = k[e];
            while (d >= h || n[d] > 0) {
                if (d >= h) {
                    d = 0;
                    a = 0;
                    b++;
                    for (c = 0; c < h; c++) {
                        if (n[c] > 0) {
                            n[c]--
                        }
                    }
                } else {
                    d++
                }
            }
            m.push({
                rowIdx: b,
                cellIdx: a
            });
            for (c = l.colspan || 1; c; --c) {
                n[d] = l.rowspan || 1;
                ++d
            }
            ++a
        }
        return m
    },
    getRenderTree: function() {
        var k = this, h = k.getLayoutItems(), o, p = [], q = Ext.apply({
            tag: "table",
            role: "presentation",
            cls: k.tableCls,
            cellspacing: 0,
            cellpadding: 0,
            cn: {
                tag: "tbody",
                cn: p
            }
        }, k.tableAttrs), c = k.tdAttrs, d = k.needsDivWrap(), e, g = h.length, n, m, j, b, a, l;
        o = k.calculateCells(h);
        for (e = 0; e < g; e++) {
            n = h[e];
            m = o[e];
            b = m.rowIdx;
            a = m.cellIdx;
            j = p[b];
            if (!j) {
                j = p[b] = {
                    tag: "tr",
                    cn: []
                };
                if (k.trAttrs) {
                    Ext.apply(j, k.trAttrs)
                }
            }
            l = j.cn[a] = {
                tag: "td"
            };
            if (c) {
                Ext.apply(l, c)
            }
            Ext.apply(l, {
                colSpan: n.colspan || 1,
                rowSpan: n.rowspan || 1,
                id: n.cellId || "",
                cls: k.cellCls + " " + (n.cellCls || "")
            });
            if (d) {
                l = l.cn = {
                    tag: "div"
                }
            }
            k.configureItem(n);
            l.cn = n.getRenderTree()
        }
        return q
    },
    isValidParent: function(g, h, e, d) {
        var b, a, c;
        if (arguments.length === 3) {
            c = g.el.up("table");
            return c && c.dom.parentNode === h.dom
        }
        b = this.owner.getTargetEl().child("table", true).tBodies[0];
        a = b.rows[e].cells[d];
        return g.el.dom.parentNode === a
    },
    needsDivWrap: function() {
        return Ext.isOpera10_5
    }
});
Ext.define("Ext.data.IdGenerator", {
    isGenerator: true,
    constructor: function(a) {
        var b = this;
        Ext.apply(b, a);
        if (b.id) {
            Ext.data.IdGenerator.all[b.id] = b
        }
    },
    getRecId: function(a) {
        return a.modelName + "-" + a.internalId
    },
    statics: {
        all: {},
        get: function(a) {
            var c, d, b;
            if (typeof a == "string") {
                d = b = a;
                a = null
            } else {
                if (a.isGenerator) {
                    return a
                } else {
                    d = a.id || a.type;
                    b = a.type
                }
            }
            c = this.all[d];
            if (!c) {
                c = Ext.create("idgen." + b, a)
            }
            return c
        }
    }
});
Ext.define("Ext.data.SortTypes", {
    singleton: true,
    none: Ext.identityFn,
    stripTagsRE: /<\/?[^>]+>/gi,
    asText: function(a) {
        return String(a).replace(this.stripTagsRE, "")
    },
    asUCText: function(a) {
        return String(a).toUpperCase().replace(this.stripTagsRE, "")
    },
    asUCString: function(a) {
        return String(a).toUpperCase()
    },
    asDate: function(a) {
        if (!a) {
            return 0
        }
        if (Ext.isDate(a)) {
            return a.getTime()
        }
        return Date.parse(String(a))
    },
    asFloat: function(a) {
        var b = parseFloat(String(a).replace(/,/g, ""));
        return isNaN(b) ? 0 : b
    },
    asInt: function(a) {
        var b = parseInt(String(a).replace(/,/g, ""), 10);
        return isNaN(b) ? 0 : b
    }
});
Ext.define("Ext.data.Types", {
    singleton: true
}, function() {
    var a = Ext.data.SortTypes;
    Ext.apply(Ext.data.Types, {
        stripRe: /[\$,%]/g,
        AUTO: {
            sortType: a.none,
            type: "auto"
        },
        STRING: {
            convert: function(c) {
                var b = this.useNull ? null : "";
                return c === undefined || c === null ? b : String(c)
            },
            sortType: a.asUCString,
            type: "string"
        },
        INT: {
            convert: function(b) {
                if (typeof b == "number") {
                    return parseInt(b)
                }
                return b !== undefined && b !== null && b !== "" ? parseInt(String(b).replace(Ext.data.Types.stripRe, ""), 10) : this.useNull ? null : 0
            },
            sortType: a.none,
            type: "int"
        },
        FLOAT: {
            convert: function(b) {
                if (typeof b === "number") {
                    return b
                }
                return b !== undefined && b !== null && b !== "" ? parseFloat(String(b).replace(Ext.data.Types.stripRe, ""), 10) : this.useNull ? null : 0
            },
            sortType: a.none,
            type: "float"
        },
        BOOL: {
            convert: function(b) {
                if (typeof b === "boolean") {
                    return b
                }
                if (this.useNull && (b === undefined || b === null || b === "")) {
                    return null
                }
                return b === true || b === "true" || b == 1
            },
            sortType: a.none,
            type: "bool"
        },
        DATE: {
            convert: function(c) {
                var d = this.dateReadFormat || this.dateFormat, b;
                if (!c) {
                    return null
                }
                if (c instanceof Date) {
                    return c
                }
                if (d) {
                    return Ext.Date.parse(c, d)
                }
                b = Date.parse(c);
                return b ? new Date(b) : null
            },
            sortType: a.asDate,
            type: "date"
        }
    });
    Ext.apply(Ext.data.Types, {
        BOOLEAN: this.BOOL,
        INTEGER: this.INT,
        NUMBER: this.FLOAT
    })
});
Ext.define("Ext.data.Field", {
    alias: "data.field",
    isField: true,
    constructor: function(b) {
        var d = this, c = Ext.data.Types, a;
        if (Ext.isString(b)) {
            b = {
                name: b
            }
        }
        Ext.apply(d, b);
        a = d.sortType;
        if (d.type) {
            if (Ext.isString(d.type)) {
                d.type = c[d.type.toUpperCase()] || c.AUTO
            }
        } else {
            d.type = c.AUTO
        }
        if (Ext.isString(a)) {
            d.sortType = Ext.data.SortTypes[a]
        } else {
            if (Ext.isEmpty(a)) {
                d.sortType = d.type.sortType
            }
        }
        if (!b.hasOwnProperty("convert")) {
            d.convert = d.type.convert
        } else {
            if (!d.convert && d.type.convert && !b.hasOwnProperty("defaultValue")) {
                d.defaultValue = d.type.convert(d.defaultValue)
            }
        }
        if (b.convert) {
            d.hasCustomConvert = true
        }
    },
    dateFormat: null,
    dateReadFormat: null,
    dateWriteFormat: null,
    useNull: false,
    defaultValue: "",
    mapping: null,
    sortType: null,
    sortDir: "ASC",
    allowBlank: true,
    persist: true
});
Ext.define("Ext.data.Errors", {
    extend: Ext.util.MixedCollection,
    isValid: function() {
        return this.length === 0
    },
    getByField: function(d) {
        var c = [], a, b;
        for (b = 0; b < this.length; b++) {
            a = this.items[b];
            if (a.field == d) {
                c.push(a)
            }
        }
        return c
    }
});
Ext.define("Ext.data.validations", {
    singleton: true,
    presenceMessage: "must be present",
    lengthMessage: "is the wrong length",
    formatMessage: "is the wrong format",
    inclusionMessage: "is not included in the list of acceptable values",
    exclusionMessage: "is not an acceptable value",
    emailMessage: "is not a valid email address",
    emailRe: /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,
    presence: function(a, b) {
        if (arguments.length === 1) {
            b = a
        }
        return !!b || b === 0 || b === false
    },
    length: function(b, e) {
        if (e === undefined || e === null) {
            return false
        }
        var d = e.length
          , c = b.min
          , a = b.max;
        if (c && d < c || a && d > a) {
            return false
        } else {
            return true
        }
    },
    email: function(b, a) {
        return Ext.data.validations.emailRe.test(a)
    },
    format: function(a, b) {
        return !!(a.matcher && a.matcher.test(b))
    },
    inclusion: function(a, b) {
        return a.list && Ext.Array.indexOf(a.list, b) != -1
    },
    exclusion: function(a, b) {
        return a.list && Ext.Array.indexOf(a.list, b) == -1
    }
});
Ext.define("Ext.data.Model", {
    alternateClassName: "Ext.data.Record",
    mixins: {
        observable: Ext.util.Observable
    },
    compareConvertFields: function(a, d) {
        var c = a.convert && a.type && a.convert !== a.type.convert
          , b = d.convert && d.type && d.convert !== d.type.convert;
        if (c && !b) {
            return 1
        }
        if (!c && b) {
            return -1
        }
        return 0
    },
    itemNameFn: function(a) {
        return a.name
    },
    onClassExtended: function(b, c, a) {
        var d = a.onBeforeCreated;
        a.onBeforeCreated = function(g, G) {
            var F = this, H = Ext.getClassName(g), u = g.prototype, A = g.prototype.superclass, j = G.validations || [], w = G.fields || [], h, o = G.associations || [], e = function(J, L) {
                var K = 0, I, M;
                if (J) {
                    J = Ext.Array.from(J);
                    for (I = J.length; K < I; ++K) {
                        M = J[K];
                        if (!Ext.isObject(M)) {
                            M = {
                                model: M
                            }
                        }
                        M.type = L;
                        o.push(M)
                    }
                }
            }, x = G.idgen, D = new Ext.util.MixedCollection(false,u.itemNameFn), B = new Ext.util.MixedCollection(false,u.itemNameFn), t = A.validations, E = A.fields, m = A.associations, C, z, q, s = [], p = "idProperty"in G ? G.idProperty : u.idProperty, n = p ? p.isField ? p : new Ext.data.Field(p) : null, k = false, y = function(J, I, i) {
                var K, L;
                if (D.events.add.firing) {
                    L = J;
                    K = I
                } else {
                    K = i;
                    L = I.originalIndex
                }
                K.originalIndex = L;
                if (n && (K.mapping && K.mapping === n.mapping || K.name === n.name)) {
                    u.idField = K;
                    k = true;
                    K.defaultValue = undefined
                }
            }, v = G.proxy, l = function() {
                D.sortBy(u.compareConvertFields)
            };
            g.modelName = H;
            u.modelName = H;
            if (t) {
                j = t.concat(j)
            }
            G.validations = j;
            if (E) {
                w = E.items.concat(w)
            }
            D.on({
                add: y,
                replace: y
            });
            for (z = 0,
            q = w.length; z < q; ++z) {
                h = w[z];
                D.add(h.isField ? h : new Ext.data.Field(h))
            }
            if (n && !k) {
                u.idField = n;
                n.defaultValue = undefined;
                D.add(n)
            }
            l();
            D.on({
                add: l,
                replace: l
            });
            G.fields = D;
            if (x) {
                G.idgen = Ext.data.IdGenerator.get(x)
            }
            e(G.belongsTo, "belongsTo");
            delete G.belongsTo;
            e(G.hasMany, "hasMany");
            delete G.hasMany;
            e(G.hasOne, "hasOne");
            delete G.hasOne;
            if (m) {
                o = m.items.concat(o)
            }
            for (z = 0,
            q = o.length; z < q; ++z) {
                s.push("association." + o[z].type.toLowerCase())
            }
            if (v) {
                if (!v.isProxy) {
                    s.push("proxy." + (v.type || v))
                }
            } else {
                if (!g.prototype.proxy) {
                    g.prototype.proxy = g.prototype.defaultProxyType;
                    s.push("proxy." + g.prototype.defaultProxyType)
                }
            }
            Ext.require(s, function() {
                Ext.ModelManager.registerType(H, g);
                for (z = 0,
                q = o.length; z < q; ++z) {
                    C = o[z];
                    if (C.isAssociation) {
                        C = Ext.applyIf({
                            ownerModel: H,
                            associatedModel: C.model
                        }, C.initialConfig)
                    } else {
                        Ext.apply(C, {
                            ownerModel: H,
                            associatedModel: C.model
                        })
                    }
                    if (Ext.ModelManager.getModel(C.model) === undefined) {
                        Ext.ModelManager.registerDeferredAssociation(C)
                    } else {
                        B.add(Ext.data.association.Association.create(C))
                    }
                }
                G.associations = B;
                d.call(F, g, G, a);
                if (v && v.isProxy) {
                    g.setProxy(v)
                }
                Ext.ModelManager.onModelDefined(g)
            })
        }
    },
    inheritableStatics: {
        setProxy: function(a) {
            if (!a.isProxy) {
                if (typeof a == "string") {
                    a = {
                        type: a
                    }
                }
                a = Ext.createByAlias("proxy." + a.type, a)
            }
            a.setModel(this);
            this.proxy = this.prototype.proxy = a;
            return a
        },
        getProxy: function() {
            var a = this.proxy;
            if (!a) {
                a = this.prototype.proxy;
                if (a.isProxy) {
                    a = a.clone()
                }
                return this.setProxy(a)
            }
            return a
        },
        setFields: function(g, n, m) {
            var k = this, a, b, l = false, e = k.prototype, c = e.fields, j = e.superclass.fields, h, d;
            if (n) {
                e.idProperty = n;
                b = n.isField ? n : new Ext.data.Field(n)
            }
            if (m) {
                e.clientIdProperty = m
            }
            if (c) {
                c.clear()
            } else {
                c = k.prototype.fields = new Ext.util.MixedCollection(false,function(i) {
                    return i.name
                }
                )
            }
            if (j) {
                g = j.items.concat(g)
            }
            for (d = 0,
            h = g.length; d < h; d++) {
                a = new Ext.data.Field(g[d]);
                if (b && (a.mapping && a.mapping === b.mapping || a.name === b.name)) {
                    l = true;
                    a.defaultValue = undefined
                }
                c.add(a)
            }
            if (b && !l) {
                b.defaultValue = undefined;
                c.add(b)
            }
            k.fields = c;
            return c
        },
        getFields: function() {
            return this.prototype.fields.items
        },
        load: function(g, c) {
            c = Ext.apply({}, c);
            c = Ext.applyIf(c, {
                action: "read",
                id: g
            });
            var b = new Ext.data.Operation(c), d = c.scope || this, a = null, e;
            e = function(h) {
                if (h.wasSuccessful()) {
                    a = h.getRecords()[0];
                    if (!a.hasId()) {
                        a.setId(g)
                    }
                    Ext.callback(c.success, d, [a, h])
                } else {
                    Ext.callback(c.failure, d, [a, h])
                }
                Ext.callback(c.callback, d, [a, h])
            }
            ;
            this.getProxy().read(b, e, this)
        }
    },
    statics: {
        PREFIX: "ext-record",
        AUTO_ID: 1,
        EDIT: "edit",
        REJECT: "reject",
        COMMIT: "commit",
        id: function(a) {
            var b = [this.PREFIX, "-", this.AUTO_ID++].join("");
            a.phantom = true;
            a.internalId = b;
            return b
        }
    },
    idgen: {
        isGenerator: true,
        type: "default",
        generate: function() {
            return null
        },
        getRecId: function(a) {
            return a.modelName + "-" + a.internalId
        }
    },
    editing: false,
    dirty: false,
    persistenceProperty: "data",
    evented: false,
    isModel: true,
    phantom: false,
    idProperty: "id",
    clientIdProperty: null,
    defaultProxyType: "ajax",
    emptyData: [],
    constructor: function(l, e, q, b) {
        var n = this, k = e || e === 0, s, m, g, o, a, p, h, d, t = n.idProperty, c = n.idField, j;
        n.raw = q || l;
        n.modified = {};
        if (n.persistenceProperty !== "data") {
            Ext.log.warn(this.$className, "The persistenceProperty will be deprecated, all data will be stored in the underlying data property.")
        }
        d = n[n.persistenceProperty] = b || {};
        n.data = n[n.persistenceProperty];
        n.mixins.observable.constructor.call(n);
        if (!b) {
            if (l) {
                if (!k && t) {
                    e = l[t];
                    s = e || e === 0
                }
            } else {
                l = n.emptyData
            }
            m = n.fields.items;
            g = m.length;
            j = 0;
            if (Ext.isArray(l)) {
                for (; j < g; j++) {
                    o = m[j];
                    a = o.name;
                    p = l[o.originalIndex];
                    if (p === undefined) {
                        p = o.defaultValue
                    }
                    if (o.convert) {
                        p = o.convert(p, n)
                    }
                    if (p !== undefined) {
                        d[a] = p
                    }
                }
            } else {
                for (; j < g; j++) {
                    o = m[j];
                    a = o.name;
                    p = l[a];
                    if (p === undefined) {
                        p = o.defaultValue
                    }
                    if (o.convert) {
                        p = o.convert(p, n)
                    }
                    if (p !== undefined) {
                        d[a] = p
                    }
                }
            }
        }
        n.stores = [];
        if (k) {
            s = true;
            d[t] = c && c.convert ? c.convert(e) : e
        } else {
            if (!s) {
                h = n.idgen.generate();
                if (h != null) {
                    n.preventInternalUpdate = true;
                    n.setId(h);
                    delete n.preventInternalUpdate
                }
            }
        }
        n.internalId = s ? e : Ext.data.Model.id(n);
        if (typeof n.init == "function") {
            n.init()
        }
        n.id = n.idgen.getRecId(n)
    },
    get: function(a) {
        return this[this.persistenceProperty][a]
    },
    _singleProp: {},
    set: function(s, b) {
        var j = this, h = j[j.persistenceProperty], i = j.fields, q = j.modified, o = typeof s == "string", p, k, g, n, e, a, c, d, l, m;
        if (o) {
            m = j._singleProp;
            m[s] = b
        } else {
            m = s
        }
        for (a in m) {
            if (m.hasOwnProperty(a)) {
                l = m[a];
                if (i && (k = i.get(a)) && k.convert) {
                    l = k.convert(l, j)
                }
                p = h[a];
                if (j.isEqual(p, l)) {
                    continue
                }
                h[a] = l;
                (e || (e = [])).push(a);
                if (k && k.persist) {
                    if (q.hasOwnProperty(a)) {
                        if (j.isEqual(q[a], l)) {
                            delete q[a];
                            j.dirty = false;
                            for (n in q) {
                                if (q.hasOwnProperty(n)) {
                                    j.dirty = true;
                                    break
                                }
                            }
                        }
                    } else {
                        j.dirty = true;
                        q[a] = p
                    }
                }
                if (a == j.idProperty) {
                    g = true;
                    c = p;
                    d = l
                }
            }
        }
        if (o) {
            delete m[s]
        }
        if (g) {
            j.changeId(c, d)
        }
        if (!j.editing && e) {
            j.afterEdit(e)
        }
        return e || null
    },
    copyFrom: function(j) {
        var h = this, e = h.fields.items, m = e.length, b = [], k, c = 0, g, d, n = h.idProperty, a, l;
        if (j) {
            g = h[h.persistenceProperty];
            d = j[j.persistenceProperty];
            for (; c < m; c++) {
                k = e[c];
                a = k.name;
                if (a != n) {
                    l = d[a];
                    if (l !== undefined && !h.isEqual(g[a], l)) {
                        g[a] = l;
                        b.push(a)
                    }
                }
            }
            if (h.phantom && !j.phantom) {
                h.beginEdit();
                h.setId(j.getId());
                h.endEdit(true);
                h.commit(true)
            }
        }
        return b
    },
    isEqual: function(d, c) {
        if (d instanceof Date && c instanceof Date) {
            return d.getTime() === c.getTime()
        }
        return d === c
    },
    beginEdit: function() {
        var b = this, a, c, d;
        if (!b.editing) {
            b.editing = true;
            b.dirtySave = b.dirty;
            d = b[b.persistenceProperty];
            c = b.dataSave = {};
            for (a in d) {
                if (d.hasOwnProperty(a)) {
                    c[a] = d[a]
                }
            }
            d = b.modified;
            c = b.modifiedSave = {};
            for (a in d) {
                if (d.hasOwnProperty(a)) {
                    c[a] = d[a]
                }
            }
        }
    },
    cancelEdit: function() {
        var a = this;
        if (a.editing) {
            a.editing = false;
            a.modified = a.modifiedSave;
            a[a.persistenceProperty] = a.dataSave;
            a.dirty = a.dirtySave;
            a.modifiedSave = a.dataSave = a.dirtySave = null
        }
    },
    endEdit: function(a, d) {
        var c = this, b, e;
        a = a === true;
        if (c.editing) {
            c.editing = false;
            b = c.dataSave;
            c.modifiedSave = c.dataSave = c.dirtySave = null;
            if (!a) {
                if (!d) {
                    d = c.getModifiedFieldNames(b)
                }
                e = c.dirty || d.length > 0;
                if (e) {
                    c.afterEdit(d)
                }
            }
        }
    },
    getModifiedFieldNames: function(d) {
        var c = this, e = c[c.persistenceProperty], a = [], b;
        d = d || c.dataSave;
        for (b in e) {
            if (e.hasOwnProperty(b)) {
                if (!c.isEqual(e[b], d[b])) {
                    a.push(b)
                }
            }
        }
        return a
    },
    getChanges: function() {
        var a = this.modified, b = {}, c;
        for (c in a) {
            if (a.hasOwnProperty(c)) {
                b[c] = this.get(c)
            }
        }
        return b
    },
    isModified: function(a) {
        return this.modified.hasOwnProperty(a)
    },
    setDirty: function() {
        var c = this, a = c.fields.items, g = a.length, e, b, d;
        c.dirty = true;
        for (d = 0; d < g; d++) {
            e = a[d];
            if (e.persist) {
                b = e.name;
                c.modified[b] = c.get(b)
            }
        }
    },
    markDirty: function() {
        Ext.log.warn("Ext.data.Model: markDirty has been deprecated. Use setDirty instead.");
        return this.setDirty.apply(this, arguments)
    },
    reject: function(a) {
        var c = this, b = c.modified, d;
        for (d in b) {
            if (b.hasOwnProperty(d)) {
                if (typeof b[d] != "function") {
                    c[c.persistenceProperty][d] = b[d]
                }
            }
        }
        c.dirty = false;
        c.editing = false;
        c.modified = {};
        if (a !== true) {
            c.afterReject()
        }
    },
    commit: function(a, c) {
        var b = this;
        b.phantom = b.dirty = b.editing = false;
        b.modified = {};
        if (a !== true) {
            b.afterCommit(c)
        }
    },
    copy: function(a) {
        var b = this;
        return new b.self(b.raw,a,null,Ext.apply({}, b[b.persistenceProperty]))
    },
    setProxy: function(a) {
        if (!a.isProxy) {
            if (typeof a === "string") {
                a = {
                    type: a
                }
            }
            a = Ext.createByAlias("proxy." + a.type, a)
        }
        a.setModel(this.self);
        this.proxy = a;
        return a
    },
    getProxy: function() {
        return this.hasOwnProperty("proxy") ? this.proxy : this.self.getProxy()
    },
    validate: function() {
        var k = new Ext.data.Errors(), c = this.validations, e = Ext.data.validations, b, d, j, a, h, g;
        if (c) {
            b = c.length;
            for (g = 0; g < b; g++) {
                d = c[g];
                j = d.field || d.name;
                h = d.type;
                a = e[h](d, this.get(j));
                if (!a) {
                    k.add({
                        field: j,
                        message: d.message || e[h + "Message"]
                    })
                }
            }
        }
        return k
    },
    isValid: function() {
        return this.validate().isValid()
    },
    save: function(m) {
        m = Ext.apply({}, m);
        var g = this, b = g.phantom ? "create" : "update", l = m.scope || g, j = g.stores, c = 0, e, h, d, a, k;
        Ext.apply(m, {
            records: [g],
            action: b
        });
        a = new Ext.data.Operation(m);
        k = function(i) {
            d = [g, i];
            if (i.wasSuccessful()) {
                for (e = j.length; c < e; c++) {
                    h = j[c];
                    h.fireEvent("write", h, i);
                    h.fireEvent("datachanged", h)
                }
                Ext.callback(m.success, l, d)
            } else {
                Ext.callback(m.failure, l, d)
            }
            Ext.callback(m.callback, l, d)
        }
        ;
        g.getProxy()[b](a, k, g);
        return g
    },
    destroy: function(m) {
        m = Ext.apply({
            records: [this],
            action: "destroy"
        }, m);
        var g = this, a = g.phantom !== true, l = m.scope || g, j, c = 0, e, h, d, b, k;
        b = new Ext.data.Operation(m);
        k = function(i) {
            d = [g, i];
            j = Ext.Array.clone(g.stores);
            if (i.wasSuccessful()) {
                for (e = j.length; c < e; c++) {
                    h = j[c];
                    if (h.remove) {
                        h.remove(g, true)
                    }
                    if (a) {
                        h.fireEvent("write", h, i)
                    }
                }
                g.clearListeners();
                Ext.callback(m.success, l, d)
            } else {
                Ext.callback(m.failure, l, d)
            }
            Ext.callback(m.callback, l, d)
        }
        ;
        if (a) {
            g.getProxy().destroy(b, k, g)
        } else {
            b.complete = b.success = true;
            b.resultSet = g.getProxy().reader.nullResultSet;
            k(b)
        }
        return g
    },
    getId: function() {
        return this.get(this.idField.name)
    },
    getObservableId: function() {
        return this.id
    },
    setId: function(a) {
        this.set(this.idProperty, a)
    },
    changeId: function(g, b) {
        var e = this, d, c, a;
        if (!e.preventInternalUpdate) {
            d = e.hasId(g);
            c = e.hasId(b);
            a = e.internalId;
            e.phantom = !c;
            if (c !== d || c && d) {
                e.internalId = c ? b : Ext.data.Model.id(e)
            }
            e.fireEvent("idchanged", e, g, b, a);
            e.callStore("onIdChanged", g, b, a)
        }
    },
    hasId: function(a) {
        if (arguments.length === 0) {
            a = this.getId()
        }
        return !!(a || a === 0)
    },
    join: function(a) {
        var b = this;
        if (!b.stores.length) {
            b.stores[0] = a
        } else {
            Ext.Array.include(this.stores, a)
        }
        this.store = this.stores[0]
    },
    unjoin: function(a) {
        Ext.Array.remove(this.stores, a);
        this.store = this.stores[0] || null
    },
    afterEdit: function(a) {
        this.callStore("afterEdit", a)
    },
    afterReject: function() {
        this.callStore("afterReject")
    },
    afterCommit: function(a) {
        this.callStore("afterCommit", a)
    },
    callStore: function(g) {
        var d = Ext.Array.clone(arguments), b = this.stores, e = 0, a = b.length, c;
        d[0] = this;
        for (; e < a; ++e) {
            c = b[e];
            if (c && Ext.isFunction(c[g])) {
                c[g].apply(c, d)
            }
        }
    },
    getData: function(c) {
        var d = this, a = d.fields.items, h = a.length, g = {}, b, e;
        for (e = 0; e < h; e++) {
            b = a[e].name;
            g[b] = d.get(b)
        }
        if (c === true) {
            Ext.apply(g, d.getAssociatedData())
        }
        return g
    },
    getAssociatedData: function() {
        return this.prepareAssociatedData({}, 1)
    },
    prepareAssociatedData: function(x, A) {
        var z = this, u = z.associations.items, e = u.length, y = {}, q = [], w = [], m = [], p, b, a, n, g, l, k, v, h, c, t, s, d, B;
        for (t = 0; t < e; t++) {
            c = u[t];
            v = c.associationId;
            k = x[v];
            if (k && k !== A) {
                continue
            }
            x[v] = A;
            d = c.type;
            B = c.name;
            if (d == "hasMany") {
                p = z[c.storeName];
                y[B] = [];
                if (p && p.getCount() > 0) {
                    b = p.data.items;
                    h = b.length;
                    for (s = 0; s < h; s++) {
                        a = b[s];
                        y[B][s] = a.getData();
                        q.push(a);
                        w.push(B);
                        m.push(s)
                    }
                }
            } else {
                if (d == "belongsTo" || d == "hasOne") {
                    a = z[c.instanceName];
                    if (a !== undefined) {
                        y[B] = a.getData();
                        q.push(a);
                        w.push(B);
                        m.push(-1)
                    }
                }
            }
        }
        for (t = 0,
        h = q.length; t < h; ++t) {
            a = q[t];
            n = y[w[t]];
            g = m[t];
            l = a.prepareAssociatedData(x, A + 1);
            if (g === -1) {
                Ext.apply(n, l)
            } else {
                Ext.apply(n[g], l)
            }
        }
        return y
    }
});
Ext.define("Ext.data.proxy.Server", {
    extend: Ext.data.proxy.Proxy,
    alias: "proxy.server",
    alternateClassName: "Ext.data.ServerProxy",
    pageParam: "page",
    startParam: "start",
    limitParam: "limit",
    groupParam: "group",
    groupDirectionParam: "groupDir",
    sortParam: "sort",
    filterParam: "filter",
    directionParam: "dir",
    idParam: "id",
    simpleSortMode: false,
    simpleGroupMode: false,
    noCache: true,
    cacheString: "_dc",
    timeout: 30000,
    constructor: function(a) {
        var b = this;
        a = a || {};
        b.callParent([a]);
        b.extraParams = a.extraParams || {};
        b.api = Ext.apply({}, a.api || b.api);
        b.nocache = b.noCache
    },
    create: function() {
        return this.doRequest.apply(this, arguments)
    },
    read: function() {
        return this.doRequest.apply(this, arguments)
    },
    update: function() {
        return this.doRequest.apply(this, arguments)
    },
    destroy: function() {
        return this.doRequest.apply(this, arguments)
    },
    setExtraParam: function(a, b) {
        this.extraParams[a] = b
    },
    buildRequest: function(a) {
        var c = this, d = a.params = Ext.apply({}, a.params, c.extraParams), b;
        Ext.applyIf(d, c.getParams(a));
        if (a.id !== undefined && d[c.idParam] === undefined) {
            d[c.idParam] = a.id
        }
        b = new Ext.data.Request({
            params: d,
            action: a.action,
            records: a.records,
            operation: a,
            url: a.url,
            proxy: c
        });
        b.url = c.buildUrl(b);
        a.request = b;
        return b
    },
    processResponse: function(h, a, c, b, g, i) {
        var e = this, d, j;
        if (h === true) {
            d = e.getReader();
            d.applyDefaults = a.action === "read";
            j = d.read(e.extractResponseData(b));
            if (j.success !== false) {
                Ext.apply(a, {
                    response: b,
                    resultSet: j
                });
                a.commitRecords(j.records);
                a.setCompleted();
                a.setSuccessful()
            } else {
                a.setException(j.message);
                e.fireEvent("exception", this, b, a)
            }
        } else {
            e.setException(a, b);
            e.fireEvent("exception", this, b, a)
        }
        if (typeof g == "function") {
            g.call(i || e, a)
        }
        e.afterRequest(c, h)
    },
    setException: function(b, a) {
        b.setException({
            status: a.status,
            statusText: a.statusText
        })
    },
    extractResponseData: Ext.identityFn,
    applyEncoding: function(a) {
        return Ext.encode(a)
    },
    encodeSorters: function(d) {
        var b = []
          , c = d.length
          , a = 0;
        for (; a < c; a++) {
            b[a] = {
                property: d[a].property,
                direction: d[a].direction
            }
        }
        return this.applyEncoding(b)
    },
    encodeFilters: function(d) {
        var b = []
          , c = d.length
          , a = 0;
        for (; a < c; a++) {
            b[a] = {
                property: d[a].property,
                value: d[a].value
            }
        }
        return this.applyEncoding(b)
    },
    getParams: function(p) {
        var x = this, w = {}, t = Ext.isDefined, u = p.groupers, a = p.sorters, n = p.filters, i = p.page, h = p.start, v = p.limit, l = x.simpleSortMode, d = x.simpleGroupMode, s = x.pageParam, g = x.startParam, b = x.limitParam, c = x.groupParam, m = x.groupDirectionParam, e = x.sortParam, q = x.filterParam, o = x.directionParam, k, j;
        if (s && t(i)) {
            w[s] = i
        }
        if (g && t(h)) {
            w[g] = h
        }
        if (b && t(v)) {
            w[b] = v
        }
        k = c && u && u.length > 0;
        if (k) {
            if (d) {
                w[c] = u[0].property;
                w[m] = u[0].direction || "ASC"
            } else {
                w[c] = x.encodeSorters(u)
            }
        }
        if (e && a && a.length > 0) {
            if (l) {
                j = 0;
                if (a.length > 1 && k) {
                    j = 1
                }
                w[e] = a[j].property;
                w[o] = a[j].direction
            } else {
                w[e] = x.encodeSorters(a)
            }
        }
        if (q && n && n.length > 0) {
            w[q] = x.encodeFilters(n)
        }
        return w
    },
    buildUrl: function(c) {
        var b = this
          , a = b.getUrl(c);
        if (!a) {
            Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url.")
        }
        if (b.noCache) {
            a = Ext.urlAppend(a, Ext.String.format("{0}={1}", b.cacheString, Ext.Date.now()))
        }
        return a
    },
    getUrl: function(a) {
        return a.url || this.api[a.action] || this.url
    },
    doRequest: function(a, c, b) {
        Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")
    },
    afterRequest: Ext.emptyFn,
    onDestroy: function() {
        Ext.destroy(this.reader, this.writer)
    }
});
Ext.define("Ext.data.proxy.Ajax", {
    extend: Ext.data.proxy.Server,
    alias: "proxy.ajax",
    alternateClassName: ["Ext.data.HttpProxy", "Ext.data.AjaxProxy"],
    actionMethods: {
        create: "POST",
        read: "GET",
        update: "POST",
        destroy: "POST"
    },
    binary: false,
    doRequest: function(a, e, b) {
        var d = this.getWriter()
          , c = this.buildRequest(a);
        if (a.allowWrite()) {
            c = d.write(c)
        }
        Ext.apply(c, {
            binary: this.binary,
            headers: this.headers,
            timeout: this.timeout,
            scope: this,
            callback: this.createRequestCallback(c, a, e, b),
            method: this.getMethod(c),
            disableCaching: false
        });
        Ext.Ajax.request(c);
        return c
    },
    getMethod: function(a) {
        return this.actionMethods[a.action]
    },
    createRequestCallback: function(d, a, e, b) {
        var c = this;
        return function(h, i, g) {
            c.processResponse(i, a, d, g, e, b)
        }
    }
}, function() {
    Ext.data.HttpProxy = this
});
Ext.define("Ext.data.proxy.Client", {
    extend: Ext.data.proxy.Proxy,
    alternateClassName: "Ext.data.ClientProxy",
    isSynchronous: true,
    clear: function() {
        Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")
    }
});
Ext.define("Ext.data.proxy.Memory", {
    extend: Ext.data.proxy.Client,
    alias: "proxy.memory",
    alternateClassName: "Ext.data.MemoryProxy",
    constructor: function(a) {
        this.callParent([a]);
        this.setReader(this.reader)
    },
    updateOperation: function(b, g, d) {
        var c = 0
          , e = b.getRecords()
          , a = e.length;
        for (c; c < a; c++) {
            e[c].commit()
        }
        b.setCompleted();
        b.setSuccessful();
        Ext.callback(g, d || this, [b])
    },
    create: function() {
        this.updateOperation.apply(this, arguments)
    },
    update: function() {
        this.updateOperation.apply(this, arguments)
    },
    destroy: function() {
        this.updateOperation.apply(this, arguments)
    },
    read: function(c, i, j) {
        var g = this
          , h = c.resultSet = g.getReader().read(g.data)
          , b = h.records
          , e = c.sorters
          , d = c.groupers
          , a = c.filters;
        c.setCompleted();
        if (h.success) {
            if (a && a.length) {
                b = h.records = Ext.Array.filter(b, Ext.util.Filter.createFilterFn(a))
            }
            if (d && d.length) {
                Ext.Array.insert(e || [], 0, d)
            }
            if (e && e.length) {
                h.records = Ext.Array.sort(b, Ext.util.Sortable.createComparator(e))
            }
            if (g.enablePaging && c.start !== undefined && c.limit !== undefined) {
                if (c.start >= h.total) {
                    h.success = false;
                    h.count = 0;
                    h.records = []
                } else {
                    h.records = Ext.Array.slice(h.records, c.start, c.start + c.limit);
                    h.count = h.records.length
                }
            }
        }
        if (h.success) {
            c.setSuccessful()
        } else {
            g.fireEvent("exception", g, null, c)
        }
        Ext.callback(i, j || g, [c])
    },
    clear: Ext.emptyFn
});
Ext.define("Ext.util.LruCache", {
    extend: Ext.util.HashMap,
    constructor: function(a) {
        Ext.apply(this, a);
        this.callParent([a])
    },
    add: function(b, e) {
        var d = this, a = d.findKey(e), c;
        if (a) {
            d.unlinkEntry(c = d.map[a]);
            c.prev = d.last;
            c.next = null
        } else {
            c = {
                prev: d.last,
                next: null,
                key: b,
                value: e
            }
        }
        if (d.last) {
            d.last.next = c
        } else {
            d.first = c
        }
        d.last = c;
        d.callParent([b, c]);
        d.prune();
        return e
    },
    insertBefore: function(b, g, c) {
        var e = this, a, d;
        if (c = this.map[this.findKey(c)]) {
            a = e.findKey(g);
            if (a) {
                e.unlinkEntry(d = e.map[a])
            } else {
                d = {
                    prev: c.prev,
                    next: c,
                    key: b,
                    value: g
                }
            }
            if (c.prev) {
                d.prev.next = d
            } else {
                e.first = d
            }
            d.next = c;
            c.prev = d;
            e.prune();
            return g
        } else {
            return e.add(b, g)
        }
    },
    get: function(a) {
        var b = this.map[a];
        if (b) {
            if (b.next) {
                this.moveToEnd(b)
            }
            return b.value
        }
    },
    removeAtKey: function(a) {
        this.unlinkEntry(this.map[a]);
        return this.callParent(arguments)
    },
    clear: function(a) {
        this.first = this.last = null;
        return this.callParent(arguments)
    },
    unlinkEntry: function(a) {
        if (a) {
            if (a.next) {
                a.next.prev = a.prev
            } else {
                this.last = a.prev
            }
            if (a.prev) {
                a.prev.next = a.next
            } else {
                this.first = a.next
            }
            a.prev = a.next = null
        }
    },
    moveToEnd: function(a) {
        this.unlinkEntry(a);
        if (a.prev = this.last) {
            this.last.next = a
        } else {
            this.first = a
        }
        this.last = a
    },
    getArray: function(c) {
        var a = []
          , b = this.first;
        while (b) {
            a.push(c ? b.key : b.value);
            b = b.next
        }
        return a
    },
    each: function(c, b, a) {
        var g = this
          , e = a ? g.last : g.first
          , d = g.length;
        b = b || g;
        while (e) {
            if (c.call(b, e.key, e.value, d) === false) {
                break
            }
            e = a ? e.prev : e.next
        }
        return g
    },
    findKey: function(b) {
        var a, c = this.map;
        for (a in c) {
            if (c.hasOwnProperty(a) && c[a].value === b) {
                return a
            }
        }
        return undefined
    },
    clone: function() {
        var a = new this.self(this.initialConfig), c = this.map, b;
        a.suspendEvents();
        for (b in c) {
            if (c.hasOwnProperty(b)) {
                a.add(b, c[b].value)
            }
        }
        a.resumeEvents();
        return a
    },
    prune: function() {
        var a = this
          , b = a.maxSize ? a.length - a.maxSize : 0;
        if (b > 0) {
            for (; a.first && b; b--) {
                a.removeAtKey(a.first.key)
            }
        }
    }
});
Ext.define("Ext.data.Group", {
    extend: Ext.util.Observable,
    key: undefined,
    dirty: true,
    constructor: function() {
        this.callParent(arguments);
        this.records = []
    },
    contains: function(a) {
        return Ext.Array.indexOf(this.records, a)
    },
    add: function(a) {
        Ext.Array.push(this.records, a);
        this.dirty = true
    },
    remove: function(b) {
        if (!Ext.isArray(b)) {
            b = [b]
        }
        var a = b.length, c;
        for (c = 0; c < a; ++c) {
            Ext.Array.remove(this.records, b[c])
        }
        this.dirty = true
    },
    isDirty: function() {
        return this.dirty
    },
    hasAggregate: function() {
        return !!this.aggregate
    },
    setDirty: function() {
        this.dirty = true
    },
    commit: function() {
        this.dirty = false
    },
    isCollapsed: function() {
        return this.collapsed
    },
    getAggregateRecord: function(a) {
        var b = this, c;
        if (a === true || b.dirty || !b.aggregate) {
            c = b.store.model;
            b.aggregate = new c();
            b.aggregate.isSummary = true
        }
        return b.aggregate
    }
});
Ext.define("Ext.data.Store", {
    extend: Ext.data.AbstractStore,
    alias: "store.store",
    remoteSort: false,
    remoteFilter: false,
    remoteGroup: false,
    groupField: undefined,
    groupDir: "ASC",
    trailingBufferZone: 25,
    leadingBufferZone: 200,
    pageSize: undefined,
    currentPage: 1,
    clearOnPageLoad: true,
    loading: false,
    sortOnFilter: true,
    buffered: false,
    purgePageCount: 5,
    clearRemovedOnLoad: true,
    defaultPageSize: 25,
    defaultViewSize: 100,
    addRecordsOptions: {
        addRecords: true
    },
    statics: {
        recordIdFn: function(a) {
            return a.internalId
        },
        recordIndexFn: function(a) {
            return a.index
        },
        grouperIdFn: function(a) {
            return a.id || a.property
        },
        groupIdFn: function(a) {
            return a.key
        }
    },
    constructor: function(b) {
        b = Ext.apply({}, b);
        var d = this, g = b.groupers || d.groupers, a = b.groupField || d.groupField, c, e;
        e = b.data || d.data;
        if (e) {
            d.inlineData = e;
            delete b.data
        }
        if (!g && a) {
            g = [{
                property: a,
                direction: b.groupDir || d.groupDir
            }]
        }
        delete b.groupers;
        d.groupers = new Ext.util.MixedCollection(false,Ext.data.Store.grouperIdFn);
        d.groupers.addAll(d.decodeGroupers(g));
        d.groups = new Ext.util.MixedCollection(false,Ext.data.Store.groupIdFn);
        d.callParent([b]);
        if (d.buffered) {
            d.data = new d.PageMap({
                store: d,
                keyFn: Ext.data.Store.recordIdFn,
                pageSize: d.pageSize,
                maxSize: d.purgePageCount,
                listeners: {
                    clear: d.onPageMapClear,
                    scope: d
                }
            });
            d.pageRequests = {};
            d.remoteSort = d.remoteGroup = d.remoteFilter = true;
            d.sortOnLoad = false;
            d.filterOnLoad = false
        } else {
            d.data = new Ext.util.MixedCollection({
                getKey: Ext.data.Store.recordIdFn,
                maintainIndices: true
            });
            d.data.pageSize = d.pageSize
        }
        if (d.remoteGroup) {
            d.remoteSort = true
        }
        c = d.proxy;
        e = d.inlineData;
        if (!d.buffered && !d.pageSize) {
            d.pageSize = d.defaultPageSize
        }
        if (e) {
            if (c instanceof Ext.data.proxy.Memory) {
                c.data = e;
                d.read()
            } else {
                d.add.apply(d, [e])
            }
            if (!d.remoteSort) {
                d.sort()
            }
            delete d.inlineData
        } else {
            if (d.autoLoad) {
                Ext.defer(d.load, 1, d, [typeof d.autoLoad === "object" ? d.autoLoad : undefined])
            }
        }
        if (d.groupers.items.length && !d.remoteGroup) {
            d.group(null, null, true)
        }
    },
    onBeforeSort: function() {
        var a = this.groupers;
        if (a.getCount() > 0) {
            this.sort(a.items, "prepend", false)
        }
    },
    decodeGroupers: function(e) {
        if (!Ext.isArray(e)) {
            if (e === undefined) {
                e = []
            } else {
                e = [e]
            }
        }
        var d = e.length, g = Ext.util.Grouper, b, c, a = [];
        for (c = 0; c < d; c++) {
            b = e[c];
            if (!(b instanceof g)) {
                if (Ext.isString(b)) {
                    b = {
                        property: b
                    }
                }
                b = Ext.apply({
                    root: "data",
                    direction: "ASC"
                }, b);
                if (b.fn) {
                    b.sorterFn = b.fn
                }
                if (typeof b == "function") {
                    b = {
                        sorterFn: b
                    }
                }
                a.push(new g(b))
            } else {
                a.push(b)
            }
        }
        return a
    },
    group: function(c, j, k) {
        var e = this, a, b, g = e.groupers.getRange(), d, h = g.length;
        for (d = 0; d < h; d++) {
            e.sorters.remove(g[d])
        }
        if (Ext.isArray(c)) {
            b = c
        } else {
            if (Ext.isObject(c)) {
                b = [c]
            } else {
                if (Ext.isString(c)) {
                    a = e.groupers.get(c);
                    if (!a) {
                        a = {
                            property: c,
                            direction: j || "ASC"
                        };
                        b = [a]
                    } else {
                        if (j === undefined) {
                            a.toggle()
                        } else {
                            a.setDirection(j)
                        }
                    }
                }
            }
        }
        if (b && b.length) {
            e.groupers.clear();
            e.groupers.addAll(e.decodeGroupers(b))
        }
        e.sorters.insert(0, e.groupers.getRange());
        if (e.remoteGroup) {
            if (e.buffered) {
                e.data.clear();
                e.loadPage(1, {
                    groupChange: true
                })
            } else {
                e.load({
                    scope: e,
                    callback: k ? null : e.fireGroupChange
                })
            }
        } else {
            e.doSort(e.generateComparator());
            e.constructGroups();
            if (!k) {
                e.fireGroupChange()
            }
        }
    },
    getGroupField: function() {
        var b = this.groupers.first(), a;
        if (b) {
            a = b.property
        }
        return a
    },
    constructGroups: function() {
        var e = this, g = this.data.items, c = g.length, b = e.groups, a, d, h, j;
        b.clear();
        for (d = 0; d < c; ++d) {
            j = g[d];
            a = e.getGroupString(j);
            h = b.get(a);
            if (!h) {
                h = new Ext.data.Group({
                    key: a,
                    store: e
                });
                b.add(a, h)
            }
            h.add(j)
        }
    },
    clearGrouping: function() {
        var c = this, d = c.groupers.items, b = d.length, a;
        for (a = 0; a < b; a++) {
            c.sorters.remove(d[a])
        }
        c.groupers.clear();
        if (c.remoteGroup) {
            if (c.buffered) {
                c.data.clear();
                c.loadPage(1, {
                    groupChange: true
                })
            } else {
                c.load({
                    scope: c,
                    callback: c.fireGroupChange
                })
            }
        } else {
            c.groups.clear();
            if (c.sorters.length) {
                c.sort()
            } else {
                c.fireEvent("datachanged", c);
                c.fireEvent("refresh", c)
            }
            c.fireGroupChange()
        }
    },
    isGrouped: function() {
        return this.groupers.getCount() > 0
    },
    fireGroupChange: function() {
        this.fireEvent("groupchange", this, this.groupers)
    },
    getGroups: function(b) {
        var d = this.data.items, a = d.length, c = [], k = {}, g, h, j, e;
        for (e = 0; e < a; e++) {
            g = d[e];
            h = this.getGroupString(g);
            j = k[h];
            if (j === undefined) {
                j = {
                    name: h,
                    children: []
                };
                c.push(j);
                k[h] = j
            }
            j.children.push(g)
        }
        return b ? k[b] : c
    },
    getGroupsForGrouper: function(g, b) {
        var d = g.length, e = [], a, c, j, k, h;
        for (h = 0; h < d; h++) {
            j = g[h];
            c = b.getGroupString(j);
            if (c !== a) {
                k = {
                    name: c,
                    grouper: b,
                    records: []
                };
                e.push(k)
            }
            k.records.push(j);
            a = c
        }
        return e
    },
    getGroupsForGrouperIndex: function(c, j) {
        var g = this, h = g.groupers, b = h.getAt(j), a = g.getGroupsForGrouper(c, b), e = a.length, d;
        if (j + 1 < h.length) {
            for (d = 0; d < e; d++) {
                a[d].children = g.getGroupsForGrouperIndex(a[d].records, j + 1)
            }
        }
        for (d = 0; d < e; d++) {
            a[d].depth = j
        }
        return a
    },
    getGroupData: function(a) {
        var b = this;
        if (a !== false) {
            b.sort()
        }
        return b.getGroupsForGrouperIndex(b.data.items, 0)
    },
    getGroupString: function(a) {
        var b = this.groupers.first();
        if (b) {
            return b.getGroupString(a)
        }
        return ""
    },
    insert: function(g, a) {
        var j = this, k = false, d, h, e, b = j.modelDefaults, c;
        if (!Ext.isIterable(a)) {
            c = a = [a]
        } else {
            c = []
        }
        h = a.length;
        if (h) {
            for (d = 0; d < h; d++) {
                e = a[d];
                if (!e.isModel) {
                    e = j.createModel(e)
                }
                c[d] = e;
                if (b) {
                    e.set(b)
                }
                e.join(j);
                k = k || e.phantom === true
            }
            j.data.insert(g, c);
            if (j.snapshot) {
                j.snapshot.addAll(c)
            }
            if (j.requireSort) {
                j.suspendEvents();
                j.sort();
                j.resumeEvents()
            }
            if (j.isGrouped()) {
                j.updateGroupsOnAdd(c)
            }
            j.fireEvent("add", j, c, g);
            j.fireEvent("datachanged", j);
            if (j.autoSync && k && !j.autoSyncSuspended) {
                j.sync()
            }
        }
        return c
    },
    updateGroupsOnAdd: function(c) {
        var e = this, b = e.groups, a = c.length, d, j, g, h;
        for (d = 0; d < a; ++d) {
            h = c[d];
            j = e.getGroupString(h);
            g = b.getByKey(j);
            if (!g) {
                g = b.add(new Ext.data.Group({
                    key: j,
                    store: e
                }))
            }
            g.add(h)
        }
    },
    updateGroupsOnRemove: function(c) {
        var e = this, b = e.groups, a = c.length, d, j, g, h;
        for (d = 0; d < a; ++d) {
            h = c[d];
            j = e.getGroupString(h);
            g = b.getByKey(j);
            if (g) {
                g.remove(h);
                if (g.records.length === 0) {
                    b.remove(g)
                }
            }
        }
    },
    updateGroupsOnUpdate: function(e, c) {
        var j = this, a = j.getGroupField(), l = j.getGroupString(e), b = j.groups, g, d, h, k;
        if (c && Ext.Array.indexOf(c, a) !== -1) {
            h = b.items;
            for (d = 0,
            g = h.length; d < g; ++d) {
                k = h[d];
                if (k.contains(e)) {
                    k.remove(e);
                    break
                }
            }
            b.getByKey(l);
            if (!k) {
                k = b.add(new Ext.data.Group({
                    key: l,
                    store: j
                }))
            }
            k.add(e);
            j.suspendEvents();
            j.remove(e);
            j.addSorted(e);
            j.resumeEvents()
        } else {
            b.getByKey(l).setDirty()
        }
    },
    add: function(a) {
        var d = this, b, c, e;
        if (d.buffered) {
            Ext.Error.raise({
                msg: "add method may not be called on a buffered store"
            })
        }
        if (Ext.isArray(a)) {
            b = a
        } else {
            b = arguments
        }
        c = b.length;
        e = !d.remoteSort && d.sorters && d.sorters.items.length;
        if (e && c === 1) {
            return [d.addSorted(d.createModel(b[0]))]
        }
        if (e) {
            d.requireSort = true
        }
        b = d.insert(d.data.length, b);
        delete d.requireSort;
        return b
    },
    addSorted: function(a) {
        var c = this
          , b = c.data.findInsertionIndex(a, c.generateComparator());
        c.insert(b, a);
        return a
    },
    createModel: function(a) {
        if (!a.isModel) {
            a = Ext.ModelManager.create(a, this.model)
        }
        return a
    },
    onUpdate: function(a, b, c) {
        if (this.isGrouped()) {
            this.updateGroupsOnUpdate(a, c)
        }
    },
    each: function(e, c) {
        var g = this.data.items, b = g.length, a, h;
        for (h = 0; h < b; h++) {
            a = g[h];
            if (e.call(c || a, a, h, b) === false) {
                break
            }
        }
    },
    remove: function(o, l, p) {
        l = l === true;
        var u = this, j = false, d = u.snapshot, v = u.data, n = 0, c, q = [], t = [], e = [], s, m, g, b, k, h, a = !p && u.hasListeners.remove;
        if (o.isModel) {
            o = [o];
            c = 1
        } else {
            if (Ext.isIterable(o)) {
                c = o.length
            } else {
                if (typeof o === "object") {
                    k = true;
                    n = o.start;
                    c = o.end + 1;
                    h = c - n
                }
            }
        }
        if (!k) {
            for (n = 0; n < c; ++n) {
                b = o[n];
                if (typeof b == "number") {
                    g = b;
                    b = v.getAt(g)
                } else {
                    g = u.indexOf(b)
                }
                if (b && g > -1) {
                    q.push({
                        record: b,
                        index: g
                    })
                }
                if (d) {
                    d.remove(b)
                }
            }
            q = Ext.Array.sort(q, function(w, i) {
                var y = w.index
                  , x = i.index;
                return y === i.index2 ? 0 : y < x ? -1 : 1
            });
            n = 0;
            c = q.length
        }
        for (; n < c; n++) {
            if (k) {
                b = v.getAt(n);
                g = n
            } else {
                s = q[n];
                b = s.record;
                g = s.index
            }
            t.push(b);
            e.push(g);
            m = b.phantom !== true;
            if (!l && m) {
                b.removedFrom = g;
                u.removed.push(b)
            }
            b.unjoin(u);
            g -= n;
            j = j || m;
            if (!k) {
                v.removeAt(g);
                if (a) {
                    u.fireEvent("remove", u, b, g, !!l)
                }
            }
        }
        if (k) {
            v.removeRange(o.start, h)
        }
        if (!p) {
            u.fireEvent("bulkremove", u, t, e, !!l);
            u.fireEvent("datachanged", u)
        }
        if (!l && u.autoSync && j && !u.autoSyncSuspended) {
            u.sync()
        }
    },
    removeAt: function(a, c) {
        var b = this
          , d = b.getCount();
        if (a <= d) {
            if (arguments.length === 1) {
                b.remove([a])
            } else {
                if (c) {
                    b.remove({
                        start: a,
                        end: Math.min(a + c, d) - 1
                    })
                }
            }
        }
    },
    removeAll: function(a) {
        var b = this;
        b.remove({
            start: 0,
            end: b.getCount() - 1
        }, false, a);
        if (b.data) {
            b.data.clear()
        }
        if (a !== true) {
            b.fireEvent("clear", b)
        }
    },
    load: function(a) {
        var b = this;
        a = a || {};
        if (typeof a == "function") {
            a = {
                callback: a
            }
        }
        a.groupers = a.groupers || b.groupers.items;
        a.page = a.page || b.currentPage;
        a.start = a.start !== undefined ? a.start : (a.page - 1) * b.pageSize;
        a.limit = a.limit || b.pageSize;
        a.addRecords = a.addRecords || false;
        if (b.buffered) {
            a.limit = b.viewSize || b.defaultViewSize;
            return b.loadToPrefetch(a)
        }
        return b.callParent([a])
    },
    reload: function(m) {
        var h = this, j, b, g, l, d, a, k, c, e = h.getCount();
        if (!m) {
            m = {}
        }
        if (h.buffered) {
            delete h.totalCount;
            a = function() {
                if (h.rangeCached(j, b)) {
                    h.loading = false;
                    h.data.un("pageAdded", a);
                    c = h.data.getRange(j, b);
                    h.fireEvent("load", h, c, true)
                }
            }
            ;
            k = Math.ceil((h.leadingBufferZone + h.trailingBufferZone) / 2);
            j = m.start || (e ? h.getAt(0).index : 0);
            b = j + (m.count || (e ? e : h.pageSize)) - 1;
            g = h.getPageFromRecordIndex(Math.max(j - k, 0));
            l = h.getPageFromRecordIndex(b + k);
            h.data.clear(true);
            if (h.fireEvent("beforeload", h, m) !== false) {
                h.loading = true;
                h.data.on("pageAdded", a);
                for (d = g; d <= l; d++) {
                    h.prefetchPage(d, m)
                }
            }
        } else {
            return h.callParent(arguments)
        }
    },
    onProxyLoad: function(b) {
        var d = this
          , c = b.getResultSet()
          , a = b.getRecords()
          , e = b.wasSuccessful();
        if (c) {
            d.totalCount = c.total
        }
        d.loading = false;
        if (e) {
            d.loadRecords(a, b)
        }
        if (d.hasListeners.load) {
            d.fireEvent("load", d, a, e)
        }
        if (d.hasListeners.read) {
            d.fireEvent("read", d, a, e)
        }
        Ext.callback(b.callback, b.scope || d, [a, b, e])
    },
    getNewRecords: function() {
        return this.data.filterBy(this.filterNew).items
    },
    getUpdatedRecords: function() {
        return this.data.filterBy(this.filterUpdated).items
    },
    filter: function(e, g) {
        if (Ext.isString(e)) {
            e = {
                property: e,
                value: g
            }
        }
        var d = this, a = d.decodeFilters(e), b, h = d.sorters.length && d.sortOnFilter && !d.remoteSort, c = a.length;
        for (b = 0; b < c; b++) {
            d.filters.replace(a[b])
        }
        if (d.remoteFilter) {
            delete d.totalCount;
            if (d.buffered) {
                d.data.clear();
                d.loadPage(1)
            } else {
                d.currentPage = 1;
                d.load()
            }
        } else {
            if (d.filters.getCount()) {
                d.snapshot = d.snapshot || d.data.clone();
                d.data = d.snapshot.filter(d.filters.items);
                d.constructGroups();
                if (h) {
                    d.sort()
                } else {
                    d.fireEvent("datachanged", d);
                    d.fireEvent("refresh", d)
                }
            }
        }
        d.fireEvent("filterchange", d, d.filters.items)
    },
    clearFilter: function(a) {
        var b = this;
        b.filters.clear();
        if (b.remoteFilter) {
            if (a) {
                return
            }
            delete b.totalCount;
            if (b.buffered) {
                b.data.clear();
                b.loadPage(1)
            } else {
                b.currentPage = 1;
                b.load()
            }
        } else {
            if (b.isFiltered()) {
                b.data = b.snapshot;
                delete b.snapshot;
                b.constructGroups();
                if (a !== true) {
                    b.fireEvent("datachanged", b);
                    b.fireEvent("refresh", b)
                }
            }
        }
        b.fireEvent("filterchange", b, b.filters.items)
    },
    removeFilter: function(b, a) {
        var c = this;
        if (!c.remoteFilter && c.isFiltered()) {
            if (b instanceof Ext.util.Filter) {
                c.filters.remove(b)
            } else {
                c.filters.removeAtKey(b)
            }
            if (a !== false) {
                if (c.filters.getCount()) {
                    c.filter()
                } else {
                    c.clearFilter()
                }
            }
            c.fireEvent("filterchange", c, c.filters.items)
        }
    },
    addFilter: function(g, a) {
        var e = this, b, c, d;
        b = e.decodeFilters(g);
        d = b.length;
        for (c = 0; c < d; c++) {
            e.filters.replace(b[c])
        }
        if (a !== false) {
            e.filter()
        }
        e.fireEvent("filterchange", e, e.filters.items)
    },
    isFiltered: function() {
        var a = this.snapshot;
        return !!(a && a !== this.data)
    },
    filterBy: function(b, a) {
        var c = this;
        c.snapshot = c.snapshot || c.data.clone();
        c.data = c.queryBy(b, a || c);
        c.fireEvent("datachanged", c);
        c.fireEvent("refresh", c)
    },
    queryBy: function(b, a) {
        var c = this;
        return (c.snapshot || c.data).filterBy(b, a || c)
    },
    query: function(h, g, i, a, e) {
        var d = this
          , b = d.createFilterFn(h, g, i, a, e)
          , c = d.queryBy(b);
        if (!c) {
            c = new Ext.util.MixedCollection()
        }
        return c
    },
    loadData: function(e, a) {
        var d = e.length, c = [], b;
        for (b = 0; b < d; b++) {
            c.push(this.createModel(e[b]))
        }
        this.loadRecords(c, a ? this.addRecordsOptions : undefined)
    },
    loadRawData: function(e, b) {
        var d = this
          , a = d.proxy.reader.read(e)
          , c = a.records;
        if (a.success) {
            d.totalCount = a.total;
            d.loadRecords(c, b ? d.addRecordsOptions : undefined)
        }
    },
    loadRecords: function(b, c) {
        var h = this, d = 0, g = b.length, j, e, a = h.snapshot;
        if (c) {
            j = c.start;
            e = c.addRecords
        }
        if (!e) {
            delete h.snapshot;
            h.clearData(true)
        } else {
            if (a) {
                a.addAll(b)
            }
        }
        h.data.addAll(b);
        if (j !== undefined) {
            for (; d < g; d++) {
                b[d].index = j + d;
                b[d].join(h)
            }
        } else {
            for (; d < g; d++) {
                b[d].join(h)
            }
        }
        h.suspendEvents();
        if (h.filterOnLoad && !h.remoteFilter) {
            h.filter()
        }
        if (h.sortOnLoad && !h.remoteSort) {
            h.sort(undefined, undefined, undefined, true)
        }
        h.resumeEvents();
        if (h.isGrouped()) {
            h.constructGroups()
        }
        h.fireEvent("datachanged", h);
        h.fireEvent("refresh", h)
    },
    loadPage: function(c, a) {
        var b = this;
        b.currentPage = c;
        a = Ext.apply({
            page: c,
            start: (c - 1) * b.pageSize,
            limit: b.pageSize,
            addRecords: !b.clearOnPageLoad
        }, a);
        if (b.buffered) {
            a.limit = b.viewSize || b.defaultViewSize;
            return b.loadToPrefetch(a)
        }
        b.read(a)
    },
    nextPage: function(a) {
        this.loadPage(this.currentPage + 1, a)
    },
    previousPage: function(a) {
        this.loadPage(this.currentPage - 1, a)
    },
    clearData: function(d) {
        var c = this, a, b;
        if (!c.buffered) {
            a = c.data.items;
            b = a.length;
            while (b--) {
                a[b].unjoin(c)
            }
        }
        c.data.clear();
        if (d !== true || c.clearRemovedOnLoad) {
            c.removed.length = 0
        }
    },
    loadToPrefetch: function(n) {
        var j = this, e, b, l, c = n, k = n.start, a = n.start + n.limit - 1, g = Math.min(a, n.start + (j.viewSize || n.limit) - 1), h = j.getPageFromRecordIndex(Math.max(k - j.trailingBufferZone, 0)), m = j.getPageFromRecordIndex(a + j.leadingBufferZone), d = function() {
            if (j.rangeCached(k, g)) {
                j.loading = false;
                b = j.data.getRange(k, g);
                j.data.un("pageAdded", d);
                if (j.hasListeners.guaranteedrange) {
                    j.guaranteeRange(k, g, n.callback, n.scope)
                }
                if (n.callback) {
                    n.callback.call(n.scope || j, b, k, a, n)
                }
                j.fireEvent("datachanged", j);
                j.fireEvent("refresh", j);
                j.fireEvent("load", j, b, true);
                if (n.groupChange) {
                    j.fireGroupChange()
                }
            }
        };
        if (j.fireEvent("beforeload", j, n) !== false) {
            delete j.totalCount;
            j.loading = true;
            if (n.callback) {
                c = Ext.apply({}, n);
                delete n.callback
            }
            j.on("prefetch", function(o, p, i) {
                if (p) {
                    if (l = j.getTotalCount()) {
                        j.data.on("pageAdded", d);
                        g = Math.min(g, l - 1);
                        m = j.getPageFromRecordIndex(g);
                        for (e = h + 1; e <= m; ++e) {
                            j.prefetchPage(e, c)
                        }
                    } else {
                        j.fireEvent("datachanged", j);
                        j.fireEvent("refresh", j);
                        j.fireEvent("load", j, o, true)
                    }
                } else {
                    j.fireEvent("load", j, o, false)
                }
            }, null, {
                single: true
            });
            j.prefetchPage(h, c)
        }
    },
    prefetch: function(c) {
        var e = this, a = e.pageSize, d, b;
        if (a) {
            if (e.lastPageSize && a != e.lastPageSize) {
                Ext.Error.raise("pageSize cannot be dynamically altered")
            }
            if (!e.data.pageSize) {
                e.data.pageSize = a
            }
        } else {
            e.pageSize = e.data.pageSize = a = c.limit
        }
        e.lastPageSize = a;
        if (!c.page) {
            c.page = e.getPageFromRecordIndex(c.start);
            c.start = (c.page - 1) * a;
            c.limit = Math.ceil(c.limit / a) * a
        }
        if (!e.pageRequests[c.page]) {
            c = Ext.apply({
                action: "read",
                filters: e.filters.items,
                sorters: e.sorters.items,
                groupers: e.groupers.items,
                generation: e.data.generation
            }, c);
            b = new Ext.data.Operation(c);
            if (e.fireEvent("beforeprefetch", e, b) !== false) {
                d = e.proxy;
                e.pageRequests[c.page] = d.read(b, e.onProxyPrefetch, e);
                if (d.isSynchronous) {
                    delete e.pageRequests[c.page]
                }
            }
        }
        return e
    },
    onPageMapClear: function() {
        var d = this, c = d.wasLoading, a = d.pageRequests, b, e;
        if (d.data.events.pageadded) {
            d.data.events.pageadded.clearListeners()
        }
        d.loading = true;
        d.totalCount = 0;
        for (e in a) {
            if (a.hasOwnProperty(e)) {
                b = a[e];
                delete a[e];
                delete b.callback
            }
        }
        d.fireEvent("clear", d);
        d.loading = c
    },
    prefetchPage: function(e, b) {
        var d = this
          , a = d.pageSize || d.defaultPageSize
          , g = (e - 1) * d.pageSize
          , c = d.totalCount;
        if (c !== undefined && d.getCount() === c) {
            return
        }
        d.prefetch(Ext.applyIf({
            page: e,
            start: g,
            limit: a
        }, b))
    },
    onProxyPrefetch: function(b) {
        var d = this
          , c = b.getResultSet()
          , a = b.getRecords()
          , g = b.wasSuccessful()
          , e = b.page;
        if (b.generation === d.data.generation) {
            if (c) {
                d.totalCount = c.total;
                d.fireEvent("totalcountchange", d.totalCount)
            }
            if (e !== undefined) {
                delete d.pageRequests[e]
            }
            d.loading = false;
            d.fireEvent("prefetch", d, a, g, b);
            if (g) {
                d.cachePage(a, b.page)
            }
            Ext.callback(b.callback, b.scope || d, [a, b, g])
        }
    },
    cachePage: function(b, e) {
        var d = this, a = b.length, c;
        if (!Ext.isDefined(d.totalCount)) {
            d.totalCount = b.length;
            d.fireEvent("totalcountchange", d.totalCount)
        }
        for (c = 0; c < a; c++) {
            b[c].join(d)
        }
        d.data.addPage(e, b)
    },
    rangeCached: function(b, a) {
        return this.data && this.data.hasRange(b, a)
    },
    pageCached: function(a) {
        return this.data && this.data.hasPage(a)
    },
    rangeSatisfied: function(b, a) {
        return this.rangeCached(b, a)
    },
    getPageFromRecordIndex: function(a) {
        return Math.floor(a / this.pageSize) + 1
    },
    onGuaranteedRange: function(d) {
        var e = this, b = e.getTotalCount(), g = d.prefetchStart, a = d.prefetchEnd > b - 1 ? b - 1 : d.prefetchEnd, c;
        a = Math.max(0, a);
        if (g > a) {
            Ext.log({
                level: "warn",
                msg: "Start (" + g + ") was greater than end (" + a + ") for the range of records requested (" + g + "-" + d.prefetchEnd + ")" + (this.storeId ? ' from store "' + this.storeId + '"' : "")
            })
        }
        c = e.data.getRange(g, a);
        if (d.fireEvent !== false) {
            e.fireEvent("guaranteedrange", c, g, a, d)
        }
        if (d.callback) {
            d.callback.call(d.scope || e, c, g, a, d)
        }
    },
    guaranteeRange: function(e, a, d, c, b) {
        b = Ext.apply({
            callback: d,
            scope: c
        }, b);
        this.getRange(e, a, b)
    },
    prefetchRange: function(g, b) {
        var d = this, c, a, e;
        if (!d.rangeCached(g, b)) {
            c = d.getPageFromRecordIndex(g);
            a = d.getPageFromRecordIndex(b);
            d.data.maxSize = d.purgePageCount ? a - c + 1 + d.purgePageCount : 0;
            for (e = c; e <= a; e++) {
                if (!d.pageCached(e)) {
                    d.prefetchPage(e)
                }
            }
        }
    },
    primeCache: function(d, a, c) {
        var b = this;
        if (c === -1) {
            d = Math.max(d - b.leadingBufferZone, 0);
            a = Math.min(a + b.trailingBufferZone, b.totalCount - 1)
        } else {
            if (c === 1) {
                d = Math.max(Math.min(d - b.trailingBufferZone, b.totalCount - b.pageSize), 0);
                a = Math.min(a + b.leadingBufferZone, b.totalCount - 1)
            } else {
                d = Math.min(Math.max(Math.floor(d - (b.leadingBufferZone + b.trailingBufferZone) / 2), 0), b.totalCount - b.pageSize);
                a = Math.min(Math.max(Math.ceil(a + (b.leadingBufferZone + b.trailingBufferZone) / 2), 0), b.totalCount - 1)
            }
        }
        b.prefetchRange(d, a)
    },
    sort: function() {
        var a = this;
        if (a.buffered && a.remoteSort) {
            a.data.clear()
        }
        return a.callParent(arguments)
    },
    doSort: function(b) {
        var e = this, a, d, c;
        if (e.remoteSort) {
            if (e.buffered) {
                e.data.clear();
                e.loadPage(1)
            } else {
                e.load()
            }
        } else {
            if (e.buffered) {
                Ext.Error.raise({
                    msg: "Local sorting may not be used on a buffered store"
                })
            }
            e.data.sortBy(b);
            if (!e.buffered) {
                a = e.getRange();
                d = a.length;
                for (c = 0; c < d; c++) {
                    a[c].index = c
                }
            }
            e.fireEvent("datachanged", e);
            e.fireEvent("refresh", e)
        }
    },
    find: function(e, d, h, g, a, c) {
        var b = this.createFilterFn(e, d, g, a, c);
        return b ? this.data.findIndexBy(b, null, h) : -1
    },
    findRecord: function() {
        var b = this
          , a = b.find.apply(b, arguments);
        return a !== -1 ? b.getAt(a) : null
    },
    createFilterFn: function(d, c, e, a, b) {
        if (Ext.isEmpty(c)) {
            return false
        }
        c = this.data.createValueMatcher(c, e, a, b);
        return function(g) {
            return c.test(g.data[d])
        }
    },
    findExact: function(b, a, c) {
        return this.data.findIndexBy(function(d) {
            return d.isEqual(d.get(b), a)
        }, this, c)
    },
    findBy: function(b, a, c) {
        return this.data.findIndexBy(b, a, c)
    },
    collect: function(b, a, c) {
        var d = this
          , e = c === true && d.snapshot ? d.snapshot : d.data;
        return e.collect(b, "data", a)
    },
    getCount: function() {
        return this.data.getCount()
    },
    getTotalCount: function() {
        return this.totalCount || 0
    },
    getAt: function(a) {
        return this.data.getAt(a)
    },
    getRange: function(c, g, k) {
        if (k && k.cb) {
            k.callback = k.cb;
            Ext.Error.raise({
                msg: "guaranteeRange options.cb is deprecated, use options.callback"
            })
        }
        var h = this, i, b, d = h.totalCount - 1, e = h.lastRequestStart, a, j;
        k = Ext.apply({
            prefetchStart: c,
            prefetchEnd: g
        }, k);
        if (h.buffered) {
            g = g >= h.totalCount ? d : g;
            i = c === 0 ? 0 : c - 1;
            b = g === d ? g : g + 1;
            h.lastRequestStart = c;
            if (h.rangeCached(i, b)) {
                h.onGuaranteedRange(k);
                j = h.data.getRange(c, g)
            } else {
                h.fireEvent("cachemiss", h, c, g);
                a = function(m, l) {
                    if (h.rangeCached(i, b)) {
                        h.fireEvent("cachefilled", h, c, g);
                        h.data.un("pageAdded", a);
                        h.onGuaranteedRange(k)
                    }
                }
                ;
                h.data.on("pageAdded", a);
                h.prefetchRange(c, g)
            }
            h.primeCache(c, g, c < e ? -1 : 1)
        } else {
            j = h.data.getRange(c, g);
            if (k.callback) {
                k.callback.call(k.scope || h, j, c, g, k)
            }
        }
        return j
    },
    getById: function(b) {
        var a = (this.snapshot || this.data).findBy(function(c) {
            return c.getId() === b
        });
        if (this.buffered && !a) {
            Ext.Error.raise("getById called for ID that is not present in local cache")
        }
        return a
    },
    indexOf: function(a) {
        return this.data.indexOf(a)
    },
    indexOfTotal: function(a) {
        var b = a.index;
        if (b || b === 0) {
            return b
        }
        return this.indexOf(a)
    },
    indexOfId: function(a) {
        return this.indexOf(this.getById(a))
    },
    first: function(a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(function(c) {
                return c.length ? c[0] : undefined
            }, b, true)
        } else {
            return b.data.first()
        }
    },
    last: function(a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(function(d) {
                var c = d.length;
                return c ? d[c - 1] : undefined
            }, b, true)
        } else {
            return b.data.last()
        }
    },
    sum: function(c, a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(b.getSum, b, true, [c])
        } else {
            return b.getSum(b.data.items, c)
        }
    },
    getSum: function(b, e) {
        var d = 0
          , c = 0
          , a = b.length;
        for (; c < a; ++c) {
            d += b[c].get(e)
        }
        return d
    },
    count: function(a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(function(c) {
                return c.length
            }, b, true)
        } else {
            return b.getCount()
        }
    },
    min: function(c, a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(b.getMin, b, true, [c])
        } else {
            return b.getMin(b.data.items, c)
        }
    },
    getMin: function(b, g) {
        var d = 1, a = b.length, e, c;
        if (a > 0) {
            c = b[0].get(g)
        }
        for (; d < a; ++d) {
            e = b[d].get(g);
            if (e < c) {
                c = e
            }
        }
        return c
    },
    max: function(c, a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(b.getMax, b, true, [c])
        } else {
            return b.getMax(b.data.items, c)
        }
    },
    getMax: function(c, g) {
        var d = 1, b = c.length, e, a;
        if (b > 0) {
            a = c[0].get(g)
        }
        for (; d < b; ++d) {
            e = c[d].get(g);
            if (e > a) {
                a = e
            }
        }
        return a
    },
    average: function(c, a) {
        var b = this;
        if (a && b.isGrouped()) {
            return b.aggregate(b.getAverage, b, true, [c])
        } else {
            return b.getAverage(b.data.items, c)
        }
    },
    getAverage: function(b, e) {
        var c = 0
          , a = b.length
          , d = 0;
        if (b.length > 0) {
            for (; c < a; ++c) {
                d += b[c].get(e)
            }
            return d / a
        }
        return 0
    },
    aggregate: function(h, k, e, g) {
        g = g || [];
        if (e && this.isGrouped()) {
            var a = this.getGroups(), d = a.length, b = {}, j, c;
            for (c = 0; c < d; ++c) {
                j = a[c];
                b[j.name] = this.getAggregate(h, k || this, j.children, g)
            }
            return b
        } else {
            return this.getAggregate(h, k, this.data.items, g)
        }
    },
    getAggregate: function(d, c, a, b) {
        b = b || [];
        return d.apply(c || this, [a].concat(b))
    },
    onIdChanged: function(d, c, b, a) {
        this.data.updateKey(a, b);
        this.callParent(arguments)
    },
    commitChanges: function() {
        var c = this
          , d = c.getModifiedRecords()
          , a = d.length
          , b = 0;
        for (; b < a; b++) {
            d[b].commit()
        }
        c.removed.length = 0
    },
    filterNewOnly: function(a) {
        return a.phantom === true
    },
    getRejectRecords: function() {
        return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items, this.getUpdatedRecords())
    },
    rejectChanges: function() {
        var c = this, d = c.getRejectRecords(), a = d.length, b = 0, e;
        for (; b < a; b++) {
            e = d[b];
            e.reject();
            if (e.phantom) {
                c.remove(e)
            }
        }
        d = c.removed;
        a = d.length;
        for (b = 0; b < a; b++) {
            e = d[b];
            c.insert(e.removedFrom || 0, e);
            e.reject()
        }
        c.removed.length = 0
    }
}, function() {
    Ext.regStore("ext-empty-store", {
        fields: [],
        proxy: "memory"
    });
    this.prototype.PageMap = new Ext.Class({
        extend: "Ext.util.LruCache",
        clear: function(a) {
            var b = this;
            b.generation = (b.generation || 0) + 1;
            b.callParent(arguments)
        },
        forEach: function(k, l) {
            var h = this, d = Ext.Object.getKeys(h.map), a = d.length, c, b, e, g;
            for (c = 0; c < a; c++) {
                d[c] = Number(d[c])
            }
            Ext.Array.sort(d);
            l = l || h;
            for (c = 0; c < a; c++) {
                e = h.getPage(d[c]);
                g = e.length;
                for (b = 0; b < g; b++) {
                    if (k.call(l, e[b]) === false) {
                        return
                    }
                }
            }
        },
        findBy: function(c, b) {
            var d = this
              , a = null;
            b = b || d;
            d.forEach(function(e) {
                if (c.call(b, e)) {
                    a = e;
                    return false
                }
            });
            return a
        },
        getPageFromRecordIndex: this.prototype.getPageFromRecordIndex,
        addAll: function(a) {
            if (this.getCount()) {
                Ext.Error.raise("Cannot addAll to a non-empty PageMap")
            }
            this.addPage(1, a)
        },
        addPage: function(a, b) {
            var d = this, g = a + Math.floor((b.length - 1) / d.pageSize), c, e;
            for (c = 0; a <= g; a++,
            c += d.pageSize) {
                e = Ext.Array.slice(b, c, c + d.pageSize);
                d.add(a, e);
                d.fireEvent("pageAdded", a, e)
            }
        },
        getCount: function() {
            var a = this.callParent();
            if (a) {
                a = (a - 1) * this.pageSize + this.last.value.length
            }
            return a
        },
        indexOf: function(a) {
            return a ? a.index : -1
        },
        insert: function() {
            Ext.Error.raise("insert operation not suppported into buffered Store")
        },
        remove: function() {
            Ext.Error.raise("remove operation not suppported from buffered Store")
        },
        removeAt: function() {
            Ext.Error.raise("removeAt operation not suppported from buffered Store")
        },
        getPage: function(a) {
            return this.get(a)
        },
        hasRange: function(d, b) {
            var a = this.getPageFromRecordIndex(d)
              , c = this.getPageFromRecordIndex(b);
            for (; a <= c; a++) {
                if (!this.hasPage(a)) {
                    return false
                }
            }
            return true
        },
        hasPage: function(a) {
            return !!this.get(a)
        },
        getAt: function(a) {
            return this.getRange(a, a)[0]
        },
        getRange: function(a, b) {
            if (!this.hasRange(a, b)) {
                Ext.Error.raise("PageMap asked for range which it does not have")
            }
            var j = this, m = j.getPageFromRecordIndex(a), e = j.getPageFromRecordIndex(b), c = (m - 1) * j.pageSize, o = e * j.pageSize - 1, k = m, p = [], n, h, l, d = 0, g;
            for (; k <= e; k++) {
                if (k == m) {
                    n = a - c;
                    l = true
                } else {
                    n = 0;
                    l = false
                }
                if (k == e) {
                    h = j.pageSize - (o - b);
                    l = true
                }
                if (l) {
                    Ext.Array.push(p, Ext.Array.slice(j.getPage(k), n, h))
                } else {
                    Ext.Array.push(p, j.getPage(k))
                }
            }
            for (g = p.length; d < g; d++) {
                p[d].index = a++
            }
            return p
        }
    })
});
Ext.define("Ext.data.reader.Array", {
    extend: Ext.data.reader.Json,
    alternateClassName: "Ext.data.ArrayReader",
    alias: "reader.array",
    totalProperty: undefined,
    successProperty: undefined,
    createFieldAccessExpression: function(e, c, b) {
        var d = e.mapping == null ? e.originalIndex : e.mapping, a;
        if (typeof d === "function") {
            a = c + ".mapping(" + b + ", this)"
        } else {
            if (isNaN(d)) {
                d = '"' + d + '"'
            }
            a = b + "[" + d + "]"
        }
        return a
    }
});
Ext.define("Ext.data.ArrayStore", {
    extend: Ext.data.Store,
    alias: "store.array",
    constructor: function(a) {
        a = Ext.apply({
            proxy: {
                type: "memory",
                reader: "array"
            }
        }, a);
        this.callParent([a])
    },
    loadData: function(e, a) {
        if (this.expandData === true) {
            var d = []
              , b = 0
              , c = e.length;
            for (; b < c; b++) {
                d[d.length] = [e[b]]
            }
            e = d
        }
        this.callParent([e, a])
    }
}, function() {
    Ext.data.SimpleStore = Ext.data.ArrayStore
});
Ext.define("Ext.data.Batch", {
    mixins: {
        observable: Ext.util.Observable
    },
    autoStart: false,
    pauseOnException: false,
    current: -1,
    total: 0,
    isRunning: false,
    isComplete: false,
    hasException: false,
    constructor: function(a) {
        var b = this;
        b.mixins.observable.constructor.call(b, a);
        b.operations = [];
        b.exceptions = []
    },
    add: function(a) {
        this.total++;
        a.setBatch(this);
        this.operations.push(a);
        return this
    },
    start: function(a) {
        var b = this;
        if (b.isRunning) {
            return b
        }
        b.exceptions.length = 0;
        b.hasException = false;
        b.isRunning = true;
        return b.runOperation(Ext.isDefined(a) ? a : b.current + 1)
    },
    retry: function() {
        return this.start(this.current)
    },
    runNextOperation: function() {
        return this.runOperation(this.current + 1)
    },
    pause: function() {
        this.isRunning = false;
        return this
    },
    runOperation: function(d) {
        var e = this, c = e.operations, b = c[d], a;
        if (b === undefined) {
            e.isRunning = false;
            e.isComplete = true;
            e.fireEvent("complete", e, c[c.length - 1])
        } else {
            e.current = d;
            a = function(g) {
                var h = g.hasException();
                if (h) {
                    e.hasException = true;
                    e.exceptions.push(g);
                    e.fireEvent("exception", e, g)
                }
                if (h && e.pauseOnException) {
                    e.pause()
                } else {
                    g.setCompleted();
                    e.fireEvent("operationcomplete", e, g);
                    e.runNextOperation()
                }
            }
            ;
            b.setStarted();
            e.proxy[b.action](b, a, e)
        }
        return e
    }
});
Ext.define("Ext.data.Request", {
    action: undefined,
    params: undefined,
    method: "GET",
    url: undefined,
    constructor: function(a) {
        Ext.apply(this, a)
    }
});
Ext.define("Ext.data.association.BelongsTo", {
    extend: Ext.data.association.Association,
    alternateClassName: "Ext.data.BelongsToAssociation",
    alias: "association.belongsto",
    constructor: function(c) {
        this.callParent(arguments);
        var e = this
          , a = e.ownerModel.prototype
          , g = e.associatedName
          , d = e.getterName || "get" + g
          , b = e.setterName || "set" + g;
        Ext.applyIf(e, {
            name: g,
            foreignKey: g.toLowerCase() + "_id",
            instanceName: g + "BelongsToInstance",
            associationKey: g.toLowerCase()
        });
        a[d] = e.createGetter();
        a[b] = e.createSetter()
    },
    createSetter: function() {
        var c = this
          , b = c.foreignKey
          , a = c.instanceName;
        return function(h, e, g) {
            var i = h && h.isModel
              , d = i ? h.getId() : h;
            if (i) {
                this[a] = h
            } else {
                if (this[a]instanceof Ext.data.Model && !this.isEqual(this.get(b), d)) {
                    delete this[a]
                }
            }
            this.set(b, d);
            if (Ext.isFunction(e)) {
                e = {
                    callback: e,
                    scope: g || this
                }
            }
            if (Ext.isObject(e)) {
                return this.save(e)
            }
        }
    },
    createGetter: function() {
        var d = this
          , e = d.associatedName
          , g = d.associatedModel
          , c = d.foreignKey
          , b = d.primaryKey
          , a = d.instanceName;
        return function(k, l) {
            k = k || {};
            var j = this, m = j.get(c), n, h, i;
            if (k.reload === true || j[a] === undefined) {
                h = Ext.ModelManager.create({}, e);
                h.set(b, m);
                if (typeof k == "function") {
                    k = {
                        callback: k,
                        scope: l || j
                    }
                }
                n = k.success;
                k.success = function(o) {
                    j[a] = o;
                    if (n) {
                        n.apply(this, arguments)
                    }
                }
                ;
                g.load(m, k);
                j[a] = h;
                return h
            } else {
                h = j[a];
                i = [h];
                l = l || k.scope || j;
                Ext.callback(k, l, i);
                Ext.callback(k.success, l, i);
                Ext.callback(k.failure, l, i);
                Ext.callback(k.callback, l, i);
                return h
            }
        }
    },
    read: function(b, a, c) {
        b[this.instanceName] = a.read([c]).records[0]
    }
});
Ext.define("Ext.util.Inflector", {
    singleton: true,
    plurals: [[/(quiz)$/i, "$1zes"], [/^(ox)$/i, "$1en"], [/([m|l])ouse$/i, "$1ice"], [/(matr|vert|ind)ix|ex$/i, "$1ices"], [/(x|ch|ss|sh)$/i, "$1es"], [/([^aeiouy]|qu)y$/i, "$1ies"], [/(hive)$/i, "$1s"], [/(?:([^f])fe|([lr])f)$/i, "$1$2ves"], [/sis$/i, "ses"], [/([ti])um$/i, "$1a"], [/(buffal|tomat|potat)o$/i, "$1oes"], [/(bu)s$/i, "$1ses"], [/(alias|status|sex)$/i, "$1es"], [/(octop|vir)us$/i, "$1i"], [/(ax|test)is$/i, "$1es"], [/^person$/, "people"], [/^man$/, "men"], [/^(child)$/, "$1ren"], [/s$/i, "s"], [/$/, "s"]],
    singulars: [[/(quiz)zes$/i, "$1"], [/(matr)ices$/i, "$1ix"], [/(vert|ind)ices$/i, "$1ex"], [/^(ox)en/i, "$1"], [/(alias|status)es$/i, "$1"], [/(octop|vir)i$/i, "$1us"], [/(cris|ax|test)es$/i, "$1is"], [/(shoe)s$/i, "$1"], [/(o)es$/i, "$1"], [/(bus)es$/i, "$1"], [/([m|l])ice$/i, "$1ouse"], [/(x|ch|ss|sh)es$/i, "$1"], [/(m)ovies$/i, "$1ovie"], [/(s)eries$/i, "$1eries"], [/([^aeiouy]|qu)ies$/i, "$1y"], [/([lr])ves$/i, "$1f"], [/(tive)s$/i, "$1"], [/(hive)s$/i, "$1"], [/([^f])ves$/i, "$1fe"], [/(^analy)ses$/i, "$1sis"], [/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i, "$1$2sis"], [/([ti])a$/i, "$1um"], [/(n)ews$/i, "$1ews"], [/people$/i, "person"], [/s$/i, ""]],
    uncountable: ["sheep", "fish", "series", "species", "money", "rice", "information", "equipment", "grass", "mud", "offspring", "deer", "means"],
    singular: function(b, a) {
        this.singulars.unshift([b, a])
    },
    plural: function(b, a) {
        this.plurals.unshift([b, a])
    },
    clearSingulars: function() {
        this.singulars = []
    },
    clearPlurals: function() {
        this.plurals = []
    },
    isTransnumeral: function(a) {
        return Ext.Array.indexOf(this.uncountable, a) != -1
    },
    pluralize: function(g) {
        if (this.isTransnumeral(g)) {
            return g
        }
        var e = this.plurals, d = e.length, a, c, b;
        for (b = 0; b < d; b++) {
            a = e[b];
            c = a[0];
            if (c == g || c.test && c.test(g)) {
                return g.replace(c, a[1])
            }
        }
        return g
    },
    singularize: function(g) {
        if (this.isTransnumeral(g)) {
            return g
        }
        var e = this.singulars, d = e.length, a, c, b;
        for (b = 0; b < d; b++) {
            a = e[b];
            c = a[0];
            if (c == g || c.test && c.test(g)) {
                return g.replace(c, a[1])
            }
        }
        return g
    },
    classify: function(a) {
        return Ext.String.capitalize(this.singularize(a))
    },
    ordinalize: function(d) {
        var b = parseInt(d, 10)
          , c = b % 10
          , a = b % 100;
        if (11 <= a && a <= 13) {
            return d + "th"
        } else {
            switch (c) {
            case 1:
                return d + "st";
            case 2:
                return d + "nd";
            case 3:
                return d + "rd";
            default:
                return d + "th"
            }
        }
    }
}, function() {
    var b = {
        alumnus: "alumni",
        cactus: "cacti",
        focus: "foci",
        nucleus: "nuclei",
        radius: "radii",
        stimulus: "stimuli",
        ellipsis: "ellipses",
        paralysis: "paralyses",
        oasis: "oases",
        appendix: "appendices",
        index: "indexes",
        beau: "beaux",
        bureau: "bureaux",
        tableau: "tableaux",
        woman: "women",
        child: "children",
        man: "men",
        corpus: "corpora",
        criterion: "criteria",
        curriculum: "curricula",
        genus: "genera",
        memorandum: "memoranda",
        phenomenon: "phenomena",
        foot: "feet",
        goose: "geese",
        tooth: "teeth",
        antenna: "antennae",
        formula: "formulae",
        nebula: "nebulae",
        vertebra: "vertebrae",
        vita: "vitae"
    }, a;
    for (a in b) {
        this.plural(a, b[a]);
        this.singular(b[a], a)
    }
});
Ext.define("Ext.data.association.HasMany", {
    extend: Ext.data.association.Association,
    alternateClassName: "Ext.data.HasManyAssociation",
    alias: "association.hasmany",
    constructor: function(c) {
        var d = this, a, b;
        d.callParent(arguments);
        d.name = d.name || Ext.util.Inflector.pluralize(d.associatedName.toLowerCase());
        a = d.ownerModel.prototype;
        b = d.name;
        Ext.applyIf(d, {
            storeName: b + "Store",
            foreignKey: d.ownerName.toLowerCase() + "_id"
        });
        a[b] = d.createStore()
    },
    createStore: function() {
        var h = this
          , i = h.associatedModel
          , c = h.storeName
          , d = h.foreignKey
          , a = h.primaryKey
          , g = h.filterProperty
          , b = h.autoLoad
          , e = h.storeConfig || {};
        return function() {
            var m = this, k, l, j = {};
            if (m[c] === undefined) {
                if (g) {
                    l = {
                        property: g,
                        value: m.get(g),
                        exactMatch: true
                    }
                } else {
                    l = {
                        property: d,
                        value: m.get(a),
                        exactMatch: true
                    }
                }
                j[d] = m.get(a);
                k = Ext.apply({}, e, {
                    model: i,
                    filters: [l],
                    remoteFilter: false,
                    modelDefaults: j
                });
                m[c] = Ext.data.AbstractStore.create(k);
                if (b) {
                    m[c].load()
                }
            }
            return m[c]
        }
    },
    read: function(d, b, j) {
        var g = d[this.name](), c, e, a, h;
        g.add(b.read(j).records);
        c = this.associatedModel.prototype.associations.findBy(function(i) {
            return i.type === "belongsTo" && i.associatedName === d.$className
        });
        if (c) {
            e = g.data.items;
            a = e.length;
            for (h = 0; h < a; h++) {
                e[h][c.instanceName] = d
            }
        }
    }
});
Ext.define("Ext.data.association.HasOne", {
    extend: Ext.data.association.Association,
    alternateClassName: "Ext.data.HasOneAssociation",
    alias: "association.hasone",
    constructor: function(c) {
        this.callParent(arguments);
        var e = this
          , a = e.ownerModel.prototype
          , g = e.associatedName
          , d = e.getterName || "get" + g
          , b = e.setterName || "set" + g;
        Ext.applyIf(e, {
            name: g,
            foreignKey: g.toLowerCase() + "_id",
            instanceName: g + "HasOneInstance",
            associationKey: g.toLowerCase()
        });
        a[d] = e.createGetter();
        a[b] = e.createSetter()
    },
    createSetter: function() {
        var c = this
          , b = c.foreignKey
          , a = c.instanceName;
        return function(h, e, g) {
            var i = h && h.isModel
              , d = i ? h.getId() : h;
            if (i) {
                this[a] = h
            } else {
                if (this[a]instanceof Ext.data.Model && !this.isEqual(this.get(b), d)) {
                    delete this[a]
                }
            }
            this.set(b, d);
            if (Ext.isFunction(e)) {
                e = {
                    callback: e,
                    scope: g || this
                }
            }
            if (Ext.isObject(e)) {
                return this.save(e)
            }
        }
    },
    createGetter: function() {
        var d = this
          , g = d.ownerModel
          , e = d.associatedName
          , h = d.associatedModel
          , c = d.foreignKey
          , b = d.primaryKey
          , a = d.instanceName;
        return function(l, m) {
            l = l || {};
            var k = this, n = k.get(c), o, i, j;
            if (l.reload === true || k[a] === undefined) {
                i = Ext.ModelManager.create({}, e);
                i.set(b, n);
                if (typeof l == "function") {
                    l = {
                        callback: l,
                        scope: m || k
                    }
                }
                o = l.success;
                l.success = function(p) {
                    k[a] = p;
                    if (o) {
                        o.apply(this, arguments)
                    }
                }
                ;
                h.load(n, l);
                k[a] = i;
                return i
            } else {
                i = k[a];
                j = [i];
                m = m || l.scope || k;
                Ext.callback(l, m, j);
                Ext.callback(l.success, m, j);
                Ext.callback(l.failure, m, j);
                Ext.callback(l.callback, m, j);
                return i
            }
        }
    },
    read: function(c, a, e) {
        var b = this.associatedModel.prototype.associations.findBy(function(g) {
            return g.type === "belongsTo" && g.associatedName === c.$className
        })
          , d = a.read([e]).records[0];
        c[this.instanceName] = d;
        if (b) {
            d[b.instanceName] = c
        }
    }
});
Ext.define("Ext.dd.DDTarget", {
    extend: Ext.dd.DragDrop,
    constructor: function(c, a, b) {
        if (c) {
            this.initTarget(c, a, b)
        }
    },
    getDragEl: Ext.emptyFn,
    isValidHandleChild: Ext.emptyFn,
    startDrag: Ext.emptyFn,
    endDrag: Ext.emptyFn,
    onDrag: Ext.emptyFn,
    onDragDrop: Ext.emptyFn,
    onDragEnter: Ext.emptyFn,
    onDragOut: Ext.emptyFn,
    onDragOver: Ext.emptyFn,
    onInvalidDrop: Ext.emptyFn,
    onMouseDown: Ext.emptyFn,
    onMouseUp: Ext.emptyFn,
    setXConstraint: Ext.emptyFn,
    setYConstraint: Ext.emptyFn,
    resetConstraints: Ext.emptyFn,
    clearConstraints: Ext.emptyFn,
    clearTicks: Ext.emptyFn,
    setInitPosition: Ext.emptyFn,
    setDragElId: Ext.emptyFn,
    setHandleElId: Ext.emptyFn,
    setOuterHandleElId: Ext.emptyFn,
    addInvalidHandleClass: Ext.emptyFn,
    addInvalidHandleId: Ext.emptyFn,
    addInvalidHandleType: Ext.emptyFn,
    removeInvalidHandleClass: Ext.emptyFn,
    removeInvalidHandleId: Ext.emptyFn,
    removeInvalidHandleType: Ext.emptyFn,
    toString: function() {
        return "DDTarget " + this.id
    }
});
Ext.define("Ext.dd.DragTracker", {
    mixins: {
        observable: Ext.util.Observable
    },
    active: false,
    trackOver: false,
    tolerance: 5,
    autoStart: false,
    constructor: function(a) {
        var b = this;
        Ext.apply(b, a);
        b.addEvents("mouseover", "mouseout", "mousedown", "mouseup", "mousemove", "beforedragstart", "dragstart", "dragend", "drag");
        b.dragRegion = new Ext.util.Region(0,0,0,0);
        if (b.el) {
            b.initEl(b.el)
        }
        b.mixins.observable.constructor.call(b);
        if (b.disabled) {
            b.disable()
        }
    },
    initEl: function(a) {
        var b = this;
        b.el = Ext.get(a);
        b.handle = Ext.get(b.delegate);
        b.delegate = b.handle ? undefined : b.delegate;
        if (!b.handle) {
            b.handle = b.el
        }
        b.handleListeners = {
            scope: b,
            delegate: b.delegate,
            mousedown: b.onMouseDown
        };
        if (b.trackOver || b.overCls) {
            Ext.apply(b.handleListeners, {
                mouseover: b.onMouseOver,
                mouseout: b.onMouseOut
            })
        }
        b.mon(b.handle, b.handleListeners)
    },
    disable: function() {
        this.disabled = true
    },
    enable: function() {
        this.disabled = false
    },
    destroy: function() {
        var a = this;
        if (a.active) {
            a.endDrag({})
        }
        a.clearListeners();
        a.mun(a.handle, a.handleListeners);
        a.el = a.handle = null
    },
    onMouseOver: function(c, b) {
        var a = this;
        if (!a.disabled) {
            if (Ext.EventManager.contains(c) || a.delegate) {
                a.mouseIsOut = false;
                if (a.overCls) {
                    a.el.addCls(a.overCls)
                }
                a.fireEvent("mouseover", a, c, a.delegate ? c.getTarget(a.delegate, b) : a.handle)
            }
        }
    },
    onMouseOut: function(b) {
        var a = this;
        if (a.mouseIsDown) {
            a.mouseIsOut = true
        } else {
            if (a.overCls) {
                a.el.removeCls(a.overCls)
            }
            a.fireEvent("mouseout", a, b)
        }
    },
    onMouseDown: function(d, c) {
        var b = this, a;
        if (b.disabled || d.dragTracked) {
            return
        }
        b.dragTarget = b.delegate ? c : b.handle.dom;
        b.startXY = b.lastXY = d.getXY();
        b.startRegion = Ext.fly(b.dragTarget).getRegion();
        if (b.fireEvent("mousedown", b, d) === false || b.fireEvent("beforedragstart", b, d) === false || b.onBeforeStart(d) === false) {
            return
        }
        b.mouseIsDown = true;
        d.dragTracked = true;
        a = b.el.dom;
        if (Ext.isIE && a.setCapture) {
            a.setCapture()
        }
        if (b.preventDefault !== false) {
            d.preventDefault()
        }
        Ext.getDoc().on({
            scope: b,
            mouseup: b.onMouseUp,
            mousemove: b.onMouseMove,
            selectstart: b.stopSelect
        });
        if (b.autoStart) {
            b.timer = Ext.defer(b.triggerStart, b.autoStart === true ? 1000 : b.autoStart, b, [d])
        }
    },
    onMouseMove: function(g, d) {
        var b = this
          , c = g.getXY()
          , a = b.startXY;
        g.preventDefault();
        b.lastXY = c;
        if (!b.active) {
            if (Math.max(Math.abs(a[0] - c[0]), Math.abs(a[1] - c[1])) > b.tolerance) {
                b.triggerStart(g)
            } else {
                return
            }
        }
        if (b.fireEvent("mousemove", b, g) === false) {
            b.onMouseUp(g)
        } else {
            b.onDrag(g);
            b.fireEvent("drag", b, g)
        }
    },
    onMouseUp: function(b) {
        var a = this;
        a.mouseIsDown = false;
        if (a.mouseIsOut) {
            a.mouseIsOut = false;
            a.onMouseOut(b)
        }
        b.preventDefault();
        if (Ext.isIE && document.releaseCapture) {
            document.releaseCapture()
        }
        a.fireEvent("mouseup", a, b);
        a.endDrag(b)
    },
    endDrag: function(d) {
        var b = this
          , c = Ext.getDoc()
          , a = b.active;
        c.un("mousemove", b.onMouseMove, b);
        c.un("mouseup", b.onMouseUp, b);
        c.un("selectstart", b.stopSelect, b);
        b.clearStart();
        b.active = false;
        if (a) {
            b.onEnd(d);
            b.fireEvent("dragend", b, d)
        }
        delete b._constrainRegion;
        delete Ext.EventObject.dragTracked
    },
    triggerStart: function(b) {
        var a = this;
        a.clearStart();
        a.active = true;
        a.onStart(b);
        a.fireEvent("dragstart", a, b)
    },
    clearStart: function() {
        var a = this.timer;
        if (a) {
            clearTimeout(a);
            delete this.timer
        }
    },
    stopSelect: function(a) {
        a.stopEvent();
        return false
    },
    onBeforeStart: function(a) {},
    onStart: function(a) {},
    onDrag: function(a) {},
    onEnd: function(a) {},
    getDragTarget: function() {
        return this.dragTarget
    },
    getDragCt: function() {
        return this.el
    },
    getConstrainRegion: function() {
        var a = this;
        if (a.constrainTo) {
            if (a.constrainTo instanceof Ext.util.Region) {
                return a.constrainTo
            }
            if (!a._constrainRegion) {
                a._constrainRegion = Ext.fly(a.constrainTo).getViewRegion()
            }
        } else {
            if (!a._constrainRegion) {
                a._constrainRegion = a.getDragCt().getViewRegion()
            }
        }
        return a._constrainRegion
    },
    getXY: function(a) {
        return a ? this.constrainModes[a](this, this.lastXY) : this.lastXY
    },
    getOffset: function(c) {
        var b = this.getXY(c)
          , a = this.startXY;
        return [b[0] - a[0], b[1] - a[1]]
    },
    constrainModes: {
        point: function(b, d) {
            var c = b.dragRegion
              , a = b.getConstrainRegion();
            if (!a) {
                return d
            }
            c.x = c.left = c[0] = c.right = d[0];
            c.y = c.top = c[1] = c.bottom = d[1];
            c.constrainTo(a);
            return [c.left, c.top]
        },
        dragTarget: function(c, g) {
            var b = c.startXY, e = c.startRegion.copy(), a = c.getConstrainRegion(), d;
            if (!a) {
                return g
            }
            e.translateBy(g[0] - b[0], g[1] - b[1]);
            if (e.right > a.right) {
                g[0] += d = a.right - e.right;
                e.left += d
            }
            if (e.left < a.left) {
                g[0] += a.left - e.left
            }
            if (e.bottom > a.bottom) {
                g[1] += d = a.bottom - e.bottom;
                e.top += d
            }
            if (e.top < a.top) {
                g[1] += a.top - e.top
            }
            return g
        }
    }
});
Ext.define("Ext.util.Queue", {
    constructor: function() {
        this.clear()
    },
    add: function(c) {
        var b = this
          , a = b.getKey(c);
        if (!b.map[a]) {
            ++b.length;
            b.items.push(c);
            b.map[a] = c
        }
        return c
    },
    clear: function() {
        var b = this
          , a = b.items;
        b.items = [];
        b.map = {};
        b.length = 0;
        return a
    },
    contains: function(b) {
        var a = this.getKey(b);
        return this.map.hasOwnProperty(a)
    },
    getCount: function() {
        return this.length
    },
    getKey: function(a) {
        return a.id
    },
    remove: function(e) {
        var d = this, c = d.getKey(e), a = d.items, b;
        if (d.map[c]) {
            b = Ext.Array.indexOf(a, e);
            Ext.Array.erase(a, b, 1);
            delete d.map[c];
            --d.length
        }
        return e
    }
});
Ext.define("Ext.layout.ClassList", function() {
    var b = Ext.String.splitWords
      , a = Ext.Array.toMap;
    return {
        dirty: false,
        constructor: function(c) {
            this.owner = c;
            this.map = a(this.classes = b(c.el.className))
        },
        add: function(c) {
            var d = this;
            if (!d.map[c]) {
                d.map[c] = true;
                d.classes.push(c);
                if (!d.dirty) {
                    d.dirty = true;
                    d.owner.markDirty()
                }
            }
        },
        addMany: function(c) {
            Ext.each(b(c), this.add, this)
        },
        contains: function(c) {
            return this.map[c]
        },
        flush: function() {
            this.owner.el.className = this.classes.join(" ");
            this.dirty = false
        },
        remove: function(c) {
            var d = this;
            if (d.map[c]) {
                delete d.map[c];
                d.classes = Ext.Array.filter(d.classes, function(e) {
                    return e != c
                });
                if (!d.dirty) {
                    d.dirty = true;
                    d.owner.markDirty()
                }
            }
        },
        removeMany: function(d) {
            var e = this
              , c = a(b(d));
            e.classes = Ext.Array.filter(e.classes, function(g) {
                if (!c[g]) {
                    return true
                }
                delete e.map[g];
                if (!e.dirty) {
                    e.dirty = true;
                    e.owner.markDirty()
                }
                return false
            })
        }
    }
}());
Ext.define("Ext.layout.ContextItem", {
    heightModel: null,
    widthModel: null,
    sizeModel: null,
    optOut: false,
    ownerSizePolicy: null,
    boxChildren: null,
    boxParent: null,
    isBorderBoxValue: null,
    children: [],
    dirty: null,
    dirtyCount: 0,
    hasRawContent: true,
    isContextItem: true,
    isTopLevel: false,
    consumersContentHeight: 0,
    consumersContentWidth: 0,
    consumersContainerHeight: 0,
    consumersContainerWidth: 0,
    consumersHeight: 0,
    consumersWidth: 0,
    ownerCtContext: null,
    remainingChildDimensions: 0,
    props: null,
    state: null,
    wrapsComponent: false,
    constructor: function(s) {
        var t = this, p = Ext.layout.SizeModel.sizeModels, k = p.configured, j = p.shrinkWrap, b, q, n, m, g, d, u, e, o, l, c, i, h, a;
        Ext.apply(t, s);
        b = t.el;
        t.id = b.id;
        t.flushedProps = {};
        t.props = g = {};
        t.styles = {};
        u = t.target;
        if (!u.isComponent) {
            q = b.lastBox
        } else {
            t.wrapsComponent = true;
            t.framing = u.frameSize || null;
            t.isComponentChild = u.ownerLayout && u.ownerLayout.isComponentLayout;
            q = u.lastBox;
            n = u.ownerCt;
            if (n && (m = t.context.items[n.el.id])) {
                t.ownerCtContext = m
            }
            t.sizeModel = d = u.getSizeModel(m && m.widthModel.pairsByHeightOrdinal[m.heightModel.ordinal]);
            t.widthModel = i = d.width;
            t.heightModel = h = d.height;
            if (q && q.invalid === false) {
                l = u.width === (e = q.width);
                c = u.height === (o = q.height);
                if (i === j && h === j) {
                    a = true
                } else {
                    if (i === k && l) {
                        a = h === j || h === k && c
                    }
                }
                if (a) {
                    t.optOut = true;
                    g.width = e;
                    g.height = o
                }
            }
        }
        t.lastBox = q
    },
    init: function(j, c) {
        var t = this, a = t.props, d = t.dirty, l = t.ownerCtContext, p = t.target.ownerLayout, h = !t.state, u = j || h, e, o, m, q, b, v, w = t.heightModel, g = t.widthModel, k, s;
        t.dirty = t.invalid = false;
        t.props = {};
        t.remainingChildDimensions = 0;
        if (t.boxChildren) {
            t.boxChildren.length = 0
        }
        if (!h) {
            t.clearAllBlocks("blocks");
            t.clearAllBlocks("domBlocks")
        }
        if (!t.wrapsComponent) {
            return u
        }
        v = t.target;
        t.state = {};
        if (h) {
            if (v.beforeLayout && v.beforeLayout !== Ext.emptyFn) {
                v.beforeLayout()
            }
            if (!l && (q = v.ownerCt)) {
                l = t.context.items[q.el.id]
            }
            if (l) {
                t.ownerCtContext = l;
                t.isBoxParent = v.ownerLayout.isItemBoxParent(t)
            } else {
                t.isTopLevel = true
            }
            t.frameBodyContext = t.getEl("frameBody")
        } else {
            l = t.ownerCtContext;
            t.isTopLevel = !l;
            e = t.children;
            for (o = 0,
            m = e.length; o < m; ++o) {
                e[o].init(true)
            }
        }
        t.hasRawContent = !(v.isContainer && v.items.items.length > 0);
        if (j) {
            t.widthModel = t.heightModel = null;
            b = v.getSizeModel(l && l.widthModel.pairsByHeightOrdinal[l.heightModel.ordinal]);
            if (h) {
                t.sizeModel = b
            }
            t.widthModel = b.width;
            t.heightModel = b.height;
            if (l && !t.isComponentChild) {
                l.remainingChildDimensions += 2
            }
        } else {
            if (a) {
                t.recoverProp("x", a, d);
                t.recoverProp("y", a, d);
                if (t.widthModel.calculated) {
                    t.recoverProp("width", a, d)
                }
                if (t.heightModel.calculated) {
                    t.recoverProp("height", a, d)
                }
                if (l && !t.isComponentChild) {
                    l.remainingChildDimensions += ("width"in a) + ("height"in a)
                }
            }
        }
        if (a && p && p.manageMargins) {
            t.recoverProp("margin-top", a, d);
            t.recoverProp("margin-right", a, d);
            t.recoverProp("margin-bottom", a, d);
            t.recoverProp("margin-left", a, d)
        }
        if (c) {
            k = c.heightModel;
            s = c.widthModel;
            if (s && k && g && w) {
                if (g.shrinkWrap && w.shrinkWrap) {
                    if (s.constrainedMax && k.constrainedMin) {
                        k = null
                    }
                }
            }
            if (s) {
                t.widthModel = s
            }
            if (k) {
                t.heightModel = k
            }
            if (c.state) {
                Ext.apply(t.state, c.state)
            }
        }
        return u
    },
    initContinue: function(e) {
        var g = this, d = g.ownerCtContext, a = g.target, c = g.widthModel, h = a.getHierarchyState(), b;
        if (c.fixed) {
            h.inShrinkWrapTable = false
        } else {
            delete h.inShrinkWrapTable
        }
        if (e) {
            if (d && c.shrinkWrap) {
                b = d.isBoxParent ? d : d.boxParent;
                if (b) {
                    b.addBoxChild(g)
                }
            } else {
                if (c.natural) {
                    g.boxParent = d
                }
            }
        }
        return e
    },
    initDone: function(d) {
        var b = this
          , a = b.props
          , c = b.state;
        if (b.remainingChildDimensions === 0) {
            a.containerChildrenSizeDone = true
        }
        if (d) {
            a.containerLayoutDone = true
        }
        if (b.boxChildren && b.boxChildren.length && b.widthModel.shrinkWrap) {
            b.el.setWidth(10000);
            c.blocks = (c.blocks || 0) + 1
        }
    },
    initAnimation: function() {
        var b = this
          , c = b.target
          , a = b.ownerCtContext;
        if (a && a.isTopLevel) {
            b.animatePolicy = c.ownerLayout.getAnimatePolicy(b)
        } else {
            if (!a && c.isCollapsingOrExpanding && c.animCollapse) {
                b.animatePolicy = c.componentLayout.getAnimatePolicy(b)
            }
        }
        if (b.animatePolicy) {
            b.context.queueAnimation(b)
        }
    },
    addCls: function(a) {
        this.getClassList().addMany(a)
    },
    removeCls: function(a) {
        this.getClassList().removeMany(a)
    },
    addBlock: function(b, d, e) {
        var c = this
          , g = c[b] || (c[b] = {})
          , a = g[e] || (g[e] = {});
        if (!a[d.id]) {
            a[d.id] = d;
            ++d.blockCount;
            ++c.context.blockCount
        }
    },
    addBoxChild: function(d) {
        var c = this, b, a = d.widthModel;
        d.boxParent = this;
        d.measuresBox = a.shrinkWrap ? d.hasRawContent : a.natural;
        if (d.measuresBox) {
            b = c.boxChildren;
            if (b) {
                b.push(d)
            } else {
                c.boxChildren = [d]
            }
        }
    },
    addPositionStyles: function(d, b) {
        var a = b.x
          , e = b.y
          , c = 0;
        if (a !== undefined) {
            d.left = a + "px";
            ++c
        }
        if (e !== undefined) {
            d.top = e + "px";
            ++c
        }
        return c
    },
    addTrigger: function(g, h) {
        var e = this
          , a = h ? "domTriggers" : "triggers"
          , i = e[a] || (e[a] = {})
          , b = e.context
          , d = b.currentLayout
          , c = i[g] || (i[g] = {});
        if (!c[d.id]) {
            c[d.id] = d;
            ++d.triggerCount;
            c = b.triggers[h ? "dom" : "data"];
            (c[d.id] || (c[d.id] = [])).push({
                item: this,
                prop: g
            });
            if (e.props[g] !== undefined) {
                if (!h || !(e.dirty && g in e.dirty)) {
                    ++d.firedTriggers
                }
            }
        }
    },
    boxChildMeasured: function() {
        var b = this
          , c = b.state
          , a = c.boxesMeasured = (c.boxesMeasured || 0) + 1;
        if (a == b.boxChildren.length) {
            c.clearBoxWidth = 1;
            ++b.context.progressCount;
            b.markDirty()
        }
    },
    borderNames: ["border-top-width", "border-right-width", "border-bottom-width", "border-left-width"],
    marginNames: ["margin-top", "margin-right", "margin-bottom", "margin-left"],
    paddingNames: ["padding-top", "padding-right", "padding-bottom", "padding-left"],
    trblNames: ["top", "right", "bottom", "left"],
    cacheMissHandlers: {
        borderInfo: function(a) {
            var b = a.getStyles(a.borderNames, a.trblNames);
            b.width = b.left + b.right;
            b.height = b.top + b.bottom;
            return b
        },
        marginInfo: function(a) {
            var b = a.getStyles(a.marginNames, a.trblNames);
            b.width = b.left + b.right;
            b.height = b.top + b.bottom;
            return b
        },
        paddingInfo: function(b) {
            var a = b.frameBodyContext || b
              , c = a.getStyles(b.paddingNames, b.trblNames);
            c.width = c.left + c.right;
            c.height = c.top + c.bottom;
            return c
        }
    },
    checkCache: function(a) {
        return this.cacheMissHandlers[a](this)
    },
    clearAllBlocks: function(a) {
        var c = this[a], b;
        if (c) {
            for (b in c) {
                this.clearBlocks(a, b)
            }
        }
    },
    clearBlocks: function(c, g) {
        var h = this[c], b = h && h[g], d, e, a;
        if (b) {
            delete h[g];
            d = this.context;
            for (a in b) {
                e = b[a];
                --d.blockCount;
                if (!--e.blockCount && !e.pending && !e.done) {
                    d.queueLayout(e)
                }
            }
        }
    },
    block: function(a, b) {
        this.addBlock("blocks", a, b)
    },
    domBlock: function(a, b) {
        this.addBlock("domBlocks", a, b)
    },
    fireTriggers: function(b, g) {
        var h = this[b], d = h && h[g], c = this.context, e, a;
        if (d) {
            for (a in d) {
                e = d[a];
                ++e.firedTriggers;
                if (!e.done && !e.blockCount && !e.pending) {
                    c.queueLayout(e)
                }
            }
        }
    },
    flush: function() {
        var b = this
          , a = b.dirty
          , c = b.state
          , d = b.el;
        b.dirtyCount = 0;
        if (b.classList && b.classList.dirty) {
            b.classList.flush()
        }
        if ("attributes"in b) {
            d.set(b.attributes);
            delete b.attributes
        }
        if ("innerHTML"in b) {
            d.innerHTML = b.innerHTML;
            delete b.innerHTML
        }
        if (c && c.clearBoxWidth) {
            c.clearBoxWidth = 0;
            b.el.setStyle("width", null);
            if (!--c.blocks) {
                b.context.queueItemLayouts(b)
            }
        }
        if (a) {
            delete b.dirty;
            b.writeProps(a, true)
        }
    },
    flushAnimations: function() {
        var o = this, c = o.previousSize, l, n, e, h, g, d, i, m, k, a, b;
        if (c) {
            l = o.target;
            n = l.layout && l.layout.animate;
            if (n) {
                e = Ext.isNumber(n) ? n : n.duration
            }
            h = Ext.Object.getKeys(o.animatePolicy);
            g = Ext.apply({}, {
                from: {},
                to: {},
                duration: e || Ext.fx.Anim.prototype.duration
            }, n);
            for (d = 0,
            i = 0,
            m = h.length; i < m; i++) {
                k = h[i];
                a = c[k];
                b = o.peek(k);
                if (a != b) {
                    k = o.translateProps[k] || k;
                    g.from[k] = a;
                    g.to[k] = b;
                    ++d
                }
            }
            if (d) {
                if (o.isCollapsingOrExpanding === 1) {
                    l.componentLayout.undoLayout(o)
                } else {
                    o.writeProps(g.from)
                }
                o.el.animate(g);
                Ext.fx.Manager.getFxQueue(o.el.id)[0].on({
                    afteranimate: function() {
                        if (o.isCollapsingOrExpanding === 1) {
                            l.componentLayout.redoLayout(o);
                            l.afterCollapse(true)
                        } else {
                            if (o.isCollapsingOrExpanding === 2) {
                                l.afterExpand(true)
                            }
                        }
                    }
                })
            }
        }
    },
    getBorderInfo: function() {
        var a = this
          , b = a.borderInfo;
        if (!b) {
            a.borderInfo = b = a.checkCache("borderInfo")
        }
        return b
    },
    getClassList: function() {
        return this.classList || (this.classList = new Ext.layout.ClassList(this))
    },
    getEl: function(c, a) {
        var e = this, g, d, b;
        if (c) {
            if (c.dom) {
                d = c
            } else {
                g = e.target;
                if (a) {
                    g = a
                }
                d = g[c];
                if (typeof d == "function") {
                    d = d.call(g);
                    if (d === e.el) {
                        return this
                    }
                }
            }
            if (d) {
                b = e.context.getEl(e, d)
            }
        }
        return b || null
    },
    getFrameInfo: function() {
        var c = this, d = c.frameInfo, b, a;
        if (!d) {
            b = c.framing;
            a = c.getBorderInfo();
            c.frameInfo = d = b ? {
                top: b.top + a.top,
                right: b.right + a.right,
                bottom: b.bottom + a.bottom,
                left: b.left + a.left,
                width: b.width + a.width,
                height: b.height + a.height
            } : a
        }
        return d
    },
    getMarginInfo: function() {
        var d = this, h = d.marginInfo, b, a, g, e, c;
        if (!h) {
            if (!d.wrapsComponent) {
                h = d.checkCache("marginInfo")
            } else {
                b = d.target;
                e = b.ownerLayout;
                c = e ? e.id : null;
                a = e && e.manageMargins;
                h = b.margin$;
                if (h && h.ownerId !== c) {
                    h = null
                }
                if (!h) {
                    h = d.parseMargins(b, b.margin) || d.checkCache("marginInfo");
                    if (a) {
                        g = d.parseMargins(b, b.margins, e.defaultMargins);
                        if (g) {
                            h = {
                                top: h.top + g.top,
                                right: h.right + g.right,
                                bottom: h.bottom + g.bottom,
                                left: h.left + g.left
                            }
                        }
                        d.setProp("margin-top", 0);
                        d.setProp("margin-right", 0);
                        d.setProp("margin-bottom", 0);
                        d.setProp("margin-left", 0)
                    }
                    h.ownerId = c;
                    b.margin$ = h
                }
                h.width = h.left + h.right;
                h.height = h.top + h.bottom
            }
            d.marginInfo = h
        }
        return h
    },
    clearMarginCache: function() {
        delete this.marginInfo;
        delete this.target.margin$
    },
    getPaddingInfo: function() {
        var a = this
          , b = a.paddingInfo;
        if (!b) {
            a.paddingInfo = b = a.checkCache("paddingInfo")
        }
        return b
    },
    getProp: function(c) {
        var b = this
          , a = b.props[c];
        b.addTrigger(c);
        return a
    },
    getDomProp: function(c) {
        var b = this
          , a = b.dirty && c in b.dirty ? undefined : b.props[c];
        b.addTrigger(c, true);
        return a
    },
    getStyle: function(a) {
        var c = this, b = c.styles, e, d;
        if (a in b) {
            d = b[a]
        } else {
            e = c.styleInfo[a];
            d = c.el.getStyle(a);
            if (e && e.parseInt) {
                d = parseInt(d, 10) || 0
            }
            b[a] = d
        }
        return d
    },
    getStyles: function(p, b) {
        var m = this, e = m.styles, q = {}, g = 0, d = p.length, k, j, l, a, c, h, s, o;
        b = b || p;
        for (k = 0; k < d; ++k) {
            a = p[k];
            if (a in e) {
                q[b[k]] = e[a];
                ++g;
                if (k && g == 1) {
                    j = p.slice(0, k);
                    l = b.slice(0, k)
                }
            } else {
                if (g) {
                    (j || (j = [])).push(a);
                    (l || (l = [])).push(b[k])
                }
            }
        }
        if (g < d) {
            j = j || p;
            l = l || b;
            h = m.styleInfo;
            s = m.el.getStyle(j);
            for (k = j.length; k--; ) {
                a = j[k];
                c = h[a];
                o = s[a];
                if (c && c.parseInt) {
                    o = parseInt(o, 10) || 0
                }
                q[l[k]] = o;
                e[a] = o
            }
        }
        return q
    },
    hasProp: function(b) {
        var a = this.getProp(b);
        return typeof a != "undefined"
    },
    hasDomProp: function(b) {
        var a = this.getDomProp(b);
        return typeof a != "undefined"
    },
    invalidate: function(a) {
        this.context.queueInvalidate(this, a)
    },
    markDirty: function() {
        if (++this.dirtyCount == 1) {
            this.context.queueFlush(this)
        }
    },
    onBoxMeasured: function() {
        var a = this.boxParent
          , b = this.state;
        if (a && a.widthModel.shrinkWrap && !b.boxMeasured && this.measuresBox) {
            b.boxMeasured = 1;
            a.boxChildMeasured()
        }
    },
    parseMargins: function(a, e, d) {
        if (e === true) {
            e = 5
        }
        var c = typeof e, b;
        if (c == "string" || c == "number") {
            b = a.parseBox(e)
        } else {
            if (e || d) {
                b = {
                    top: 0,
                    right: 0,
                    bottom: 0,
                    left: 0
                };
                if (d) {
                    Ext.apply(b, this.parseMargins(a, d))
                }
                if (e) {
                    e = Ext.apply(b, a.parseBox(e))
                }
            }
        }
        return b
    },
    peek: function(a) {
        return this.props[a]
    },
    recoverProp: function(g, b, a) {
        var e = this, d = e.props, c;
        if (g in b) {
            d[g] = b[g];
            if (a && g in a) {
                c = e.dirty || (e.dirty = {});
                c[g] = a[g]
            }
        }
    },
    redo: function(b) {
        var e = this, c, a, d;
        e.revertProps(e.props);
        if (b && e.wrapsComponent) {
            if (e.childItems) {
                for (d = 0,
                c = e.childItems,
                a = c.length; d < a; d++) {
                    c[d].redo(b)
                }
            }
            for (d = 0,
            c = e.children,
            a = c.length; d < a; d++) {
                c[d].redo()
            }
        }
    },
    removeEl: function(b, a) {
        var d = this, e, c;
        if (b) {
            if (b.dom) {
                c = b
            } else {
                e = d.target;
                if (a) {
                    e = a
                }
                c = e[b];
                if (typeof c == "function") {
                    c = c.call(e);
                    if (c === d.el) {
                        return this
                    }
                }
            }
            if (c) {
                d.context.removeEl(d, c)
            }
        }
    },
    revertProps: function(d) {
        var a, b = this.flushedProps, c = {};
        for (a in d) {
            if (b.hasOwnProperty(a)) {
                c[a] = d[a]
            }
        }
        this.writeProps(c)
    },
    setAttribute: function(a, c) {
        var b = this;
        if (!b.attributes) {
            b.attributes = {}
        }
        b.attributes[a] = c;
        b.markDirty()
    },
    setBox: function(b) {
        var a = this;
        if ("left"in b) {
            a.setProp("x", b.left)
        }
        if ("top"in b) {
            a.setProp("y", b.top)
        }
        a.setSize(b.width, b.height)
    },
    setContentHeight: function(a, b) {
        if (!b && this.hasRawContent) {
            return 1
        }
        return this.setProp("contentHeight", a)
    },
    setContentWidth: function(b, a) {
        if (!a && this.hasRawContent) {
            return 1
        }
        return this.setProp("contentWidth", b)
    },
    setContentSize: function(c, a, b) {
        return this.setContentWidth(c, b) + this.setContentHeight(a, b) == 2
    },
    setProp: function(d, c, a) {
        var b = this, h = typeof c, g, e;
        if (h == "undefined" || h === "number" && isNaN(c)) {
            return 0
        }
        if (b.props[d] === c) {
            return 1
        }
        b.props[d] = c;
        ++b.context.progressCount;
        if (a === false) {
            b.fireTriggers("domTriggers", d);
            b.clearBlocks("domBlocks", d)
        } else {
            e = b.styleInfo[d];
            if (e) {
                if (!b.dirty) {
                    b.dirty = {}
                }
                if (d == "width" || d == "height") {
                    g = b.isBorderBoxValue;
                    if (g === null) {
                        b.isBorderBoxValue = g = !!b.el.isBorderBox()
                    }
                    if (!g) {
                        b.borderInfo || b.getBorderInfo();
                        b.paddingInfo || b.getPaddingInfo()
                    }
                }
                b.dirty[d] = c;
                b.markDirty()
            }
        }
        b.fireTriggers("triggers", d);
        b.clearBlocks("blocks", d);
        return 1
    },
    setHeight: function(k, a) {
        var g = this, d = g.target, c = g.ownerCtContext, h, e, b, j, i;
        if (k < 0) {
            k = 0
        }
        if (!g.wrapsComponent) {
            if (!g.setProp("height", k, a)) {
                return NaN
            }
        } else {
            b = g.collapsedVert ? 0 : d.minHeight || 0;
            k = Ext.Number.constrain(k, b, d.maxHeight);
            j = g.props.height;
            if (!g.setProp("height", k, a)) {
                return NaN
            }
            if (c && !g.isComponentChild && isNaN(j)) {
                i = --c.remainingChildDimensions;
                if (!i) {
                    c.setProp("containerChildrenSizeDone", true)
                }
            }
            h = g.frameBodyContext;
            if (h) {
                e = g.getFrameInfo();
                h.setHeight(k - e.height, a)
            }
        }
        return k
    },
    setWidth: function(b, a) {
        var i = this, g = i.target, e = i.ownerCtContext, j, h, d, c, k;
        if (b < 0) {
            b = 0
        }
        if (!i.wrapsComponent) {
            if (!i.setProp("width", b, a)) {
                return NaN
            }
        } else {
            d = i.collapsedHorz ? 0 : g.minWidth || 0;
            b = Ext.Number.constrain(b, d, g.maxWidth);
            c = i.props.width;
            if (!i.setProp("width", b, a)) {
                return NaN
            }
            if (e && !i.isComponentChild && isNaN(c)) {
                k = --e.remainingChildDimensions;
                if (!k) {
                    e.setProp("containerChildrenSizeDone", true)
                }
            }
            j = i.frameBodyContext;
            if (j) {
                h = i.getFrameInfo();
                j.setWidth(b - h.width, a)
            }
        }
        return b
    },
    setSize: function(c, a, b) {
        this.setWidth(c, b);
        this.setHeight(a, b)
    },
    translateProps: {
        x: "left",
        y: "top"
    },
    undo: function(b) {
        var e = this, c, a, d;
        e.revertProps(e.lastBox);
        if (b && e.wrapsComponent) {
            if (e.childItems) {
                for (d = 0,
                c = e.childItems,
                a = c.length; d < a; d++) {
                    c[d].undo(b)
                }
            }
            for (d = 0,
            c = e.children,
            a = c.length; d < a; d++) {
                c[d].undo()
            }
        }
    },
    unsetProp: function(b) {
        var a = this.dirty;
        delete this.props[b];
        if (a) {
            delete a[b]
        }
    },
    writeProps: function(e, d) {
        if (!(e && typeof e == "object")) {
            Ext.Logger.warn("writeProps expected dirtyProps to be an object");
            return
        }
        var x = this, c = x.el, i = {}, h = 0, b = x.styleInfo, w, j, n, p = e.width, l = e.height, v = x.isBorderBoxValue, y = x.target, s = Math.max, u = 0, k = 0, g, a, o, q, t, m;
        if ("displayed"in e) {
            c.setDisplayed(e.displayed)
        }
        for (j in e) {
            if (d) {
                x.fireTriggers("domTriggers", j);
                x.clearBlocks("domBlocks", j);
                x.flushedProps[j] = 1
            }
            w = b[j];
            if (w && w.dom) {
                if (w.suffix && (n = parseInt(e[j], 10))) {
                    i[j] = n + w.suffix
                } else {
                    i[j] = e[j]
                }
                ++h
            }
        }
        if ("x"in e || "y"in e) {
            if (y.isComponent) {
                y.setPosition(e.x, e.y)
            } else {
                h += x.addPositionStyles(i, e)
            }
        }
        if (!v && (p > 0 || l > 0)) {
            if (!(x.borderInfo && x.paddingInfo)) {
                throw Error("Needed to have gotten the borderInfo and paddingInfo when the width or height was setProp'd")
            }
            if (!x.frameBodyContext) {
                u = x.paddingInfo.width;
                k = x.paddingInfo.height
            }
            if (p) {
                p = s(parseInt(p, 10) - (x.borderInfo.width + u), 0);
                i.width = p + "px";
                ++h
            }
            if (l) {
                l = s(parseInt(l, 10) - (x.borderInfo.height + k), 0);
                i.height = l + "px";
                ++h
            }
        }
        if (x.wrapsComponent && Ext.isIE9 && Ext.isStrict) {
            if ((g = p !== undefined && x.hasOverflowY) || (a = l !== undefined && x.hasOverflowX)) {
                o = x.isAbsolute;
                if (o === undefined) {
                    o = false;
                    m = x.target.getTargetEl();
                    t = m.getStyle("position");
                    if (t == "absolute") {
                        t = m.getStyle("box-sizing");
                        o = t == "border-box"
                    }
                    x.isAbsolute = o
                }
                if (o) {
                    q = Ext.getScrollbarSize();
                    if (g) {
                        p = parseInt(p, 10) + q.width;
                        i.width = p + "px";
                        ++h
                    }
                    if (a) {
                        l = parseInt(l, 10) + q.height;
                        i.height = l + "px";
                        ++h
                    }
                }
            }
        }
        if (h) {
            c.setStyle(i)
        }
    }
}, function() {
    var c = {
        dom: true,
        parseInt: true,
        suffix: "px"
    }
      , b = {
        dom: true
    }
      , a = {
        dom: false
    };
    this.prototype.styleInfo = {
        containerChildrenSizeDone: a,
        containerLayoutDone: a,
        displayed: a,
        done: a,
        x: a,
        y: a,
        columnWidthsDone: a,
        left: c,
        top: c,
        right: c,
        bottom: c,
        width: c,
        height: c,
        "border-top-width": c,
        "border-right-width": c,
        "border-bottom-width": c,
        "border-left-width": c,
        "margin-top": c,
        "margin-right": c,
        "margin-bottom": c,
        "margin-left": c,
        "padding-top": c,
        "padding-right": c,
        "padding-bottom": c,
        "padding-left": c,
        "line-height": b,
        display: b
    }
});
Ext.define("Ext.layout.Context", {
    remainingLayouts: 0,
    state: 0,
    constructor: function(a) {
        var b = this;
        Ext.apply(b, a);
        b.items = {};
        b.layouts = {};
        b.blockCount = 0;
        b.cycleCount = 0;
        b.flushCount = 0;
        b.calcCount = 0;
        b.animateQueue = b.newQueue();
        b.completionQueue = b.newQueue();
        b.finalizeQueue = b.newQueue();
        b.finishQueue = b.newQueue();
        b.flushQueue = b.newQueue();
        b.invalidateData = {};
        b.layoutQueue = b.newQueue();
        b.invalidQueue = [];
        b.triggers = {
            data: {},
            dom: {}
        }
    },
    callLayout: function(b, a) {
        this.currentLayout = b;
        b[a](this.getCmp(b.owner))
    },
    cancelComponent: function(j, a, m) {
        var p = this, h = j, l = !j.isComponent, b = l ? h.length : 1, d, c, o, n, g, t, q, s, u, e;
        for (d = 0; d < b; ++d) {
            if (l) {
                j = h[d]
            }
            if (m && j.ownerCt) {
                e = this.items[j.ownerCt.el.id];
                if (e) {
                    Ext.Array.remove(e.childItems, p.getCmp(j))
                }
            }
            if (!a) {
                q = p.invalidQueue;
                o = q.length;
                if (o) {
                    p.invalidQueue = t = [];
                    for (c = 0; c < o; ++c) {
                        s = q[c];
                        u = s.item.target;
                        if (u != j && !u.isDescendant(j)) {
                            t.push(s)
                        }
                    }
                }
            }
            g = j.componentLayout;
            p.cancelLayout(g);
            if (g.getLayoutItems) {
                n = g.getLayoutItems();
                if (n.length) {
                    p.cancelComponent(n, true)
                }
            }
            if (j.isContainer && !j.collapsed) {
                g = j.layout;
                p.cancelLayout(g);
                n = g.getVisibleItems();
                if (n.length) {
                    p.cancelComponent(n, true)
                }
            }
        }
    },
    cancelLayout: function(b) {
        var a = this;
        a.completionQueue.remove(b);
        a.finalizeQueue.remove(b);
        a.finishQueue.remove(b);
        a.layoutQueue.remove(b);
        if (b.running) {
            a.layoutDone(b)
        }
        b.ownerContext = null
    },
    clearTriggers: function(g, h) {
        var a = g.id, e = this.triggers[h ? "dom" : "data"], j = e && e[a], b = j && j.length || 0, e, d, k, c;
        for (d = 0; d < b; ++d) {
            c = j[d];
            k = c.item;
            e = h ? k.domTriggers : k.triggers;
            delete e[c.prop][a]
        }
    },
    flush: function() {
        var d = this, a = d.flushQueue.clear(), c = a.length, b;
        if (c) {
            ++d.flushCount;
            for (b = 0; b < c; ++b) {
                a[b].flush()
            }
        }
    },
    flushAnimations: function() {
        var d = this, b = d.animateQueue.clear(), a = b.length, c;
        if (a) {
            for (c = 0; c < a; c++) {
                if (b[c].target.animate !== false) {
                    b[c].flushAnimations()
                }
            }
            Ext.fx.Manager.runner()
        }
    },
    flushInvalidates: function() {
        var h = this, a = h.invalidQueue, g = a && a.length, b, e, d, c;
        h.invalidQueue = [];
        if (g) {
            e = [];
            for (c = 0; c < g; ++c) {
                b = (d = a[c]).item.target;
                if (!b.container.isDetachedBody) {
                    e.push(b);
                    if (d.options) {
                        h.invalidateData[b.id] = d.options
                    }
                }
            }
            h.invalidate(e, null)
        }
    },
    flushLayouts: function(h, a, c) {
        var g = this, j = c ? g[h].items : g[h].clear(), e = j.length, b, d;
        if (e) {
            for (b = 0; b < e; ++b) {
                d = j[b];
                if (!d.running) {
                    g.callLayout(d, a)
                }
            }
            g.currentLayout = null
        }
    },
    getCmp: function(a) {
        return this.getItem(a, a.el)
    },
    getEl: function(b, a) {
        var c = this.getItem(a, a);
        if (!c.parent) {
            c.parent = b;
            if (b.children.length) {
                b.children.push(c)
            } else {
                b.children = [c]
            }
        }
        return c
    },
    getItem: function(d, b) {
        var e = b.id
          , a = this.items
          , c = a[e] || (a[e] = new Ext.layout.ContextItem({
            context: this,
            target: d,
            el: b
        }));
        return c
    },
    handleFailure: function() {
        var c = this.layouts, b, a;
        Ext.failedLayouts = (Ext.failedLayouts || 0) + 1;
        for (a in c) {
            b = c[a];
            if (c.hasOwnProperty(a)) {
                b.running = false;
                b.ownerContext = null
            }
        }
        if (Ext.repoDevMode && !this.pageAnalyzerMode) {
            Ext.Error.raise("Layout run failed")
        } else {
            Ext.log.error("Layout run failed")
        }
    },
    invalidate: function(k, n) {
        var p = this, m = !k.isComponent, c, a, g, l, q, o, b, h, j, e, d;
        for (g = 0,
        b = m ? k.length : 1; g < b; ++g) {
            l = m ? k[g] : k;
            if (l.rendered && !l.hidden) {
                q = p.getCmp(l);
                h = l.componentLayout;
                a = !h.ownerContext;
                j = l.isContainer && !l.collapsed ? l.layout : null;
                e = p.invalidateData[q.id];
                delete p.invalidateData[q.id];
                d = q.init(n, e);
                if (e) {
                    p.processInvalidate(e, q, "before")
                }
                if (h.beforeLayoutCycle) {
                    h.beforeLayoutCycle(q)
                }
                if (j && j.beforeLayoutCycle) {
                    j.beforeLayoutCycle(q)
                }
                d = q.initContinue(d);
                c = true;
                if (h.getLayoutItems) {
                    h.renderChildren();
                    o = h.getLayoutItems();
                    if (o.length) {
                        p.invalidate(o, true)
                    }
                }
                if (j) {
                    c = false;
                    j.renderChildren();
                    o = j.getVisibleItems();
                    if (o.length) {
                        p.invalidate(o, true)
                    }
                }
                q.initDone(c);
                p.resetLayout(h, q, a);
                if (j) {
                    p.resetLayout(j, q, a)
                }
                q.initAnimation();
                if (e) {
                    p.processInvalidate(e, q, "after")
                }
            }
        }
        p.currentLayout = null
    },
    layoutDone: function(a) {
        var b = a.ownerContext;
        a.running = false;
        if (a.isComponentLayout) {
            if (b.measuresBox) {
                b.onBoxMeasured()
            }
            b.setProp("done", true)
        } else {
            b.setProp("containerLayoutDone", true)
        }
        --this.remainingLayouts;
        ++this.progressCount
    },
    newQueue: function() {
        return new Ext.util.Queue()
    },
    processInvalidate: function(b, e, a) {
        if (b[a]) {
            var d = this
              , c = d.currentLayout;
            d.currentLayout = b.layout || null;
            b[a](e, b);
            d.currentLayout = c
        }
    },
    queueAnimation: function(a) {
        this.animateQueue.add(a)
    },
    queueCompletion: function(a) {
        this.completionQueue.add(a)
    },
    queueFinalize: function(a) {
        this.finalizeQueue.add(a)
    },
    queueFlush: function(a) {
        this.flushQueue.add(a)
    },
    chainFns: function(a, i, g) {
        var d = this
          , c = a.layout
          , e = i.layout
          , b = a[g]
          , h = i[g];
        return function(j) {
            var k = d.currentLayout;
            if (b) {
                d.currentLayout = c;
                b.call(a.scope || a, j, a)
            }
            d.currentLayout = e;
            h.call(i.scope || i, j, i);
            d.currentLayout = k
        }
    },
    queueInvalidate: function(k, l) {
        var h = this, j = [], i = h.invalidQueue, g = i.length, d, b, e, a, c;
        if (k.isComponent) {
            k = h.getCmp(d = k)
        } else {
            d = k.target
        }
        k.invalid = true;
        while (g--) {
            b = i[g];
            e = b.item.target;
            if (d.isDescendant(e)) {
                return
            }
            if (e == d) {
                if (!(a = b.options)) {
                    b.options = l
                } else {
                    if (l) {
                        if (l.widthModel) {
                            a.widthModel = l.widthModel
                        }
                        if (l.heightModel) {
                            a.heightModel = l.heightModel
                        }
                        if (!(c = a.state)) {
                            a.state = l.state
                        } else {
                            if (l.state) {
                                Ext.apply(c, l.state)
                            }
                        }
                        if (l.before) {
                            a.before = h.chainFns(a, l, "before")
                        }
                        if (l.after) {
                            a.after = h.chainFns(a, l, "after")
                        }
                    }
                }
                return
            }
            if (!e.isDescendant(d)) {
                j.push(b)
            }
        }
        j.push({
            item: k,
            options: l
        });
        h.invalidQueue = j
    },
    queueItemLayouts: function(c) {
        var a = c.isComponent ? c : c.target
          , b = a.componentLayout;
        if (!b.pending && !b.invalid && !b.done) {
            this.queueLayout(b)
        }
        b = a.layout;
        if (b && !b.pending && !b.invalid && !b.done) {
            this.queueLayout(b)
        }
    },
    queueLayout: function(a) {
        this.layoutQueue.add(a);
        a.pending = true
    },
    removeEl: function(d, c) {
        var e = c.id
          , b = d.children
          , a = this.items;
        if (b) {
            Ext.Array.remove(b, a[e])
        }
        delete a[e]
    },
    resetLayout: function(b, c, d) {
        var a = this;
        a.currentLayout = b;
        b.done = false;
        b.pending = true;
        b.firedTriggers = 0;
        a.layoutQueue.add(b);
        if (d) {
            a.layouts[b.id] = b;
            b.running = true;
            if (b.finishedLayout) {
                a.finishQueue.add(b)
            }
            ++a.remainingLayouts;
            ++b.layoutCount;
            b.ownerContext = c;
            b.beginCount = 0;
            b.blockCount = 0;
            b.calcCount = 0;
            b.triggerCount = 0;
            if (!b.initialized) {
                b.initLayout()
            }
            b.beginLayout(c)
        } else {
            ++b.beginCount;
            if (!b.running) {
                ++a.remainingLayouts;
                b.running = true;
                if (b.isComponentLayout) {
                    c.unsetProp("done")
                }
                a.completionQueue.remove(b);
                a.finalizeQueue.remove(b)
            }
        }
        b.beginLayoutCycle(c, d)
    },
    run: function() {
        var c = this
          , b = false
          , a = 100;
        c.flushInvalidates();
        c.state = 1;
        c.totalCount = c.layoutQueue.getCount();
        c.flush();
        while ((c.remainingLayouts || c.invalidQueue.length) && a--) {
            if (c.invalidQueue.length) {
                c.flushInvalidates()
            }
            if (c.runCycle()) {
                b = false
            } else {
                if (!b) {
                    c.flush();
                    b = true;
                    c.flushLayouts("completionQueue", "completeLayout")
                } else {
                    if (!c.invalidQueue.length) {
                        c.state = 2;
                        break
                    }
                }
            }
            if (!(c.remainingLayouts || c.invalidQueue.length)) {
                c.flush();
                c.flushLayouts("completionQueue", "completeLayout");
                c.flushLayouts("finalizeQueue", "finalizeLayout")
            }
        }
        return c.runComplete()
    },
    runComplete: function() {
        var a = this;
        a.state = 2;
        if (a.remainingLayouts) {
            a.handleFailure();
            return false
        }
        a.flush();
        a.flushLayouts("finishQueue", "finishedLayout", true);
        a.flushLayouts("finishQueue", "notifyOwner");
        a.flush();
        a.flushAnimations();
        return true
    },
    runCycle: function() {
        var c = this, d = c.layoutQueue.clear(), b = d.length, a;
        ++c.cycleCount;
        c.progressCount = 0;
        for (a = 0; a < b; ++a) {
            c.runLayout(c.currentLayout = d[a])
        }
        c.currentLayout = null;
        return c.progressCount > 0
    },
    runLayout: function(b) {
        var a = this
          , c = a.getCmp(b.owner);
        b.pending = false;
        if (c.state.blocks) {
            return
        }
        b.done = true;
        ++b.calcCount;
        ++a.calcCount;
        b.calculate(c);
        if (b.done) {
            a.layoutDone(b);
            if (b.completeLayout) {
                a.queueCompletion(b)
            }
            if (b.finalizeLayout) {
                a.queueFinalize(b)
            }
        } else {
            if (!b.pending && !b.invalid && !(b.blockCount + b.triggerCount - b.firedTriggers)) {
                a.queueLayout(b)
            }
        }
    },
    setItemSize: function(h, g, b) {
        var d = h, a = 1, c, e;
        if (h.isComposite) {
            d = h.elements;
            a = d.length;
            h = d[0]
        } else {
            if (!h.dom && !h.el) {
                a = d.length;
                h = d[0]
            }
        }
        for (e = 0; e < a; ) {
            c = this.get(h);
            c.setSize(g, b);
            h = d[++e]
        }
    }
});
Ext.define("Ext.dom.Layer", {
    extend: Ext.Element,
    alternateClassName: "Ext.Layer",
    statics: {
        shims: []
    },
    isLayer: true,
    localXYNames: {
        get: "getLocalXY",
        set: "setLocalXY"
    },
    constructor: function(c, b) {
        c = c || {};
        var d = this
          , e = Ext.DomHelper
          , h = c.parentEl
          , g = h ? Ext.getDom(h) : document.body
          , i = c.hideMode
          , a = Ext.baseCSSPrefix + (c.fixed && !(Ext.isIE6 || Ext.isIEQuirks) ? "fixed-layer" : "layer");
        d.el = d;
        if (b) {
            d.dom = Ext.getDom(b)
        }
        if (!d.dom) {
            d.dom = e.append(g, c.dh || {
                tag: "div",
                cls: a
            })
        } else {
            d.addCls(a);
            if (!d.dom.parentNode) {
                g.appendChild(d.dom)
            }
        }
        if (c.id) {
            d.id = d.dom.id = c.id
        } else {
            d.id = Ext.id(d.dom)
        }
        Ext.Element.addToCache(d);
        if (c.cls) {
            d.addCls(c.cls)
        }
        d.constrain = c.constrain !== false;
        if (i) {
            d.setVisibilityMode(Ext.Element[i.toUpperCase()]);
            if (d.visibilityMode == Ext.Element.ASCLASS) {
                d.visibilityCls = c.visibilityCls
            }
        } else {
            if (c.useDisplay) {
                d.setVisibilityMode(Ext.Element.DISPLAY)
            } else {
                d.setVisibilityMode(Ext.Element.VISIBILITY)
            }
        }
        if (c.shadow) {
            d.shadowOffset = c.shadowOffset || 4;
            d.shadow = new Ext.Shadow({
                offset: d.shadowOffset,
                mode: c.shadow,
                fixed: c.fixed
            });
            d.disableShadow()
        } else {
            d.shadowOffset = 0
        }
        d.useShim = c.shim !== false && Ext.useShims;
        if (c.hidden === true) {
            d.hide()
        } else {
            d.show()
        }
    },
    getZIndex: function() {
        return parseInt((this.getShim() || this).getStyle("z-index"), 10)
    },
    getShim: function() {
        var b = this, c, a;
        if (!b.useShim) {
            return null
        }
        if (!b.shim) {
            c = b.self.shims.shift();
            if (!c) {
                c = b.createShim();
                c.enableDisplayMode("block");
                c.hide()
            }
            a = b.dom.parentNode;
            if (c.dom.parentNode != a) {
                a.insertBefore(c.dom, b.dom)
            }
            b.shim = c
        }
        return b.shim
    },
    hideShim: function() {
        var a = this;
        if (a.shim) {
            a.shim.setDisplayed(false);
            a.self.shims.push(a.shim);
            delete a.shim
        }
    },
    disableShadow: function() {
        var a = this;
        if (a.shadow && !a.shadowDisabled) {
            a.shadowDisabled = true;
            a.shadow.hide();
            a.lastShadowOffset = a.shadowOffset;
            a.shadowOffset = 0
        }
    },
    enableShadow: function(a) {
        var b = this;
        if (b.shadow && b.shadowDisabled) {
            b.shadowDisabled = false;
            b.shadowOffset = b.lastShadowOffset;
            delete b.lastShadowOffset;
            if (a) {
                b.sync(true)
            }
        }
    },
    sync: function(b) {
        var i = this, n = i.shadow, g, d, a, c, o, k, j, m, e, l;
        if (!i.updating && i.isVisible() && (n || i.useShim)) {
            c = i.getShim();
            o = i[i.localXYNames.get]();
            k = o[0];
            j = o[1];
            m = i.dom.offsetWidth;
            e = i.dom.offsetHeight;
            if (n && !i.shadowDisabled) {
                if (b && !n.isVisible()) {
                    n.show(i)
                } else {
                    n.realign(k, j, m, e)
                }
                if (c) {
                    l = c.getStyle("z-index");
                    if (l > i.zindex) {
                        i.shim.setStyle("z-index", i.zindex - 2)
                    }
                    c.show();
                    if (n.isVisible()) {
                        g = n.el.getXY();
                        d = c.dom.style;
                        a = n.el.getSize();
                        if (Ext.supports.CSS3BoxShadow) {
                            a.height += 6;
                            a.width += 4;
                            g[0] -= 2;
                            g[1] -= 4
                        }
                        d.left = g[0] + "px";
                        d.top = g[1] + "px";
                        d.width = a.width + "px";
                        d.height = a.height + "px"
                    } else {
                        c.setSize(m, e);
                        c[i.localXYNames.set](k, j)
                    }
                }
            } else {
                if (c) {
                    l = c.getStyle("z-index");
                    if (l > i.zindex) {
                        i.shim.setStyle("z-index", i.zindex - 2)
                    }
                    c.show();
                    c.setSize(m, e);
                    c[i.localXYNames.set](k, j)
                }
            }
        }
        return i
    },
    remove: function() {
        this.hideUnders();
        this.callParent()
    },
    beginUpdate: function() {
        this.updating = true
    },
    endUpdate: function() {
        this.updating = false;
        this.sync(true)
    },
    hideUnders: function() {
        if (this.shadow) {
            this.shadow.hide()
        }
        this.hideShim()
    },
    constrainXY: function() {
        if (this.constrain) {
            var g = Ext.Element.getViewWidth()
              , b = Ext.Element.getViewHeight()
              , l = Ext.getDoc().getScroll()
              , k = this.getXY()
              , i = k[0]
              , e = k[1]
              , a = this.shadowOffset
              , j = this.dom.offsetWidth + a
              , c = this.dom.offsetHeight + a
              , d = false;
            if (i + j > g + l.left) {
                i = g - j - a;
                d = true
            }
            if (e + c > b + l.top) {
                e = b - c - a;
                d = true
            }
            if (i < l.left) {
                i = l.left;
                d = true
            }
            if (e < l.top) {
                e = l.top;
                d = true
            }
            if (d) {
                Ext.Layer.superclass.setXY.call(this, [i, e]);
                this.sync()
            }
        }
        return this
    },
    getConstrainOffset: function() {
        return this.shadowOffset
    },
    setVisible: function(e, b, d, h, g) {
        var c = this, a;
        a = function() {
            if (e) {
                c.sync(true)
            }
            if (h) {
                h()
            }
        }
        ;
        if (!e) {
            c.hideUnders(true)
        }
        c.callParent([e, b, d, h, g]);
        if (!b) {
            a()
        }
        return c
    },
    beforeFx: function() {
        this.beforeAction();
        return this.callParent(arguments)
    },
    afterFx: function() {
        this.callParent(arguments);
        this.sync(this.isVisible())
    },
    beforeAction: function() {
        if (!this.updating && this.shadow) {
            this.shadow.hide()
        }
    },
    setLeft: function(a) {
        this.callParent(arguments);
        return this.sync()
    },
    setTop: function(a) {
        this.callParent(arguments);
        return this.sync()
    },
    setLeftTop: function(b, a) {
        this.callParent(arguments);
        return this.sync()
    },
    setLocalX: function() {
        this.callParent(arguments);
        return this.sync()
    },
    setLocalXY: function() {
        this.callParent(arguments);
        return this.sync()
    },
    setLocalY: function() {
        this.callParent(arguments);
        return this.sync()
    },
    setXY: function(d, a, c, g, e) {
        var b = this;
        g = b.createCB(g);
        b.fixDisplay();
        b.beforeAction();
        b.callParent([d, a, c, g, e]);
        if (!a) {
            g()
        }
        return b
    },
    createCB: function(c) {
        var a = this
          , b = a.shadow && a.shadow.isVisible();
        return function() {
            a.constrainXY();
            a.sync(b);
            if (c) {
                c()
            }
        }
    },
    setX: function(a, b, c, e, d) {
        this.setXY([a, this.getY()], b, c, e, d);
        return this
    },
    setY: function(e, a, b, d, c) {
        this.setXY([this.getX(), e], a, b, d, c);
        return this
    },
    setSize: function(a, c, b, e, i, g) {
        var d = this;
        i = d.createCB(i);
        d.beforeAction();
        d.callParent([a, c, b, e, i, g]);
        if (!b) {
            i()
        }
        return d
    },
    setWidth: function(a, b, d, g, e) {
        var c = this;
        g = c.createCB(g);
        c.beforeAction();
        c.callParent([a, b, d, g, e]);
        if (!b) {
            g()
        }
        return c
    },
    setHeight: function(b, a, d, g, e) {
        var c = this;
        g = c.createCB(g);
        c.beforeAction();
        c.callParent([b, a, d, g, e]);
        if (!a) {
            g()
        }
        return c
    },
    setBounds: function(h, g, a, j, b, c, i, d) {
        var e = this;
        i = e.createCB(i);
        e.beforeAction();
        if (!b) {
            Ext.Layer.superclass.setXY.call(e, [h, g]);
            Ext.Layer.superclass.setSize.call(e, a, j);
            i()
        } else {
            e.callParent([h, g, a, j, b, c, i, d])
        }
        return e
    },
    setZIndex: function(a) {
        var b = this;
        b.zindex = a;
        if (b.getShim()) {
            b.shim.setStyle("z-index", a++)
        }
        if (b.shadow) {
            b.shadow.setZIndex(a++)
        }
        return b.setStyle("z-index", a)
    },
    onOpacitySet: function(a) {
        var b = this.shadow;
        if (b) {
            b.setOpacity(a)
        }
    }
});
Ext.define("Ext.util.ComponentDragger", {
    extend: Ext.dd.DragTracker,
    autoStart: 500,
    constructor: function(a, b) {
        this.comp = a;
        this.initialConstrainTo = b.constrainTo;
        this.callParent([b])
    },
    onStart: function(c) {
        var b = this
          , a = b.comp;
        this.startPosition = a.getXY();
        if (a.ghost && !a.liveDrag) {
            b.proxy = a.ghost();
            b.dragTarget = b.proxy.header.el
        }
        if (b.constrain || b.constrainDelegate) {
            b.constrainTo = b.calculateConstrainRegion()
        }
        if (a.beginDrag) {
            a.beginDrag()
        }
    },
    calculateConstrainRegion: function() {
        var g = this, d = g.comp, j = g.initialConstrainTo, b, h, i, a = g.proxy ? g.proxy.el : d.el, e = !g.constrainDelegate && a.shadow && !a.shadowDisabled ? a.shadow.getShadowSize() : 0;
        if (!(j instanceof Ext.util.Region)) {
            b = Ext.fly(j);
            j = b.getViewRegion();
            j.right = j.left + b.dom.clientWidth
        }
        if (e) {
            j.adjust(e[0], -e[1], -e[2], e[3])
        }
        if (!g.constrainDelegate) {
            h = Ext.fly(g.dragTarget).getRegion();
            i = a.getRegion();
            j.adjust(h.top - i.top, h.right - i.right, h.bottom - i.bottom, h.left - i.left)
        }
        return j
    },
    onDrag: function(c) {
        var b = this
          , a = b.proxy && !b.comp.liveDrag ? b.proxy : b.comp
          , d = b.getOffset(b.constrain || b.constrainDelegate ? "dragTarget" : null);
        a.setPagePosition(b.startPosition[0] + d[0], b.startPosition[1] + d[1])
    },
    onEnd: function(b) {
        var a = this.comp;
        if (a.isDestroyed || a.destroying) {
            return
        }
        if (this.proxy && !a.liveDrag) {
            a.unghost()
        }
        if (a.endDrag) {
            a.endDrag()
        }
    }
});
Ext.define("Ext.window.Window", {
    extend: Ext.panel.Panel,
    alternateClassName: "Ext.Window",
    alias: "widget.window",
    baseCls: Ext.baseCSSPrefix + "window",
    resizable: true,
    draggable: true,
    constrain: false,
    constrainHeader: false,
    plain: false,
    minimizable: false,
    maximizable: false,
    minHeight: 50,
    minWidth: 50,
    expandOnShow: true,
    collapsible: false,
    closable: true,
    hidden: true,
    autoRender: true,
    hideMode: "offsets",
    floating: true,
    ariaRole: "alertdialog",
    itemCls: Ext.baseCSSPrefix + "window-item",
    initialAlphaNum: /^[a-z0-9]/,
    overlapHeader: true,
    ignoreHeaderBorderManagement: true,
    alwaysFramed: true,
    isRootCfg: {
        isRoot: true
    },
    isWindow: true,
    initComponent: function() {
        var a = this;
        a.frame = false;
        a.callParent();
        a.addEvents("resize", "maximize", "minimize", "restore");
        if (a.plain) {
            a.addClsWithUI("plain")
        }
        if (a.modal) {
            a.ariaRole = "dialog"
        }
        a.addStateEvents(["maximize", "restore", "resize", "dragend"])
    },
    getElConfig: function() {
        var b = this, a;
        a = b.callParent();
        a.tabIndex = -1;
        return a
    },
    getState: function() {
        var b = this, d = b.callParent() || {}, a = !!b.maximized, c = b.ghostBox, e;
        d.maximized = a;
        if (a) {
            e = b.restorePos
        } else {
            if (c) {
                e = [c.x, c.y]
            } else {
                e = b.getPosition()
            }
        }
        Ext.apply(d, {
            size: a ? b.restoreSize : b.getSize(),
            pos: e
        });
        return d
    },
    applyState: function(b) {
        var a = this;
        if (b) {
            a.maximized = b.maximized;
            if (a.maximized) {
                a.hasSavedRestore = true;
                a.restoreSize = b.size;
                a.restorePos = b.pos
            } else {
                Ext.apply(a, {
                    width: b.size.width,
                    height: b.size.height,
                    x: b.pos[0],
                    y: b.pos[1]
                })
            }
        }
    },
    onRender: function(b, a) {
        var c = this;
        c.callParent(arguments);
        c.focusEl = c.el;
        if (c.maximizable) {
            c.header.on({
                scope: c,
                dblclick: c.toggleMaximize
            })
        }
    },
    afterRender: function() {
        var a = this, c = a.header, b;
        a.callParent();
        if (a.maximized) {
            a.maximized = false;
            a.maximize();
            if (c) {
                c.removeCls(c.indicateDragCls)
            }
        }
        if (a.closable) {
            b = a.getKeyMap();
            b.on(27, a.onEsc, a)
        } else {
            b = a.keyMap
        }
        if (b && a.hidden) {
            b.disable()
        }
    },
    initDraggable: function() {
        this.initSimpleDraggable()
    },
    initResizable: function() {
        this.callParent(arguments);
        if (this.maximized) {
            this.resizer.disable()
        }
    },
    onEsc: function(a, b) {
        if (!Ext.FocusManager || !Ext.FocusManager.enabled || Ext.FocusManager.focusedCmp === this) {
            b.stopEvent();
            this.close()
        }
    },
    beforeDestroy: function() {
        var a = this;
        if (a.rendered) {
            delete this.animateTarget;
            a.hide();
            Ext.destroy(a.keyMap)
        }
        a.callParent()
    },
    addTools: function() {
        var a = this;
        a.callParent();
        if (a.minimizable) {
            a.addTool({
                type: "minimize",
                handler: Ext.Function.bind(a.minimize, a, [])
            })
        }
        if (a.maximizable) {
            a.addTool({
                type: "maximize",
                handler: Ext.Function.bind(a.maximize, a, [])
            });
            a.addTool({
                type: "restore",
                handler: Ext.Function.bind(a.restore, a, []),
                hidden: true
            })
        }
    },
    getFocusEl: function() {
        return this.getDefaultFocus()
    },
    getDefaultFocus: function() {
        var c = this, b, d = c.defaultButton || c.defaultFocus, a;
        if (d !== undefined) {
            if (Ext.isNumber(d)) {
                b = c.query("button")[d]
            } else {
                if (Ext.isString(d)) {
                    a = d;
                    if (a.match(c.initialAlphaNum)) {
                        b = c.down("#" + a)
                    }
                    if (!b) {
                        b = c.down(a)
                    }
                } else {
                    if (d.focus) {
                        b = d
                    }
                }
            }
        }
        return b || c.el
    },
    onFocus: function() {
        var b = this, a;
        if (Ext.FocusManager && Ext.FocusManager.enabled || (a = b.getDefaultFocus()) === b) {
            b.callParent(arguments)
        } else {
            a.focus()
        }
    },
    beforeLayout: function() {
        var a = this.el.shadow;
        this.callParent();
        if (a) {
            a.hide()
        }
    },
    onShow: function() {
        var a = this;
        a.callParent(arguments);
        if (a.expandOnShow) {
            a.expand(false)
        }
        a.syncMonitorWindowResize();
        if (a.keyMap) {
            a.keyMap.enable()
        }
    },
    doClose: function() {
        var a = this;
        if (a.hidden) {
            a.fireEvent("close", a);
            if (a.closeAction == "destroy") {
                this.destroy()
            }
        } else {
            a.hide(a.animateTarget, a.doClose, a)
        }
    },
    afterHide: function() {
        var a = this;
        a.syncMonitorWindowResize();
        if (a.keyMap) {
            a.keyMap.disable()
        }
        a.callParent(arguments)
    },
    onWindowResize: function() {
        var b = this, a;
        if (b.maximized) {
            b.fitContainer()
        } else {
            a = b.getSizeModel();
            if (a.width.natural || a.height.natural) {
                b.updateLayout()
            }
            b.doConstrain()
        }
    },
    minimize: function() {
        this.fireEvent("minimize", this);
        return this
    },
    resumeHeaderLayout: function(a) {
        this.header.resumeLayouts(a ? this.isRootCfg : null)
    },
    afterCollapse: function() {
        var a = this
          , c = a.header
          , b = a.tools;
        if (c && a.maximizable) {
            c.suspendLayouts();
            b.maximize.hide();
            b.restore.hide();
            this.resumeHeaderLayout(true)
        }
        if (a.resizer) {
            a.resizer.disable()
        }
        a.callParent(arguments)
    },
    afterExpand: function() {
        var a = this, d = a.header, b = a.tools, c;
        if (d) {
            d.suspendLayouts();
            if (a.maximized) {
                b.restore.show();
                c = true
            } else {
                if (a.maximizable) {
                    b.maximize.show();
                    c = true
                }
            }
            this.resumeHeaderLayout(c)
        }
        if (a.resizer) {
            a.resizer.enable()
        }
        a.callParent(arguments)
    },
    maximize: function(a) {
        var b = this, e = b.header, c = b.tools, d;
        if (!b.maximized) {
            b.expand(false);
            if (!b.hasSavedRestore) {
                b.restoreSize = b.getSize();
                b.restorePos = b.getPosition(true)
            }
            if (e) {
                e.suspendLayouts();
                if (c.maximize) {
                    c.maximize.hide();
                    d = true
                }
                if (c.restore) {
                    c.restore.show();
                    d = true
                }
                if (b.collapseTool) {
                    b.collapseTool.hide();
                    d = true
                }
                b.resumeHeaderLayout(d)
            }
            b.maximized = true;
            b.el.disableShadow();
            if (b.dd) {
                b.dd.disable();
                if (e) {
                    e.removeCls(e.indicateDragCls)
                }
            }
            if (b.resizer) {
                b.resizer.disable()
            }
            b.el.addCls(Ext.baseCSSPrefix + "window-maximized");
            b.container.addCls(Ext.baseCSSPrefix + "window-maximized-ct");
            b.syncMonitorWindowResize();
            b.fitContainer(a = a || !!b.animateTarget ? {
                callback: function() {
                    b.fireEvent("maximize", b)
                }
            } : null);
            if (!a) {
                b.fireEvent("maximize", b)
            }
        }
        return b
    },
    restore: function(b) {
        var c = this, d = c.tools, g = c.header, a = c.restoreSize, e;
        if (c.maximized) {
            c.hasSavedRestore = null;
            c.removeCls(Ext.baseCSSPrefix + "window-maximized");
            if (g) {
                g.suspendLayouts();
                if (d.restore) {
                    d.restore.hide();
                    e = true
                }
                if (d.maximize) {
                    d.maximize.show();
                    e = true
                }
                if (c.collapseTool) {
                    c.collapseTool.show();
                    e = true
                }
                c.resumeHeaderLayout(e)
            }
            c.maximized = false;
            a.x = c.restorePos[0];
            a.y = c.restorePos[1];
            c.setBox(a, b = b || !!c.animateTarget ? {
                callback: function() {
                    c.el.enableShadow(true);
                    c.fireEvent("restore", c)
                }
            } : null);
            c.restorePos = c.restoreSize = null;
            if (c.dd) {
                c.dd.enable();
                if (g) {
                    g.addCls(g.indicateDragCls)
                }
            }
            if (c.resizer) {
                c.resizer.enable()
            }
            c.container.removeCls(Ext.baseCSSPrefix + "window-maximized-ct");
            c.syncMonitorWindowResize();
            if (!b) {
                c.el.enableShadow(true);
                c.fireEvent("restore", c)
            }
        }
        return c
    },
    syncMonitorWindowResize: function() {
        var b = this
          , c = b._monitoringResize
          , d = b.monitorResize || b.constrain || b.constrainHeader || b.maximized
          , a = b.hidden || b.destroying || b.isDestroyed;
        if (d && !a) {
            if (!c) {
                Ext.EventManager.onWindowResize(b.onWindowResize, b, {
                    delay: 1
                });
                b._monitoringResize = true
            }
        } else {
            if (c) {
                Ext.EventManager.removeResizeListener(b.onWindowResize, b);
                b._monitoringResize = false
            }
        }
    },
    toggleMaximize: function() {
        return this[this.maximized ? "restore" : "maximize"]()
    }
});
Ext.define("Ext.toolbar.TextItem", {
    extend: Ext.toolbar.Item,
    alias: "widget.tbtext",
    alternateClassName: "Ext.Toolbar.TextItem",
    text: "",
    renderTpl: "{text}",
    baseCls: Ext.baseCSSPrefix + "toolbar-text",
    beforeRender: function() {
        var a = this;
        a.callParent();
        Ext.apply(a.renderData, {
            text: a.text
        })
    },
    setText: function(b) {
        var a = this;
        a.text = b;
        if (a.rendered) {
            a.el.update(b);
            a.updateLayout()
        }
    }
});
Ext.define("Ext.layout.container.Fit", {
    extend: Ext.layout.container.Container,
    alternateClassName: "Ext.layout.FitLayout",
    alias: "layout.fit",
    itemCls: Ext.baseCSSPrefix + "fit-item",
    targetCls: Ext.baseCSSPrefix + "layout-fit",
    type: "fit",
    defaultMargins: {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0
    },
    manageMargins: true,
    sizePolicies: {
        0: {
            readsWidth: 1,
            readsHeight: 1,
            setsWidth: 0,
            setsHeight: 0
        },
        1: {
            readsWidth: 0,
            readsHeight: 1,
            setsWidth: 1,
            setsHeight: 0
        },
        2: {
            readsWidth: 1,
            readsHeight: 0,
            setsWidth: 0,
            setsHeight: 1
        },
        3: {
            readsWidth: 0,
            readsHeight: 0,
            setsWidth: 1,
            setsHeight: 1
        }
    },
    getItemSizePolicy: function(b, c) {
        var a = c || this.owner.getSizeModel()
          , d = (a.width.shrinkWrap ? 0 : 1) | (a.height.shrinkWrap ? 0 : 2);
        return this.sizePolicies[d]
    },
    beginLayoutCycle: function(k, g) {
        var u = this, v = u.lastHeightModel && u.lastHeightModel.calculated, h = u.lastWidthModel && u.lastWidthModel.calculated, o = h || v, l = 0, m = 0, t, b, p, s, e, a, j, n, q, d;
        u.callParent(arguments);
        if (o && k.targetContext.el.dom.tagName.toUpperCase() != "TD") {
            o = h = v = false
        }
        b = k.childItems;
        e = b.length;
        for (p = 0; p < e; ++p) {
            s = b[p];
            if (g) {
                t = s.target;
                j = t.minHeight;
                n = t.minWidth;
                if (n || j) {
                    a = s.marginInfo || s.getMarginInfo();
                    j += a.height;
                    n += a.height;
                    if (l < j) {
                        l = j
                    }
                    if (m < n) {
                        m = n
                    }
                }
            }
            if (o) {
                q = s.el.dom.style;
                if (v) {
                    q.height = ""
                }
                if (h) {
                    q.width = ""
                }
            }
        }
        if (g) {
            k.maxChildMinHeight = l;
            k.maxChildMinWidth = m
        }
        t = k.target;
        k.overflowX = !k.widthModel.shrinkWrap && k.maxChildMinWidth && t.scrollFlags.x || d;
        k.overflowY = !k.heightModel.shrinkWrap && k.maxChildMinHeight && t.scrollFlags.y || d
    },
    calculate: function(g) {
        var o = this, l = g.childItems, d = l.length, c = o.getContainerSize(g), e = {
            length: d,
            ownerContext: g,
            targetSize: c
        }, s = g.widthModel.shrinkWrap, m = g.heightModel.shrinkWrap, k = g.overflowX, h = g.overflowY, n, b, p, j, a, q;
        if (k || h) {
            n = o.getScrollbarsNeeded(k && c.width, h && c.height, g.maxChildMinWidth, g.maxChildMinHeight);
            if (n) {
                b = Ext.getScrollbarSize();
                if (n & 1) {
                    c.height -= b.height
                }
                if (n & 2) {
                    c.width -= b.width
                }
            }
        }
        for (j = 0; j < d; ++j) {
            e.index = j;
            o.fitItem(l[j], e)
        }
        if (m || s) {
            p = g.targetContext.getPaddingInfo();
            if (s) {
                if (h && !c.gotHeight) {
                    o.done = false
                } else {
                    a = e.contentWidth + p.width;
                    if (n & 2) {
                        a += b.width
                    }
                    if (!g.setContentWidth(a)) {
                        o.done = false
                    }
                }
            }
            if (m) {
                if (k && !c.gotWidth) {
                    o.done = false
                } else {
                    q = e.contentHeight + p.height;
                    if (n & 1) {
                        q += b.height
                    }
                    if (!g.setContentHeight(q)) {
                        o.done = false
                    }
                }
            }
        }
    },
    fitItem: function(b, c) {
        var a = this;
        if (b.invalid) {
            a.done = false;
            return
        }
        c.margins = b.getMarginInfo();
        c.needed = c.got = 0;
        a.fitItemWidth(b, c);
        a.fitItemHeight(b, c);
        if (c.got != c.needed) {
            a.done = false
        }
    },
    fitItemWidth: function(c, d) {
        var a, b;
        if (d.ownerContext.widthModel.shrinkWrap) {
            b = c.getProp("width") + d.margins.width;
            a = d.contentWidth;
            if (a === undefined) {
                d.contentWidth = b
            } else {
                d.contentWidth = Math.max(a, b)
            }
        } else {
            if (c.widthModel.calculated) {
                ++d.needed;
                if (d.targetSize.gotWidth) {
                    ++d.got;
                    this.setItemWidth(c, d)
                }
            }
        }
        this.positionItemX(c, d)
    },
    fitItemHeight: function(c, d) {
        var b, a;
        if (d.ownerContext.heightModel.shrinkWrap) {
            a = c.getProp("height") + d.margins.height;
            b = d.contentHeight;
            if (b === undefined) {
                d.contentHeight = a
            } else {
                d.contentHeight = Math.max(b, a)
            }
        } else {
            if (c.heightModel.calculated) {
                ++d.needed;
                if (d.targetSize.gotHeight) {
                    ++d.got;
                    this.setItemHeight(c, d)
                }
            }
        }
        this.positionItemY(c, d)
    },
    positionItemX: function(a, c) {
        var b = c.margins;
        if (c.index || b.left) {
            a.setProp("x", b.left)
        }
        if (b.width) {
            a.setProp("margin-right", b.width)
        }
    },
    positionItemY: function(a, c) {
        var b = c.margins;
        if (c.index || b.top) {
            a.setProp("y", b.top)
        }
        if (b.height) {
            a.setProp("margin-bottom", b.height)
        }
    },
    setItemHeight: function(a, b) {
        a.setHeight(b.targetSize.height - b.margins.height)
    },
    setItemWidth: function(a, b) {
        a.setWidth(b.targetSize.width - b.margins.width)
    }
});
Ext.define("Ext.util.CSS", function() {
    var c, e = null, d = document, b = /(-[a-z])/gi, a = function(g, h) {
        return h.charAt(1).toUpperCase()
    };
    return {
        singleton: true,
        rules: e,
        initialized: false,
        constructor: function() {
            c = this
        },
        createStyleSheet: function(i, l) {
            var h, g = d.getElementsByTagName("head")[0], k = d.createElement("style");
            k.setAttribute("type", "text/css");
            if (l) {
                k.setAttribute("id", l)
            }
            if (Ext.isIE) {
                g.appendChild(k);
                h = k.styleSheet;
                h.cssText = i
            } else {
                try {
                    k.appendChild(d.createTextNode(i))
                } catch (j) {
                    k.cssText = i
                }
                g.appendChild(k);
                h = k.styleSheet ? k.styleSheet : k.sheet || d.styleSheets[d.styleSheets.length - 1]
            }
            c.cacheStyleSheet(h);
            return h
        },
        removeStyleSheet: function(h) {
            var g = d.getElementById(h);
            if (g) {
                g.parentNode.removeChild(g)
            }
        },
        swapStyleSheet: function(i, g) {
            var h;
            c.removeStyleSheet(i);
            h = d.createElement("link");
            h.setAttribute("rel", "stylesheet");
            h.setAttribute("type", "text/css");
            h.setAttribute("id", i);
            h.setAttribute("href", g);
            d.getElementsByTagName("head")[0].appendChild(h)
        },
        refreshCache: function() {
            return c.getRules(true)
        },
        cacheStyleSheet: function(m) {
            if (!e) {
                e = c.rules = {}
            }
            try {
                var p = m.cssRules || m.rules, l = p.length - 1, h = m.imports, g = h ? h.length : 0, o, k;
                for (k = 0; k < g; ++k) {
                    c.cacheStyleSheet(h[k])
                }
                for (; l >= 0; --l) {
                    o = p[l];
                    if (o.styleSheet) {
                        c.cacheStyleSheet(o.styleSheet)
                    }
                    c.cacheRule(o, m)
                }
            } catch (n) {}
        },
        cacheRule: function(h, l) {
            if (h.styleSheet) {
                return c.cacheStyleSheet(h.styleSheet)
            }
            var k = h.selectorText, i, g;
            if (k) {
                k = k.split(",");
                i = k.length;
                for (g = 0; g < i; g++) {
                    e[Ext.String.trim(k[g]).toLowerCase()] = {
                        parentStyleSheet: l,
                        cssRule: h
                    }
                }
            }
        },
        getRules: function(i) {
            var h = {}, g;
            if (e === null || i) {
                c.refreshCache()
            }
            for (g in e) {
                h[g] = e[g].cssRule
            }
            return h
        },
        refreshCache: function() {
            var j = d.styleSheets
              , h = 0
              , g = j.length;
            e = c.rules = {};
            for (; h < g; h++) {
                try {
                    if (!j[h].disabled) {
                        c.cacheStyleSheet(j[h])
                    }
                } catch (k) {}
            }
        },
        getRule: function(h, k, j) {
            var l, g;
            if (!e || k) {
                c.refreshCache()
            }
            if (!Ext.isArray(h)) {
                g = e[h.toLowerCase()];
                if (g && !j) {
                    g = g.cssRule
                }
                return g || null
            }
            for (l = 0; l < h.length; l++) {
                if (e[h[l]]) {
                    return j ? e[h[l].toLowerCase()] : e[h[l].toLowerCase()].cssRule
                }
            }
            return null
        },
        createRule: function(l, h, j) {
            var g, k = l.cssRules || l.rules, i = k.length;
            if (l.insertRule) {
                l.insertRule(h + "{" + j + "}", i)
            } else {
                l.addRule(h, j || " ")
            }
            c.cacheRule(g = k[i], l);
            return g
        },
        updateRule: function(g, l, k) {
            var m, h, j;
            if (!Ext.isArray(g)) {
                m = c.getRule(g);
                if (m) {
                    if (arguments.length == 2) {
                        j = Ext.Element.parseStyles(l);
                        for (l in j) {
                            m.style[l.replace(b, a)] = j[l]
                        }
                    } else {
                        m.style[l.replace(b, a)] = k
                    }
                    return true
                }
            } else {
                for (h = 0; h < g.length; h++) {
                    if (c.updateRule(g[h], l, k)) {
                        return true
                    }
                }
            }
            return false
        },
        deleteRule: function(g) {
            var i = c.getRule(g, false, true), j, h;
            if (i) {
                j = i.parentStyleSheet;
                h = Ext.Array.indexOf(j.cssRules || j.rules, i.cssRule);
                if (j.deleteRule) {
                    j.deleteRule(h)
                } else {
                    j.removeRule(h)
                }
                delete e[g]
            }
        }
    }
});
Ext.define("Ext.layout.component.Body", {
    alias: ["layout.body"],
    extend: Ext.layout.component.Auto,
    type: "body",
    beginLayout: function(a) {
        this.callParent(arguments);
        a.bodyContext = a.getEl("body")
    },
    beginLayoutCycle: function(d, b) {
        var c = this
          , g = c.lastWidthModel
          , e = c.lastHeightModel
          , a = c.owner.body;
        c.callParent(arguments);
        if (g && g.fixed && d.widthModel.shrinkWrap) {
            a.setWidth(null)
        }
        if (e && e.fixed && d.heightModel.shrinkWrap) {
            a.setHeight(null)
        }
    },
    calculateOwnerHeightFromContentHeight: function(c, b) {
        var a = this.callParent(arguments);
        if (c.targetContext != c) {
            a += c.getPaddingInfo().height
        }
        return a
    },
    calculateOwnerWidthFromContentWidth: function(c, a) {
        var b = this.callParent(arguments);
        if (c.targetContext != c) {
            b += c.getPaddingInfo().width
        }
        return b
    },
    measureContentWidth: function(a) {
        return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth, false)
    },
    measureContentHeight: function(a) {
        return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight, false)
    },
    publishInnerHeight: function(c, a) {
        var d = a - c.getFrameInfo().height
          , b = c.targetContext;
        if (b != c) {
            d -= c.getPaddingInfo().height
        }
        return c.bodyContext.setHeight(d, !c.heightModel.natural)
    },
    publishInnerWidth: function(d, c) {
        var a = c - d.getFrameInfo().width
          , b = d.targetContext;
        if (b != d) {
            a -= d.getPaddingInfo().width
        }
        d.bodyContext.setWidth(a, !d.widthModel.natural)
    }
});
Ext.define("Ext.layout.container.Card", {
    extend: Ext.layout.container.Fit,
    alternateClassName: "Ext.layout.CardLayout",
    alias: "layout.card",
    type: "card",
    hideInactive: true,
    deferredRender: false,
    getRenderTree: function() {
        var a = this
          , b = a.getActiveItem();
        if (b) {
            if (b.hasListeners.beforeactivate && b.fireEvent("beforeactivate", b) === false) {
                b = a.activeItem = a.owner.activeItem = null
            } else {
                if (b.hasListeners.activate) {
                    b.on({
                        boxready: function() {
                            b.fireEvent("activate", b)
                        },
                        single: true
                    })
                }
            }
            if (a.deferredRender) {
                if (b) {
                    return a.getItemsRenderTree([b])
                }
            } else {
                return a.callParent(arguments)
            }
        }
    },
    renderChildren: function() {
        var a = this
          , b = a.getActiveItem();
        if (!a.deferredRender) {
            a.callParent()
        } else {
            if (b) {
                a.renderItems([b], a.getRenderTarget())
            }
        }
    },
    isValidParent: function(c, d, a) {
        var b = c.el ? c.el.dom : Ext.getDom(c);
        return b && b.parentNode === (d.dom || d) || false
    },
    getActiveItem: function() {
        var b = this
          , a = b.parseActiveItem(b.activeItem || b.owner && b.owner.activeItem);
        if (a && b.owner.items.indexOf(a) != -1) {
            b.activeItem = a
        } else {
            b.activeItem = null
        }
        return b.activeItem
    },
    parseActiveItem: function(a) {
        if (a && a.isComponent) {
            return a
        } else {
            if (typeof a == "number" || a === undefined) {
                return this.getLayoutItems()[a || 0]
            } else {
                return this.owner.getComponent(a)
            }
        }
    },
    configureItem: function(a) {
        if (a === this.getActiveItem()) {
            a.hidden = false
        } else {
            a.hidden = true
        }
        this.callParent(arguments)
    },
    onRemove: function(a) {
        var b = this;
        if (a === b.activeItem) {
            b.activeItem = null
        }
    },
    getAnimation: function(b, a) {
        var c = (b || {}).cardSwitchAnimation;
        if (c === false) {
            return false
        }
        return c || a.cardSwitchAnimation
    },
    getNext: function() {
        var c = arguments[0]
          , a = this.getLayoutItems()
          , b = Ext.Array.indexOf(a, this.activeItem);
        return a[b + 1] || (c ? a[0] : false)
    },
    next: function() {
        var b = arguments[0]
          , a = arguments[1];
        return this.setActiveItem(this.getNext(a), b)
    },
    getPrev: function() {
        var c = arguments[0]
          , a = this.getLayoutItems()
          , b = Ext.Array.indexOf(a, this.activeItem);
        return a[b - 1] || (c ? a[a.length - 1] : false)
    },
    prev: function() {
        var b = arguments[0]
          , a = arguments[1];
        return this.setActiveItem(this.getPrev(a), b)
    },
    setActiveItem: function(b) {
        var e = this, a = e.owner, d = e.activeItem, g = a.rendered, c;
        b = e.parseActiveItem(b);
        c = a.items.indexOf(b);
        if (c == -1) {
            c = a.items.items.length;
            Ext.suspendLayouts();
            b = a.add(b);
            Ext.resumeLayouts()
        }
        if (b && d != b) {
            if (b.fireEvent("beforeactivate", b, d) === false) {
                return false
            }
            if (d && d.fireEvent("beforedeactivate", d, b) === false) {
                return false
            }
            if (g) {
                Ext.suspendLayouts();
                if (!b.rendered) {
                    e.renderItem(b, e.getRenderTarget(), a.items.length)
                }
                if (d) {
                    if (e.hideInactive) {
                        d.hide();
                        d.hiddenByLayout = true
                    }
                    d.fireEvent("deactivate", d, b)
                }
                if (b.hidden) {
                    b.show()
                }
                if (!b.hidden) {
                    e.activeItem = b
                }
                Ext.resumeLayouts(true)
            } else {
                e.activeItem = b
            }
            b.fireEvent("activate", b, d);
            return e.activeItem
        }
        return false
    }
});
Ext.define("Ext.menu.Item", {
    extend: Ext.Component,
    alias: "widget.menuitem",
    alternateClassName: "Ext.menu.TextItem",
    activeCls: Ext.baseCSSPrefix + "menu-item-active",
    ariaRole: "menuitem",
    canActivate: true,
    clickHideDelay: 1,
    destroyMenu: true,
    disabledCls: Ext.baseCSSPrefix + "menu-item-disabled",
    hideOnClick: true,
    isMenuItem: true,
    menuAlign: "tl-tr?",
    menuExpandDelay: 200,
    menuHideDelay: 200,
    tooltipType: "qtip",
    arrowCls: Ext.baseCSSPrefix + "menu-item-arrow",
    childEls: ["itemEl", "iconEl", "textEl", "arrowEl"],
    renderTpl: ['<tpl if="plain">', "{text}", "<tpl else>", '<a id="{id}-itemEl"', ' class="' + Ext.baseCSSPrefix + 'menu-item-link{childElCls}"', ' href="{href}"', '<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>', ' hidefocus="true"', ' unselectable="on"', '<tpl if="tabIndex">', ' tabIndex="{tabIndex}"', "</tpl>", ">", '<div role="img" id="{id}-iconEl" class="' + Ext.baseCSSPrefix + "menu-item-icon {iconCls}", '{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>', '<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">', '<tpl if="glyph">&#{glyph};</tpl>', "</div>", '<span id="{id}-textEl" class="' + Ext.baseCSSPrefix + 'menu-item-text" unselectable="on">{text}</span>', '<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}', '{childElCls}"/>', "</a>", "</tpl>"],
    maskOnDisable: false,
    activate: function() {
        var a = this;
        if (!a.activated && a.canActivate && a.rendered && !a.isDisabled() && a.isVisible()) {
            a.el.addCls(a.activeCls);
            a.focus();
            a.activated = true;
            a.fireEvent("activate", a)
        }
    },
    getFocusEl: function() {
        return this.itemEl
    },
    deactivate: function() {
        var a = this;
        if (a.activated) {
            a.el.removeCls(a.activeCls);
            a.blur();
            a.hideMenu();
            a.activated = false;
            a.fireEvent("deactivate", a)
        }
    },
    deferHideMenu: function() {
        if (this.menu.isVisible()) {
            this.menu.hide()
        }
    },
    cancelDeferHide: function() {
        clearTimeout(this.hideMenuTimer)
    },
    deferHideParentMenus: function() {
        var a;
        Ext.menu.Manager.hideAll();
        if (!Ext.Element.getActiveElement()) {
            a = this.up(":not([hidden])");
            if (a) {
                a.focus()
            }
        }
    },
    expandMenu: function(a) {
        var b = this;
        if (b.menu) {
            b.cancelDeferHide();
            if (a === 0) {
                b.doExpandMenu()
            } else {
                clearTimeout(b.expandMenuTimer);
                b.expandMenuTimer = Ext.defer(b.doExpandMenu, Ext.isNumber(a) ? a : b.menuExpandDelay, b)
            }
        }
    },
    doExpandMenu: function() {
        var a = this
          , b = a.menu;
        if (a.activated && (!b.rendered || !b.isVisible())) {
            a.parentMenu.activeChild = b;
            b.parentItem = a;
            b.parentMenu = a.parentMenu;
            b.showBy(a, a.menuAlign)
        }
    },
    getRefItems: function(a) {
        var c = this.menu, b;
        if (c) {
            b = c.getRefItems(a);
            b.unshift(c)
        }
        return b || []
    },
    hideMenu: function(a) {
        var b = this;
        if (b.menu) {
            clearTimeout(b.expandMenuTimer);
            b.hideMenuTimer = Ext.defer(b.deferHideMenu, Ext.isNumber(a) ? a : b.menuHideDelay, b)
        }
    },
    initComponent: function() {
        var b = this, c = Ext.baseCSSPrefix, a = [c + "menu-item"], d;
        b.addEvents("activate", "click", "deactivate", "textchange", "iconchange");
        if (b.plain) {
            a.push(c + "menu-item-plain")
        }
        if (b.cls) {
            a.push(b.cls)
        }
        b.cls = a.join(" ");
        if (b.menu) {
            d = b.menu;
            delete b.menu;
            b.setMenu(d)
        }
        b.callParent(arguments)
    },
    onClick: function(b) {
        var a = this;
        if (!a.href) {
            b.stopEvent()
        }
        if (a.disabled) {
            return
        }
        if (a.hideOnClick) {
            a.deferHideParentMenusTimer = Ext.defer(a.deferHideParentMenus, a.clickHideDelay, a)
        }
        Ext.callback(a.handler, a.scope || a, [a, b]);
        a.fireEvent("click", a, b);
        if (!a.hideOnClick) {
            a.focus()
        }
    },
    onRemoved: function() {
        var a = this;
        if (a.activated && a.parentMenu.activeItem === a) {
            a.parentMenu.deactivateActiveItem()
        }
        a.callParent(arguments);
        a.parentMenu = a.ownerButton = null
    },
    beforeDestroy: function() {
        var a = this;
        if (a.rendered) {
            a.clearTip()
        }
        a.callParent()
    },
    onDestroy: function() {
        var a = this;
        clearTimeout(a.expandMenuTimer);
        a.cancelDeferHide();
        clearTimeout(a.deferHideParentMenusTimer);
        a.setMenu(null);
        a.callParent(arguments)
    },
    beforeRender: function() {
        var d = this, h = Ext.BLANK_IMAGE_URL, c = d.glyph, g = Ext._glyphFontFamily, b, a, e;
        d.callParent();
        if (d.iconAlign === "right") {
            a = d.checkChangeDisabled ? d.disabledCls : "";
            e = Ext.baseCSSPrefix + "menu-item-icon-right " + d.iconCls
        } else {
            a = (d.iconCls || "") + (d.checkChangeDisabled ? " " + d.disabledCls : "");
            e = d.menu ? d.arrowCls : ""
        }
        if (typeof c === "string") {
            b = c.split("@");
            c = b[0];
            g = b[1]
        }
        Ext.applyIf(d.renderData, {
            href: d.href || "#",
            hrefTarget: d.hrefTarget,
            icon: d.icon,
            iconCls: a,
            glyph: c,
            glyphCls: c ? Ext.baseCSSPrefix + "menu-item-glyph" : undefined,
            glyphFontFamily: g,
            hasIcon: !!(d.icon || d.iconCls || c),
            iconAlign: d.iconAlign,
            plain: d.plain,
            text: d.text,
            arrowCls: e,
            blank: h,
            tabIndex: d.tabIndex
        })
    },
    onRender: function() {
        var a = this;
        a.callParent(arguments);
        if (a.tooltip) {
            a.setTooltip(a.tooltip, true)
        }
    },
    setMenu: function(e, d) {
        var c = this
          , b = c.menu
          , a = c.arrowEl;
        if (b) {
            delete b.parentItem;
            delete b.parentMenu;
            delete b.ownerItem;
            if (d === true || d !== false && c.destroyMenu) {
                Ext.destroy(b)
            }
        }
        if (e) {
            c.menu = Ext.menu.Manager.get(e);
            c.menu.ownerItem = c
        } else {
            c.menu = null
        }
        if (c.rendered && !c.destroying && a) {
            a[c.menu ? "addCls" : "removeCls"](c.arrowCls)
        }
    },
    setHandler: function(b, a) {
        this.handler = b || null;
        this.scope = a
    },
    setIcon: function(b) {
        var a = this.iconEl
          , c = this.icon;
        if (a) {
            a.src = b || Ext.BLANK_IMAGE_URL
        }
        this.icon = b;
        this.fireEvent("iconchange", this, c, b)
    },
    setIconCls: function(b) {
        var d = this
          , a = d.iconEl
          , c = d.iconCls;
        if (a) {
            if (d.iconCls) {
                a.removeCls(d.iconCls)
            }
            if (b) {
                a.addCls(b)
            }
        }
        d.iconCls = b;
        d.fireEvent("iconchange", d, c, b)
    },
    setText: function(d) {
        var c = this
          , b = c.textEl || c.el
          , a = c.text;
        c.text = d;
        if (c.rendered) {
            b.update(d || "");
            c.ownerCt.updateLayout()
        }
        c.fireEvent("textchange", c, a, d)
    },
    getTipAttr: function() {
        return this.tooltipType == "qtip" ? "data-qtip" : "title"
    },
    clearTip: function() {
        if (Ext.quickTipsActive && Ext.isObject(this.tooltip)) {
            Ext.tip.QuickTipManager.unregister(this.itemEl)
        }
    },
    setTooltip: function(c, a) {
        var b = this;
        if (b.rendered) {
            if (!a) {
                b.clearTip()
            }
            if (Ext.quickTipsActive && Ext.isObject(c)) {
                Ext.tip.QuickTipManager.register(Ext.apply({
                    target: b.itemEl.id
                }, c));
                b.tooltip = c
            } else {
                b.itemEl.dom.setAttribute(b.getTipAttr(), c)
            }
        } else {
            b.tooltip = c
        }
        return b
    }
});
Ext.define("Ext.menu.CheckItem", {
    extend: Ext.menu.Item,
    alias: "widget.menucheckitem",
    checkedCls: Ext.baseCSSPrefix + "menu-item-checked",
    uncheckedCls: Ext.baseCSSPrefix + "menu-item-unchecked",
    groupCls: Ext.baseCSSPrefix + "menu-group-icon",
    hideOnClick: false,
    checkChangeDisabled: false,
    childEls: ["itemEl", "iconEl", "textEl", "checkEl"],
    showCheckbox: true,
    renderTpl: ['<tpl if="plain">', "{text}", "<tpl else>", "{%var showCheckbox = values.showCheckbox,", '      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "' + Ext.baseCSSPrefix + 'right-check-item-text" : "";%}', '<a id="{id}-itemEl" class="' + Ext.baseCSSPrefix + 'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"', '<tpl if="tabIndex">', ' tabIndex="{tabIndex}"', "</tpl>", ">", '{%if (values.hasIcon && (values.iconAlign !== "left")) {%}', '<div role="img" id="{id}-iconEl" class="' + Ext.baseCSSPrefix + "menu-item-icon {iconCls}", '{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>', '<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">', '<tpl if="glyph">&#{glyph};</tpl>', "</div>", "{%} else if (showCheckbox){%}", '<img id="{id}-checkEl" src="{blank}" class="' + Ext.baseCSSPrefix + 'menu-item-icon{childElCls}" />', "{%}%}", '<span id="{id}-textEl" class="' + Ext.baseCSSPrefix + 'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>', "{%if (rightCheckbox) {%}", '<img id="{id}-checkEl" src="{blank}" class="' + Ext.baseCSSPrefix + 'menu-item-icon-right{childElCls}" />', "{%} else if (values.arrowCls) {%}", '<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>', "{%}%}", "</a>", "</tpl>"],
    initComponent: function() {
        var a = this;
        a.checked = !!a.checked;
        a.addEvents("beforecheckchange", "checkchange");
        a.callParent(arguments);
        Ext.menu.Manager.registerCheckable(a);
        if (a.group) {
            if (!(a.iconCls || a.icon || a.glyph)) {
                a.iconCls = a.groupCls
            }
            if (a.initialConfig.hideOnClick !== false) {
                a.hideOnClick = true
            }
        }
    },
    beforeRender: function() {
        this.callParent();
        this.renderData.showCheckbox = this.showCheckbox
    },
    afterRender: function() {
        var a = this;
        a.callParent();
        a.checked = !a.checked;
        a.setChecked(!a.checked, true);
        if (a.checkChangeDisabled) {
            a.disableCheckChange()
        }
    },
    disableCheckChange: function() {
        var b = this
          , a = b.checkEl;
        if (a) {
            a.addCls(b.disabledCls)
        }
        if (!(Ext.isIE10p || Ext.isIE9 && Ext.isStrict) && b.rendered) {
            b.el.repaint()
        }
        b.checkChangeDisabled = true
    },
    enableCheckChange: function() {
        var b = this
          , a = b.checkEl;
        if (a) {
            a.removeCls(b.disabledCls)
        }
        b.checkChangeDisabled = false
    },
    onClick: function(b) {
        var a = this;
        if (!a.disabled && !a.checkChangeDisabled && !(a.checked && a.group)) {
            a.setChecked(!a.checked)
        }
        this.callParent([b])
    },
    onDestroy: function() {
        Ext.menu.Manager.unregisterCheckable(this);
        this.callParent(arguments)
    },
    setChecked: function(c, a) {
        var b = this;
        if (b.checked !== c && (a || b.fireEvent("beforecheckchange", b, c) !== false)) {
            if (b.el) {
                b.el[c ? "addCls" : "removeCls"](b.checkedCls)[!c ? "addCls" : "removeCls"](b.uncheckedCls)
            }
            b.checked = c;
            Ext.menu.Manager.onCheckChange(b, c);
            if (!a) {
                Ext.callback(b.checkHandler, b.scope, [b, c]);
                b.fireEvent("checkchange", b, c)
            }
        }
    }
});
Ext.define("Ext.menu.KeyNav", {
    extend: Ext.util.KeyNav,
    constructor: function(a) {
        var b = this;
        b.menu = a.target;
        b.callParent([Ext.apply({
            down: b.down,
            enter: b.enter,
            esc: b.escape,
            left: b.left,
            right: b.right,
            space: b.enter,
            tab: b.tab,
            up: b.up
        }, a)])
    },
    down: function(b) {
        var a = this
          , c = a.menu.focusedItem;
        if (c && b.getKey() == Ext.EventObject.DOWN && a.isWhitelisted(c)) {
            return true
        }
        a.focusNextItem(1)
    },
    enter: function(b) {
        var c = this.menu
          , a = c.focusedItem;
        if (c.activeItem) {
            c.onClick(b)
        } else {
            if (a && a.isFormField) {
                return true
            }
        }
    },
    escape: function(a) {
        Ext.menu.Manager.hideAll()
    },
    focusNextItem: function(b) {
        var a = this.menu, e = a.items, h = a.focusedItem, g = h ? e.indexOf(h) : -1, i = g + b, d = e.length, c = 0, j;
        while (c < d && i !== g) {
            if (i < 0) {
                i = d - 1
            } else {
                if (i >= d) {
                    i = 0
                }
            }
            j = e.getAt(i);
            if (a.canActivateItem(j)) {
                a.setActiveItem(j);
                break
            }
            i += b;
            ++c
        }
    },
    isWhitelisted: function(a) {
        return Ext.FocusManager.isWhitelisted(a)
    },
    left: function(a) {
        var b = this.menu
          , c = b.focusedItem;
        if (c && this.isWhitelisted(c)) {
            return true
        }
        b.hide();
        if (b.parentMenu) {
            b.parentMenu.focus()
        }
    },
    right: function(c) {
        var d = this.menu, g = d.focusedItem, a = d.activeItem, b;
        if (g && this.isWhitelisted(g)) {
            return true
        }
        if (a) {
            b = d.activeItem.menu;
            if (b) {
                a.expandMenu(0);
                b.setActiveItem(b.child(":focusable"))
            }
        }
    },
    tab: function(b) {
        var a = this;
        if (b.shiftKey) {
            a.up(b)
        } else {
            a.down(b)
        }
    },
    up: function(b) {
        var a = this
          , c = a.menu.focusedItem;
        if (c && b.getKey() == Ext.EventObject.UP && a.isWhitelisted(c)) {
            return true
        }
        a.focusNextItem(-1)
    }
});
Ext.define("Ext.menu.Separator", {
    extend: Ext.menu.Item,
    alias: "widget.menuseparator",
    canActivate: false,
    focusable: false,
    hideOnClick: false,
    plain: true,
    separatorCls: Ext.baseCSSPrefix + "menu-item-separator",
    text: "&#160;",
    beforeRender: function(a, c) {
        var b = this;
        b.callParent();
        b.addCls(b.separatorCls)
    }
});
Ext.define("Ext.menu.Menu", {
    extend: Ext.panel.Panel,
    alias: "widget.menu",
    enableKeyNav: true,
    allowOtherMenus: false,
    ariaRole: "menu",
    floating: true,
    constrain: true,
    hidden: true,
    hideMode: "visibility",
    ignoreParentClicks: false,
    isMenu: true,
    showSeparator: true,
    minWidth: undefined,
    defaultMinWidth: 120,
    initComponent: function() {
        var b = this
          , d = Ext.baseCSSPrefix
          , a = [d + "menu"]
          , c = b.bodyCls ? [b.bodyCls] : []
          , e = b.floating !== false;
        b.addEvents("click", "mouseenter", "mouseleave", "mouseover");
        Ext.menu.Manager.register(b);
        if (b.plain) {
            a.push(d + "menu-plain")
        }
        b.cls = a.join(" ");
        c.push(d + "menu-body", Ext.dom.Element.unselectableCls);
        b.bodyCls = c.join(" ");
        if (!b.layout) {
            b.layout = {
                type: "vbox",
                align: "stretchmax",
                overflowHandler: "Scroller"
            }
        }
        if (e) {
            if (b.minWidth === undefined) {
                b.minWidth = b.defaultMinWidth
            }
        } else {
            b.hidden = !!b.initialConfig.hidden
        }
        b.callParent(arguments)
    },
    registerWithOwnerCt: function() {
        if (this.floating) {
            this.ownerCt = null;
            Ext.WindowManager.register(this)
        }
    },
    initHierarchyEvents: Ext.emptyFn,
    isVisible: function() {
        return this.callParent()
    },
    getHierarchyState: function() {
        var a = this.callParent();
        a.hidden = this.hidden;
        return a
    },
    beforeRender: function() {
        this.callParent(arguments);
        if (!this.getSizeModel().width.shrinkWrap) {
            this.layout.align = "stretch"
        }
    },
    onBoxReady: function() {
        var a = this;
        a.callParent(arguments);
        if (a.showSeparator) {
            a.iconSepEl = a.layout.getElementTarget().insertFirst({
                cls: Ext.baseCSSPrefix + "menu-icon-separator",
                html: "&#160;"
            })
        }
        a.mon(a.el, {
            click: a.onClick,
            mouseover: a.onMouseOver,
            scope: a
        });
        a.mouseMonitor = a.el.monitorMouseLeave(100, a.onMouseLeave, a);
        if (a.enableKeyNav) {
            a.keyNav = new Ext.menu.KeyNav({
                target: a,
                keyMap: a.getKeyMap()
            })
        }
    },
    getRefOwner: function() {
        return this.parentMenu || this.ownerButton || this.callParent(arguments)
    },
    canActivateItem: function(a) {
        return a && !a.isDisabled() && a.isVisible() && (a.canActivate || a.getXTypes().indexOf("menuitem") < 0)
    },
    deactivateActiveItem: function(b) {
        var c = this
          , d = c.activeItem
          , a = c.focusedItem;
        if (d) {
            d.deactivate();
            if (!d.activated) {
                delete c.activeItem
            }
        }
        if (a && b) {
            a.blur();
            delete c.focusedItem
        }
    },
    getFocusEl: function() {
        return this.focusedItem || this.el
    },
    hide: function() {
        this.deactivateActiveItem(true);
        this.callParent(arguments)
    },
    getItemFromEvent: function(a) {
        return this.getChildByElement(a.getTarget())
    },
    lookupComponent: function(b) {
        var a = this;
        if (typeof b == "string") {
            b = a.lookupItemFromString(b)
        } else {
            if (Ext.isObject(b)) {
                b = a.lookupItemFromObject(b)
            }
        }
        b.minWidth = b.minWidth || a.minWidth;
        return b
    },
    lookupItemFromObject: function(c) {
        var b = this, d = Ext.baseCSSPrefix, a;
        if (!c.isComponent) {
            if (!c.xtype) {
                c = Ext.create("Ext.menu." + (Ext.isBoolean(c.checked) ? "Check" : "") + "Item", c)
            } else {
                c = Ext.ComponentManager.create(c, c.xtype)
            }
        }
        if (c.isMenuItem) {
            c.parentMenu = b
        }
        if (!c.isMenuItem && !c.dock) {
            a = [d + "menu-item-cmp"];
            if (!b.plain && (c.indent !== false || c.iconCls === "no-icon")) {
                a.push(d + "menu-item-indent")
            }
            if (c.rendered) {
                c.el.addCls(a)
            } else {
                c.cls = (c.cls || "") + " " + a.join(" ")
            }
        }
        return c
    },
    lookupItemFromString: function(a) {
        return a == "separator" || a == "-" ? new Ext.menu.Separator() : new Ext.menu.Item({
            canActivate: false,
            hideOnClick: false,
            plain: true,
            text: a
        })
    },
    onClick: function(c) {
        var b = this, a;
        if (b.disabled) {
            c.stopEvent();
            return
        }
        a = c.type === "click" ? b.getItemFromEvent(c) : b.activeItem;
        if (a && a.isMenuItem) {
            if (!a.menu || !b.ignoreParentClicks) {
                a.onClick(c)
            } else {
                c.stopEvent()
            }
        }
        if (!a || a.disabled) {
            a = undefined
        }
        b.fireEvent("click", b, a, c)
    },
    onDestroy: function() {
        var a = this;
        Ext.menu.Manager.unregister(a);
        a.parentMenu = a.ownerButton = null;
        if (a.rendered) {
            a.el.un(a.mouseMonitor);
            Ext.destroy(a.keyNav);
            a.keyNav = null
        }
        a.callParent(arguments)
    },
    onMouseLeave: function(b) {
        var a = this;
        a.deactivateActiveItem();
        if (a.disabled) {
            return
        }
        a.fireEvent("mouseleave", a, b)
    },
    onMouseOver: function(h) {
        var g = this
          , i = h.getRelatedTarget()
          , b = !g.el.contains(i)
          , d = g.getItemFromEvent(h)
          , c = g.parentMenu
          , a = g.parentItem;
        if (b && c) {
            c.setActiveItem(a);
            a.cancelDeferHide();
            c.mouseMonitor.mouseenter()
        }
        if (g.disabled) {
            return
        }
        if (d && !d.activated) {
            g.setActiveItem(d);
            if (d.activated && d.expandMenu) {
                d.expandMenu()
            }
        }
        if (b) {
            g.fireEvent("mouseenter", g, h)
        }
        g.fireEvent("mouseover", g, d, h)
    },
    setActiveItem: function(b) {
        var a = this;
        if (b && b != a.activeItem) {
            a.deactivateActiveItem();
            if (a.canActivateItem(b)) {
                if (b.activate) {
                    b.activate();
                    if (b.activated) {
                        a.activeItem = b;
                        a.focusedItem = b;
                        a.focus()
                    }
                } else {
                    b.focus();
                    a.focusedItem = b
                }
            }
            b.el.scrollIntoView(a.layout.getRenderTarget())
        }
    },
    showBy: function(b, d, c) {
        var a = this;
        a.callParent(arguments);
        if (!a.hidden) {
            a.setVerticalPosition()
        }
        return a
    },
    show: function() {
        var c = this, b, a, d = c.maxHeight;
        if (!c.rendered) {
            c.doAutoRender()
        }
        if (c.floating) {
            b = c.el.parent();
            a = b.getViewSize().height;
            c.maxHeight = Math.min(d || a, a)
        }
        c.callParent(arguments);
        c.maxHeight = d;
        return c
    },
    setVerticalPosition: function() {
        var d = this, g, e = d.getY(), h = e, j = d.getHeight(), b = Ext.Element.getViewportHeight().height, c = d.el.parent(), a = c.getViewSize().height, i = e - c.getScroll().top;
        c = null;
        if (d.floating) {
            g = d.maxHeight ? d.maxHeight : a - i;
            if (j > a) {
                h = e - i
            } else {
                if (g < j) {
                    h = e - (j - g)
                } else {
                    if (e + j > b) {
                        h = b - j
                    }
                }
            }
        }
        d.setY(h)
    }
});
Ext.define("Ext.panel.Tool", {
    extend: Ext.Component,
    alias: "widget.tool",
    isTool: true,
    baseCls: Ext.baseCSSPrefix + "tool",
    disabledCls: Ext.baseCSSPrefix + "tool-disabled",
    toolPressedCls: Ext.baseCSSPrefix + "tool-pressed",
    toolOverCls: Ext.baseCSSPrefix + "tool-over",
    ariaRole: "button",
    childEls: ["toolEl"],
    renderTpl: ['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],
    tooltipType: "qtip",
    stopEvent: true,
    height: 15,
    width: 15,
    _toolTypes: {
        close: 1,
        collapse: 1,
        down: 1,
        expand: 1,
        gear: 1,
        help: 1,
        left: 1,
        maximize: 1,
        minimize: 1,
        minus: 1,
        next: 1,
        pin: 1,
        plus: 1,
        prev: 1,
        print: 1,
        refresh: 1,
        restore: 1,
        right: 1,
        save: 1,
        search: 1,
        toggle: 1,
        unpin: 1,
        up: 1
    },
    initComponent: function() {
        var a = this;
        a.addEvents("click");
        if (a.id && a._toolTypes[a.id] && Ext.global.console) {
            Ext.global.console.warn("When specifying a tool you should use the type option, the id can conflict now that tool is a Component")
        }
        a.type = a.type || a.id;
        Ext.applyIf(a.renderData, {
            baseCls: a.baseCls,
            blank: Ext.BLANK_IMAGE_URL,
            type: a.type
        });
        a.tooltip = a.tooltip || a.qtip;
        a.callParent()
    },
    afterRender: function() {
        var b = this, a;
        b.callParent(arguments);
        b.el.on({
            click: b.onClick,
            mousedown: b.onMouseDown,
            mouseover: b.onMouseOver,
            mouseout: b.onMouseOut,
            scope: b
        });
        if (b.tooltip) {
            if (Ext.quickTipsActive && Ext.isObject(b.tooltip)) {
                Ext.tip.QuickTipManager.register(Ext.apply({
                    target: b.id
                }, b.tooltip))
            } else {
                a = b.tooltipType == "qtip" ? "data-qtip" : "title";
                b.el.dom.setAttribute(a, b.tooltip)
            }
        }
    },
    getFocusEl: function() {
        return this.el
    },
    setType: function(a) {
        var b = this
          , c = b.type;
        b.type = a;
        if (b.rendered) {
            if (c) {
                b.toolEl.removeCls(b.baseCls + "-" + c)
            }
            b.toolEl.addCls(b.baseCls + "-" + a)
        } else {
            b.renderData.type = a
        }
        return b
    },
    onClick: function(c, b) {
        var a = this;
        if (a.disabled) {
            return false
        }
        a.el.removeCls(a.toolPressedCls);
        a.el.removeCls(a.toolOverCls);
        if (a.stopEvent !== false) {
            c.stopEvent()
        }
        Ext.callback(a.handler, a.scope || a, [c, b, a.ownerCt, a]);
        a.fireEvent("click", a, c);
        return true
    },
    onDestroy: function() {
        if (Ext.quickTipsActive && Ext.isObject(this.tooltip)) {
            Ext.tip.QuickTipManager.unregister(this.id)
        }
        this.callParent()
    },
    onMouseDown: function() {
        if (this.disabled) {
            return false
        }
        this.el.addCls(this.toolPressedCls)
    },
    onMouseOver: function() {
        if (this.disabled) {
            return false
        }
        this.el.addCls(this.toolOverCls)
    },
    onMouseOut: function() {
        this.el.removeCls(this.toolOverCls)
    }
});
Ext.define("Ext.resizer.ResizeTracker", {
    extend: Ext.dd.DragTracker,
    dynamic: true,
    preserveRatio: false,
    constrainTo: null,
    proxyCls: Ext.baseCSSPrefix + "resizable-proxy",
    constructor: function(b) {
        var d = this, c, a, e;
        if (!b.el) {
            if (b.target.isComponent) {
                d.el = b.target.getEl()
            } else {
                d.el = b.target
            }
        }
        this.callParent(arguments);
        if (d.preserveRatio && d.minWidth && d.minHeight) {
            c = d.minWidth / d.el.getWidth();
            a = d.minHeight / d.el.getHeight();
            if (a > c) {
                d.minWidth = d.el.getWidth() * a
            } else {
                d.minHeight = d.el.getHeight() * c
            }
        }
        if (d.throttle) {
            e = Ext.Function.createThrottled(function() {
                Ext.resizer.ResizeTracker.prototype.resize.apply(d, arguments)
            }, d.throttle);
            d.resize = function(h, i, g) {
                if (g) {
                    Ext.resizer.ResizeTracker.prototype.resize.apply(d, arguments)
                } else {
                    e.apply(null, arguments)
                }
            }
        }
    },
    onBeforeStart: function(a) {
        this.startBox = this.target.getBox()
    },
    getDynamicTarget: function() {
        var a = this
          , b = a.target;
        if (a.dynamic) {
            return b
        } else {
            if (!a.proxy) {
                a.proxy = a.createProxy(b)
            }
        }
        a.proxy.show();
        return a.proxy
    },
    createProxy: function(c) {
        var b, a = this.proxyCls;
        if (c.isComponent) {
            b = c.getProxy().addCls(a)
        } else {
            b = c.createProxy({
                tag: "div",
                cls: a,
                id: c.id + "-rzproxy"
            }, Ext.getBody())
        }
        b.removeCls(Ext.baseCSSPrefix + "proxy-el");
        return b
    },
    onStart: function(a) {
        this.activeResizeHandle = Ext.get(this.getDragTarget().id);
        if (!this.dynamic) {
            this.resize(this.startBox, {
                horizontal: "none",
                vertical: "none"
            })
        }
    },
    onDrag: function(a) {
        if (this.dynamic || this.proxy) {
            this.updateDimensions(a)
        }
    },
    updateDimensions: function(t, m) {
        var u = this, c = u.activeResizeHandle.region, g = u.getOffset(u.constrainTo ? "dragTarget" : null), k = u.startBox, h, p = 0, v = 0, j, q, a = 0, x = 0, w, n = g[0] < 0 ? "right" : "left", s = g[1] < 0 ? "down" : "up", i, b, d, o, l;
        c = u.convertRegionName(c);
        switch (c) {
        case "south":
            v = g[1];
            b = 2;
            break;
        case "north":
            v = -g[1];
            x = -v;
            b = 2;
            break;
        case "east":
            p = g[0];
            b = 1;
            break;
        case "west":
            p = -g[0];
            a = -p;
            b = 1;
            break;
        case "northeast":
            v = -g[1];
            x = -v;
            p = g[0];
            i = [k.x, k.y + k.height];
            b = 3;
            break;
        case "southeast":
            v = g[1];
            p = g[0];
            i = [k.x, k.y];
            b = 3;
            break;
        case "southwest":
            p = -g[0];
            a = -p;
            v = g[1];
            i = [k.x + k.width, k.y];
            b = 3;
            break;
        case "northwest":
            v = -g[1];
            x = -v;
            p = -g[0];
            a = -p;
            i = [k.x + k.width, k.y + k.height];
            b = 3;
            break
        }
        d = {
            width: k.width + p,
            height: k.height + v,
            x: k.x + a,
            y: k.y + x
        };
        j = Ext.Number.snap(d.width, u.widthIncrement);
        q = Ext.Number.snap(d.height, u.heightIncrement);
        if (j != d.width || q != d.height) {
            switch (c) {
            case "northeast":
                d.y -= q - d.height;
                break;
            case "north":
                d.y -= q - d.height;
                break;
            case "southwest":
                d.x -= j - d.width;
                break;
            case "west":
                d.x -= j - d.width;
                break;
            case "northwest":
                d.x -= j - d.width;
                d.y -= q - d.height
            }
            d.width = j;
            d.height = q
        }
        if (d.width < u.minWidth || d.width > u.maxWidth) {
            d.width = Ext.Number.constrain(d.width, u.minWidth, u.maxWidth);
            if (a) {
                d.x = k.x + (k.width - d.width)
            }
        } else {
            u.lastX = d.x
        }
        if (d.height < u.minHeight || d.height > u.maxHeight) {
            d.height = Ext.Number.constrain(d.height, u.minHeight, u.maxHeight);
            if (x) {
                d.y = k.y + (k.height - d.height)
            }
        } else {
            u.lastY = d.y
        }
        if (u.preserveRatio || t.shiftKey) {
            h = u.startBox.width / u.startBox.height;
            o = Math.min(Math.max(u.minHeight, d.width / h), u.maxHeight);
            l = Math.min(Math.max(u.minWidth, d.height * h), u.maxWidth);
            if (b == 1) {
                d.height = o
            } else {
                if (b == 2) {
                    d.width = l
                } else {
                    w = Math.abs(i[0] - this.lastXY[0]) / Math.abs(i[1] - this.lastXY[1]);
                    if (w > h) {
                        d.height = o
                    } else {
                        d.width = l
                    }
                    if (c == "northeast") {
                        d.y = k.y - (d.height - k.height)
                    } else {
                        if (c == "northwest") {
                            d.y = k.y - (d.height - k.height);
                            d.x = k.x - (d.width - k.width)
                        } else {
                            if (c == "southwest") {
                                d.x = k.x - (d.width - k.width)
                            }
                        }
                    }
                }
            }
        }
        if (v === 0) {
            s = "none"
        }
        if (p === 0) {
            n = "none"
        }
        u.resize(d, {
            horizontal: n,
            vertical: s
        }, m)
    },
    getResizeTarget: function(a) {
        return a ? this.target : this.getDynamicTarget()
    },
    resize: function(c, e, a) {
        var b = this
          , d = b.getResizeTarget(a);
        d.setBox(c);
        if (b.originalTarget && (b.dynamic || a)) {
            b.originalTarget.setBox(c)
        }
    },
    onEnd: function(a) {
        this.updateDimensions(a, true);
        if (this.proxy) {
            this.proxy.hide()
        }
    },
    convertRegionName: function(a) {
        return a
    }
});
Ext.define("Ext.resizer.Resizer", {
    mixins: {
        observable: Ext.util.Observable
    },
    alternateClassName: "Ext.Resizable",
    handleCls: Ext.baseCSSPrefix + "resizable-handle",
    pinnedCls: Ext.baseCSSPrefix + "resizable-pinned",
    overCls: Ext.baseCSSPrefix + "resizable-over",
    wrapCls: Ext.baseCSSPrefix + "resizable-wrap",
    delimiterRe: /(?:\s*[,;]\s*)|\s+/,
    dynamic: true,
    handles: "s e se",
    height: null,
    width: null,
    heightIncrement: 0,
    widthIncrement: 0,
    minHeight: 20,
    minWidth: 20,
    maxHeight: 10000,
    maxWidth: 10000,
    pinned: false,
    preserveRatio: false,
    transparent: false,
    possiblePositions: {
        n: "north",
        s: "south",
        e: "east",
        w: "west",
        se: "southeast",
        sw: "southwest",
        nw: "northwest",
        ne: "northeast"
    },
    constructor: function(b) {
        var m = this, j, q, t, s = m.handles, c, p, g, d = 0, o, n = [], h, a, e, l, k = Ext.dom.Element.unselectableCls;
        m.addEvents("beforeresize", "resizedrag", "resize");
        if (Ext.isString(b) || Ext.isElement(b) || b.dom) {
            j = b;
            b = arguments[1] || {};
            b.target = j
        }
        m.mixins.observable.constructor.call(m, b);
        j = m.target;
        if (j) {
            if (j.isComponent) {
                j.addClsWithUI("resizable");
                m.el = j.getEl();
                if (j.minWidth) {
                    m.minWidth = j.minWidth
                }
                if (j.minHeight) {
                    m.minHeight = j.minHeight
                }
                if (j.maxWidth) {
                    m.maxWidth = j.maxWidth
                }
                if (j.maxHeight) {
                    m.maxHeight = j.maxHeight
                }
                if (j.floating) {
                    if (!m.hasOwnProperty("handles")) {
                        m.handles = "n ne e se s sw w nw"
                    }
                }
            } else {
                m.el = m.target = Ext.get(j)
            }
        } else {
            m.target = m.el = Ext.get(m.el)
        }
        t = m.el.dom.tagName.toUpperCase();
        if (t == "TEXTAREA" || t == "IMG" || t == "TABLE") {
            m.originalTarget = m.target;
            q = m.el;
            e = q.getBox();
            m.target = m.el = m.el.wrap({
                cls: m.wrapCls,
                id: m.el.id + "-rzwrap",
                style: q.getStyles("margin-top", "margin-bottom")
            });
            m.el.setPositioning(q.getPositioning());
            q.clearPositioning();
            m.el.setBox(e);
            q.setStyle("position", "absolute")
        }
        m.el.position();
        if (m.pinned) {
            m.el.addCls(m.pinnedCls)
        }
        m.resizeTracker = new Ext.resizer.ResizeTracker({
            disabled: m.disabled,
            target: m.target,
            constrainTo: m.constrainTo,
            overCls: m.overCls,
            throttle: m.throttle,
            originalTarget: m.originalTarget,
            delegate: "." + m.handleCls,
            dynamic: m.dynamic,
            preserveRatio: m.preserveRatio,
            heightIncrement: m.heightIncrement,
            widthIncrement: m.widthIncrement,
            minHeight: m.minHeight,
            maxHeight: m.maxHeight,
            minWidth: m.minWidth,
            maxWidth: m.maxWidth
        });
        m.resizeTracker.on({
            mousedown: m.onBeforeResize,
            drag: m.onResize,
            dragend: m.onResizeEnd,
            scope: m
        });
        if (m.handles == "all") {
            m.handles = "n s e w ne nw se sw"
        }
        s = m.handles = m.handles.split(m.delimiterRe);
        p = m.possiblePositions;
        g = s.length;
        c = m.handleCls + " " + m.handleCls + "-{0}";
        if (m.target.isComponent) {
            l = m.target.baseCls;
            c += " " + l + "-handle " + l + "-handle-{0}";
            if (Ext.supports.CSS3BorderRadius) {
                c += " " + l + "-handle-{0}-br"
            }
        }
        h = Ext.isIE6 ? ' style="height:' + m.el.getHeight() + 'px"' : "";
        for (; d < g; d++) {
            if (s[d] && p[s[d]]) {
                o = p[s[d]];
                if (o === "east" || o === "west") {
                    a = h
                } else {
                    a = ""
                }
                n.push('<div id="', m.el.id, "-", o, '-handle"', ' class="', Ext.String.format(c, o), " ", k, '"', ' unselectable="on"', a, "></div>")
            }
        }
        Ext.DomHelper.append(m.el, n.join(""));
        for (d = 0; d < g; d++) {
            if (s[d] && p[s[d]]) {
                o = p[s[d]];
                m[o] = m.el.getById(m.el.id + "-" + o + "-handle");
                m[o].region = o;
                if (m.transparent) {
                    m[o].setOpacity(0)
                }
            }
        }
        if (Ext.isNumber(m.width)) {
            m.width = Ext.Number.constrain(m.width, m.minWidth, m.maxWidth)
        }
        if (Ext.isNumber(m.height)) {
            m.height = Ext.Number.constrain(m.height, m.minHeight, m.maxHeight)
        }
        if (m.width !== null || m.height !== null) {
            if (m.originalTarget) {
                m.originalTarget.setWidth(m.width);
                m.originalTarget.setHeight(m.height)
            }
            m.resizeTo(m.width, m.height)
        }
        m.forceHandlesHeight()
    },
    disable: function() {
        this.resizeTracker.disable()
    },
    enable: function() {
        this.resizeTracker.enable()
    },
    onBeforeResize: function(b, c) {
        var a = this.el.getBox();
        return this.fireEvent("beforeresize", this, a.width, a.height, c)
    },
    onResize: function(c, d) {
        var b = this
          , a = b.el.getBox();
        b.forceHandlesHeight();
        return b.fireEvent("resizedrag", b, a.width, a.height, d)
    },
    onResizeEnd: function(c, d) {
        var b = this
          , a = b.el.getBox();
        b.forceHandlesHeight();
        return b.fireEvent("resize", b, a.width, a.height, d)
    },
    resizeTo: function(b, a) {
        var c = this;
        c.target.setSize(b, a);
        c.fireEvent("resize", c, b, a, null)
    },
    getEl: function() {
        return this.el
    },
    getTarget: function() {
        return this.target
    },
    destroy: function() {
        var e = this, d, c = e.handles, a = c.length, b = e.possiblePositions, g;
        e.resizeTracker.destroy();
        for (d = 0; d < a; d++) {
            if (g = e[b[c[d]]]) {
                g.remove()
            }
        }
    },
    forceHandlesHeight: function() {
        var a = this, b;
        if (Ext.isIE6) {
            b = a.east;
            if (b) {
                b.setHeight(a.el.getHeight())
            }
            b = a.west;
            if (b) {
                b.setHeight(a.el.getHeight())
            }
            a.el.repaint()
        }
    }
});
Ext.define("Ext.util.Point", {
    extend: Ext.util.Region,
    statics: {
        fromEvent: function(a) {
            a = a.browserEvent || a;
            a = a.changedTouches && a.changedTouches.length > 0 ? a.changedTouches[0] : a;
            return new this(a.pageX,a.pageY)
        }
    },
    constructor: function(a, b) {
        this.callParent([b, a, b, a])
    },
    toString: function() {
        return "Point[" + this.x + "," + this.y + "]"
    },
    equals: function(a) {
        return this.x == a.x && this.y == a.y
    },
    isWithin: function(b, a) {
        if (!Ext.isObject(a)) {
            a = {
                x: a,
                y: a
            }
        }
        return this.x <= b.x + a.x && this.x >= b.x - a.x && this.y <= b.y + a.y && this.y >= b.y - a.y
    },
    isContainedBy: function(a) {
        if (!(a instanceof Ext.util.Region)) {
            a = Ext.get(a.el || a).getRegion()
        }
        return a.contains(this)
    },
    roundedEquals: function(a) {
        return Math.round(this.x) == Math.round(a.x) && Math.round(this.y) == Math.round(a.y)
    }
}, function() {
    this.prototype.translate = Ext.util.Region.prototype.translateBy
});
Ext.define("Ext.util.Grouper", {
    extend: Ext.util.Sorter,
    isGrouper: true,
    getGroupString: function(a) {
        return a.get(this.property)
    }
});
Ext.define("ananas.CmdUIMgr", {
    alternateClassName: "CmdUIMgr",
    singleton: !0,
    mixins: {
        observable: Ext.util.Observable
    },
    constructor: function() {
        this.callParent(arguments);
        this.cmdUIs = new Ext.util.MixedCollection
    },
    add: function(b) {
        this.cmdUIs.add(b.cmd, b)
    },
    getUI: function(b) {
        return this.cmdUIs.get(b)
    },
    checkUI: function() {
        top.editor_user_setting || (CmdUIMgr.getUI("template").hide(),
        CmdUIMgr.getUI("work").hide());
        var d = Ext.apply({
            addsibling: !0,
            addchild: !0,
            movedir: !0,
            renamedir: !0,
            deldir: !0,
            addtab: !0,
            deltab: !0,
            renametab: !0,
            strikethrough: !0,
            overline: !0,
            underline: !0,
            undo: !0,
            redo: !0,
            bold: !0,
            italic: !0,
            insertUnOrderedList: !0,
            insertOrderedList: !0,
            blockquote: !0,
            autoblockquote: !0,
            inserttable: !0,
            template: !0,
            head: !0,
            forecolor: !0,
            formatmenu: !0,
            removeformat: !0,
            formatmenuhuaxian: !0,
            addindent: !0,
            minishindent: !0,
            justifyleft: !0,
            justifyright: !0,
            justifycenter: !0,
            lineheight: !0,
            fontfamily: !0,
            fontsize: !0,
            recoder: !0,
            insertimage: {
                enable: !0,
                remote: !0,
                upload: !0,
                search: !0
            },
            insertdoc: {
                enable: !0,
                cloud: !0,
                library: !0,
                upload: !0,
                task: !0,
                online: !0
            },
            insertvideo: {
                enable: !0,
                cloud: !0,
                library: !0,
                upload: !0,
                task: !0,
                cut: !0,
                insertobj: !0,
                drag: !0,
                switchwindow: !0,
                task: !0
            },
            insertcxvideo: !0,
            insertbook: {
                enable: !0,
                task: !0,
                online: !0
            },
            insertattachment: {
                enable: !0,
                cloud: !0,
                library: !0,
                upload: !0
            },
            link: {
                enable: !0,
                text: !0,
                library: !0
            },
            insertframe: !0,
            work: {
                enable: !0,
                create: !0,
                select: !0
            },
            questionnaire: {
                enable: !0,
                create: !0,
                select: !0
            },
            commenu: !0,
            formula: !0,
            spechars: !0,
            insertaudio: {
                enable: !0,
                cloud: !0,
                library: !0,
                upload: !0,
                task: !0,
                online: !0
            },
            insertchapter: !0,
            work2: !0,
            ballchart: !0,
            insertzhuanti: !0,
            insertcxjour: !0,
            insertaddresource: !0,
            realplay: !0,
            insertflash: {
                enable: !0,
                cloud: !0,
                library: !0,
                upload: !0,
                online: !0
            },
            schoolresource: !0,
            insertzyk: !0,
            maxUploadSize: "2000 MB"
        }, top.ueconf || {}), c;
        for (c in d) {
            ("[object Object]" == Object.prototype.toString.call(d[c]) && !1 === d[c].enable || !1 === d[c]) && CmdUIMgr.getUI(c) && CmdUIMgr.getUI(c).hide()
        }
    }
});
Ext.define("ananas.CommandUI", {
    extend: Ext.Component,
    baseCls: "ans-command-ui",
    selected: !1,
    selectable: !1,
    selectedCls: "ans-selected",
    pressedCls: "ans-pressed",
    overCls: "ans-over",
    disabledCls: "ans-disabled",
    listenSelectionChange: !1,
    cmd: !1,
    afterRender: function() {
        var b = this;
        b.doc = Ext.getDoc();
        b.selectable && b.addEvents("selected", "unselected");
        b.mon(b.el, {
            mousedown: b.onMouseDown,
            scope: b
        });
        b.mon(b, {
            selected: b.onSelected,
            unselected: b.onUnSelected,
            scope: b
        });
        b.callParent(arguments);
        setTimeout(function() {
            if (EditorMgr.sharedTools) {
                EditorMgr.getEditors().each(function(c) {
                    c && b.listenSelectionChange && c.getUEditor().addListener("selectionchange", function() {
                        b.onSelectionChange(c, c.getUEditor())
                    })
                })
            } else {
                var a = b.getEditor();
                a && b.listenSelectionChange && a.getUEditor().addListener("selectionchange", function() {
                    b.onSelectionChange(a, a.getUEditor())
                })
            }
        }, 100);
        CmdUIMgr.add(b)
    },
    onMouseDown: function(b) {
        !this.disabled && 0 === b.button && (this.addCls(this.pressedCls),
        this.doc.on("mouseup", this.onMouseUp, this),
        this.startClick = !0)
    },
    onMouseUp: function(b) {
        0 === b.button && (this.removeCls(this.pressedCls),
        this.doc.un("mouseup", this.onMouseUp, this),
        this.startClick && (this.selectable && (this.selected ? this.fireEvent("unselected", this) : this.fireEvent("selected", this)),
        this.startClick = !1,
        this.onCmd(this.cmd, this)))
    },
    onSelected: function(b) {
        b.addCls(b.selectedCls);
        b.selected = !0
    },
    onUnSelected: function(b) {
        b.removeCls(b.selectedCls);
        b.selected = !1
    },
    select: function(b) {
        if (this.disabled && me.selected) {
            return this
        }
        if (b) {
            this.onSelected(this)
        } else {
            this.fireEvent("selected", this)
        }
        return this
    },
    unselect: function(b) {
        if (this.disabled && !me.selected) {
            return this
        }
        if (b) {
            this.onUnSelected(this)
        } else {
            this.fireEvent("unselected", this)
        }
        return this
    },
    onCmd: function(e, d) {
        var f = d.getEditor();
        f && (f.fireEvent("cmd", e, f),
        d.doCmd(e, f, f.getUEditor()))
    },
    doCmd: function(e, d, f) {
        f.execCommand(e)
    },
    onSelectionChange: function(d, c) {
        switch (this.doQueryCommandState(c)) {
        case 0:
            this.enable(!0).unselect(!0);
            break;
        case -1:
            this.disable(!0);
            break;
        case 1:
            this.enable(!0).select(!0);
            break;
        case !1:
            this.enable(!0).unselect(!0)
        }
    },
    getEditor: function() {
        return this.editor ? this.editor : EditorMgr.sharedTools ? EditorMgr.getActivatedEditor() : this.editor = this.up("ananas-editor")
    },
    doQueryCommandState: function(b) {
        return "true" != b.body.contentEditable || "head" != this.cmd && b.queryCommandValue("head") ? -1 : b.queryCommandState(this.cmd, this)
    },
    showMenu: function(e, d) {
        var f = Math.max(top.document.documentElement.scrollTop, top.document.body.scrollTop);
        this._ui ? (this._ui.showPopup(),
        this._ui.popup.showAt({
            top: this.getY() + 60 - f + (d ? d : 0),
            left: this.getX() - 10 + (e ? e : 0)
        })) : (this.menu.show(),
        this.menu.setX(this.getX() + (e ? e : 0)),
        this.menu.setY(this.getY() + 60 + (d ? d : 0)))
    }
});
Ext.define("ananas.Save", {
    extend: ananas.CommandUI,
    cls: "ans-menu-ui ans-command-save",
    xtype: "cmd-save",
    selectable: !1,
    cmd: "save",
    listenSelectionChange: !0,
    doQueryCommandState: function(b) {
        return b.queryCommandState("undo")
    },
    save: function() {
        this.onCmd("save", this)
    }
});
Ext.define("ananas.Undo", {
    extend: ananas.CommandUI,
    cls: "ans-menu-ui ans-command-undo",
    xtype: "cmd-undo",
    cmd: "undo",
    html: "\u64a4\u9500",
    listenSelectionChange: !0
});
Ext.define("ananas.Redo", {
    extend: ananas.CommandUI,
    cls: "ans-menu-ui ans-command-redo",
    xtype: "cmd-redo",
    cmd: "redo",
    html: "\u91cd\u505a",
    listenSelectionChange: !0
});
Ext.define("ananas.FullScreen", {
    extend: ananas.CommandUI,
    cls: "ans-menu-ui ans-command-fullscreen",
    xtype: "cmd-fullscreen",
    cmd: "fullscreen",
    selectable: !0,
    listenSelectionChange: !1,
    doCmd: function(d, c) {
        c.setFullScreen(this.selected)
    }
});
Ext.define("ananas.TabSpace", {
    extend: Ext.Component,
    cls: "ans-tabpanel-space",
    xtype: "ans-tabpanel-space"
});
Ext.define("ananas.edit.UI", {
    extend: ananas.CommandUI,
    baseCls: "ans-command-ui ans-menu-ui"
});
Ext.define("ananas.edit.Bold", {
    extend: ananas.edit.UI,
    cls: "ans-command-bold",
    xtype: "cmd-bold",
    cmd: "bold",
    html: "\u52a0\u7c97",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.Underline", {
    extend: ananas.edit.UI,
    cls: "ans-command-underline",
    xtype: "cmd-underline",
    cmd: "underline",
    html: "\u4e0b\u5212\u7ebf",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.Strikethrough", {
    extend: ananas.edit.UI,
    cls: "ans-command-strikethrough",
    xtype: "cmd-strikethrough",
    cmd: "strikethrough",
    html: "\u4e2d\u5212\u7ebf",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.Overline", {
    extend: ananas.edit.UI,
    cls: "ans-command-overline",
    xtype: "cmd-overline",
    cmd: "overline",
    html: "\u4e0a\u5212\u7ebf",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.Italic", {
    extend: ananas.edit.UI,
    cls: "ans-command-italic",
    xtype: "cmd-italic",
    cmd: "italic",
    html: "\u659c\u4f53",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.InsertOrderedList", {
    extend: ananas.edit.UI,
    cls: "ans-command-insertOrderedList",
    xtype: "cmd-insertOrderedList",
    cmd: "insertOrderedList",
    html: "\u7f16\u53f7",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.InsertUnOrderedList", {
    extend: ananas.edit.UI,
    cls: "ans-command-insertUnOrderedList",
    xtype: "cmd-insertUnOrderedList",
    cmd: "insertUnOrderedList",
    html: "\u76ee\u5f55",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.BlockQuote", {
    extend: ananas.edit.UI,
    cls: "ans-command-blockquote",
    xtype: "cmd-blockquote",
    cmd: "blockquote",
    html: "\u5e95\u8272",
    listenSelectionChange: !0
});
Ext.define("ananas.edit.AutoBlockQuote", {
    extend: ananas.edit.UI,
    cls: "ans-command-autoblockquote",
    xtype: "cmd-autoblockquote",
    cmd: "autoblockquote",
    html: "\u6536\u8d77",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("autoblockquote", {
            "class": "cmd-autoblockquote"
        })
    }
});
Ext.define("ananas.edit.Table", {
    extend: ananas.edit.UI,
    cls: "ans-command-inserttable",
    xtype: "cmd-inserttable",
    cmd: "inserttable",
    html: "\u8868\u683c",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        if (!this._ui) {
            e = this.el;
            if (!e) {
                return
            }
            d = new baidu.editor.ui.TableButton({
                editor: f,
                className: "edui-for-inserttable",
                onpicktable: function(h, c, i) {
                    f.execCommand("inserttable", {
                        numRows: i,
                        numCols: c,
                        border: 1
                    })
                }
            });
            d.target = e.el.dom;
            d.render();
            this._ui = d
        }
        this.showMenu()
    }
});
Ext.define("ananas.edit.Template", {
    extend: ananas.edit.UI,
    cls: "ans-command-template",
    xtype: "cmd-template",
    cmd: "template",
    html: "\u6a21\u677f",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        e = f.getDialog(e);
        e.render();
        e.open()
    }
});
Ext.define("ananas.edit.Color", {
    extend: ananas.edit.UI,
    cls: "ans-command-color",
    xtype: "cmd-color",
    cmd: "forecolor",
    html: "\u989c\u8272",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        if (!this._ui) {
            e = this.el;
            if (!e) {
                return
            }
            d = new baidu.editor.ui.ColorButton({
                editor: f,
                className: "edui-for-forecolor",
                onpickcolor: function(g, c) {
                    f.execCommand("forecolor", c)
                }
            });
            d.target = e.el.dom;
            d.render();
            this._ui = d
        }
        this.showMenu()
    }
});
Ext.define("ananas.edit.JustifyLeft", {
    extend: ananas.edit.UI,
    cls: "ans-command-justifyleft",
    xtype: "cmd-justifyleft",
    cmd: "justifyleft",
    html: "\u5de6\u5bf9\u9f50",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("justify", "left")
    }
});
Ext.define("ananas.edit.JustifyRight", {
    extend: ananas.edit.UI,
    cls: "ans-command-justifyright",
    xtype: "cmd-justifyright",
    cmd: "justifyright",
    html: "\u53f3\u5bf9\u9f50",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("justify", "right")
    }
});
Ext.define("ananas.edit.JustifyCenter", {
    extend: ananas.edit.UI,
    cls: "ans-command-justifycenter",
    xtype: "cmd-justifycenter",
    cmd: "justifycenter",
    html: "\u5c45\u4e2d",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("justify", "center")
    }
});
Ext.define("ananas.edit.AddIndent", {
    extend: ananas.edit.UI,
    cls: "ans-command-addindent",
    xtype: "cmd-addindent",
    cmd: "addindent",
    html: "\u52a0\u7f29\u8fdb",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("indent", "add")
    }
});
Ext.define("ananas.edit.MinishIndent", {
    extend: ananas.edit.UI,
    cls: "ans-command-minishindent",
    xtype: "cmd-minishindent",
    cmd: "minishindent",
    html: "\u51cf\u7f29\u8fdb",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("indent", "minish")
    }
});
Ext.define("ananas.edit.LineHeight", {
    extend: ananas.edit.UI,
    cls: "ans-command-lineheight",
    xtype: "cmd-lineheight",
    cmd: "lineheight",
    html: "\u884c\u8ddd",
    listenSelectionChange: !0,
    doCmd: function(h, f, l) {
        f = "1 1.5 1.75 2 3 4 5".split(" ");
        if (!this._ui) {
            h = this.el;
            if (!h) {
                return
            }
            for (var k = [], j = 0; j < f.length; j++) {
                var i = f[j];
                k.push({
                    label: i,
                    value: i,
                    theme: l.options.theme,
                    renderLabelHtml: function() {
                        return '\x3cdiv class\x3d"edui-label %%-label" style\x3d"line-height:1;font-size:' + this.value + '"\x3e' + (this.label || "") + "\x3c/div\x3e"
                    }
                })
            }
            f = new baidu.editor.ui.Combox({
                editor: l,
                items: k,
                onselect: function(d, c) {
                    l.execCommand("lineheight", this.items[c].value)
                },
                setLabel: function(b) {
                    this.label = b
                },
                onbuttonclick: function() {
                    this.showPopup()
                },
                className: "edui-for-lineheight"
            });
            f.target = h.el.dom;
            f.render();
            this._ui = f
        }
        this.showMenu()
    }
});
Ext.define("ananas.font.UI", {
    extend: ananas.CommandUI,
    baseCls: "ans-command-ui ans-font-ui"
});
Ext.define("ananas.font.FontFamily", {
    extend: ananas.font.UI,
    cls: "ans-command-fontfamily",
    xtype: "cmd-fontfamily",
    cmd: "fontfamily",
    html: "\u5b8b\u4f53",
    listenSelectionChange: !0,
    doCmd: function(i, f, n) {
        var m = this;
        f = [{
            label: "\u5b8b\u4f53",
            name: "songti",
            val: "\u5b8b\u4f53,SimSun"
        }, {
            label: "\u6977\u4f53",
            name: "kaiti",
            val: "\u6977\u4f53,\u6977\u4f53_GB2312, SimKai"
        }, {
            label: "\u5fae\u8f6f\u96c5\u9ed1",
            name: "yahei",
            val: "\u5fae\u8f6f\u96c5\u9ed1,Microsoft YaHei"
        }, {
            label: "\u9ed1\u4f53",
            name: "heiti",
            val: "\u9ed1\u4f53, SimHei"
        }, {
            label: "\u96b6\u4e66",
            name: "lishu",
            val: "\u96b6\u4e66, SimLi"
        }, {
            label: "andale",
            name: "andale mono",
            val: "andale mono"
        }, {
            label: "arial",
            name: "arial",
            val: "arial, helvetica,sans-serif"
        }, {
            label: "arialbla",
            name: "arial black",
            val: "arial black,avant garde"
        }, {
            label: "comic",
            name: "comic sans ms",
            val: "comic sans ms"
        }, {
            label: "impact",
            name: "impact",
            val: "impact,chicago"
        }, {
            label: "times",
            name: "times new roman",
            val: "times new roman"
        }];
        if (!m._ui) {
            i = m.el;
            if (!i) {
                return
            }
            for (var l = 0, k, j = []; k = f[l]; l++) {
                (function(d, c) {
                    j.push({
                        label: d,
                        value: c,
                        theme: n.options.theme,
                        renderLabelHtml: function() {
                            return '\x3cdiv class\x3d"edui-label %%-label" style\x3d"font-family:' + this.value + '"\x3e' + (this.label || "") + "\x3c/div\x3e"
                        }
                    })
                }
                )(k.label, k.val)
            }
            f = new baidu.editor.ui.Combox({
                editor: n,
                items: j,
                onselect: function(d, c) {
                    n.execCommand("FontFamily", this.items[c].value)
                },
                setLabel: function(b) {
                    m.el.setHTML(b);
                    this.label = b
                },
                className: "edui-for-fontfamily",
                indexByValue: function(e) {
                    if (e) {
                        for (var d = 0, g; g = this.items[d]; d++) {
                            if (-1 != g.value.indexOf(e)) {
                                return d
                            }
                        }
                    }
                    return -1
                }
            });
            f.target = i.el.dom;
            f.render();
            m._ui = f
        }
        m.showMenu(0, -40)
    }
});
Ext.define("ananas.font.FontSize", {
    extend: ananas.font.UI,
    cls: "ans-command-fontsize",
    xtype: "cmd-fontsize",
    cmd: "fontsize",
    html: "10px",
    listenSelectionChange: !0,
    doCmd: function(i, f, n) {
        var m = this;
        f = [10, 11, 12, 14, 16, 18, 20, 22, 24, 36, 48, 72];
        if (!m._ui) {
            i = m.el;
            if (!i) {
                return
            }
            for (var l = [], k = 0; k < f.length; k++) {
                var j = f[k] + "px";
                l.push({
                    label: j,
                    value: j,
                    theme: n.options.theme,
                    renderLabelHtml: function() {
                        return '\x3cdiv class\x3d"edui-label %%-label" style\x3d"line-height:1;font-size:' + this.value + '"\x3e' + (this.label || "") + "\x3c/div\x3e"
                    }
                })
            }
            f = new baidu.editor.ui.Combox({
                editor: n,
                items: l,
                onselect: function(d, c) {
                    n.execCommand("FontSize", this.items[c].value)
                },
                setLabel: function(b) {
                    m.el.setHTML(b);
                    this.label = b
                },
                onbuttonclick: function() {
                    this.showPopup()
                },
                className: "edui-for-fontsize"
            });
            f.target = i.el.dom;
            f.render();
            m._ui = f
        }
        m.showMenu(0, -40)
    }
});
Ext.define("ananas.head.UI", {
    extend: ananas.CommandUI,
    baseCls: "ans-command-ui ans-head-ui"
});
Ext.define("ananas.head.H1", {
    extend: ananas.head.UI,
    cls: "ans-command-h1",
    xtype: "cmd-h1",
    cmd: "head",
    cmdParam: "h2",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("head", "h2")
    }
});
Ext.define("ananas.head.H2", {
    extend: ananas.head.UI,
    cls: "ans-command-h2",
    xtype: "cmd-h2",
    cmd: "head",
    cmdParam: "h3",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        f.execCommand("head", "h3")
    }
});
Ext.define("ananas.insert.UI", {
    extend: ananas.CommandUI,
    baseCls: "ans-command-ui ans-insert-ui",
    listenSelectionChange: !0,
    doCmd: function(e, d, f) {
        e = f.getDialog(e);
        e.render();
        e.open()
    }
});
Ext.define("ananas.insert.InsertImage", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertimage",
    xtype: "cmd-insertimage",
    cmd: "insertimage",
    html: "\u56fe\u7247"
});
Ext.define("ananas.insert.Link", {
    extend: ananas.insert.UI,
    cls: "ans-command-link",
    xtype: "cmd-link",
    cmd: "link",
    html: "\u94fe\u63a5"
});
Ext.define("ananas.insert.Frame", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertframe",
    xtype: "cmd-insertframe",
    cmd: "insertframe",
    html: "\u63d2\u4ef6"
});
Ext.define("ananas.insert.InsertDoc", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertdoc",
    xtype: "cmd-insertdoc",
    cmd: "insertdoc",
    html: "\u6587\u6863"
});
Ext.define("ananas.insert.InsertRead", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertread",
    xtype: "cmd-insertread",
    cmd: "insertread",
    html: "\u9605\u8bfb"
});
Ext.define("ananas.insert.InsertLive", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertlive",
    xtype: "cmd-insertlive",
    cmd: "insertlive",
    html: "\u76f4\u64ad"
});
Ext.define("ananas.insert.InsertVideo", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertvideo",
    xtype: "cmd-insertvideo",
    cmd: "insertvideo",
    html: "\u89c6\u9891"
});
Ext.define("ananas.insert.InsertBook", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertbook",
    xtype: "cmd-insertbook",
    cmd: "insertbook",
    html: "\u56fe\u4e66"
});
Ext.define("ananas.insert.InsertAttachment", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertattachment",
    xtype: "cmd-insertattachment",
    cmd: "insertattachment",
    html: "\u9644\u4ef6"
});
Ext.define("ananas.insert.Work", {
    extend: ananas.insert.UI,
    cls: "ans-command-work",
    xtype: "cmd-work",
    cmd: "work",
    html: "\u7ae0\u8282\u6d4b\u9a8c"
});
Ext.define("ananas.insert.InsertMooc", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertmooc",
    xtype: "cmd-insertmooc",
    cmd: "insertmooc"
});
Ext.define("ananas.insert.Reference", {
    extend: ananas.insert.UI,
    cls: "ans-command-reference",
    xtype: "cmd-reference",
    cmd: "reference"
});
Ext.define("ananas.insert.InsertBbs", {
    extend: ananas.insert.UI,
    cls: "ans-command-insertbbs",
    xtype: "cmd-insertbbs",
    cmd: "insertbbs",
    html: "\u8ba8\u8bba"
});
Ext.define("ananas.cmp.UI", {
    extend: ananas.CommandUI,
    baseCls: "ans-command-ui ans-cmp-ui",
    listenSelectionChange: !0,
    width: 40,
    doCmd: function(e, d, f) {
        "insertaddresource" == e ? f.execCommand("insertobject", "insertaddresource", {
            title: "",
            link: ""
        }) : (e = f.getDialog(e),
        e.render(),
        e.open())
    }
});
Ext.define("ananas.cmp.BallChart", {
    extend: ananas.cmp.UI,
    cls: "ans-command-ballchart",
    xtype: "cmd-ballchart",
    cmd: "ballchart",
    html: "\u6269\u5c55\u9605\u8bfb"
});
Ext.define("ananas.insert.Zhuanti", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertchapter",
    xtype: "cmd-insertzhuanti",
    cmd: "insertzhuanti",
    html: "\u8d85\u661f\u53d1\u73b0"
});
Ext.define("ananas.insert.CxJour", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertcxjour",
    xtype: "cmd-insertcxjour",
    cmd: "insertcxjour",
    html: "\u8d85\u661f\u671f\u520a"
});
Ext.define("ananas.insert.AddResource", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertaddresource",
    xtype: "cmd-insertaddresource",
    cmd: "insertaddresource",
    html: "\u5916\u90e8\u94fe\u63a5"
});
Ext.define("ananas.cmp.Spechars", {
    extend: ananas.cmp.UI,
    cls: "ans-command-spechars",
    xtype: "cmd-spechars",
    cmd: "spechars",
    html: "\u7b26\u53f7"
});
Ext.define("ananas.cmp.Formula", {
    extend: ananas.cmp.UI,
    cls: "ans-command-formula",
    xtype: "cmd-formula",
    cmd: "formula",
    html: "\u516c\u5f0f"
});
Ext.define("ananas.cmp.Work2", {
    extend: ananas.cmp.UI,
    cls: "ans-command-work2",
    xtype: "cmd-work2",
    cmd: "work2",
    html: "\u8f93\u5165\u6846"
});
Ext.define("ananas.cmp.InsertAudio", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertaudio",
    xtype: "cmd-insertaudio",
    cmd: "insertaudio",
    html: "\u97f3\u9891"
});
Ext.define("ananas.cmp.InsertChapter", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertchapter",
    xtype: "cmd-insertchapter",
    cmd: "insertchapter",
    html: "\u56fe\u4e66\u5185\u9875"
});
Ext.define("ananas.cmp.RealPlay", {
    extend: ananas.cmp.UI,
    cls: "ans-command-realplay",
    xtype: "cmd-realplay",
    cmd: "realplay",
    html: "\u76f4\u64ad",
    doCmd: function(e, d, f) {
        e = ServerHosts.CXLIVE_HOST + "/demo/meeting.jsp?mid\x3d" + f.mid();
        f.execCommand("insertobject", "realplay", {
            realplayurl: e
        })
    }
});
Ext.define("ananas.cmp.InsertSwf", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertflash",
    xtype: "cmd-insertflash",
    cmd: "insertflash",
    html: "\u52a8\u753b"
});
Ext.define("ananas.cmp.SchoolResource", {
    extend: ananas.cmp.UI,
    cls: "ans-command-schoolresource",
    xtype: "cmd-schoolresource",
    cmd: "schoolresource",
    html: "\u672c\u6821\u8d44\u6e90"
});
Ext.define("ananas.cmp.InsertZYK", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertzyk",
    xtype: "cmd-insertzyk",
    cmd: "insertzyk",
    html: "\u8d44\u6e90\u5e93"
});
Ext.define("ananas.cmp.LegendZYK", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertzyk",
    xtype: "cmd-legendzyk",
    cmd: "legendzyk",
    html: "\u4e09\u65b9\u8d44\u6e90"
});
Ext.define("ananas.cmp.InsertCXVideo", {
    extend: ananas.cmp.UI,
    cls: "ans-command-insertcxvideo",
    xtype: "cmd-insertcxvideo",
    cmd: "insertcxvideo",
    html: "\u8d85\u661f\u89c6\u9891"
});
Ext.define("ananas.cmp.ErYa", {
    extend: ananas.cmp.UI,
    cls: "ans-command-erya",
    xtype: "cmd-erya",
    cmd: "erya"
});
Ext.define("ananas.cmp.RichVideo", {
    extend: ananas.cmp.UI,
    cls: "ans-command-richvideo",
    xtype: "cmd-richvideo",
    cmd: "richvideo"
});
Ext.define("ananas.cmp.S2S", {
    extend: ananas.cmp.UI,
    cls: "ans-command-s2s",
    xtype: "cmd-s2s",
    cmd: "s2s",
    doCmd: function() {}
});
Ext.define("ananas.cmp.Recoder", {
    extend: ananas.cmp.UI,
    cls: "ans-command-recoder",
    xtype: "cmd-recoder",
    cmd: "recoder",
    html: "\u5f55\u97f3"
});
Ext.define("ananas.cmp.Questionnaire", {
    extend: ananas.cmp.UI,
    cls: "ans-command-questionnaire",
    xtype: "cmd-questionnaire",
    cmd: "questionnaire",
    html: "\u8c03\u67e5\u95ee\u5377"
});
Ext.define("ananas.Menu", {
    extend: ananas.edit.UI,
    activeCls: "ans-selected",
    inited: !1,
    menu: null,
    cls: "",
    cmd: "",
    doCmd: function(f, e, h) {
        var g = this;
        g.menu && (g.inited || (g.inited = !0,
        g.menu.addListener("show", function() {
            g.addCls(g.activeCls)
        }),
        g.menu.addListener("hide", function() {
            g.removeCls(g.activeCls)
        }),
        g.menu.addListener("click", function(d, c) {
            1 < EditorMgr.getEditors().items.length && c.doCmd(c.cmd, c, h);
            g.menu.hide()
        }),
        h.addListener("click", function() {
            g.menu.hide()
        })),
        g.showMenu(-20))
    },
    listenSelectionChange: !0
});
Ext.define("ananas.format.MenuHuaXian", {
    extend: Ext.menu.Menu,
    plain: !0,
    floating: !0,
    border: !1,
    animCollapse: !0,
    shadow: !1,
    minWidth: "80",
    layout: {
        type: "table",
        columns: 1,
        tableAttrs: {
            style: "margin:0 auto;text-align:center;width:100%;"
        }
    },
    config: {
        items: [{
            xtype: "cmd-underline"
        }, {
            xtype: "cmd-strikethrough"
        }, {
            xtype: "cmd-overline"
        }]
    }
});
Ext.define("ananas.FormatMenuHuaXian", {
    extend: ananas.Menu,
    xtype: "ans-format-menu-huaxian",
    cls: "ans-command-underlinehuaxian",
    cmd: "formatmenuhuaxian",
    html: "\u5212\u7ebf",
    menu: Ext.create("ananas.format.MenuHuaXian")
});
Ext.define("ananas.format.Menu", {
    extend: Ext.menu.Menu,
    plain: !0,
    floating: !0,
    border: !1,
    animCollapse: !0,
    shadow: !1,
    layout: {
        type: "table",
        columns: 2,
        tableAttrs: {
            style: "margin:0 auto;text-align:center;width:100%;"
        }
    },
    config: {
        items: [{
            xtype: "cmd-blockquote"
        }, {
            xtype: "cmd-autoblockquote"
        }, {
            xtype: "cmd-addindent"
        }, {
            xtype: "cmd-minishindent"
        }, {
            xtype: "cmd-justifyleft"
        }, {
            xtype: "cmd-justifyright"
        }, {
            xtype: "cmd-justifycenter"
        }]
    }
});
Ext.define("ananas.FormatMenu", {
    extend: ananas.Menu,
    xtype: "ans-format-menu",
    cls: "ans-format-menu",
    cmd: "formatmenu",
    html: "\u683c\u5f0f",
    menu: Ext.create("ananas.format.Menu")
});
Ext.define("ananas.RemoveFormat", {
    extend: ananas.edit.UI,
    cls: "ans-command-removeformat",
    xtype: "cmd-removeformat",
    cmd: "removeformat",
    html: "\u6e05\u9664\u683c\u5f0f",
    listenSelectionChange: !0
});
Ext.define("ananas.cmp.Menu", {
    extend: Ext.menu.Menu,
    plain: !0,
    floating: !0,
    border: !1,
    animCollapse: !0,
    shadow: !1,
    layout: {
        type: "table",
        columns: 2,
        tableAttrs: {
            style: "margin:0 auto;text-align:center;width:100%;"
        }
    },
    afterRender: function() {
        this.callParent(arguments);
        CmdUIMgr.checkUI()
    },
    config: {
        items: [{
            xtype: "cmd-template"
        }, {
            xtype: "cmd-insertframe"
        }, {
            xtype: "cmd-insertbook"
        }, {
            xtype: "cmd-formula"
        }, {
            xtype: "cmd-spechars"
        }, {
            xtype: "cmd-insertaudio"
        }, {
            xtype: "cmd-insertchapter"
        }, {
            xtype: "cmd-ballchart"
        }, {
            xtype: "cmd-realplay",
            itemId: "cmdrealplay"
        }, {
            xtype: "cmd-insertflash"
        }, {
            xtype: "cmd-recoder"
        }, {
            xtype: "cmd-insertcxvideo"
        }, {
            xtype: "cmd-questionnaire"
        }, {
            xtype: "cmd-insertzhuanti"
        }, {
            xtype: "cmd-insertcxjour"
        }, {
            xtype: "cmd-insertaddresource"
        }, {
            xtype: "cmd-insertread"
        }, {
            xtype: "cmd-insertlive"
        }, {
            xtype: "cmd-insertzyk"
        }, {
            xtype: "cmd-legendzyk"
        }, {
            xtype: "cmd-insertattachment"
        }]
    }
});
Ext.define("ananas.CmpMenu", {
    extend: ananas.Menu,
    xtype: "ans-cmp-menu",
    cls: "ans-cmp-menu",
    cmd: "commenu",
    html: "\u66f4\u591a",
    menu: Ext.create("ananas.cmp.Menu")
});
Ext.define("ananas.Tools.FontPanel", {
    extend: Ext.container.Container,
    xtype: "ans-tools-font",
    cls: "ans-font-panel",
    layout: {
        type: "vbox"
    },
    config: {
        items: [{
            xtype: "cmd-fontfamily"
        }, {
            xtype: "cmd-fontsize"
        }]
    }
});
Ext.define("ananas.Tools.HeadPanel", {
    extend: Ext.container.Container,
    xtype: "ans-tools-head",
    cls: "ans-head-panel",
    layout: {
        type: "hbox"
    },
    width: 122,
    height: 50,
    config: {
        items: [{
            xtype: "cmd-h1"
        }, {
            xtype: "cmd-h2"
        }]
    }
});
Ext.define("ananas.EditTabPanel", {
    extend: Ext.container.Container,
    xtype: "ans-edit-tabpanel",
    config: {
        items: [{
            xtype: "cmd-undo"
        }, {
            xtype: "cmd-redo"
        }, {
            xtype: "ans-tabpanel-space"
        }, {
            xtype: "ans-tools-head"
        }, {
            xtype: "ans-tools-font"
        }, {
            xtype: "ans-tabpanel-space"
        }, {
            xtype: "cmd-insertvideo"
        }, {
            xtype: "cmd-work"
        }, {
            xtype: "cmd-insertbbs"
        }, {
            xtype: "cmd-insertimage"
        }, {
            xtype: "cmd-insertdoc"
        }, {
            xtype: "ans-tabpanel-space"
        }, {
            xtype: "cmd-bold"
        }, {
            xtype: "cmd-italic"
        }, {
            xtype: "ans-format-menu-huaxian"
        }, {
            xtype: "cmd-color"
        }, {
            xtype: "ans-format-menu"
        }, {
            xtype: "cmd-removeformat"
        }, {
            xtype: "cmd-lineheight"
        }, {
            xtype: "cmd-insertUnOrderedList"
        }, {
            xtype: "cmd-insertOrderedList"
        }, {
            xtype: "cmd-inserttable"
        }, {
            xtype: "cmd-link"
        }, {
            xtype: "ans-tabpanel-space",
            itemId: "tag"
        }, {
            xtype: "ans-cmp-menu",
            itemId: "moreCt"
        }]
    },
    afterRender: function() {
        var d = this
          , c = d.getComponent("tag");
        d.callParent(arguments);
        d.moreCt = d.getComponent("moreCt");
        d.tag = c;
        d.minIndex = d.items.indexOf(c) + 1;
        Ext.onReady(function() {
            setTimeout(function() {
                d.onResize(d, d.ownerCt.getWidth())
            }, 1)
        })
    },
    onResize: function(s, q) {
        var p = this.moreCt.menu
          , o = this.items
          , n = this.minIndex
          , m = this.getDisplayIndex(this.tag.getX() + 55, q)
          , n = this.items.getCount() - n - m
          , l = top.ueconf || {};
        if (!(0 >= m)) {
            if (0 > n) {
                for (m = 0; m < 0 - n; m++) {
                    var i = p.items.items[0]
                      , f = i.cmd
                      , i = p.remove(i);
                    (!1 !== l[f] || l[f] && !1 !== l[f].enable) && this.insert(o.getCount() - 1, i)
                }
            } else {
                if (0 < n) {
                    for (m = 0; m < n; m++) {
                        i = o.items[o.getCount() - 2],
                        f = i.cmd,
                        i = this.remove(i),
                        (!1 !== l[f] || l[f] && !1 !== l[f].enable) && p.insert(0, i)
                    }
                }
            }
        }
    },
    getDisplayIndex: function(e, d) {
        var f = d - e;
        return 0 < f ? Math.floor(f / 55) : -1
    }
});
Ext.define("ananas.Editor", {
    extend: Ext.container.Container,
    xtype: "ananas-editor",
    cls: "ans-editor",
    constructor: function(e) {
        var d = [];
        if (!1 !== e.toolbar) {
            var f = "ans-tools";
            "easy" == e.toolbar && (f = "ans-easy-tools");
            d.push({
                xtype: f,
                itemId: "tools"
            })
        }
        d.push({
            xtype: "ans-inner-editor",
            itemId: "innereditor",
            flex: 1,
            ueditorConfig: e.ueditorConfig
        });
        e.items = d;
        this.callParent([e])
    },
    afterRender: function() {
        var b = this;
        b.addEvents("cmd", "ready");
        b.innerEditor = b.getComponent("innereditor");
        b.tools = b.getComponent("tools");
        b.callParent();
        b.innerEditor.on("ready", function(a, d) {
            b.initConfig = {
                initialFrameHeight: b.innerEditor.getUeditorConfig().initialFrameHeight,
                width: b.getWidth(!0),
                height: b.getHeight(!0)
            };
            b.fireEvent("ready", a, d)
        }, b);
        b.innerEditor.on("cmd", function(a, f, e) {
            b.fireEvent("cmd", a, f, e)
        }, b)
    },
    showTip: function(d) {
        var c = this;
        c.tools && (c.tools.showTip(d),
        c._tipId && clearTimeout(c._tipId),
        c._tipId = setTimeout(function() {
            c.tools.showTip("")
        }, 2500))
    },
    getUEditor: function() {
        return this.innerEditor.ueditor
    },
    getContent: function() {
        return this.getUEditor().getContent()
    },
    getAttachments: function(b) {
        return this.innerEditor.getAttachments(b)
    },
    save: function() {
        var b = CmdUIMgr.getUI("save");
        b && b.save()
    },
    setFullScreen: function(b) {
        b ? this.doFullScreen() : this.unFullScreen()
    },
    doFullScreen: function() {
        var e = Ext.getBody()
          , d = Ext.get(Ext.query("html")[0]);
        me = this;
        ueditor = me.getUEditor();
        el = me.el;
        container = el.dom.parentNode.parentNode;
        size = e.getViewSize();
        nodeStack = me.nodeStack = [];
        me._bakScrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);
        for (window.scrollTo(0, 0); "BODY" != container.tagName; ) {
            var f = baidu.editor.dom.domUtils.getComputedStyle(container, "position");
            nodeStack.push(f);
            container.style.position = "static";
            container = container.parentNode
        }
        d.addCls("ans-overflow");
        e.addCls("ans-overflow");
        el.addCls("ans-fullscreen");
        Ext.EventManager.onWindowResize(me.fireResize, me);
        me.fireResize(size.width, size.height)
    },
    unFullScreen: function() {
        var d = Ext.getBody()
          , c = Ext.get(Ext.query("html")[0]);
        me = this;
        ueditor = me.getUEditor();
        el = me.el;
        container = el.dom.parentNode.parentNode;
        nodeStack = me.nodeStack;
        for (initConfig = me.initConfig; "BODY" != container.tagName; ) {
            container.style.position = nodeStack.shift(),
            container = container.parentNode
        }
        c.removeCls("ans-overflow");
        d.removeCls("ans-overflow");
        el.removeCls("ans-fullscreen");
        ueditor.options.initialFrameHeight = initConfig.initialFrameHeight;
        ueditor.setHeight(initConfig.initialFrameHeight);
        Ext.EventManager.removeResizeListener(me.fireResize, me);
        me.setSize(initConfig.width, initConfig.height - 2);
        ueditor.disableAutoHeight();
        window.scrollTo(0, me._bakScrollTop)
    },
    fireResize: function(e, d) {
        var f = this.getUEditor();
        if (e != this.width || d != this.height) {
            this.setSize(e, d),
            f.options.initialFrameHeight = d - (this.tools ? this.tools.getHeight() : 0) - 30,
            f.setHeight(f.options.initialFrameHeight),
            f.disableAutoHeight(),
            f.adjustHeight()
        }
    },
    destroy: function() {
        this.callParent(arguments);
        delete this.innerEditor;
        delete this.tools
    }
});
Ext.define("ananas.InnerEditor", {
    extend: Ext.Component,
    xtype: "ans-inner-editor",
    cls: "ans-editor-body",
    autoHeight: !1,
    useDialog: !0,
    config: {
        ueditorConfig: null
    },
    afterRender: function() {
        var f = this;
        f.addEvents("cmd", "ready");
        var e = Ext.apply({
            toolbars: !1,
            initialContent: "",
            initialFrameHeight: 300
        }, f.getUeditorConfig());
        f.setUeditorConfig(e);
        f.ueditor = new baidu.editor.ui.Editor(e);
        f.ueditor.wrapEditor = f;
        var h = "insertimage link insertframe insertbook insertchapter insertdoc insertread insertlive insertaudio insertvideo insertcxvideo template insertmooc ballchart formula spechars erya work work2 richvideo insertattachment insertflash schoolresource recoder questionnaire insertziliao insertzhuanti insertcxjour changechapter insertbbs insertzyk legendzyk".split(" ")
          , g = ["insertbook", "schoolresource", "recoder", "insertcxvideo"];
        f.ueditor.addListener("ready", function() {
            f.ueditor.document.body.className = "ans-cc";
            if (f.useDialog) {
                for (var a = 0, c = h.length; a < c; a++) {
                    f.initDialog(h[a], g)
                }
            }
            f.fireEvent("ready", f, f.ueditor);
            f.autoHeight && (f.ueditor.enableAutoHeight(),
            f.ueditor.adjustHeight())
        });
        f.callParent();
        f.ueditor.render(f.el.dom);
        EditorMgr.add(f)
    },
    getUEditor: function() {
        return this.ueditor
    },
    getContent: function() {
        return this.getUEditor().getContent()
    },
    isDirty: function() {
        if (!this.getUEditor().undoManger) {
            throw Error("This editor can not support undo plugin.")
        }
        return 0 < this.getUEditor().undoManger.index
    },
    resetUndoManger: function() {
        return this.getUEditor().undoManger.reset()
    },
    getAttachments: function(e) {
        var d = this.getUEditor().body;
        e = Ext.query(e ? "iframe[module\x3d" + e + "]" : "iframe[module]", d);
        var f = [];
        Ext.each(e, function(g) {
            var c = g.getAttribute("data");
            g = g.getAttribute("module");
            c && f.push(Ext.apply(Ext.decode(c), {
                module: g
            }))
        });
        return f
    },
    destroy: function() {
        this.ueditor.destroy();
        this.callParent(arguments)
    },
    getFilterRules: function() {
        var h = function(b) {
            b.tagName = "p";
            b.attrs = b.attrs && b.attrs.ue_t ? {
                ue_t: "1"
            } : {};
            b.setAttr("style", null)
        }
          , f = function(b) {
            b.setAttr("style", null)
        }
          , l = {
            $: {
                ue_t: 1
            }
        }
          , k = {
            $: {
                ue_t: "1"
            }
        }
          , j = function(b) {
            b.tagName = "h2"
        }
          , i = function(a) {
            h(a);
            a.tagName = "h3"
        };
        return {
            "-": "script style object embed input select",
            strong: {
                $: {
                    ue_t: "1"
                }
            },
            em: l,
            b: function(a) {
                h(a);
                a.tagName = "strong"
            },
            p: {
                $: {
                    id: 1,
                    style: ["clear", "text-align", ""],
                    ue_t: "1"
                }
            },
            br: {
                $: {}
            },
            div: f,
            ol: l,
            ul: l,
            dl: l,
            dt: l,
            dd: l,
            li: l,
            sub: l,
            sup: l,
            caption: h,
            iframe: f,
            table: f,
            tbody: f,
            thead: f,
            tfoot: f,
            th: f,
            tr: f,
            td: f,
            blockquote: {
                $: {
                    "class": 1,
                    ue_t: "1"
                }
            },
            a: f,
            h1: [j, k],
            h2: [j, k],
            h3: [i, k],
            h4: [i, k],
            h5: [i, k],
            h6: [i, k],
            span: l,
            img: [{
                $: {
                    width: 1,
                    height: 1,
                    src: 1,
                    title: 1,
                    "class": 1,
                    data: 1,
                    style: ["float", "width", "height"]
                }
            }, function(m) {
                var g = m.attrs["class"];
                if (g) {
                    for (var g = Ext.String.splitWords(g), p = [], o = 0, n = g.length; o < n; o++) {
                        Ext.String.startsWith(g[o], "ans-") && p.push(g[o])
                    }
                    m.attrs["class"] = p.join(" ")
                }
            }
            ],
            center: l
        }
    },
    contains: function(f, e) {
        if (f) {
            if ("[object Array]" != Object.prototype.toString.call(f)) {
                return f == e
            }
        } else {
            return !1
        }
        for (var h = 0, g = f.length; h < g; h++) {
            if (f[h] == e) {
                return !0
            }
        }
        return !1
    },
    initDialog: function(s, q) {
        var p = this.contains(q, s)
          , o = baidu.editor.utils
          , n = baidu.editor.ui
          , m = this.ueditor
          , l = m.options.iframeUrlMap[s]
          , i = m.getLang(s) || {}
          , f = new n.Dialog(o.extend({
            iframeUrl: m.ui.mapUrl(l) + "?v\x3d20140916",
            editor: m,
            className: "edui-for-" + s,
            title: i.title || "",
            autoReset: !0,
            closeDialog: m.getLang("closeDialog")
        }, {
            buttons: !p ? [{
                className: "edui-okbutton",
                label: m.getLang("ok"),
                editor: m,
                onclick: function() {
                    f.close(!0)
                }
            }, {
                className: "edui-cancelbutton",
                label: m.getLang("cancel"),
                editor: m,
                onclick: function() {
                    f.close(!1)
                }
            }] : !1
        }));
        m.ui._dialogs[s + "Dialog"] = f;
        f.render()
    }
});
Ext.define("ananas.EditorMgr", {
    alternateClassName: "EditorMgr",
    singleton: !0,
    mixins: {
        observable: Ext.util.Observable
    },
    sharedTools: !1,
    constructor: function() {
        this.callParent(arguments);
        this.editors = new Ext.util.MixedCollection
    },
    add: function(d) {
        var c = this;
        c.activated = d;
        c.editors.contains(d) || (c.editors.add(d),
        d.on("destroy", function() {
            c.editors.remove(d)
        }),
        d.getUEditor().addListener("selectionChange", function() {
            c.activated = this.wrapEditor
        }))
    },
    getEditors: function() {
        return this.editors
    },
    getActivatedEditor: function() {
        return this.activated
    }
});
Ext.define("ananas.List.Item", {
    extend: Ext.Component,
    cls: "ans-list-item",
    overCls: "ans-list-item-over",
    xtype: "ans-list-item",
    renderTpl: ['\x3cdiv\x3e\x3cspan class\x3d"ans-list-index"\x3e{index+1}.\x3c/span\x3e {title}\x3c/div\x3e'],
    onRender: function() {
        var b = this;
        b.callParent(arguments);
        b.addEvents("selected");
        b.el.on("click", function() {
            b.fireEvent("selected", b);
            b.el.addCls("ans-list-item-selected")
        })
    },
    unselect: function() {
        this.el.removeCls("ans-list-item-selected")
    }
});
Ext.define("ananas.List", {
    extend: Ext.container.Container,
    cls: "ans-list",
    xtype: "ans-list",
    padding: 5
});
Ext.define("ananas.ServerHosts", {
    alternateClassName: "ServerHosts",
    singleton: !0,
    constructor: function() {
        this.callParent(arguments);
        var d = document.domain;
        try {
            this.MASTER_HOST = "http://" + top.location.host
        } catch (c) {
            this.MASTER_HOST = "http://" + location.host
        }
        this.CLOUD_HOST = "http://cloud.ananas." + d;
        this.CS_HOST = "http://cs.ananas." + d;
        this.FANYA_HOST = "http://course.fanya." + d;
        this.PAN_HOST = "http://pan.ananas." + d;
        this.CXLIVE_HOST = "http://cxlive." + d;
        this.ERYA_TSK_HOST = "http://erya.tsk." + d;
        this.QUESTIONNAIRE_HOST = "http://surveyapp.fy." + d;
        this.FX_HOST = "http://www." + d
    }
});
Ext.define("ananas.Tab", {
    extend: Ext.Component,
    xtype: "ans-tab",
    cls: "ans-tab",
    activateCls: "ans-tab-activate",
    config: {
        selected: !1
    },
    afterRender: function() {
        this.addEvents("activate");
        this.callParent();
        this.getSelected() && this.select();
        this.getEl().on("click", this.select, this)
    },
    select: function() {
        this.fireEvent("activate", this);
        this.addCls(this.activateCls)
    },
    blur: function() {
        this.removeCls(this.activateCls)
    }
});
Ext.define("ananas.Tools.Panel", {
    extend: Ext.container.Container,
    cls: "ans-tools-panel",
    tabs: ["edit", "type", "component"],
    afterRender: function() {
        this.callParent();
        for (var i = this, f = i.tabs, n = [], m, l = i.getComponent("tabpanel").getLayout(), k = i.getComponent("menu"), j = 0; j < f.length; j++) {
            m = k.getComponent(f[j]),
            m.__index = j,
            m.on("activate", function(a) {
                i.blurAllTabs();
                l.setActiveItem(a.__index);
                i.onSelectedItem(a.getItemId(), a.__index)
            }, i),
            n.push(m)
        }
        i.menu = k;
        i.tabPanels = n
    },
    onSelectedItem: function() {},
    blurAllTabs: function() {
        for (var b = 0; b < this.tabPanels.length; b++) {
            this.tabPanels[b].blur()
        }
    },
    getActiveItem: function() {
        return this.getComponent("tabpanel").getLayout().getActiveItem()
    },
    getTabContent: function(b) {
        return this.getComponent("tabpanel").getComponent(b)
    }
});
Ext.define("ananas.Tools", {
    extend: Ext.container.Container,
    xtype: "ans-tools",
    cls: "ans-tools-panel",
    items: [{
        layout: "hbox",
        itemId: "ansTools",
        border: !1,
        items: [{
            xtype: "ans-edit-tabpanel",
            itemId: "editTabpanel",
            flex: 0.97
        }, {
            cls: "ans-tools-fullscreen",
            border: !1,
            xtype: "container",
            flex: 0.03,
            items: [{
                xtype: "cmd-fullscreen"
            }]
        }]
    }],
    afterRender: function() {
        var b = this;
        b.callParent();
        top.editor_user_setting || setTimeout(function() {
            b.customize()
        }, 1000)
    },
    customize: function() {
        CmdUIMgr.checkUI()
    },
    showTip: function(b) {
        b = '\x3cdiv style\x3d"position:absolute;bottom:10px;right:0px;text-align:right;"\x3e\x3cp\x3e' + b + "\x3c/p\x3e\x3c/div\x3e";
        this.msgBox || (this.msgBox = Ext.DomHelper.insertFirst(this.el.dom, {
            id: "msg-div"
        }, !0));
        b = Ext.DomHelper.append(this.msgBox, b, !0);
        b.hide();
        b.slideIn("l", {
            easing: "backIn",
            duration: 200
        }).ghost("l", {
            delay: 1000,
            remove: !0,
            easing: "ease"
        })
    },
    getAnsTools: function() {
        var b = this.getComponent("ansTools");
        return b ? b : null
    },
    getEditPanel: function() {
        var b = this.getAnsTools();
        return b ? b.getComponent("editTabpanel") : this.getComponent("editTabpanel")
    }
});
Ext.define("ananas.cloud.Item", {
    extend: Ext.Component,
    baseCls: "ans-attach",
    selectable: !1,
    iconCls: "",
    selectedCls: "ans-cloud-item-selected",
    overCls: "ans-attach-over",
    renderTpl: ['\x3cdiv class\x3d"{iconCls}"\x3e{[Ext.String.htmlEncode(values.name)]}\x3c/div\x3e'],
    padding: 10,
    initEvents: function() {
        var b = this;
        b.callParent();
        if (b.selectable) {
            b.el.on("click", function() {
                b.ownerCt && b.ownerCt.fireEvent("selected", b);
                ("video" == Cloud.config.filelist.f || "zt" == Cloud.config.filelist.f) && b.el.addCls(b.selectedCls)
            })
        }
    },
    initRenderData: function() {
        return Ext.apply(this.callParent(), {
            name: this.name,
            iconCls: this.iconCls
        })
    },
    unselect: function() {
        this.el.removeCls(this.selectedCls)
    },
    select: function() {
        this.el.addCls(this.selectedCls)
    },
    haveselect: function() {
        return this.el.hasCls(this.selectedCls)
    }
});
Ext.define("ananas.cloud.DIR", {
    extend: ananas.cloud.Item,
    xtype: "dir",
    iconCls: "ans-attach-dir",
    initEvents: function() {
        var b = this;
        b.callParent();
        b.el.on("click", function() {
            b.ownerCt && b.ownerCt.fireEvent("open", b)
        })
    }
});
Ext.define("ananas.cloud.BACK", {
    extend: ananas.cloud.DIR,
    xtype: "back",
    iconCls: "ans-attach-back"
});
Ext.define("ananas.cloud.FILE", {
    extend: ananas.cloud.Item,
    xtype: "file",
    selectable: !0
});
Ext.define("ananas.cloud.FileList", {
    extend: Ext.container.Container,
    cls: "ans-filelist",
    xtype: "ans-filelist",
    selectedItem: null,
    selectedobj: [],
    loading: null,
    initComponent: function() {
        this.callParent(arguments);
        this.addEvents("selected", "open")
    },
    removearray: function(e) {
        for (var d = this.selectedobj.length, f = 0; f < d; f++) {
            if (this.selectedobj[f] == e) {
                this.selectedobj.splice(f, 1);
                break
            }
        }
    },
    initEvents: function() {
        var b = this;
        b.callParent();
        b.on("selected", function(a) {
            "video" == Cloud.config.filelist.f ? (b.selectedItem && b.selectedItem.unselect(),
            b.selectedItem = a) : a.haveselect() ? (a.unselect(),
            b.removearray(a)) : 9 < b.selectedobj.length ? alert("\u6279\u91cf\u63d2\u5165\u6570\u91cf\u4e0d\u80fd\u5927\u4e8e10!") : (a.select(),
            b.selectedobj.push(a))
        });
        b.on("open", function(a) {
            b.load(a.path)
        })
    },
    load: function(a) {
        var b = this;
        a = Ext.apply(Cloud.config.filelist, {
            d: a,
            page: 1,
            size: 1000
        });
        b.removeAll();
        b.loading && b.loading.setStyle("display", "block");
        Ext.Ajax.request({
            url: "/ananas/filelist",
            method: "get",
            params: a,
            success: function(a) {
                eval("var data \x3d " + a.responseText);
                "video" == Cloud.config.filelist.f ? b.selectedItem = null : b.selectedobj = [];
                b.add(data)
            },
            failure: function(a) {
                a.aborted || alert("Get file list wrong.")
            },
            callback: function() {
                b.loading && b.loading.setStyle("display", "none")
            }
        })
    },
    afterRender: function() {
        this.callParent();
        this.load("")
    },
    setMaskTarget: function(b) {
        this.maskTarget = b
    },
    setLoading: function(b) {
        this.loading = b
    },
    fetchStatus: function(f) {
        var e = []
          , h = this.selectedobj;
        this.maskTarget && this.maskTarget.mask("\u83b7\u53d6\u5730\u5740\uff0c\u8bf7\u7a0d\u7b49...");
        if (!h) {
            return !1
        }
        for (var g = 0; g < h.length; g++) {
            e.push(this.createFile(h[g])),
            e.length == h.length && f && f(e),
            this.maskTarget && this.maskTarget.unmask()
        }
    },
    fetchStatusvideo: function(d) {
        var c = this.selectedItem;
        this.maskTarget && this.maskTarget.mask("\u83b7\u53d6\u5730\u5740\uff0c\u8bf7\u7a0d\u7b49...");
        if (!c) {
            return !1
        }
        d(this.createFile(c));
        this.maskTarget && this.maskTarget.unmask()
    },
    createFile: function(d) {
        if (d && d.objectid) {
            var c = {
                objectid: d.objectid,
                name: d.name,
                size: d.size,
                hsize: Cloud.fileSize(d.size)
            };
            c.type = "." + d.suffix.toLowerCase();
            return c
        }
    }
});
Ext.define("ananas.cloud.LibraryFileList", {
    extend: Ext.container.Container,
    cls: "ans-filelist",
    xtype: "ans-libfilelist",
    selectedItem: null,
    selectedobj: [],
    current: "",
    parent: "",
    initComponent: function() {
        this.callParent(arguments);
        this.addEvents("selected", "open")
    },
    removearray: function(e) {
        for (var d = this.selectedobj.length, f = 0; f < d; f++) {
            if (this.selectedobj[f] == e) {
                this.selectedobj.splice(f, 1);
                break
            }
        }
    },
    initEvents: function() {
        var b = this;
        b.callParent();
        b.on("selected", function(a) {
            "video" == Cloud.config.filelist.f || "zt" == Cloud.config.filelist.f ? (b.selectedItem && b.selectedItem.unselect(),
            b.selectedItem = a) : a.haveselect() ? (a.unselect(),
            b.removearray(a)) : 9 < b.selectedobj.length ? alert("\u6279\u91cf\u63d2\u5165\u6570\u91cf\u4e0d\u80fd\u5927\u4e8e10!") : (a.select(),
            b.selectedobj.push(a))
        });
        b.on("open", function(a) {
            b.parent = b.current;
            b.current = a.path;
            b.load(a.path)
        })
    },
    load: function(a) {
        var b = this;
        a = Ext.apply(Cloud.config.filelist, {
            i: a,
            p: b.parent
        });
        Ext.Ajax.request({
            url: "/ananas/libfilelist",
            method: "get",
            params: a,
            success: function(a) {
                eval("var data \x3d " + a.responseText);
                b.removeAll();
                a = Cloud.config.filelist.f;
                "video" == a || "zt" == a ? b.selectedItem = null : b.selectedobj = [];
                if (0 == data.length) {
                    if ("zt" == a) {
                        b.up().getLayout().setActiveItem(1);
                        return
                    }
                    alert("\u8d44\u6599\u5e93\u4e3a\u7a7a\uff0c\u53ef\u5728\u8bfe\u7a0b\u5bfc\u822a\u680f\u8fdb\u5165\u8d44\u6599\u6a21\u5757\u8fdb\u884c\u6dfb\u52a0!")
                }
                b.add(data)
            },
            failure: function(a) {
                a.aborted || alert("Get file list wrong.")
            },
            callback: function() {}
        })
    },
    afterRender: function() {
        this.callParent();
        this.parent = this.current = ""
    },
    setMaskTarget: function(b) {
        this.maskTarget = b
    },
    fetchStatus: function(a) {
        var b = this
          , c = []
          , d = b.selectedobj;
        b.maskTarget && b.maskTarget.mask("\u83b7\u53d6\u5730\u5740\uff0c\u8bf7\u7a0d\u7b49...");
        if (!d) {
            return !1
        }
        for (var e = 0; e < d.length; e++) {
            var g = d[e];
            Ext.Ajax.request({
                url: "/ananas/status/" + g.objectid,
                async: !1,
                success: function(e) {
                    e = eval("(" + e.responseText + ")");
                    c.push(b.createFile(e, g));
                    c.length == d.length && a && a(c)
                },
                failure: function() {
                    alert("Get file status wrong.")
                },
                callback: function() {
                    b.maskTarget && e == d.length - 1 && b.maskTarget.unmask()
                }
            })
        }
    },
    fetchStatusvideo: function(a) {
        var b = this
          , c = b.selectedItem;
        b.maskTarget && b.maskTarget.mask("\u83b7\u53d6\u5730\u5740\uff0c\u8bf7\u7a0d\u7b49...");
        if (!c || !c.objectid) {
            return !1
        }
        Ext.Ajax.request({
            url: "/ananas/status/" + c.objectid,
            success: function(d) {
                d = eval("(" + d.responseText + ")");
                a && a(b.createFile(d, c))
            },
            failure: function() {
                alert("Get file status wrong.")
            },
            callback: function() {
                b.maskTarget && b.maskTarget.unmask()
            }
        })
    },
    fetchZTData: function(d) {
        var c = this.selectedItem;
        this.maskTarget && this.maskTarget.mask("\u83b7\u53d6\u5730\u5740\uff0c\u8bf7\u7a0d\u7b49...");
        d && (c = !c || !c.objectid ? void 0 : {
            id: c.objectid,
            title: c.name,
            coverurl: c.dataIntro.coverUrl,
            author: c.dataIntro.author,
            read: !0
        },
        d(c));
        this.maskTarget && this.maskTarget.unmask()
    },
    createFile: function(e, d) {
        if (e && e.objectid) {
            d = {
                objectid: e.objectid,
                name: d.name,
                size: e.length,
                hsize: Cloud.fileSize(e.length)
            };
            var f = e.filename.lastIndexOf(".");
            0 <= f && (d.type = e.filename.substr(f),
            d.type && (d.type = d.type.toLowerCase()));
            return d
        }
    },
    creatLink: function() {
        var d = this.selectedItem
          , c = ServerHosts.PAN_HOST + "/topreview/";
        if (d && d.objectid) {
            return {
                href: c + d.objectid,
                _href: c + d.objectid,
                textValue: d.name,
                title: d.name,
                type: "resource",
                data: d.objectid
            }
        }
    }
});
Ext.define("ananas.cloud.SWFUpload", {
    extend: Ext.Component,
    xtype: "cloud-swfupload",
    cls: "cloud-swfupload",
    renderTpl: ['\x3cdiv clas\x3d"ans-cloud-swfupload"\x3e', '\x3cdiv class\x3d"ans-cloud-upload-info"\x3e{info}\x3c/div\x3e', "\x3c/div\x3e"],
    limit: "2000MB",
    samefile: "0",
    info: "\u6587\u4ef6\u4e0d\u5f97\u8d85\u8fc72GB\x3cbr/\x3e\u5927\u6587\u4ef6\u8bf7\u5728\u8d85\u661f\u4e91\u76d8\u5ba2\u6237\u7aef\u5185\u4e0a\u4f20",
    initEvents: function() {
        this.callParent();
        this.addEvents("upload_start", "upload_progress", "upload_success")
    },
    initRenderData: function() {
        var d = top.ueconf ? top.ueconf : !1
          , c = Cloud.config.file_types || "\u6240\u6709\u683c\u5f0f";
        d && d.maxUploadSize && (this.limit = d.maxUploadSize);
        return Ext.apply(this.callParent(), {
            info: "\u8d85\u8fc7" + this.limit + '\u7684\u6587\u4ef6\u8bf7\u4f7f\u7528\x3ca href\x3d"http://pan.chaoxing.com" target\x3d"_blank"\x3e\u8d85\u661f\u4e91\u76d8\u5ba2\u6237\u7aef\x3c/a\x3e\u4e0a\u4f20\x3cbr/\x3e\u652f\u6301\u7684\u683c\u5f0f\u5305\u62ec\uff1a' + c
        })
    },
    afterRender: function() {
        this.callParent();
        this.renderSwf()
    },
    file_queued_handler: function(a) {
        function b(a) {
            for (var b = document.cookie.split("; "), c = 0; c < b.length; c++) {
                var h = b[c].split("\x3d");
                if (h[0] == a) {
                    return unescape(h[1])
                }
            }
        }
        var c = this;
        for (c.customSettings.queue = this.customSettings.queue || []; 0 < c.customSettings.queue.length; ) {
            c.cancelUpload(c.customSettings.queue.pop(), !1)
        }
        c.customSettings.queue.push(a.id);
        2147483648 < a.size ? (c.samefile = "1",
        alert('\u6587\u4ef6\u8d85\u8fc72GB\uff0c\u8bf7\u5148\u4e0a\u4f20\u5230\u8d85\u661f\u4e91\u76d8\u5ba2\u6237\u7aef\uff0c\u518d\u901a\u8fc7"\u8d85\u661f\u4e91\u76d8\u5ba2\u6237\u7aef"\u6dfb\u52a0\u81f3\u8bfe\u7a0b\u3002')) : Ext.Ajax.request({
            url: "/ananas/checkfile?name\x3d" + encodeURIComponent(a.name.replace(/\s+/g, "")) + "\x26uid\x3d" + b("UID"),
            method: "get",
            async: !1,
            success: function(d) {
                eval("var data \x3d " + d.responseText);
                "1" == data.result ? confirm("\u5df2\u6709\u76f8\u540c\u540d\u79f0\u548c\u7c7b\u578b\u7684\u6587\u4ef6\u5b58\u5728\uff0c\u662f\u5426\u8986\u76d6\u5df2\u6709\u6587\u4ef6\uff1f") ? Ext.Ajax.request({
                    url: "/ananas/rmdir?name\x3d" + encodeURIComponent(a.name.replace(/\s+/g, "")) + "\x26uid\x3d" + b("UID"),
                    method: "get",
                    async: !1,
                    success: function() {
                        c.samefile = "0"
                    },
                    failure: function() {
                        c.samefile = "1";
                        alert("\u5220\u9664\u6587\u4ef6\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u4eba\u5458\uff01")
                    }
                }) : c.samefile = "1" : c.samefile = "0"
            },
            failure: function(a) {
                "1" == this.samefile;
                console.log(a);
                a.aborted || alert("\u68c0\u67e5\u6587\u4ef6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u4eba\u5458\uff01")
            }
        })
    },
    file_dialog_complete_handler: function(d, c) {
        0 < c && "0" == this.samefile && this.startUpload()
    },
    upload_success_handler: function(a, b) {
        eval("var r \x3d" + b);
        var c = !1;
        Ext.isString(r.objectid) && (c = {
            objectid: r.objectid,
            name: a.name,
            type: a.type,
            size: a.size,
            hsize: Cloud.fileSize(a.size)
        });
        this.fireEvent("upload_success", c, r.status)
    },
    upload_start_handler: function(b) {
        this.fireEvent("upload_start", b)
    },
    upload_progress_handler: function(e, d, f) {
        this.fireEvent("upload_progress", d, f)
    },
    upload_error_handler: function(e, d, f) {
        this.fireEvent("upload_error", e, d, f)
    },
    renderSwf: function() {
        var b = {
            upload_url: ServerHosts.CLOUD_HOST + "/upload",
            file_post_name: "file",
            flash_url: "../../third-party/swfupload/swfupload.swf",
            flash9_url: "../../third-party/swfupload/swfupload_fp9.swf",
            file_size_limit: this.limit,
            post_params: Cloud.config.upload,
            file_types: Cloud.config.file_types,
            file_types_description: "Files",
            debug: !1,
            prevent_swf_caching: !1,
            button_image_url: Cloud.config.button_image_url ? Cloud.config.button_image_url : "../../../css/flash-upload-video.png",
            button_width: Cloud.config.button_width ? Cloud.config.button_width : "160",
            button_height: Cloud.config.button_height ? Cloud.config.button_height : "54",
            button_placeholder_id: "spanButtonPlaceHolder",
            button_action: SWFUpload.BUTTON_ACTION.SELECT_FILE,
            button_cursor: SWFUpload.CURSOR.HAND,
            button_window_mode: SWFUpload.WINDOW_MODE.TRANSPARENT,
            file_queue_error_handler: function() {
                alert('\u6587\u4ef6\u8d85\u8fc72GB,\u8bf7\u5148\u4e0a\u4f20\u5230\u8d85\u661f\u4e91\u76d8\u5ba2\u6237\u7aef\uff0c\u518d\u901a\u8fc7"\u8d85\u661f\u4e91\u76d8\u5ba2\u6237\u7aef"\u6dfb\u52a0\u81f3\u8bfe\u7a0b\u3002')
            },
            file_queued_handler: this.file_queued_handler,
            file_dialog_complete_handler: this.file_dialog_complete_handler,
            upload_start_handler: Ext.bind(this.upload_start_handler, this),
            upload_progress_handler: Ext.bind(this.upload_progress_handler, this),
            upload_error_handler: Ext.bind(this.upload_error_handler, this),
            upload_success_handler: Ext.bind(this.upload_success_handler, this)
        };
        this.swfupload = new SWFUpload(this.applySetting(b))
    },
    applySetting: function(b) {
        return b
    },
    reset: function() {
        this.swfupload.cancelUpload()
    }
});
Ext.define("ananas.cloud.Progress", {
    extend: Ext.Component,
    xtype: "cloud-progress",
    cls: "cloud-progress",
    titleFormat: "{0}",
    renderTpl: '\x3cdiv class\x3d"cloud-progress-ct"\x3e;\x3cdiv class\x3d"cloud-title"\x3e\x3c/div\x3e;\x3cdiv class\x3d"cloud-progress-holder"\x3e;\x3cdiv class\x3d"cloud-progress-hl"\x3e\x3c/div\x3e;\x3c/div\x3e;\x3cdiv\x3e\x3cspan class\x3d"speed"\x3e\x3c/span\x3e\x3cspan class\x3d"percent"\x3e\x3c/span\x3e\x3cspan class\x3d"size"\x3e\x3c/span\x3e\x3c/div\x3e;\x3c/div\x3e;\x3cdiv class\x3d"cloud-reset"\x3e\u91cd\u65b0\u4e0a\u4f20\x3c/div\x3e'.split(";"),
    renderSelectors: {
        highlightEl: ".cloud-progress-hl",
        titleEl: ".cloud-title",
        sizeEl: ".size",
        percentEl: ".percent",
        speedEl: ".speed",
        resetEl: ".cloud-reset"
    },
    showFileInfo: function(d) {
        var c = d.name
          , c = c.slice(0, c.lastIndexOf("."));
        this.titleEl.update(Ext.String.format(this.titleFormat, Ext.String.ellipsis(c, 14) + d.type));
        this.sizeEl.update(Cloud.fileSize(d.size));
        this.titleEl.addCls("ans-attach-" + d.type.slice(1))
    },
    initComponent: function() {
        this.callParent(arguments);
        this.addEvents("reset")
    },
    initEvents: function() {
        var b = this;
        b.callParent();
        b.resetEl.on("click", function() {
            b.fireEvent("reset", b)
        })
    },
    info: function(d, c) {
        this.compute(d, c);
        this.setSpeed(this.speed);
        this.setProgress(Math.ceil(0.95 * this.percent))
    },
    setSpeed: function(b) {
        b = 0 == b ? 0 : Cloud.fileSize(b);
        this.speedEl.update(b + "/s")
    },
    setProgress: function(b) {
        b = 0 != b ? b : 0;
        this.highlightEl.setWidth(b + "%");
        this.percentEl.update(b + "%")
    },
    compute: function(f, e) {
        var h, g;
        this.timer ? (h = f - this.bytesComplete,
        g = Ext.Date.now() - this.timer,
        this.speed = 0 == g ? 0 : 1000 * h / g,
        this.percent = Math.ceil(100 * (f / e))) : (this.timer = Ext.Date.now(),
        this.bytesComplete = f,
        this.percent = this.speed = 0)
    },
    marked: function(b) {
        this.el.addCls(b);
        this.markedCls = b
    },
    reset: function() {
        this.el.removeCls(this.markedCls);
        this.speed = this.percent = 0;
        this.timer = !1;
        this.setSpeed(this.speed);
        this.setProgress(this.percent)
    }
});
Ext.define("ananas.cloud.UploadPanel", {
    extend: Ext.container.Container,
    cls: "ans-cloud-upload",
    xtype: "ans-cloud-upload",
    initComponent: function() {
        this.callParent(arguments)
    },
    initEvents: function() {
        var f = this
          , e = f.getComponent("swfupload")
          , h = f.getComponent("progress")
          , g = f.getLayout();
        f.callParent();
        e.on("upload_start", function(b) {
            dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"] = "-198px -290px";
            dialog.buttons[0].getDom().childNodes[0].style["pointer-events"] = "none";
            h.showFileInfo(b);
            Ext.get("upload-swf").removeCls("topscreen");
            g.setActiveItem(1)
        });
        e.on("upload_progress", function(d, c) {
            h.info(d, c)
        });
        e.on("upload_success", function(a, i) {
            dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"] = " 0 -290px";
            dialog.buttons[0].getDom().childNodes[0].style["pointer-events"] = "all";
            if ("pan-exist" == i) {
                h.marked("error"),
                alert("\u5df2\u6709\u76f8\u540c\u540d\u79f0\u548c\u7c7b\u578b\u7684\u6587\u4ef6\u5b58\u5728\uff0c\u8bf7\u4fee\u6539\u6587\u4ef6\u540d\u518d\u4e0a\u4f20\u3002")
            } else {
                if ("outofsize" == i) {
                    if (h.marked("error"),
                    confirm("\u60a8\u7684\u4e91\u76d8\u7a7a\u95f4\u5df2\u7ecf\u7528\u5b8c\uff0c\u8bf7\u6e05\u7406\u540e\u518d\u7ee7\u7eed...")) {
                        try {
                            top.open(ServerHosts.PAN_HOST, "_blank")
                        } catch (c) {
                            window.open(ServerHosts.PAN_HOST, "_blank")
                        }
                    }
                } else {
                    "failed" != i ? (h.marked("finish"),
                    h.setProgress(100),
                    f.file = a) : (h.marked("error"),
                    alert("\u4e0a\u4f20\u5931\u8d25\u3002"))
                }
            }
        });
        e.on("upload_error", function(i, d, j) {
            dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"] = " 0 -290px";
            dialog.buttons[0].getDom().childNodes[0].style["pointer-events"] = "all";
            -290 != d && -280 != d && (alert("\u670d\u52a1\u5668\u5904\u7406\u5931\u8d25\u4e86\u2026"),
            console && console.log("uoload error code:", d, "uoload error message:", j))
        });
        h.on("reset", function() {
            dialog.buttons[0].getDom().childNodes[0].childNodes[0].childNodes[0].style["background-position"] = " 0 -290px";
            dialog.buttons[0].getDom().childNodes[0].style["pointer-events"] = "all";
            g.setActiveItem(0);
            Ext.get("upload-swf").addCls("topscreen");
            e.reset();
            h.reset();
            f.file = null
        });
        f.on("activate", function() {
            g.getActiveItem() == e && Ext.get("upload-swf").addCls("topscreen")
        });
        f.on("deactivate", function() {
            Ext.get("upload-swf").removeCls("topscreen")
        })
    },
    layout: "card",
    items: [{
        xtype: "cloud-swfupload",
        itemId: "swfupload"
    }, {
        xtype: "cloud-progress",
        itemId: "progress"
    }],
    fetchStatus: function(d) {
        if (this.file) {
            this.file.type && (this.file.type = this.file.type.toLowerCase());
            var c = [];
            c.push(this.file);
            d(c)
        }
        return !1
    },
    fetchStatusvideo: function(b) {
        this.file && (this.file.type && (this.file.type = this.file.type.toLowerCase()),
        b(this.file));
        return !1
    }
});
Ext.define("ananas.cloud.Panel", {
    extend: "ananas.Tools.Panel",
    xtype: "ans-clouddisk",
    tabs: ["cloud", "resource", "local"],
    items: [{
        xtype: "container",
        layout: "hbox",
        itemId: "menu",
        cls: "ans-tools-menu",
        items: [{
            xtype: "ans-tab",
            html: "\u672c\u5730\u4e0a\u4f20",
            itemId: "local"
        }, {
            xtype: "ans-tab",
            html: "\u7535\u8111\u540c\u6b65\u4e91\u76d8",
            itemId: "cloud"
        }, {
            xtype: "ans-tab",
            html: "\u8d44\u6e90\u5e93",
            itemId: "resource"
        }]
    }, {
        xtype: "container",
        cls: "ans-tab-panel",
        itemId: "tabpanel",
        layout: "card",
        height: 320,
        items: [{
            xtype: "ans-filelist",
            itemId: "filelist",
            autoScroll: !0
        }, {
            xtype: "ans-libfilelist",
            itemId: "libfilelist",
            autoScroll: !0
        }, {
            xtype: "ans-cloud-upload",
            itemId: "upload"
        }]
    }],
    initComponent: function() {
        this.callParent(arguments);
        if (top.ueconf) {
            var s = top.ueconf
              , q = Cloud.config.filelist.f
              , p = this.getComponent("menu")
              , o = this.getComponent("tabpanel")
              , n = p.getComponent("cloud")
              , m = p.getComponent("resource")
              , l = p.getComponent("local")
              , i = o.getComponent("filelist")
              , f = o.getComponent("libfilelist")
              , o = o.getComponent("upload");
            config = s[{
                video: "insertvideo",
                doc: "insertdoc",
                all: "insertattachment",
                audio: "insertaudio",
                flash: "insertflash"
            }[q]];
            tem = this.tabs;
            config && (!1 === config.cloud && (n.destroy(),
            i.destroy(),
            Ext.Array.remove(this.tabs, "cloud")),
            !1 === config.library && (m.destroy(),
            f.destroy(),
            Ext.Array.remove(this.tabs, "resource")),
            !1 === config.upload && (l.destroy(),
            o.destroy(),
            Ext.Array.remove(this.tabs, "local")),
            (s = p.getComponent(this.tabs[1])) && s.select(),
            this.getComponent("tabpanel").getLayout().activeItem = i,
            this.onSelectedItem())
        }
    },
    afterRender: function() {
        this.callParent(arguments);
        var b = this.getComponent("menu").getComponent("local");
        Ext.get(b.id).dom.click()
    },
    getActiveItem: function() {
        return this.getComponent("tabpanel").getLayout().getActiveItem()
    },
    onSelectedItem: function() {
        this.getActiveItem().load && this.getActiveItem().load("")
    }
});
Cloud = {
    fileSize: function(d) {
        var c = Math.floor(Math.log(d) / Math.log(1024));
        return 1 * (d / Math.pow(1024, c)).toFixed(2) + " " + ["B", "KB", "MB", "GB", "TB"][c]
    },
    config: {
        filelist: {},
        upload: {}
    }
};
ananas.Symbol = {
    fraction: [{
        title: "\u5206\u6570",
        latexs: [{
            text: "\\frac{}{}"
        }, {
            text: "^{}/_{}"
        }],
        indexNum: 0
    }, {
        title: "\u5e38\u7528\u5206\u6570",
        latexs: [{
            text: "\\frac{dy}{dx}"
        }, {
            text: "\\frac{ \\Delta y}{ \\Delta x}"
        }, {
            text: "\\frac{\\partial y}{\\partial x}"
        }, {
            text: "\\frac{\\delta y}{\\delta x}"
        }, {
            text: "\\frac{\\pi}{2}"
        }],
        indexNum: 1
    }],
    upplower: [{
        title: "\u4e0b\u6807\u548c\u4e0a\u6807",
        latexs: [{
            text: "x^{}"
        }, {
            text: "x_{}"
        }, {
            text: "x^{}_{}"
        }],
        indexNum: 2
    }, {
        title: "\u5e38\u7528\u7684\u4e0b\u6807\u548c\u4e0a\u6807",
        latexs: [{
            text: "x_{y^2}"
        }, {
            text: "e^{-iwt}"
        }, {
            text: "x^{2}"
        }],
        indexNum: 3
    }],
    radical: [{
        title: "\u6839\u5f0f",
        latexs: [{
            text: "{/}sqrt{}"
        }, {
            text: "{/}sqrt[]{}"
        }, {
            text: "{/}sqrt[2]{}"
        }, {
            text: "{/}sqrt[3]{}"
        }],
        indexNum: 4
    }, {
        title: "\u5e38\u7528\u6839\u5f0f",
        latexs: [{
            text: "\\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}",
            width: "130px",
            bposl: "-10px"
        }, {
            text: "\\sqrt{a^2+b^2}",
            width: "130px",
            bposl: "-170px"
        }],
        indexNum: 5
    }],
    integral: [{
        title: "\u79ef\u5206",
        latexs: [{
            text: "\\int"
        }, {
            text: "\\int_{}^{}"
        }, {
            text: "\\int\\limits_{}^{}",
            noVisual: !0
        }, {
            text: "\\iint",
            noVisual: !0
        }, {
            text: "\\iint_{}^{}",
            noVisual: !0
        }, {
            text: "\\iint\\limits_{}^{}",
            noVisual: !0
        }, {
            text: "\\iiint",
            noVisual: !0
        }, {
            text: "\\iiint_{}^{}",
            noVisual: !0
        }, {
            text: "\\iiint\\limits_{}^{}",
            noVisual: !0
        }],
        indexNum: 6
    }, {
        title: "\u56f4\u9053\u79ef\u5206",
        latexs: [{
            text: "{/}oint"
        }, {
            text: "{/}oint_{}^{}"
        }, {
            text: "\\oint\\limits_{}^{}",
            noVisual: !0
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }],
        indexNum: 7
    }, {
        title: "\u5fae\u5206",
        latexs: [{
            text: "dx"
        }, {
            text: "dy"
        }, {
            text: "d{/}theta"
        }],
        indexNum: 8
    }],
    boperator: [{
        title: "\u6c42\u548c",
        latexs: [{
            text: "\\sum"
        }, {
            text: "\\sum^{}_{}"
        }, {
            text: "\\sum\\nolimits^{}_{}",
            noVisual: !0
        }, {
            text: "\\sum_{}"
        }, {
            text: "\\sum\\nolimits_{}",
            noVisual: !0
        }],
        indexNum: 9
    }, {
        title: "\u4e58\u79ef\u548c\u526f\u79ef",
        latexs: [{
            text: "\\prod"
        }, {
            text: "\\prod_{}^{}"
        }, {
            text: "\\prod\\nolimits_{}^{}",
            noVisual: !0
        }, {
            text: "\\prod_{}"
        }, {
            text: "\\prod\\nolimits_{}",
            noVisual: !0
        }, {
            text: "\\coprod"
        }, {
            text: "\\coprod_{}^{}"
        }, {
            text: "\\coprod\\nolimits_{}^{}",
            noVisual: !0
        }, {
            text: "\\coprod_{}"
        }, {
            text: "\\coprod\\nolimits_{}",
            noVisual: !0
        }],
        indexNum: 10
    }, {
        title: "\u5e76\u96c6\u548c\u4ea4\u96c6",
        latexs: [{
            text: "\\bigcup"
        }, {
            text: "\\bigcup_{}^{}"
        }, {
            text: "\\bigcup\\nolimits_{}^{}",
            noVisual: !0
        }, {
            text: "\\bigcup_{}"
        }, {
            text: "\\bigcup\\nolimits_{}",
            noVisual: !0
        }, {
            text: "\\bigcap"
        }, {
            text: "\\bigcap_{}^{}"
        }, {
            text: "\\bigcap\\nolimits_{}^{}",
            noVisual: !0
        }, {
            text: "\\bigcap_{}"
        }, {
            text: "\\bigcap\\nolimits_{}",
            noVisual: !0
        }],
        indexNum: 11
    }, {
        title: "\u5176\u4ed6\u5927\u578b\u8fd0\u7b97\u7b26",
        latexs: [{
            text: "\\bigvee"
        }, {
            text: "\\bigvee_{}^{}"
        }, {
            text: "\\bigvee\\nolimits_{}^{}",
            noVisual: !0
        }, {
            text: "\\bigvee_{}"
        }, {
            text: "\\bigvee\\nolimits_{}",
            noVisual: !0
        }, {
            text: "\\bigwedge"
        }, {
            text: "\\bigwedge_{}^{}"
        }, {
            text: "\\bigwedge\\nolimits_{}^{}",
            noVisual: !0
        }, {
            text: "\\bigwedge_{}"
        }, {
            text: "\\bigwedge\\nolimits_{}",
            noVisual: !0
        }],
        indexNum: 12
    }, {
        title: "\u5e38\u7528\u5927\u578b\u8fd0\u7b97\u7b26",
        latexs: [{
            text: "\\sum_k\\left( ^{n}_{k}\\right)",
            width: "59px",
            bposl: "-4px"
        }, {
            text: "\\sum^n_{i\x3d0}{}",
            width: "59px",
            bposl: "-84px "
        }, {
            text: "\\sum_{^{0\\le i\\le m}_{0\x3cj\x3cn}}P\\left(i,j\\right)",
            width: "130px",
            bposl: "-164px"
        }, {
            text: "\\prod_{k\x3d1}^nA_k",
            width: "59px",
            bposl: "-321px"
        }, {
            text: "\\bigcup_{n\x3d1}^m\\left(X_n\\cap Y_n\\right)",
            width: "130px",
            bposl: "-402px"
        }],
        indexNum: 13
    }],
    brackets: [{
        title: "\u65b9\u62ec\u53f7",
        latexs: [{
            text: "\\left ( {} \\right )"
        }, {
            text: "\\left [ {} \\right ]"
        }, {
            text: "\\left \\{ {} \\right \\}"
        }, {
            text: "\\left \\langle {} \\right \\rangle",
            noVisual: !0
        }, {
            text: "\\lfloor {} \\rfloor"
        }, {
            text: "\\lceil {} \\rceil"
        }, {
            text: "\\left | {} \\right |"
        }, {
            text: "\\left \\| {} \\right \\|",
            noVisual: !0
        }, {
            text: "[["
        }, {
            text: "]]"
        }, {
            text: "]["
        }, {
            text: "hehe"
        }],
        indexNum: 14
    }, {
        title: "\u5e26\u5206\u5272\u7b26\u7684\u65b9\u62ec\u53f7",
        latexs: [{
            text: "\\left ( | \\right )"
        }, {
            text: "\\left \\{ | \\right \\}"
        }, {
            text: "\\left \\langle | \\right \\rangle",
            noVisual: !0
        }, {
            text: "\\left \\langle {} | {} | {} \\right \\rangle",
            noVisual: !0
        }],
        indexNum: 15
    }, {
        title: "\u5355\u65b9\u62ec\u53f7",
        latexs: [{
            text: "\\left ( \\right.",
            noVisual: !0
        }, {
            text: "\\left. \\right )",
            noVisual: !0
        }, {
            text: "\\left [ {} \\right.",
            noVisual: !0
        }, {
            text: "\\left. {} \\right]",
            noVisual: !0
        }, {
            text: "\\left \\{  \\right.",
            noVisual: !0
        }, {
            text: "\\left.  \\right \\}",
            noVisual: !0
        }, {
            text: "\\langle",
            noVisual: !0
        }, {
            text: "\\rangle",
            noVisual: !0
        }, {
            text: "\\lfloor"
        }, {
            text: "\\rfloor"
        }, {
            text: "\\lceil"
        }, {
            text: "\\rceil"
        }, {
            text: "\\left |{}  \\right.",
            noVisual: !0
        }, {
            text: "\\left. {}\\right |",
            noVisual: !0
        }, {
            text: "\\left \\|{}  \\right.",
            noVisual: !0
        }, {
            text: "\\left. {} \\right \\|",
            noVisual: !0
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }],
        indexNum: 16
    }, {
        title: "\u4e8b\u4f8b\u548c\u5806\u6808",
        latexs: [{
            text: "\\left \\{ _{}^{} \\right.",
            noVisual: !0
        }, {
            text: "hehe"
        }, {
            text: "\\ ^{}_{}"
        }, {
            text: "\\binom{}{}"
        }],
        indexNum: 17
    }, {
        title: "\u5e38\u7528\u65b9\u62ec\u53f7",
        latexs: [{
            text: "f(x) \x3d \\left\\{ \\begin{array}{r@{\\quad\\quad}1}-x \x26 x\x3c0 \\\\ x \x26 x\x3e0 \\ \\end{array} \\right. ",
            width: "140px",
            bposl: "-4px",
            noVisual: !0
        }, {
            text: "(^{n}_{k})",
            width: "59px",
            bposl: "-166px"
        }, {
            text: "\\langle^{n}_{k}\\rangle",
            width: "59px",
            bposl: "-245px",
            noVisual: !0
        }],
        indexNum: 18
    }],
    fun: [{
        title: "\u4e09\u89d2\u51fd\u6570",
        latexs: [{
            text: "\\sin"
        }, {
            text: "\\cos"
        }, {
            text: "\\tan"
        }, {
            text: "\\csc"
        }, {
            text: "\\sec"
        }, {
            text: "\\cot"
        }],
        indexNum: 19
    }, {
        title: "\u53cd\u51fd\u6570",
        latexs: [{
            text: "\\sin^{-1}"
        }, {
            text: "\\cos^{-1}"
        }, {
            text: "\\tan^{-1}"
        }, {
            text: "\\csc^{-1}"
        }, {
            text: "\\sec^{-1}"
        }, {
            text: "\\cot^{-1}"
        }],
        indexNum: 20
    }, {
        title: "\u53cc\u66f2\u51fd\u6570",
        latexs: [{
            text: "\\sinh"
        }, {
            text: "\\cosh"
        }, {
            text: "\\tanh"
        }, {
            text: "csch"
        }, {
            text: "sech"
        }, {
            text: "\\coth"
        }],
        indexNum: 21
    }, {
        title: "\u53cd\u53cc\u66f2\u51fd\u6570",
        latexs: [{
            text: "\\sinh^{-1}"
        }, {
            text: "\\cosh^{-1}"
        }, {
            text: "\\tanh^{-1}"
        }, {
            text: "csch^{-1}"
        }, {
            text: "sech^{-1}"
        }, {
            text: "\\coth^{-1}"
        }],
        indexNum: 22
    }, {
        title: "\u5e38\u7528\u51fd\u6570",
        latexs: [{
            text: "\\sin\\theta",
            width: "59px",
            bposl: "-4px"
        }, {
            text: "\\cos2x",
            width: "59px",
            bposl: "-82px"
        }, {
            text: "\\tan\\theta\x3d\\frac{\\sin\\theta}{\\cos\\theta}",
            width: "130px",
            bposl: "-170px"
        }],
        indexNum: 23
    }],
    derivative: [{
        title: "\u5bfc\u6570\u7b26\u53f7",
        latexs: [{
            text: "\\dot{}",
            width: "42px",
            bposl: "-1px",
            noVisual: !0
        }, {
            text: "\\ddot{}",
            width: "42px",
            bposl: "-57px",
            noVisual: !0
        }, {
            text: "\\dddot{}",
            width: "42px",
            bposl: "-114px",
            noVisual: !0
        }, {
            text: "\\hat{}",
            width: "42px",
            bposl: "-171px",
            noVisual: !0
        }, {
            text: "\\check{}",
            width: "42px",
            bposl: "-226px",
            noVisual: !0
        }, {
            text: "\\acute{}",
            width: "42px",
            bposl: "-281px",
            noVisual: !0
        }, {
            text: "\\grave{}",
            width: "42px",
            bposl: "-338px",
            noVisual: !0
        }, {
            text: "\\breve{}",
            width: "42px",
            bposl: "-393px",
            noVisual: !0
        }, {
            text: "\\tilde{}",
            width: "42px",
            bposl: "-450px",
            noVisual: !0
        }, {
            text: "\\bar{}",
            width: "42px",
            bposl: "-505px",
            noVisual: !0
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "hehe"
        }, {
            text: "\\vec{}",
            width: "42px",
            bposl: "-1065px",
            noVisual: !0
        }],
        bimgInterval: 50,
        bimg: "/static/editor/img/derivative-1.png"
    }, {
        title: "\u9876\u7ebf\u548c\u5e95\u7ebf",
        latexs: [{
            text: "\\overline{}",
            width: "42px",
            bposl: "-1px"
        }, {
            text: "\\underline{}",
            width: "42px",
            bposl: "-57px"
        }],
        intervalH: 72,
        indexNum: 1,
        bimg: "/static/editor/img/formula-symbol-all-72.png"
    }, {
        title: "\u5e38\u7528\u7684\u5bfc\u6570\u5bf9\u8c61",
        latexs: [{
            text: "\\overline{A}",
            width: "42px",
            bposl: "-1px"
        }, {
            text: "\\overline{ABC}",
            width: "42px",
            bposl: "-57px"
        }, {
            text: "\\overline{x \\oplus y}",
            width: "90px",
            bposl: "-114px"
        }],
        intervalH: 72,
        indexNum: 2,
        bimg: "/static/editor/img/formula-symbol-all-72.png"
    }],
    limit: [{
        title: "\u51fd\u6570",
        latexs: [{
            text: "\\log_{}"
        }, {
            text: "\\log"
        }, {
            text: "\\lim_{}"
        }, {
            text: "\\min_{}"
        }, {
            text: "\\max_{}"
        }, {
            text: "\\ln"
        }],
        indexNum: 24
    }, {
        title: "\u5e38\u7528\u51fd\u6570",
        latexs: [{
            text: "\\lim_{n\\rightarrow \\infty} \\left ( {1+ \\frac{1}{n}} \\right )^{n}",
            width: "90px",
            bposl: "-12px"
        }, {
            text: "\\max_{0 \\le x \\le 1}xe^{-x^2}",
            width: "90px",
            bposl: "-130px"
        }],
        indexNum: 25
    }],
    operator: [{
        title: "\u57fa\u672c\u8fd0\u7b97\u7b26",
        latexs: [{
            text: ":\x3d",
            width: "42px",
            bposl: "-1px"
        }, {
            text: "\x3d\x3d",
            width: "42px",
            bposl: "-57px"
        }, {
            text: "+\x3d",
            width: "42px",
            bposl: "-113px"
        }, {
            text: "-\x3d",
            width: "42px",
            bposl: "-170px"
        }, {
            text: "\\overset{\\underset{\\mathrm{def}}{}}{\x3d}",
            width: "42px",
            bposl: "-226px",
            noVisual: !0
        }, {
            text: "\\overset{\\underset{\\mathrm{m}}{}}{\x3d}",
            width: "42px",
            bposl: "-282px",
            noVisual: !0
        }, {
            text: "\\overset{\\underset{\\mathrm{\\Delta}}{}}{\x3d}",
            width: "42px",
            bposl: "-338px",
            noVisual: !0
        }],
        intervalH: 72,
        indexNum: 3,
        bimg: "/static/editor/img/formula-symbol-all-72.png"
    }, {
        title: "\u8fd0\u7b97\u7b26\u7ed3\u6784",
        latexs: [{
            text: "\\underset{}{\\leftarrow}",
            width: "42px",
            bposl: "-1px",
            noVisual: !0
        }, {
            text: "\\underset{}{\\rightarrow}",
            width: "42px",
            bposl: "-58px",
            noVisual: !0
        }, {
            text: "\\overset{}{\\leftarrow}",
            width: "42px",
            bposl: "-113px",
            noVisual: !0
        }, {
            text: "\\overset{}{\\rightarrow}",
            width: "42px",
            bposl: "-170px",
            noVisual: !0
        }, {
            text: "\\underset{}{\\Leftarrow}",
            width: "42px",
            bposl: "-225px",
            noVisual: !0
        }, {
            text: "\\underset{}{\\Rightarrow}",
            width: "42px",
            bposl: "-282px",
            noVisual: !0
        }, {
            text: "\\overset{}{\\Leftarrow}",
            width: "42px",
            bposl: "-338px",
            noVisual: !0
        }, {
            text: "\\overset{}{\\Rightarrow}",
            width: "42px",
            bposl: "-394px",
            noVisual: !0
        }, {
            text: "\\underset{}{\\leftrightarrow }",
            width: "42px",
            bposl: "-449px",
            noVisual: !0
        }, {
            text: "\\overset{}{\\leftrightarrow }",
            width: "42px",
            bposl: "-505px",
            noVisual: !0
        }, {
            text: "\\underset{}{\\Leftrightarrow }",
            width: "42px",
            bposl: "-561px",
            noVisual: !0
        }, {
            text: "\\overset{}{\\Leftrightarrow }",
            width: "42px",
            bposl: "-617px",
            noVisual: !0
        }],
        intervalH: 72,
        indexNum: 4,
        bimg: "/static/editor/img/formula-symbol-all-72.png"
    }, {
        title: "\u5e38\u7528\u8fd0\u7b97\u7b26\u7ed3\u6784",
        latexs: [{
            text: "\\overset{yields}{\\rightarrow}",
            width: "80px",
            bposl: "-3px",
            noVisual: !0
        }, {
            text: "\\overset{\\Delta}{\\rightarrow}",
            width: "42px",
            bposl: "-105px",
            noVisual: !0
        }],
        intervalH: 72,
        indexNum: 5,
        bimg: "/static/editor/img/formula-symbol-all-72.png"
    }],
    matrix: [{
        title: "\u7a7a\u77e9\u9635",
        latexs: [{
            text: "\\begin{matrix}\n  \x26  \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n  \\\\ \n \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n \x26  \x26 \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n \\\\ \n \\\\ \n \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n \x26 \\\\ \n  \x26  \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n \x26 \x26 \\\\\n  \x26 \x26  \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n \x26 \\\\\n  \x26 \\\\\n \x26  \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n \x26 \x26 \\\\\n  \x26  \x26 \\\\\n \x26  \x26  \n\\end{matrix}",
            noVisual: !0
        }],
        indexNum: 26
    }, {
        title: "\u70b9",
        latexs: [{
            text: "\\cdots"
        }, {
            text: "\\ldots"
        }, {
            text: "\\vdots"
        }, {
            text: "\\ddots"
        }],
        indexNum: 27
    }, {
        title: "\u5355\u4f4d\u77e9\u9635",
        latexs: [{
            text: "\\begin{matrix}\n 1 \x26 0 \\\\\n 0 \x26 1 \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n 1 \x26  \\\\\n  \x26 1 \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n 1 \x26 0 \x26 0 \\\\\n 0  \x26 1 \x26 0 \\\\\n 0 \x26 0 \x26 1 \n\\end{matrix}",
            noVisual: !0
        }, {
            text: "\\begin{matrix}\n 1 \x26  \x26  \\\\\n   \x26 1 \x26  \\\\\n  \x26  \x26 1 \n\\end{matrix}",
            noVisual: !0
        }],
        indexNum: 28
    }, {
        title: "\u62ec\u53f7\u77e9\u9635",
        latexs: [{
            text: "\\begin{pmatrix}\n \x26 \\\\\n \x26 \n\\end{pmatrix}",
            noVisual: !0
        }, {
            text: "\\begin{bmatrix}\n \x26 \\\\\n \x26 \n\\end{bmatrix}",
            noVisual: !0
        }, {
            text: "\\begin{vmatrix}\n \x26 \\\\\n \x26 \n\\end{vmatrix}",
            noVisual: !0
        }, {
            text: "\\begin{Vmatrix}\n \x26 \\\\\n \x26 \n\\end{Vmatrix}",
            noVisual: !0
        }],
        indexNum: 29
    }, {
        title: "\u7a00\u758f\u77e9\u9635",
        latexs: [{
            text: "\\begin{pmatrix}\n  \x26 \\cdots \x26   \\\\ \n  \\vdots \x26 \\ddots \x26 \\vdots \\\\ \n  \x26 \\cdots \x26  \n\\end{pmatrix}",
            width: "130px",
            bposl: "-9px",
            noVisual: !0
        }, {
            text: "\\begin{bmatrix}\n  \x26 \\cdots \x26   \\\\ \n  \\vdots \x26 \\ddots \x26 \\vdots \\\\ \n  \x26 \\cdots \x26  \n\\end{bmatrix}",
            width: "130px",
            bposl: "-170px",
            noVisual: !0
        }],
        indexNum: 30
    }]
};
Ext.define("ananas.FormulaPanel.Symbol", {
    extend: Ext.Component,
    xtype: "ans-formula-symbol",
    autoEl: {
        tag: "ul",
        cls: "symbol-list"
    },
    afterRender: function() {
        this.callParent(arguments);
        for (var f = Ext.DomHelper, e = "pm infty speci-equal ne sim times div speci-exclamation propto speci-lessthan fuck speci-greater gg le ge mp cong approx equiv forall fuck partial fuck fuck fuck cup cap emptyset speci-percent speci-circ fuck fuck Delta nabla exists fuck in ni leftarrow uparrow rightarrow downarrow leftrightarrow therefore speci-plus speci-minus neg alpha beta gamma delta varepsilon epsilon theta vartheta mu pi rho sigma tau varphi omega ast bullet vdots cdots ddots fuck aleph fuck fuck because".split(" "), h = 0, g = e.length; h < g; h++) {
            "fuck" != e[h] && f.append(this.el, {
                tag: "li",
                "data-latex": "\\" + e[h],
                style: "background-position:-" + 30 * h + "px 0"
            })
        }
    }
});
Ext.define("ananas.FormulaPanel.SymbolButton", {
    extend: Ext.Component,
    xtype: "symbol-btn",
    overCls: "ans-over",
    baseCls: "ans-symbol-ui",
    poptpl: ['\x3cdiv class\x3d"struct-pupop hidden"\x3e', '\x3ctpl for\x3d"."\x3e', "\x3cdiv\x3e", "\x3cspan\x3e{title}\x3c/span\x3e", "\x3cul\x3e", '\x3ctpl for\x3d"latexs"\x3e', '\x3ctpl if\x3d"this.s(values)"\x3e', '\x3cli style\x3d"{[this.style(values,xindex,parent.indexNum)]}"\x3e', '\x3ca href\x3d"javascript:void(0)" data-latex\x3d"{text}" title\x3d"{text}" style\x3d"{[this.width(values)]}"\x3e\x3c/a\x3e', "\x3c/li\x3e", "\x3c/tpl\x3e", "\x3c/tpl\x3e", "\x3c/ul\x3e", "\x3c/div\x3e", "\x3c/tpl\x3e", "\x3c/div\x3e", {
        s: function(b) {
            return b.noVisual || "hehe" == b.text ? !1 : !0
        },
        style: function(e, d, f) {
            d = "-" + (4 + 80 * (d - 1)) + "px";
            e.bposl && (d = e.bposl);
            return "background-position: " + d + " -" + (96 * f + 8) + "px"
        },
        width: function(b) {
            return (b = b.width) ? "width:" + b : ""
        }
    }],
    afterRender: function() {
        var e = this
          , d = new Ext.XTemplate(e.poptpl)
          , f = ananas.Symbol[e.latexCmd];
        e.callParent(arguments);
        e.el.addCls(e.latexCmd);
        e.pressedCls = e.latexCmd + "-pressed";
        e.popEl = d.append(e.el, f, !0);
        e.doc.on("click", e.onDocHidden, e);
        e.el.on("click", function(a) {
            ananas.Symbol.selected && ananas.Symbol.selected != e && ananas.Symbol.selected.popEl.addCls("hidden");
            e.popEl.hasCls("hidden") && (e.popEl.removeCls("hidden"),
            ananas.Symbol.selected = e,
            a.stopEvent())
        })
    },
    onDocHidden: function() {
        ananas.Symbol.selected && ananas.Symbol.selected.popEl.addCls("hidden")
    },
    onRender: function() {
        this.doc = Ext.getDoc();
        this.mon(this.el, {
            mousedown: this.onMouseDown,
            scope: this
        });
        this.callParent(arguments)
    },
    onMouseDown: function(b) {
        !this.disabled && 0 === b.button && (this.addCls(this.pressedCls),
        this.doc.on("mouseup", this.onMouseUp, this),
        this.startClick = !0)
    },
    onMouseUp: function(b) {
        0 === b.button && (this.removeCls(this.pressedCls),
        this.doc.un("mouseup", this.onMouseUp, this),
        this.startClick && (this.startClick = !1))
    }
});
Ext.define("ananas.FormulaPanel.SymbolPanel", {
    extend: Ext.container.Container,
    xtype: "symbol-all-panel",
    defaultType: "symbol-btn",
    items: [{
        latexCmd: "fraction"
    }, {
        latexCmd: "upplower"
    }, {
        latexCmd: "radical"
    }, {
        latexCmd: "integral"
    }, {
        latexCmd: "boperator"
    }, {
        latexCmd: "brackets"
    }, {
        latexCmd: "fun"
    }, {
        latexCmd: "limit"
    }],
    margin: 5
});
Ext.define("ananas.FormulaPanel.WYSIWYG.TextArea", {
    extend: Ext.Component,
    xtype: "ans-formula-wysiwyg-textarea",
    cls: "ans-formula-wysiwyg-textarea",
    height: 130,
    padding: 10,
    afterRender: function() {
        this.callParent(arguments);
        this.textarea = $("\x3cspan/\x3e").mathquill("editable").appendTo(this.el.dom)
    },
    latex: function(d) {
        var c = this.textarea;
        if (d) {
            c.mathquill("latex", d)
        } else {
            return c.mathquill("latex")
        }
    },
    cmd: function(b) {
        b = b.replace("{/}", "\\");
        this.textarea.mathquill("write", b)
    }
});
Ext.define("ananas.FormulaPanel.WYSIWYG", {
    extend: Ext.container.Container,
    xtype: "ans-formula-wysiwyg",
    items: [{
        xtype: "container",
        itemId: "panel",
        items: [{
            xtype: "symbol-all-panel"
        }, {
            xtype: "ans-formula-symbol"
        }, {
            xtype: "ans-formula-wysiwyg-textarea",
            itemId: "body"
        }]
    }],
    afterRender: function() {
        this.callParent(arguments);
        this.body = this.getComponent("panel").getComponent("body")
    },
    latex: function(b) {
        return this.body.latex(b)
    },
    cmd: function(b) {
        this.body.cmd(b)
    }
});
Ext.define("ananas.FormulaPanel.SOURSE.TextArea", {
    extend: Ext.Component,
    xtype: "ans-formula-src-textarea",
    cls: "ans-formula-src-textarea",
    height: 130,
    padding: 10,
    afterRender: function() {
        this.callParent(arguments);
        this.textarea = $("\x3ctextarea/\x3e").appendTo(this.el.dom)
    },
    latex: function(d) {
        var c = this.textarea;
        if (d) {
            c.val(d)
        } else {
            return c.val()
        }
    }
});
Ext.define("ananas.FormulaPanel.SRC", {
    extend: ananas.FormulaPanel.WYSIWYG,
    xtype: "ans-formula-src",
    items: [{
        itemId: "panel",
        xtype: "container",
        items: [{
            xtype: "ans-formula-src-textarea",
            itemId: "body"
        }]
    }]
});
Ext.define("ananas.FormulaPanel", {
    extend: "ananas.Tools.Panel",
    xtype: "ans-formula-panel",
    cls: "ans-formula-panel",
    tabs: ["wysiwyg", "source"],
    items: [{
        xtype: "container",
        layout: "hbox",
        itemId: "menu",
        cls: "ans-tools-menu",
        items: [{
            xtype: "ans-tab",
            html: "\u53ef\u89c6\u5316\u7f16\u8f91",
            itemId: "wysiwyg",
            selected: !0
        }, {
            xtype: "ans-tab",
            html: "\u6e90\u7801\u7f16\u8f91",
            itemId: "source"
        }]
    }, {
        xtype: "container",
        cls: "ans-tab-panel",
        itemId: "tabpanel",
        layout: "card",
        height: 320,
        items: [{
            xtype: "ans-formula-wysiwyg",
            itemId: "wysiwyg"
        }, {
            xtype: "ans-formula-src",
            itemId: "source"
        }]
    }],
    afterRender: function() {
        this.callParent(arguments);
        this.wysiwyg = this.getTabContent("wysiwyg");
        this.source = this.getTabContent("source")
    },
    onSelectedItem: function(d) {
        var c = this["wysiwyg" == d ? "source" : "wysiwyg"].latex();
        c && this[d].latex(c)
    },
    latex: function(b) {
        return this.getActiveItem().latex(b)
    },
    specialSymbol: {
        equal: "\x3d",
        exclamation: "!",
        lessthan: "\x3c",
        greater: "\x3e",
        percent: "\\%",
        plus: "+",
        minus: "-",
        circ: "^\\circ"
    },
    cmd: function(d) {
        var c = this.getActiveItem();
        d && 0 == d.indexOf("\\speci-") && (d = this.specialSymbol[d.split("-")[1]]);
        return c.cmd(d)
    },
    fetchStatus: function(a) {
        var b = this.latex();
        if (!b) {
            return !0
        }
        Ext.Ajax.request({
            url: "/ananas/latex/render",
            method: "get",
            params: {
                formula: b
            },
            success: function(b) {
                eval("var data \x3d " + b.responseText);
                a && a(data)
            },
            failure: function() {
                alert("server error: render img failed")
            }
        });
        return !1
    }
});
Ext.define("ananas.studytopic.Panel", {
    extend: Ext.container.Container,
    xtype: "ans-studytopic",
    layout: "card",
    items: [{
        xtype: "ans-libfilelist",
        itemId: "libfilelist",
        autoScroll: !0
    }, {
        xtype: "studytopic.tip",
        itemId: "tip"
    }],
    initComponent: function() {
        this.callParent(arguments)
    },
    afterRender: function() {
        this.callParent(arguments);
        this.getComponent("libfilelist").load()
    }
});
Ext.define("ananas.studytopic.FILE", {
    extend: ananas.cloud.Item,
    xtype: "ZTfile",
    selectable: !0,
    renderTpl: ['\x3cdiv class\x3d"{iconCls}" style\x3d"padding-left:0px;"\x3e\x3cimg src\x3d"{coverUrl}" width\x3d"30px" height\x3d"26px"/\x3e\x3cspan style\x3d"display:inline-block;position: relative;bottom:24%;left: 10px;"\x3e{[Ext.String.htmlEncode(values.name)]}\x3c/span\x3e\x3c/div\x3e'],
    initRenderData: function() {
        return Ext.apply(this.callParent(), {
            name: this.name,
            coverUrl: this.dataIntro.coverUrl,
            iconCls: this.iconCls
        })
    }
});
Ext.define("ananas.studytopic.tip", {
    extend: Ext.Component,
    cls: "tipstyle",
    xtype: "studytopic.tip",
    html: '\x3cdiv\x3e\x3cp style\x3d"margin-bottom:16px;"\x3e\u6682\u65e0\u53ef\u6dfb\u52a0\u7684\u4e13\u9898\uff0c\u8bf7\u5148\u5728\u8d44\u6e90\u6a21\u5757\u6dfb\u52a0\u4e13\u9898\x3c/p\x3e\x3ca id\x3d"jumpel" href\x3d"javascript:void(0)"\x3e \u53bb\u8d44\u6599\u6a21\u5757\u6dfb\u52a0 \x3c/a\x3e\x3c/div\x3e',
    initEvents: function() {
        var b = this;
        b.callParent();
        b.el.on("click", function(a, d) {
            d == Ext.getDom("jumpel") && b.jump()
        })
    },
    jump: function() {
        dialog.close(!0);
        var b = window.generateHerf();
        top.window.open(b)
    }
});
